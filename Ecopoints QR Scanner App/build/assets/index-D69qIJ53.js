function Ig(r,s){for(var a=0;a<s.length;a++){const f=s[a];if(typeof f!="string"&&!Array.isArray(f)){for(const m in f)if(m!=="default"&&!(m in r)){const g=Object.getOwnPropertyDescriptor(f,m);g&&Object.defineProperty(r,m,g.get?g:{enumerable:!0,get:()=>f[m]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))f(m);new MutationObserver(m=>{for(const g of m)if(g.type==="childList")for(const w of g.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&f(w)}).observe(document,{childList:!0,subtree:!0});function a(m){const g={};return m.integrity&&(g.integrity=m.integrity),m.referrerPolicy&&(g.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?g.credentials="include":m.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function f(m){if(m.ep)return;m.ep=!0;const g=a(m);fetch(m.href,g)}})();var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Td={exports:{}},Ba={},Id={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function Ry(){if(y1)return mt;y1=1;var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),w=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function D(Z){return Z===null||typeof Z!="object"?null:(Z=A&&Z[A]||Z["@@iterator"],typeof Z=="function"?Z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function V(Z,ue,Ae){this.props=Z,this.context=ue,this.refs=j,this.updater=Ae||B}V.prototype.isReactComponent={},V.prototype.setState=function(Z,ue){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ue,"setState")},V.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function U(){}U.prototype=V.prototype;function ne(Z,ue,Ae){this.props=Z,this.context=ue,this.refs=j,this.updater=Ae||B}var Y=ne.prototype=new U;Y.constructor=ne,z(Y,V.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,fe=Object.prototype.hasOwnProperty,de={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function J(Z,ue,Ae){var Ie,Ve={},ve=null,Ye=null;if(ue!=null)for(Ie in ue.ref!==void 0&&(Ye=ue.ref),ue.key!==void 0&&(ve=""+ue.key),ue)fe.call(ue,Ie)&&!$.hasOwnProperty(Ie)&&(Ve[Ie]=ue[Ie]);var Oe=arguments.length-2;if(Oe===1)Ve.children=Ae;else if(1<Oe){for(var at=Array(Oe),Rt=0;Rt<Oe;Rt++)at[Rt]=arguments[Rt+2];Ve.children=at}if(Z&&Z.defaultProps)for(Ie in Oe=Z.defaultProps,Oe)Ve[Ie]===void 0&&(Ve[Ie]=Oe[Ie]);return{$$typeof:r,type:Z,key:ve,ref:Ye,props:Ve,_owner:de.current}}function K(Z,ue){return{$$typeof:r,type:Z.type,key:ue,ref:Z.ref,props:Z.props,_owner:Z._owner}}function ge(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function Pe(Z){var ue={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Ae){return ue[Ae]})}var Ee=/\/+/g;function De(Z,ue){return typeof Z=="object"&&Z!==null&&Z.key!=null?Pe(""+Z.key):ue.toString(36)}function me(Z,ue,Ae,Ie,Ve){var ve=typeof Z;(ve==="undefined"||ve==="boolean")&&(Z=null);var Ye=!1;if(Z===null)Ye=!0;else switch(ve){case"string":case"number":Ye=!0;break;case"object":switch(Z.$$typeof){case r:case s:Ye=!0}}if(Ye)return Ye=Z,Ve=Ve(Ye),Z=Ie===""?"."+De(Ye,0):Ie,ie(Ve)?(Ae="",Z!=null&&(Ae=Z.replace(Ee,"$&/")+"/"),me(Ve,ue,Ae,"",function(Rt){return Rt})):Ve!=null&&(ge(Ve)&&(Ve=K(Ve,Ae+(!Ve.key||Ye&&Ye.key===Ve.key?"":(""+Ve.key).replace(Ee,"$&/")+"/")+Z)),ue.push(Ve)),1;if(Ye=0,Ie=Ie===""?".":Ie+":",ie(Z))for(var Oe=0;Oe<Z.length;Oe++){ve=Z[Oe];var at=Ie+De(ve,Oe);Ye+=me(ve,ue,Ae,at,Ve)}else if(at=D(Z),typeof at=="function")for(Z=at.call(Z),Oe=0;!(ve=Z.next()).done;)ve=ve.value,at=Ie+De(ve,Oe++),Ye+=me(ve,ue,Ae,at,Ve);else if(ve==="object")throw ue=String(Z),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Ye}function G(Z,ue,Ae){if(Z==null)return Z;var Ie=[],Ve=0;return me(Z,Ie,"","",function(ve){return ue.call(Ae,ve,Ve++)}),Ie}function be(Z){if(Z._status===-1){var ue=Z._result;ue=ue(),ue.then(function(Ae){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Ae)},function(Ae){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Ae)}),Z._status===-1&&(Z._status=0,Z._result=ue)}if(Z._status===1)return Z._result.default;throw Z._result}var te={current:null},ee={transition:null},Ce={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ee,ReactCurrentOwner:de};function pe(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:G,forEach:function(Z,ue,Ae){G(Z,function(){ue.apply(this,arguments)},Ae)},count:function(Z){var ue=0;return G(Z,function(){ue++}),ue},toArray:function(Z){return G(Z,function(ue){return ue})||[]},only:function(Z){if(!ge(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},mt.Component=V,mt.Fragment=a,mt.Profiler=m,mt.PureComponent=ne,mt.StrictMode=f,mt.Suspense=N,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ce,mt.act=pe,mt.cloneElement=function(Z,ue,Ae){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Ie=z({},Z.props),Ve=Z.key,ve=Z.ref,Ye=Z._owner;if(ue!=null){if(ue.ref!==void 0&&(ve=ue.ref,Ye=de.current),ue.key!==void 0&&(Ve=""+ue.key),Z.type&&Z.type.defaultProps)var Oe=Z.type.defaultProps;for(at in ue)fe.call(ue,at)&&!$.hasOwnProperty(at)&&(Ie[at]=ue[at]===void 0&&Oe!==void 0?Oe[at]:ue[at])}var at=arguments.length-2;if(at===1)Ie.children=Ae;else if(1<at){Oe=Array(at);for(var Rt=0;Rt<at;Rt++)Oe[Rt]=arguments[Rt+2];Ie.children=Oe}return{$$typeof:r,type:Z.type,key:Ve,ref:ve,props:Ie,_owner:Ye}},mt.createContext=function(Z){return Z={$$typeof:w,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:g,_context:Z},Z.Consumer=Z},mt.createElement=J,mt.createFactory=function(Z){var ue=J.bind(null,Z);return ue.type=Z,ue},mt.createRef=function(){return{current:null}},mt.forwardRef=function(Z){return{$$typeof:b,render:Z}},mt.isValidElement=ge,mt.lazy=function(Z){return{$$typeof:T,_payload:{_status:-1,_result:Z},_init:be}},mt.memo=function(Z,ue){return{$$typeof:E,type:Z,compare:ue===void 0?null:ue}},mt.startTransition=function(Z){var ue=ee.transition;ee.transition={};try{Z()}finally{ee.transition=ue}},mt.unstable_act=pe,mt.useCallback=function(Z,ue){return te.current.useCallback(Z,ue)},mt.useContext=function(Z){return te.current.useContext(Z)},mt.useDebugValue=function(){},mt.useDeferredValue=function(Z){return te.current.useDeferredValue(Z)},mt.useEffect=function(Z,ue){return te.current.useEffect(Z,ue)},mt.useId=function(){return te.current.useId()},mt.useImperativeHandle=function(Z,ue,Ae){return te.current.useImperativeHandle(Z,ue,Ae)},mt.useInsertionEffect=function(Z,ue){return te.current.useInsertionEffect(Z,ue)},mt.useLayoutEffect=function(Z,ue){return te.current.useLayoutEffect(Z,ue)},mt.useMemo=function(Z,ue){return te.current.useMemo(Z,ue)},mt.useReducer=function(Z,ue,Ae){return te.current.useReducer(Z,ue,Ae)},mt.useRef=function(Z){return te.current.useRef(Z)},mt.useState=function(Z){return te.current.useState(Z)},mt.useSyncExternalStore=function(Z,ue,Ae){return te.current.useSyncExternalStore(Z,ue,Ae)},mt.useTransition=function(){return te.current.useTransition()},mt.version="18.3.1",mt}var w1;function jf(){return w1||(w1=1,Id.exports=Ry()),Id.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function _y(){if(v1)return Ba;v1=1;var r=jf(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,m=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function w(b,N,E){var T,A={},D=null,B=null;E!==void 0&&(D=""+E),N.key!==void 0&&(D=""+N.key),N.ref!==void 0&&(B=N.ref);for(T in N)f.call(N,T)&&!g.hasOwnProperty(T)&&(A[T]=N[T]);if(b&&b.defaultProps)for(T in N=b.defaultProps,N)A[T]===void 0&&(A[T]=N[T]);return{$$typeof:s,type:b,key:D,ref:B,props:A,_owner:m.current}}return Ba.Fragment=a,Ba.jsx=w,Ba.jsxs=w,Ba}var C1;function Oy(){return C1||(C1=1,Td.exports=_y()),Td.exports}var y=Oy(),yc={},kd={exports:{}},Er={},Rd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function Dy(){return E1||(E1=1,(function(r){function s(ee,Ce){var pe=ee.length;ee.push(Ce);e:for(;0<pe;){var Z=pe-1>>>1,ue=ee[Z];if(0<m(ue,Ce))ee[Z]=Ce,ee[pe]=ue,pe=Z;else break e}}function a(ee){return ee.length===0?null:ee[0]}function f(ee){if(ee.length===0)return null;var Ce=ee[0],pe=ee.pop();if(pe!==Ce){ee[0]=pe;e:for(var Z=0,ue=ee.length,Ae=ue>>>1;Z<Ae;){var Ie=2*(Z+1)-1,Ve=ee[Ie],ve=Ie+1,Ye=ee[ve];if(0>m(Ve,pe))ve<ue&&0>m(Ye,Ve)?(ee[Z]=Ye,ee[ve]=pe,Z=ve):(ee[Z]=Ve,ee[Ie]=pe,Z=Ie);else if(ve<ue&&0>m(Ye,pe))ee[Z]=Ye,ee[ve]=pe,Z=ve;else break e}}return Ce}function m(ee,Ce){var pe=ee.sortIndex-Ce.sortIndex;return pe!==0?pe:ee.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;r.unstable_now=function(){return g.now()}}else{var w=Date,b=w.now();r.unstable_now=function(){return w.now()-b}}var N=[],E=[],T=1,A=null,D=3,B=!1,z=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ee){for(var Ce=a(E);Ce!==null;){if(Ce.callback===null)f(E);else if(Ce.startTime<=ee)f(E),Ce.sortIndex=Ce.expirationTime,s(N,Ce);else break;Ce=a(E)}}function ie(ee){if(j=!1,Y(ee),!z)if(a(N)!==null)z=!0,be(fe);else{var Ce=a(E);Ce!==null&&te(ie,Ce.startTime-ee)}}function fe(ee,Ce){z=!1,j&&(j=!1,U(J),J=-1),B=!0;var pe=D;try{for(Y(Ce),A=a(N);A!==null&&(!(A.expirationTime>Ce)||ee&&!Pe());){var Z=A.callback;if(typeof Z=="function"){A.callback=null,D=A.priorityLevel;var ue=Z(A.expirationTime<=Ce);Ce=r.unstable_now(),typeof ue=="function"?A.callback=ue:A===a(N)&&f(N),Y(Ce)}else f(N);A=a(N)}if(A!==null)var Ae=!0;else{var Ie=a(E);Ie!==null&&te(ie,Ie.startTime-Ce),Ae=!1}return Ae}finally{A=null,D=pe,B=!1}}var de=!1,$=null,J=-1,K=5,ge=-1;function Pe(){return!(r.unstable_now()-ge<K)}function Ee(){if($!==null){var ee=r.unstable_now();ge=ee;var Ce=!0;try{Ce=$(!0,ee)}finally{Ce?De():(de=!1,$=null)}}else de=!1}var De;if(typeof ne=="function")De=function(){ne(Ee)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,G=me.port2;me.port1.onmessage=Ee,De=function(){G.postMessage(null)}}else De=function(){V(Ee,0)};function be(ee){$=ee,de||(de=!0,De())}function te(ee,Ce){J=V(function(){ee(r.unstable_now())},Ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){z||B||(z=!0,be(fe))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return a(N)},r.unstable_next=function(ee){switch(D){case 1:case 2:case 3:var Ce=3;break;default:Ce=D}var pe=D;D=Ce;try{return ee()}finally{D=pe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,Ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var pe=D;D=ee;try{return Ce()}finally{D=pe}},r.unstable_scheduleCallback=function(ee,Ce,pe){var Z=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Z+pe:Z):pe=Z,ee){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=pe+ue,ee={id:T++,callback:Ce,priorityLevel:ee,startTime:pe,expirationTime:ue,sortIndex:-1},pe>Z?(ee.sortIndex=pe,s(E,ee),a(N)===null&&ee===a(E)&&(j?(U(J),J=-1):j=!0,te(ie,pe-Z))):(ee.sortIndex=ue,s(N,ee),z||B||(z=!0,be(fe))),ee},r.unstable_shouldYield=Pe,r.unstable_wrapCallback=function(ee){var Ce=D;return function(){var pe=D;D=Ce;try{return ee.apply(this,arguments)}finally{D=pe}}}})(_d)),_d}var b1;function My(){return b1||(b1=1,Rd.exports=Dy()),Rd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function Py(){if(A1)return Er;A1=1;var r=jf(),s=My();function a(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,m={};function g(t,o){w(t,o),w(t+"Capture",o)}function w(t,o){for(m[t]=o,t=0;t<o.length;t++)f.add(o[t])}var b=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},A={};function D(t){return N.call(A,t)?!0:N.call(T,t)?!1:E.test(t)?A[t]=!0:(T[t]=!0,!1)}function B(t,o,d,p){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z(t,o,d,p){if(o===null||typeof o>"u"||B(t,o,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(t,o,d,p,C,S,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=C,this.mustUseProperty=d,this.propertyName=t,this.type=o,this.sanitizeURL=S,this.removeEmptyString=_}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){V[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];V[o]=new j(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){V[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){V[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){V[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){V[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){V[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){V[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){V[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function ne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(U,ne);V[o]=new j(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(U,ne);V[o]=new j(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(U,ne);V[o]=new j(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){V[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),V.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){V[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y(t,o,d,p){var C=V.hasOwnProperty(o)?V[o]:null;(C!==null?C.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(z(o,d,C,p)&&(d=null),p||C===null?D(o)&&(d===null?t.removeAttribute(o):t.setAttribute(o,""+d)):C.mustUseProperty?t[C.propertyName]=d===null?C.type===3?!1:"":d:(o=C.attributeName,p=C.attributeNamespace,d===null?t.removeAttribute(o):(C=C.type,d=C===3||C===4&&d===!0?"":""+d,p?t.setAttributeNS(p,o,d):t.setAttribute(o,d))))}var ie=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),de=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ee=Symbol.iterator;function Ce(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,Z;function ue(t){if(Z===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Z=o&&o[1]||""}return`
`+Z+t}var Ae=!1;function Ie(t,o){if(!t||Ae)return"";Ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ce){var p=ce}Reflect.construct(t,[],o)}else{try{o.call()}catch(ce){p=ce}t.call(o.prototype)}else{try{throw Error()}catch(ce){p=ce}t()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var C=ce.stack.split(`
`),S=p.stack.split(`
`),_=C.length-1,F=S.length-1;1<=_&&0<=F&&C[_]!==S[F];)F--;for(;1<=_&&0<=F;_--,F--)if(C[_]!==S[F]){if(_!==1||F!==1)do if(_--,F--,0>F||C[_]!==S[F]){var W=`
`+C[_].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=_&&0<=F);break}}}finally{Ae=!1,Error.prepareStackTrace=d}return(t=t?t.displayName||t.name:"")?ue(t):""}function Ve(t){switch(t.tag){case 5:return ue(t.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case de:return"Portal";case K:return"Profiler";case J:return"StrictMode";case De:return"Suspense";case me:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pe:return(t.displayName||"Context")+".Consumer";case ge:return(t._context.displayName||"Context")+".Provider";case Ee:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return o=t.displayName||null,o!==null?o:ve(t.type)||"Memo";case be:o=t._payload,t=t._init;try{return ve(t(o))}catch{}}return null}function Ye(t){var o=t.type;switch(t.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=o.render,t=t.displayName||t.name||"",o.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(o);case 8:return o===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function at(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rt(t){var o=at(t)?"checked":"value",d=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),p=""+t[o];if(!t.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var C=d.get,S=d.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return C.call(this)},set:function(_){p=""+_,S.call(this,_)}}),Object.defineProperty(t,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(_){p=""+_},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function Dt(t){t._valueTracker||(t._valueTracker=Rt(t))}function En(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return t&&(p=at(t)?t.checked?"true":"false":t.value),t=p,t!==d?(o.setValue(t),!0):!1}function ht(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mr(t,o){var d=o.checked;return pe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??t._wrapperState.initialChecked})}function ir(t,o){var d=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;d=Oe(o.value!=null?o.value:d),t._wrapperState={initialChecked:p,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function es(t,o){o=o.checked,o!=null&&Y(t,"checked",o,!1)}function Bt(t,o){es(t,o);var d=Oe(o.value),p=o.type;if(d!=null)p==="number"?(d===0&&t.value===""||t.value!=d)&&(t.value=""+d):t.value!==""+d&&(t.value=""+d);else if(p==="submit"||p==="reset"){t.removeAttribute("value");return}o.hasOwnProperty("value")?tt(t,o.type,d):o.hasOwnProperty("defaultValue")&&tt(t,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(t.defaultChecked=!!o.defaultChecked)}function St(t,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+t._wrapperState.initialValue,d||o===t.value||(t.value=o),t.defaultValue=o}d=t.name,d!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,d!==""&&(t.name=d)}function tt(t,o,d){(o!=="number"||ht(t.ownerDocument)!==t)&&(d==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+d&&(t.defaultValue=""+d))}var Br=Array.isArray;function Le(t,o,d,p){if(t=t.options,o){o={};for(var C=0;C<d.length;C++)o["$"+d[C]]=!0;for(d=0;d<t.length;d++)C=o.hasOwnProperty("$"+t[d].value),t[d].selected!==C&&(t[d].selected=C),C&&p&&(t[d].defaultSelected=!0)}else{for(d=""+Oe(d),o=null,C=0;C<t.length;C++){if(t[C].value===d){t[C].selected=!0,p&&(t[C].defaultSelected=!0);return}o!==null||t[C].disabled||(o=t[C])}o!==null&&(o.selected=!0)}}function an(t,o){if(o.dangerouslySetInnerHTML!=null)throw Error(a(91));return pe({},o,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jr(t,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(a(92));if(Br(d)){if(1<d.length)throw Error(a(93));d=d[0]}o=d}o==null&&(o=""),d=o}t._wrapperState={initialValue:Oe(d)}}function gr(t,o){var d=Oe(o.value),p=Oe(o.defaultValue);d!=null&&(d=""+d,d!==t.value&&(t.value=d),o.defaultValue==null&&t.defaultValue!==d&&(t.defaultValue=d)),p!=null&&(t.defaultValue=""+p)}function Gs(t){var o=t.textContent;o===t._wrapperState.initialValue&&o!==""&&o!==null&&(t.value=o)}function bn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xs(t,o){return t==null||t==="http://www.w3.org/1999/xhtml"?bn(o):t==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,ln=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,p,C){MSApp.execUnsafeLocalFunction(function(){return t(o,d,p,C)})}:t})(function(t,o){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=o;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;o.firstChild;)t.appendChild(o.firstChild)}});function or(t,o){if(o){var d=t.firstChild;if(d&&d===t.lastChild&&d.nodeType===3){d.nodeValue=o;return}}t.textContent=o}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(t){fs.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),Sr[o]=Sr[t]})});function Wt(t,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||Sr.hasOwnProperty(t)&&Sr[t]?(""+o).trim():o+"px"}function _e(t,o){t=t.style;for(var d in o)if(o.hasOwnProperty(d)){var p=d.indexOf("--")===0,C=Wt(d,o[d],p);d==="float"&&(d="cssFloat"),p?t.setProperty(d,C):t[d]=C}}var qt=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,o){if(o){if(qt[t]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(a(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(a(61))}if(o.style!=null&&typeof o.style!="object")throw Error(a(62))}}function Mt(t,o){if(t.indexOf("-")===-1)return typeof o.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ys=null,ut=null,Vn=null;function Ks(t){if(t=Ea(t)){if(typeof Ys!="function")throw Error(a(280));var o=t.stateNode;o&&(o=Ol(o),Ys(t.stateNode,t.type,o))}}function nt(t){ut?Vn?Vn.push(t):Vn=[t]:ut=t}function Ct(){if(ut){var t=ut,o=Vn;if(Vn=ut=null,Ks(t),o)for(t=0;t<o.length;t++)Ks(o[t])}}function en(t,o){return t(o)}function Et(){}var ar=!1;function Gt(t,o,d){if(ar)return t(o,d);ar=!0;try{return en(t,o,d)}finally{ar=!1,(ut!==null||Vn!==null)&&(Et(),Ct())}}function _t(t,o){var d=t.stateNode;if(d===null)return null;var p=Ol(d);if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(t=t.type,p=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!p;break e;default:t=!1}if(t)return null;if(d&&typeof d!="function")throw Error(a(231,o,typeof d));return d}var hs=!1;if(b)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{hs=!1}function Un(t,o,d,p,C,S,_,F,W){var ce=Array.prototype.slice.call(arguments,3);try{o.apply(d,ce)}catch(we){this.onError(we)}}var tn=!1,wn=null,On=!1,Me=null,Zs={onError:function(t){tn=!0,wn=t}};function ta(t,o,d,p,C,S,_,F,W){tn=!1,wn=null,Un.apply(Zs,arguments)}function $n(t,o,d,p,C,S,_,F,W){if(ta.apply(this,arguments),tn){if(tn){var ce=wn;tn=!1,wn=null}else throw Error(a(198));On||(On=!0,Me=ce)}}function pr(t){var o=t,d=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(d=o.return),t=o.return;while(t)}return o.tag===3?d:null}function Ti(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function Ii(t){if(pr(t)!==t)throw Error(a(188))}function Fr(t){var o=t.alternate;if(!o){if(o=pr(t),o===null)throw Error(a(188));return o!==t?null:t}for(var d=t,p=o;;){var C=d.return;if(C===null)break;var S=C.alternate;if(S===null){if(p=C.return,p!==null){d=p;continue}break}if(C.child===S.child){for(S=C.child;S;){if(S===d)return Ii(C),t;if(S===p)return Ii(C),o;S=S.sibling}throw Error(a(188))}if(d.return!==p.return)d=C,p=S;else{for(var _=!1,F=C.child;F;){if(F===d){_=!0,d=C,p=S;break}if(F===p){_=!0,p=C,d=S;break}F=F.sibling}if(!_){for(F=S.child;F;){if(F===d){_=!0,d=S,p=C;break}if(F===p){_=!0,p=S,d=C;break}F=F.sibling}if(!_)throw Error(a(189))}}if(d.alternate!==p)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?t:o}function dl(t){return t=Fr(t),t!==null?fl(t):null}function fl(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var o=fl(t);if(o!==null)return o;t=t.sibling}return null}var Tr=s.unstable_scheduleCallback,Dn=s.unstable_cancelCallback,Vt=s.unstable_shouldYield,hl=s.unstable_requestPaint,It=s.unstable_now,na=s.unstable_getCurrentPriorityLevel,he=s.unstable_ImmediatePriority,ml=s.unstable_UserBlockingPriority,jt=s.unstable_NormalPriority,qs=s.unstable_LowPriority,gl=s.unstable_IdlePriority,wt=null,lt=null;function gt(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(wt,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:mn,ra=Math.log,sa=Math.LN2;function mn(t){return t>>>=0,t===0?32:31-(ra(t)/sa|0)|0}var Ir=64,so=4194304;function Ft(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kr(t,o){var d=t.pendingLanes;if(d===0)return 0;var p=0,C=t.suspendedLanes,S=t.pingedLanes,_=d&268435455;if(_!==0){var F=_&~C;F!==0?p=Ft(F):(S&=_,S!==0&&(p=Ft(S)))}else _=d&~C,_!==0?p=Ft(_):S!==0&&(p=Ft(S));if(p===0)return 0;if(o!==0&&o!==p&&(o&C)===0&&(C=p&-p,S=o&-o,C>=S||C===16&&(S&4194240)!==0))return o;if((p&4)!==0&&(p|=d&16),o=t.entangledLanes,o!==0)for(t=t.entanglements,o&=p;0<o;)d=31-lr(o),C=1<<d,p|=t[d],o&=~C;return p}function au(t,o){switch(t){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(t,o){for(var d=t.suspendedLanes,p=t.pingedLanes,C=t.expirationTimes,S=t.pendingLanes;0<S;){var _=31-lr(S),F=1<<_,W=C[_];W===-1?((F&d)===0||(F&p)!==0)&&(C[_]=au(F,o)):W<=o&&(t.expiredLanes|=F),S&=~F}}function kt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function An(){var t=Ir;return Ir<<=1,(Ir&4194240)===0&&(Ir=64),t}function re(t){for(var o=[],d=0;31>d;d++)o.push(t);return o}function P(t,o,d){t.pendingLanes|=o,o!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,o=31-lr(o),t[o]=d}function Xe(t,o){var d=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;var p=t.eventTimes;for(t=t.expirationTimes;0<d;){var C=31-lr(d),S=1<<C;o[C]=0,p[C]=-1,t[C]=-1,d&=~S}}function cn(t,o){var d=t.entangledLanes|=o;for(t=t.entanglements;d;){var p=31-lr(d),C=1<<p;C&o|t[p]&o&&(t[p]|=o),d&=~C}}var ct=0;function pl(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var io,Qn,Ke,Ut,ia,oa=!1,Qs=[],Rr=null,Vr=null,ms=null,$t=new Map,ts=new Map,zn=[],Je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xl(t,o){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":$t.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(o.pointerId)}}function st(t,o,d,p,C,S){return t===null||t.nativeEvent!==S?(t={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:S,targetContainers:[C]},o!==null&&(o=Ea(o),o!==null&&Qn(o)),t):(t.eventSystemFlags|=p,o=t.targetContainers,C!==null&&o.indexOf(C)===-1&&o.push(C),t)}function Sn(t,o,d,p,C){switch(o){case"focusin":return Rr=st(Rr,t,o,d,p,C),!0;case"dragenter":return Vr=st(Vr,t,o,d,p,C),!0;case"mouseover":return ms=st(ms,t,o,d,p,C),!0;case"pointerover":var S=C.pointerId;return $t.set(S,st($t.get(S)||null,t,o,d,p,C)),!0;case"gotpointercapture":return S=C.pointerId,ts.set(S,st(ts.get(S)||null,t,o,d,p,C)),!0}return!1}function yl(t){var o=ji(t.target);if(o!==null){var d=pr(o);if(d!==null){if(o=d.tag,o===13){if(o=Ti(d),o!==null){t.blockedOn=o,ia(t.priority,function(){Ke(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){t.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Js(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var d=oo(t.domEventName,t.eventSystemFlags,o[0],t.nativeEvent);if(d===null){d=t.nativeEvent;var p=new d.constructor(d.type,d);Nr=p,d.target.dispatchEvent(p),Nr=null}else return o=Ea(d),o!==null&&Qn(o),t.blockedOn=d,!1;o.shift()}return!0}function aa(t,o,d){Js(t)&&d.delete(o)}function Ts(){oa=!1,Rr!==null&&Js(Rr)&&(Rr=null),Vr!==null&&Js(Vr)&&(Vr=null),ms!==null&&Js(ms)&&(ms=null),$t.forEach(aa),ts.forEach(aa)}function ki(t,o){t.blockedOn===o&&(t.blockedOn=null,oa||(oa=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ts)))}function ns(t){function o(C){return ki(C,t)}if(0<Qs.length){ki(Qs[0],t);for(var d=1;d<Qs.length;d++){var p=Qs[d];p.blockedOn===t&&(p.blockedOn=null)}}for(Rr!==null&&ki(Rr,t),Vr!==null&&ki(Vr,t),ms!==null&&ki(ms,t),$t.forEach(o),ts.forEach(o),d=0;d<zn.length;d++)p=zn[d],p.blockedOn===t&&(p.blockedOn=null);for(;0<zn.length&&(d=zn[0],d.blockedOn===null);)yl(d),d.blockedOn===null&&zn.shift()}var Ur=ie.ReactCurrentBatchConfig,gs=!0;function wl(t,o,d,p){var C=ct,S=Ur.transition;Ur.transition=null;try{ct=1,Is(t,o,d,p)}finally{ct=C,Ur.transition=S}}function Ri(t,o,d,p){var C=ct,S=Ur.transition;Ur.transition=null;try{ct=4,Is(t,o,d,p)}finally{ct=C,Ur.transition=S}}function Is(t,o,d,p){if(gs){var C=oo(t,o,d,p);if(C===null)xu(t,o,p,Nn,d),xl(t,p);else if(Sn(C,t,o,d,p))p.stopPropagation();else if(xl(t,p),o&4&&-1<Je.indexOf(t)){for(;C!==null;){var S=Ea(C);if(S!==null&&io(S),S=oo(t,o,d,p),S===null&&xu(t,o,p,Nn,d),S===C)break;C=S}C!==null&&p.stopPropagation()}else xu(t,o,p,null,d)}}var Nn=null;function oo(t,o,d,p){if(Nn=null,t=qn(p),t=ji(t),t!==null)if(o=pr(t),o===null)t=null;else if(d=o.tag,d===13){if(t=Ti(o),t!==null)return t;t=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null);return Nn=t,null}function la(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(na()){case he:return 1;case ml:return 4;case jt:case qs:return 16;case gl:return 536870912;default:return 16}default:return 16}}var rs=null,ca=null,ao=null;function vl(){if(ao)return ao;var t,o=ca,d=o.length,p,C="value"in rs?rs.value:rs.textContent,S=C.length;for(t=0;t<d&&o[t]===C[t];t++);var _=d-t;for(p=1;p<=_&&o[d-p]===C[S-p];p++);return ao=C.slice(t,1<p?1-p:void 0)}function bt(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function _i(){return!0}function Oi(){return!1}function un(t){function o(d,p,C,S,_){this._reactName=d,this._targetInst=C,this.type=p,this.nativeEvent=S,this.target=_,this.currentTarget=null;for(var F in t)t.hasOwnProperty(F)&&(d=t[F],this[F]=d?d(S):S[F]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?_i:Oi,this.isPropagationStopped=Oi,this}return pe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),o}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},le=un(ei),ot=pe({},ei,{view:0,detail:0}),Tn=un(ot),ti,lo,Di,co=pe({},ot,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(ti=t.screenX-Di.screenX,lo=t.screenY-Di.screenY):lo=ti=0,Di=t),ti)},movementY:function(t){return"movementY"in t?t.movementY:lo}}),Cl=un(co),ua=pe({},co,{dataTransfer:0}),gn=un(ua),da=pe({},ot,{relatedTarget:0}),zt=un(da),uo=pe({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=un(uo),Ot=pe({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qe=un(Ot),lu=pe({},ei,{data:0}),Pt=un(lu),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ni={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zr(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=cu[t])?!!o[t]:!1}function Mi(){return zr}var El=pe({},ot,{key:function(t){if(t.key){var o=Rs[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=bt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ni[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(t){return t.type==="keypress"?bt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fa=un(El),bl=pe({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=un(bl),uu=pe({},ot,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),ri=un(uu),ma=pe({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=un(ma),Pi=pe({},co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fu=un(Pi),ps=[9,13,27,32],si=b&&"CompositionEvent"in window,Mn=null;b&&"documentMode"in document&&(Mn=document.documentMode);var Al=b&&"TextEvent"in window&&!Mn,_r=b&&(!si||Mn&&8<Mn&&11>=Mn),Sl=" ",fo=!1;function Nl(t,o){switch(t){case"keyup":return ps.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function hu(t,o){switch(t){case"compositionend":return ga(o);case"keypress":return o.which!==32?null:(fo=!0,Sl);case"textInput":return t=o.data,t===Sl&&fo?null:t;default:return null}}function pa(t,o){if(Hn)return t==="compositionend"||!si&&Nl(t,o)?(t=vl(),ao=ca=rs=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _r&&o.locale!=="ko"?null:o.data;default:return null}}var Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yt(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!Li[t.type]:o==="textarea"}function Bi(t,o,d,p){nt(p),o=kl(o,"onChange"),0<o.length&&(d=new le("onChange","change",null,d,p),t.push({event:d,listeners:o}))}var k=null,e=null;function n(t){M0(t,0)}function i(t){var o=go(t);if(En(o))return t}function l(t,o){if(t==="change")return o}var c=!1;if(b){var u;if(b){var h="oninput"in document;if(!h){var x=document.createElement("div");x.setAttribute("oninput","return;"),h=typeof x.oninput=="function"}u=h}else u=!1;c=u&&(!document.documentMode||9<document.documentMode)}function v(){k&&(k.detachEvent("onpropertychange",I),e=k=null)}function I(t){if(t.propertyName==="value"&&i(e)){var o=[];Bi(o,e,t,qn(t)),Gt(n,o)}}function R(t,o,d){t==="focusin"?(v(),k=o,e=d,k.attachEvent("onpropertychange",I)):t==="focusout"&&v()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return i(e)}function L(t,o){if(t==="click")return i(o)}function H(t,o){if(t==="input"||t==="change")return i(o)}function X(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Q=typeof Object.is=="function"?Object.is:X;function ae(t,o){if(Q(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var d=Object.keys(t),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var C=d[p];if(!N.call(o,C)||!Q(t[C],o[C]))return!1}return!0}function Ne(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Te(t,o){var d=Ne(t);t=0;for(var p;d;){if(d.nodeType===3){if(p=t+d.textContent.length,t<=o&&p>=o)return{node:d,offset:o-t};t=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ne(d)}}function ye(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?ye(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function dt(){for(var t=window,o=ht();o instanceof t.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)t=o.contentWindow;else break;o=ht(t.document)}return o}function it(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function Jn(t){var o=dt(),d=t.focusedElem,p=t.selectionRange;if(o!==d&&d&&d.ownerDocument&&ye(d.ownerDocument.documentElement,d)){if(p!==null&&it(d)){if(o=p.start,t=p.end,t===void 0&&(t=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(t,d.value.length);else if(t=(o=d.ownerDocument||document)&&o.defaultView||window,t.getSelection){t=t.getSelection();var C=d.textContent.length,S=Math.min(p.start,C);p=p.end===void 0?S:Math.min(p.end,C),!t.extend&&S>p&&(C=p,p=S,S=C),C=Te(d,S);var _=Te(d,p);C&&_&&(t.rangeCount!==1||t.anchorNode!==C.node||t.anchorOffset!==C.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(C.node,C.offset),t.removeAllRanges(),S>p?(t.addRange(o),t.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),t.addRange(o)))}}for(o=[],t=d;t=t.parentNode;)t.nodeType===1&&o.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)t=o[d],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Or=b&&"documentMode"in document&&11>=document.documentMode,pn=null,Tt=null,nn=null,Wn=!1;function _s(t,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Wn||pn==null||pn!==ht(p)||(p=pn,"selectionStart"in p&&it(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),nn&&ae(nn,p)||(nn=p,p=kl(Tt,"onSelect"),0<p.length&&(o=new le("onSelect","select",null,o,d),t.push({event:o,listeners:p}),o.target=pn)))}function ss(t,o){var d={};return d[t.toLowerCase()]=o.toLowerCase(),d["Webkit"+t]="webkit"+o,d["Moz"+t]="moz"+o,d}var ii={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},xa={},N0={};b&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Tl(t){if(xa[t])return xa[t];if(!ii[t])return t;var o=ii[t],d;for(d in o)if(o.hasOwnProperty(d)&&d in N0)return xa[t]=o[d];return t}var T0=Tl("animationend"),I0=Tl("animationiteration"),k0=Tl("animationstart"),R0=Tl("transitionend"),_0=new Map,O0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,o){_0.set(t,o),g(o,[t])}for(var mu=0;mu<O0.length;mu++){var gu=O0[mu],F2=gu.toLowerCase(),V2=gu[0].toUpperCase()+gu.slice(1);oi(F2,"on"+V2)}oi(T0,"onAnimationEnd"),oi(I0,"onAnimationIteration"),oi(k0,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(R0,"onTransitionEnd"),w("onMouseEnter",["mouseout","mouseover"]),w("onMouseLeave",["mouseout","mouseover"]),w("onPointerEnter",["pointerout","pointerover"]),w("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function D0(t,o,d){var p=t.type||"unknown-event";t.currentTarget=d,$n(p,o,void 0,t),t.currentTarget=null}function M0(t,o){o=(o&4)!==0;for(var d=0;d<t.length;d++){var p=t[d],C=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var _=p.length-1;0<=_;_--){var F=p[_],W=F.instance,ce=F.currentTarget;if(F=F.listener,W!==S&&C.isPropagationStopped())break e;D0(C,F,ce),S=W}else for(_=0;_<p.length;_++){if(F=p[_],W=F.instance,ce=F.currentTarget,F=F.listener,W!==S&&C.isPropagationStopped())break e;D0(C,F,ce),S=W}}}if(On)throw t=Me,On=!1,Me=null,t}function Yt(t,o){var d=o[bu];d===void 0&&(d=o[bu]=new Set);var p=t+"__bubble";d.has(p)||(P0(o,t,2,!1),d.add(p))}function pu(t,o,d){var p=0;o&&(p|=4),P0(d,t,p,o)}var Il="_reactListening"+Math.random().toString(36).slice(2);function wa(t){if(!t[Il]){t[Il]=!0,f.forEach(function(d){d!=="selectionchange"&&(U2.has(d)||pu(d,!1,t),pu(d,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Il]||(o[Il]=!0,pu("selectionchange",!1,o))}}function P0(t,o,d,p){switch(la(o)){case 1:var C=wl;break;case 4:C=Ri;break;default:C=Is}d=C.bind(null,o,d,t),C=void 0,!hs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(C=!0),p?C!==void 0?t.addEventListener(o,d,{capture:!0,passive:C}):t.addEventListener(o,d,!0):C!==void 0?t.addEventListener(o,d,{passive:C}):t.addEventListener(o,d,!1)}function xu(t,o,d,p,C){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var F=p.stateNode.containerInfo;if(F===C||F.nodeType===8&&F.parentNode===C)break;if(_===4)for(_=p.return;_!==null;){var W=_.tag;if((W===3||W===4)&&(W=_.stateNode.containerInfo,W===C||W.nodeType===8&&W.parentNode===C))return;_=_.return}for(;F!==null;){if(_=ji(F),_===null)return;if(W=_.tag,W===5||W===6){p=S=_;continue e}F=F.parentNode}}p=p.return}Gt(function(){var ce=S,we=qn(d),Se=[];e:{var xe=_0.get(t);if(xe!==void 0){var Be=le,Ue=t;switch(t){case"keypress":if(bt(d)===0)break e;case"keydown":case"keyup":Be=fa;break;case"focusin":Ue="focus",Be=zt;break;case"focusout":Ue="blur",Be=zt;break;case"beforeblur":case"afterblur":Be=zt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=ri;break;case T0:case I0:case k0:Be=ks;break;case R0:Be=du;break;case"scroll":Be=Tn;break;case"wheel":Be=fu;break;case"copy":case"cut":case"paste":Be=qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=ha}var We=(o&4)!==0,xn=!We&&t==="scroll",se=We?xe!==null?xe+"Capture":null:xe;We=[];for(var q=ce,oe;q!==null;){oe=q;var ke=oe.stateNode;if(oe.tag===5&&ke!==null&&(oe=ke,se!==null&&(ke=_t(q,se),ke!=null&&We.push(va(q,ke,oe)))),xn)break;q=q.return}0<We.length&&(xe=new Be(xe,Ue,null,d,we),Se.push({event:xe,listeners:We}))}}if((o&7)===0){e:{if(xe=t==="mouseover"||t==="pointerover",Be=t==="mouseout"||t==="pointerout",xe&&d!==Nr&&(Ue=d.relatedTarget||d.fromElement)&&(ji(Ue)||Ue[Os]))break e;if((Be||xe)&&(xe=we.window===we?we:(xe=we.ownerDocument)?xe.defaultView||xe.parentWindow:window,Be?(Ue=d.relatedTarget||d.toElement,Be=ce,Ue=Ue?ji(Ue):null,Ue!==null&&(xn=pr(Ue),Ue!==xn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Be=null,Ue=ce),Be!==Ue)){if(We=Cl,ke="onMouseLeave",se="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(We=ha,ke="onPointerLeave",se="onPointerEnter",q="pointer"),xn=Be==null?xe:go(Be),oe=Ue==null?xe:go(Ue),xe=new We(ke,q+"leave",Be,d,we),xe.target=xn,xe.relatedTarget=oe,ke=null,ji(we)===ce&&(We=new We(se,q+"enter",Ue,d,we),We.target=oe,We.relatedTarget=xn,ke=We),xn=ke,Be&&Ue)t:{for(We=Be,se=Ue,q=0,oe=We;oe;oe=ho(oe))q++;for(oe=0,ke=se;ke;ke=ho(ke))oe++;for(;0<q-oe;)We=ho(We),q--;for(;0<oe-q;)se=ho(se),oe--;for(;q--;){if(We===se||se!==null&&We===se.alternate)break t;We=ho(We),se=ho(se)}We=null}else We=null;Be!==null&&L0(Se,xe,Be,We,!1),Ue!==null&&xn!==null&&L0(Se,xn,Ue,We,!0)}}e:{if(xe=ce?go(ce):window,Be=xe.nodeName&&xe.nodeName.toLowerCase(),Be==="select"||Be==="input"&&xe.type==="file")var Ge=l;else if(yt(xe))if(c)Ge=H;else{Ge=O;var $e=R}else(Be=xe.nodeName)&&Be.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Ge=L);if(Ge&&(Ge=Ge(t,ce))){Bi(Se,Ge,d,we);break e}$e&&$e(t,xe,ce),t==="focusout"&&($e=xe._wrapperState)&&$e.controlled&&xe.type==="number"&&tt(xe,"number",xe.value)}switch($e=ce?go(ce):window,t){case"focusin":(yt($e)||$e.contentEditable==="true")&&(pn=$e,Tt=ce,nn=null);break;case"focusout":nn=Tt=pn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":Wn=!1,_s(Se,d,we);break;case"selectionchange":if(Or)break;case"keydown":case"keyup":_s(Se,d,we)}var Qe;if(si)e:{switch(t){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Hn?Nl(t,d)&&(rt="onCompositionEnd"):t==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(_r&&d.locale!=="ko"&&(Hn||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Hn&&(Qe=vl()):(rs=we,ca="value"in rs?rs.value:rs.textContent,Hn=!0)),$e=kl(ce,rt),0<$e.length&&(rt=new Pt(rt,t,null,d,we),Se.push({event:rt,listeners:$e}),Qe?rt.data=Qe:(Qe=ga(d),Qe!==null&&(rt.data=Qe)))),(Qe=Al?hu(t,d):pa(t,d))&&(ce=kl(ce,"onBeforeInput"),0<ce.length&&(we=new Pt("onBeforeInput","beforeinput",null,d,we),Se.push({event:we,listeners:ce}),we.data=Qe))}M0(Se,o)})}function va(t,o,d){return{instance:t,listener:o,currentTarget:d}}function kl(t,o){for(var d=o+"Capture",p=[];t!==null;){var C=t,S=C.stateNode;C.tag===5&&S!==null&&(C=S,S=_t(t,d),S!=null&&p.unshift(va(t,S,C)),S=_t(t,o),S!=null&&p.push(va(t,S,C))),t=t.return}return p}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L0(t,o,d,p,C){for(var S=o._reactName,_=[];d!==null&&d!==p;){var F=d,W=F.alternate,ce=F.stateNode;if(W!==null&&W===p)break;F.tag===5&&ce!==null&&(F=ce,C?(W=_t(d,S),W!=null&&_.unshift(va(d,W,F))):C||(W=_t(d,S),W!=null&&_.push(va(d,W,F)))),d=d.return}_.length!==0&&t.push({event:o,listeners:_})}var z2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function B0(t){return(typeof t=="string"?t:""+t).replace(z2,`
`).replace(H2,"")}function Rl(t,o,d){if(o=B0(o),B0(t)!==o&&d)throw Error(a(425))}function _l(){}var yu=null,wu=null;function vu(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Cu=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,j0=typeof Promise=="function"?Promise:void 0,G2=typeof queueMicrotask=="function"?queueMicrotask:typeof j0<"u"?function(t){return j0.resolve(null).then(t).catch(X2)}:Cu;function X2(t){setTimeout(function(){throw t})}function Eu(t,o){var d=o,p=0;do{var C=d.nextSibling;if(t.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"){if(p===0){t.removeChild(C),ns(o);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=C}while(d);ns(o)}function ai(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return t}function F0(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var d=t.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return t;o--}else d==="/$"&&o++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),xs="__reactFiber$"+mo,Ca="__reactProps$"+mo,Os="__reactContainer$"+mo,bu="__reactEvents$"+mo,Y2="__reactListeners$"+mo,K2="__reactHandles$"+mo;function ji(t){var o=t[xs];if(o)return o;for(var d=t.parentNode;d;){if(o=d[Os]||d[xs]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(t=F0(t);t!==null;){if(d=t[xs])return d;t=F0(t)}return o}t=d,d=t.parentNode}return null}function Ea(t){return t=t[xs]||t[Os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function Ol(t){return t[Ca]||null}var Au=[],po=-1;function li(t){return{current:t}}function Kt(t){0>po||(t.current=Au[po],Au[po]=null,po--)}function Ht(t,o){po++,Au[po]=t.current,t.current=o}var ci={},er=li(ci),xr=li(!1),Fi=ci;function xo(t,o){var d=t.type.contextTypes;if(!d)return ci;var p=t.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var C={},S;for(S in d)C[S]=o[S];return p&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=C),C}function yr(t){return t=t.childContextTypes,t!=null}function Dl(){Kt(xr),Kt(er)}function V0(t,o,d){if(er.current!==ci)throw Error(a(168));Ht(er,o),Ht(xr,d)}function U0(t,o,d){var p=t.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var C in p)if(!(C in o))throw Error(a(108,Ye(t)||"Unknown",C));return pe({},d,p)}function Ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Fi=er.current,Ht(er,t),Ht(xr,xr.current),!0}function z0(t,o,d){var p=t.stateNode;if(!p)throw Error(a(169));d?(t=U0(t,o,Fi),p.__reactInternalMemoizedMergedChildContext=t,Kt(xr),Kt(er),Ht(er,t)):Kt(xr),Ht(xr,d)}var Ds=null,Pl=!1,Su=!1;function H0(t){Ds===null?Ds=[t]:Ds.push(t)}function Z2(t){Pl=!0,H0(t)}function ui(){if(!Su&&Ds!==null){Su=!0;var t=0,o=ct;try{var d=Ds;for(ct=1;t<d.length;t++){var p=d[t];do p=p(!0);while(p!==null)}Ds=null,Pl=!1}catch(C){throw Ds!==null&&(Ds=Ds.slice(t+1)),Tr(he,ui),C}finally{ct=o,Su=!1}}return null}var yo=[],wo=0,Ll=null,Bl=0,Hr=[],Wr=0,Vi=null,Ms=1,Ps="";function Ui(t,o){yo[wo++]=Bl,yo[wo++]=Ll,Ll=t,Bl=o}function W0(t,o,d){Hr[Wr++]=Ms,Hr[Wr++]=Ps,Hr[Wr++]=Vi,Vi=t;var p=Ms;t=Ps;var C=32-lr(p)-1;p&=~(1<<C),d+=1;var S=32-lr(o)+C;if(30<S){var _=C-C%5;S=(p&(1<<_)-1).toString(32),p>>=_,C-=_,Ms=1<<32-lr(o)+C|d<<C|p,Ps=S+t}else Ms=1<<S|d<<C|p,Ps=t}function Nu(t){t.return!==null&&(Ui(t,1),W0(t,1,0))}function Tu(t){for(;t===Ll;)Ll=yo[--wo],yo[wo]=null,Bl=yo[--wo],yo[wo]=null;for(;t===Vi;)Vi=Hr[--Wr],Hr[Wr]=null,Ps=Hr[--Wr],Hr[Wr]=null,Ms=Hr[--Wr],Hr[Wr]=null}var Dr=null,Mr=null,Qt=!1,is=null;function G0(t,o){var d=Kr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=t,o=t.deletions,o===null?(t.deletions=[d],t.flags|=16):o.push(d)}function X0(t,o){switch(t.tag){case 5:var d=t.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(t.stateNode=o,Dr=t,Mr=ai(o.firstChild),!0):!1;case 6:return o=t.pendingProps===""||o.nodeType!==3?null:o,o!==null?(t.stateNode=o,Dr=t,Mr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=Vi!==null?{id:Ms,overflow:Ps}:null,t.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Kr(18,null,null,0),d.stateNode=o,d.return=t,t.child=d,Dr=t,Mr=null,!0):!1;default:return!1}}function Iu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ku(t){if(Qt){var o=Mr;if(o){var d=o;if(!X0(t,o)){if(Iu(t))throw Error(a(418));o=ai(d.nextSibling);var p=Dr;o&&X0(t,o)?G0(p,d):(t.flags=t.flags&-4097|2,Qt=!1,Dr=t)}}else{if(Iu(t))throw Error(a(418));t.flags=t.flags&-4097|2,Qt=!1,Dr=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dr=t}function jl(t){if(t!==Dr)return!1;if(!Qt)return Y0(t),Qt=!0,!1;var o;if((o=t.tag!==3)&&!(o=t.tag!==5)&&(o=t.type,o=o!=="head"&&o!=="body"&&!vu(t.type,t.memoizedProps)),o&&(o=Mr)){if(Iu(t))throw K0(),Error(a(418));for(;o;)G0(t,o),o=ai(o.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8){var d=t.data;if(d==="/$"){if(o===0){Mr=ai(t.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}t=t.nextSibling}Mr=null}}else Mr=Dr?ai(t.stateNode.nextSibling):null;return!0}function K0(){for(var t=Mr;t;)t=ai(t.nextSibling)}function vo(){Mr=Dr=null,Qt=!1}function Ru(t){is===null?is=[t]:is.push(t)}var q2=ie.ReactCurrentBatchConfig;function ba(t,o,d){if(t=d.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(a(309));var p=d.stateNode}if(!p)throw Error(a(147,t));var C=p,S=""+t;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(_){var F=C.refs;_===null?delete F[S]:F[S]=_},o._stringRef=S,o)}if(typeof t!="string")throw Error(a(284));if(!d._owner)throw Error(a(290,t))}return t}function Fl(t,o){throw t=Object.prototype.toString.call(o),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t))}function Z0(t){var o=t._init;return o(t._payload)}function q0(t){function o(se,q){if(t){var oe=se.deletions;oe===null?(se.deletions=[q],se.flags|=16):oe.push(q)}}function d(se,q){if(!t)return null;for(;q!==null;)o(se,q),q=q.sibling;return null}function p(se,q){for(se=new Map;q!==null;)q.key!==null?se.set(q.key,q):se.set(q.index,q),q=q.sibling;return se}function C(se,q){return se=yi(se,q),se.index=0,se.sibling=null,se}function S(se,q,oe){return se.index=oe,t?(oe=se.alternate,oe!==null?(oe=oe.index,oe<q?(se.flags|=2,q):oe):(se.flags|=2,q)):(se.flags|=1048576,q)}function _(se){return t&&se.alternate===null&&(se.flags|=2),se}function F(se,q,oe,ke){return q===null||q.tag!==6?(q=Cd(oe,se.mode,ke),q.return=se,q):(q=C(q,oe),q.return=se,q)}function W(se,q,oe,ke){var Ge=oe.type;return Ge===$?we(se,q,oe.props.children,ke,oe.key):q!==null&&(q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===be&&Z0(Ge)===q.type)?(ke=C(q,oe.props),ke.ref=ba(se,q,oe),ke.return=se,ke):(ke=cc(oe.type,oe.key,oe.props,null,se.mode,ke),ke.ref=ba(se,q,oe),ke.return=se,ke)}function ce(se,q,oe,ke){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?(q=Ed(oe,se.mode,ke),q.return=se,q):(q=C(q,oe.children||[]),q.return=se,q)}function we(se,q,oe,ke,Ge){return q===null||q.tag!==7?(q=Zi(oe,se.mode,ke,Ge),q.return=se,q):(q=C(q,oe),q.return=se,q)}function Se(se,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Cd(""+q,se.mode,oe),q.return=se,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case fe:return oe=cc(q.type,q.key,q.props,null,se.mode,oe),oe.ref=ba(se,null,q),oe.return=se,oe;case de:return q=Ed(q,se.mode,oe),q.return=se,q;case be:var ke=q._init;return Se(se,ke(q._payload),oe)}if(Br(q)||Ce(q))return q=Zi(q,se.mode,oe,null),q.return=se,q;Fl(se,q)}return null}function xe(se,q,oe,ke){var Ge=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ge!==null?null:F(se,q,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case fe:return oe.key===Ge?W(se,q,oe,ke):null;case de:return oe.key===Ge?ce(se,q,oe,ke):null;case be:return Ge=oe._init,xe(se,q,Ge(oe._payload),ke)}if(Br(oe)||Ce(oe))return Ge!==null?null:we(se,q,oe,ke,null);Fl(se,oe)}return null}function Be(se,q,oe,ke,Ge){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return se=se.get(oe)||null,F(q,se,""+ke,Ge);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case fe:return se=se.get(ke.key===null?oe:ke.key)||null,W(q,se,ke,Ge);case de:return se=se.get(ke.key===null?oe:ke.key)||null,ce(q,se,ke,Ge);case be:var $e=ke._init;return Be(se,q,oe,$e(ke._payload),Ge)}if(Br(ke)||Ce(ke))return se=se.get(oe)||null,we(q,se,ke,Ge,null);Fl(q,ke)}return null}function Ue(se,q,oe,ke){for(var Ge=null,$e=null,Qe=q,rt=q=0,Bn=null;Qe!==null&&rt<oe.length;rt++){Qe.index>rt?(Bn=Qe,Qe=null):Bn=Qe.sibling;var Nt=xe(se,Qe,oe[rt],ke);if(Nt===null){Qe===null&&(Qe=Bn);break}t&&Qe&&Nt.alternate===null&&o(se,Qe),q=S(Nt,q,rt),$e===null?Ge=Nt:$e.sibling=Nt,$e=Nt,Qe=Bn}if(rt===oe.length)return d(se,Qe),Qt&&Ui(se,rt),Ge;if(Qe===null){for(;rt<oe.length;rt++)Qe=Se(se,oe[rt],ke),Qe!==null&&(q=S(Qe,q,rt),$e===null?Ge=Qe:$e.sibling=Qe,$e=Qe);return Qt&&Ui(se,rt),Ge}for(Qe=p(se,Qe);rt<oe.length;rt++)Bn=Be(Qe,se,rt,oe[rt],ke),Bn!==null&&(t&&Bn.alternate!==null&&Qe.delete(Bn.key===null?rt:Bn.key),q=S(Bn,q,rt),$e===null?Ge=Bn:$e.sibling=Bn,$e=Bn);return t&&Qe.forEach(function(wi){return o(se,wi)}),Qt&&Ui(se,rt),Ge}function We(se,q,oe,ke){var Ge=Ce(oe);if(typeof Ge!="function")throw Error(a(150));if(oe=Ge.call(oe),oe==null)throw Error(a(151));for(var $e=Ge=null,Qe=q,rt=q=0,Bn=null,Nt=oe.next();Qe!==null&&!Nt.done;rt++,Nt=oe.next()){Qe.index>rt?(Bn=Qe,Qe=null):Bn=Qe.sibling;var wi=xe(se,Qe,Nt.value,ke);if(wi===null){Qe===null&&(Qe=Bn);break}t&&Qe&&wi.alternate===null&&o(se,Qe),q=S(wi,q,rt),$e===null?Ge=wi:$e.sibling=wi,$e=wi,Qe=Bn}if(Nt.done)return d(se,Qe),Qt&&Ui(se,rt),Ge;if(Qe===null){for(;!Nt.done;rt++,Nt=oe.next())Nt=Se(se,Nt.value,ke),Nt!==null&&(q=S(Nt,q,rt),$e===null?Ge=Nt:$e.sibling=Nt,$e=Nt);return Qt&&Ui(se,rt),Ge}for(Qe=p(se,Qe);!Nt.done;rt++,Nt=oe.next())Nt=Be(Qe,se,rt,Nt.value,ke),Nt!==null&&(t&&Nt.alternate!==null&&Qe.delete(Nt.key===null?rt:Nt.key),q=S(Nt,q,rt),$e===null?Ge=Nt:$e.sibling=Nt,$e=Nt);return t&&Qe.forEach(function(ky){return o(se,ky)}),Qt&&Ui(se,rt),Ge}function xn(se,q,oe,ke){if(typeof oe=="object"&&oe!==null&&oe.type===$&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case fe:e:{for(var Ge=oe.key,$e=q;$e!==null;){if($e.key===Ge){if(Ge=oe.type,Ge===$){if($e.tag===7){d(se,$e.sibling),q=C($e,oe.props.children),q.return=se,se=q;break e}}else if($e.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===be&&Z0(Ge)===$e.type){d(se,$e.sibling),q=C($e,oe.props),q.ref=ba(se,$e,oe),q.return=se,se=q;break e}d(se,$e);break}else o(se,$e);$e=$e.sibling}oe.type===$?(q=Zi(oe.props.children,se.mode,ke,oe.key),q.return=se,se=q):(ke=cc(oe.type,oe.key,oe.props,null,se.mode,ke),ke.ref=ba(se,q,oe),ke.return=se,se=ke)}return _(se);case de:e:{for($e=oe.key;q!==null;){if(q.key===$e)if(q.tag===4&&q.stateNode.containerInfo===oe.containerInfo&&q.stateNode.implementation===oe.implementation){d(se,q.sibling),q=C(q,oe.children||[]),q.return=se,se=q;break e}else{d(se,q);break}else o(se,q);q=q.sibling}q=Ed(oe,se.mode,ke),q.return=se,se=q}return _(se);case be:return $e=oe._init,xn(se,q,$e(oe._payload),ke)}if(Br(oe))return Ue(se,q,oe,ke);if(Ce(oe))return We(se,q,oe,ke);Fl(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,q!==null&&q.tag===6?(d(se,q.sibling),q=C(q,oe),q.return=se,se=q):(d(se,q),q=Cd(oe,se.mode,ke),q.return=se,se=q),_(se)):d(se,q)}return xn}var Co=q0(!0),$0=q0(!1),Vl=li(null),Ul=null,Eo=null,_u=null;function Ou(){_u=Eo=Ul=null}function Du(t){var o=Vl.current;Kt(Vl),t._currentValue=o}function Mu(t,o,d){for(;t!==null;){var p=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),t===d)break;t=t.return}}function bo(t,o){Ul=t,_u=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&o)!==0&&(wr=!0),t.firstContext=null)}function Gr(t){var o=t._currentValue;if(_u!==t)if(t={context:t,memoizedValue:o,next:null},Eo===null){if(Ul===null)throw Error(a(308));Eo=t,Ul.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return o}var zi=null;function Pu(t){zi===null?zi=[t]:zi.push(t)}function Q0(t,o,d,p){var C=o.interleaved;return C===null?(d.next=d,Pu(o)):(d.next=C.next,C.next=d),o.interleaved=d,Ls(t,p)}function Ls(t,o){t.lanes|=o;var d=t.alternate;for(d!==null&&(d.lanes|=o),d=t,t=t.return;t!==null;)t.childLanes|=o,d=t.alternate,d!==null&&(d.childLanes|=o),d=t,t=t.return;return d.tag===3?d.stateNode:null}var di=!1;function Lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J0(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,o){return{eventTime:t,lane:o,tag:0,payload:null,callback:null,next:null}}function fi(t,o,d){var p=t.updateQueue;if(p===null)return null;if(p=p.shared,(At&2)!==0){var C=p.pending;return C===null?o.next=o:(o.next=C.next,C.next=o),p.pending=o,Ls(t,d)}return C=p.interleaved,C===null?(o.next=o,Pu(p)):(o.next=C.next,C.next=o),p.interleaved=o,Ls(t,d)}function zl(t,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var p=o.lanes;p&=t.pendingLanes,d|=p,o.lanes=d,cn(t,d)}}function eh(t,o){var d=t.updateQueue,p=t.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var C=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var _={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?C=S=_:S=S.next=_,d=d.next}while(d!==null);S===null?C=S=o:S=S.next=o}else C=S=o;d={baseState:p.baseState,firstBaseUpdate:C,lastBaseUpdate:S,shared:p.shared,effects:p.effects},t.updateQueue=d;return}t=d.lastBaseUpdate,t===null?d.firstBaseUpdate=o:t.next=o,d.lastBaseUpdate=o}function Hl(t,o,d,p){var C=t.updateQueue;di=!1;var S=C.firstBaseUpdate,_=C.lastBaseUpdate,F=C.shared.pending;if(F!==null){C.shared.pending=null;var W=F,ce=W.next;W.next=null,_===null?S=ce:_.next=ce,_=W;var we=t.alternate;we!==null&&(we=we.updateQueue,F=we.lastBaseUpdate,F!==_&&(F===null?we.firstBaseUpdate=ce:F.next=ce,we.lastBaseUpdate=W))}if(S!==null){var Se=C.baseState;_=0,we=ce=W=null,F=S;do{var xe=F.lane,Be=F.eventTime;if((p&xe)===xe){we!==null&&(we=we.next={eventTime:Be,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Ue=t,We=F;switch(xe=o,Be=d,We.tag){case 1:if(Ue=We.payload,typeof Ue=="function"){Se=Ue.call(Be,Se,xe);break e}Se=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=We.payload,xe=typeof Ue=="function"?Ue.call(Be,Se,xe):Ue,xe==null)break e;Se=pe({},Se,xe);break e;case 2:di=!0}}F.callback!==null&&F.lane!==0&&(t.flags|=64,xe=C.effects,xe===null?C.effects=[F]:xe.push(F))}else Be={eventTime:Be,lane:xe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},we===null?(ce=we=Be,W=Se):we=we.next=Be,_|=xe;if(F=F.next,F===null){if(F=C.shared.pending,F===null)break;xe=F,F=xe.next,xe.next=null,C.lastBaseUpdate=xe,C.shared.pending=null}}while(!0);if(we===null&&(W=Se),C.baseState=W,C.firstBaseUpdate=ce,C.lastBaseUpdate=we,o=C.shared.interleaved,o!==null){C=o;do _|=C.lane,C=C.next;while(C!==o)}else S===null&&(C.shared.lanes=0);Gi|=_,t.lanes=_,t.memoizedState=Se}}function th(t,o,d){if(t=o.effects,o.effects=null,t!==null)for(o=0;o<t.length;o++){var p=t[o],C=p.callback;if(C!==null){if(p.callback=null,p=d,typeof C!="function")throw Error(a(191,C));C.call(p)}}}var Aa={},ys=li(Aa),Sa=li(Aa),Na=li(Aa);function Hi(t){if(t===Aa)throw Error(a(174));return t}function Bu(t,o){switch(Ht(Na,o),Ht(Sa,t),Ht(ys,Aa),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Xs(null,"");break;default:t=t===8?o.parentNode:o,o=t.namespaceURI||null,t=t.tagName,o=Xs(o,t)}Kt(ys),Ht(ys,o)}function Ao(){Kt(ys),Kt(Sa),Kt(Na)}function nh(t){Hi(Na.current);var o=Hi(ys.current),d=Xs(o,t.type);o!==d&&(Ht(Sa,t),Ht(ys,d))}function ju(t){Sa.current===t&&(Kt(ys),Kt(Sa))}var rn=li(0);function Wl(t){for(var o=t;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fu=[];function Vu(){for(var t=0;t<Fu.length;t++)Fu[t]._workInProgressVersionPrimary=null;Fu.length=0}var Gl=ie.ReactCurrentDispatcher,Uu=ie.ReactCurrentBatchConfig,Wi=0,sn=null,In=null,Pn=null,Xl=!1,Ta=!1,Ia=0,$2=0;function tr(){throw Error(a(321))}function zu(t,o){if(o===null)return!1;for(var d=0;d<o.length&&d<t.length;d++)if(!Q(t[d],o[d]))return!1;return!0}function Hu(t,o,d,p,C,S){if(Wi=S,sn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Gl.current=t===null||t.memoizedState===null?ty:ny,t=d(p,C),Ta){S=0;do{if(Ta=!1,Ia=0,25<=S)throw Error(a(301));S+=1,Pn=In=null,o.updateQueue=null,Gl.current=ry,t=d(p,C)}while(Ta)}if(Gl.current=Zl,o=In!==null&&In.next!==null,Wi=0,Pn=In=sn=null,Xl=!1,o)throw Error(a(300));return t}function Wu(){var t=Ia!==0;return Ia=0,t}function ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?sn.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Xr(){if(In===null){var t=sn.alternate;t=t!==null?t.memoizedState:null}else t=In.next;var o=Pn===null?sn.memoizedState:Pn.next;if(o!==null)Pn=o,In=t;else{if(t===null)throw Error(a(310));In=t,t={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Pn===null?sn.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function ka(t,o){return typeof o=="function"?o(t):o}function Gu(t){var o=Xr(),d=o.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=t;var p=In,C=p.baseQueue,S=d.pending;if(S!==null){if(C!==null){var _=C.next;C.next=S.next,S.next=_}p.baseQueue=C=S,d.pending=null}if(C!==null){S=C.next,p=p.baseState;var F=_=null,W=null,ce=S;do{var we=ce.lane;if((Wi&we)===we)W!==null&&(W=W.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:t(p,ce.action);else{var Se={lane:we,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};W===null?(F=W=Se,_=p):W=W.next=Se,sn.lanes|=we,Gi|=we}ce=ce.next}while(ce!==null&&ce!==S);W===null?_=p:W.next=F,Q(p,o.memoizedState)||(wr=!0),o.memoizedState=p,o.baseState=_,o.baseQueue=W,d.lastRenderedState=p}if(t=d.interleaved,t!==null){C=t;do S=C.lane,sn.lanes|=S,Gi|=S,C=C.next;while(C!==t)}else C===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Xu(t){var o=Xr(),d=o.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=t;var p=d.dispatch,C=d.pending,S=o.memoizedState;if(C!==null){d.pending=null;var _=C=C.next;do S=t(S,_.action),_=_.next;while(_!==C);Q(S,o.memoizedState)||(wr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),d.lastRenderedState=S}return[S,p]}function rh(){}function sh(t,o){var d=sn,p=Xr(),C=o(),S=!Q(p.memoizedState,C);if(S&&(p.memoizedState=C,wr=!0),p=p.queue,Yu(ah.bind(null,d,p,t),[t]),p.getSnapshot!==o||S||Pn!==null&&Pn.memoizedState.tag&1){if(d.flags|=2048,Ra(9,oh.bind(null,d,p,C,o),void 0,null),Ln===null)throw Error(a(349));(Wi&30)!==0||ih(d,o,C)}return C}function ih(t,o,d){t.flags|=16384,t={getSnapshot:o,value:d},o=sn.updateQueue,o===null?(o={lastEffect:null,stores:null},sn.updateQueue=o,o.stores=[t]):(d=o.stores,d===null?o.stores=[t]:d.push(t))}function oh(t,o,d,p){o.value=d,o.getSnapshot=p,lh(o)&&ch(t)}function ah(t,o,d){return d(function(){lh(o)&&ch(t)})}function lh(t){var o=t.getSnapshot;t=t.value;try{var d=o();return!Q(t,d)}catch{return!0}}function ch(t){var o=Ls(t,1);o!==null&&cs(o,t,1,-1)}function uh(t){var o=ws();return typeof t=="function"&&(t=t()),o.memoizedState=o.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},o.queue=t,t=t.dispatch=ey.bind(null,sn,t),[o.memoizedState,t]}function Ra(t,o,d,p){return t={tag:t,create:o,destroy:d,deps:p,next:null},o=sn.updateQueue,o===null?(o={lastEffect:null,stores:null},sn.updateQueue=o,o.lastEffect=t.next=t):(d=o.lastEffect,d===null?o.lastEffect=t.next=t:(p=d.next,d.next=t,t.next=p,o.lastEffect=t)),t}function dh(){return Xr().memoizedState}function Yl(t,o,d,p){var C=ws();sn.flags|=t,C.memoizedState=Ra(1|o,d,void 0,p===void 0?null:p)}function Kl(t,o,d,p){var C=Xr();p=p===void 0?null:p;var S=void 0;if(In!==null){var _=In.memoizedState;if(S=_.destroy,p!==null&&zu(p,_.deps)){C.memoizedState=Ra(o,d,S,p);return}}sn.flags|=t,C.memoizedState=Ra(1|o,d,S,p)}function fh(t,o){return Yl(8390656,8,t,o)}function Yu(t,o){return Kl(2048,8,t,o)}function hh(t,o){return Kl(4,2,t,o)}function mh(t,o){return Kl(4,4,t,o)}function gh(t,o){if(typeof o=="function")return t=t(),o(t),function(){o(null)};if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function ph(t,o,d){return d=d!=null?d.concat([t]):null,Kl(4,4,gh.bind(null,o,t),d)}function Ku(){}function xh(t,o){var d=Xr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&zu(o,p[1])?p[0]:(d.memoizedState=[t,o],t)}function yh(t,o){var d=Xr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&zu(o,p[1])?p[0]:(t=t(),d.memoizedState=[t,o],t)}function wh(t,o,d){return(Wi&21)===0?(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=d):(Q(d,o)||(d=An(),sn.lanes|=d,Gi|=d,t.baseState=!0),o)}function Q2(t,o){var d=ct;ct=d!==0&&4>d?d:4,t(!0);var p=Uu.transition;Uu.transition={};try{t(!1),o()}finally{ct=d,Uu.transition=p}}function vh(){return Xr().memoizedState}function J2(t,o,d){var p=pi(t);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},Ch(t))Eh(o,d);else if(d=Q0(t,o,d,p),d!==null){var C=ur();cs(d,t,p,C),bh(d,o,p)}}function ey(t,o,d){var p=pi(t),C={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ch(t))Eh(o,C);else{var S=t.alternate;if(t.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var _=o.lastRenderedState,F=S(_,d);if(C.hasEagerState=!0,C.eagerState=F,Q(F,_)){var W=o.interleaved;W===null?(C.next=C,Pu(o)):(C.next=W.next,W.next=C),o.interleaved=C;return}}catch{}finally{}d=Q0(t,o,C,p),d!==null&&(C=ur(),cs(d,t,p,C),bh(d,o,p))}}function Ch(t){var o=t.alternate;return t===sn||o!==null&&o===sn}function Eh(t,o){Ta=Xl=!0;var d=t.pending;d===null?o.next=o:(o.next=d.next,d.next=o),t.pending=o}function bh(t,o,d){if((d&4194240)!==0){var p=o.lanes;p&=t.pendingLanes,d|=p,o.lanes=d,cn(t,d)}}var Zl={readContext:Gr,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},ty={readContext:Gr,useCallback:function(t,o){return ws().memoizedState=[t,o===void 0?null:o],t},useContext:Gr,useEffect:fh,useImperativeHandle:function(t,o,d){return d=d!=null?d.concat([t]):null,Yl(4194308,4,gh.bind(null,o,t),d)},useLayoutEffect:function(t,o){return Yl(4194308,4,t,o)},useInsertionEffect:function(t,o){return Yl(4,2,t,o)},useMemo:function(t,o){var d=ws();return o=o===void 0?null:o,t=t(),d.memoizedState=[t,o],t},useReducer:function(t,o,d){var p=ws();return o=d!==void 0?d(o):o,p.memoizedState=p.baseState=o,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},p.queue=t,t=t.dispatch=J2.bind(null,sn,t),[p.memoizedState,t]},useRef:function(t){var o=ws();return t={current:t},o.memoizedState=t},useState:uh,useDebugValue:Ku,useDeferredValue:function(t){return ws().memoizedState=t},useTransition:function(){var t=uh(!1),o=t[0];return t=Q2.bind(null,t[1]),ws().memoizedState=t,[o,t]},useMutableSource:function(){},useSyncExternalStore:function(t,o,d){var p=sn,C=ws();if(Qt){if(d===void 0)throw Error(a(407));d=d()}else{if(d=o(),Ln===null)throw Error(a(349));(Wi&30)!==0||ih(p,o,d)}C.memoizedState=d;var S={value:d,getSnapshot:o};return C.queue=S,fh(ah.bind(null,p,S,t),[t]),p.flags|=2048,Ra(9,oh.bind(null,p,S,d,o),void 0,null),d},useId:function(){var t=ws(),o=Ln.identifierPrefix;if(Qt){var d=Ps,p=Ms;d=(p&~(1<<32-lr(p)-1)).toString(32)+d,o=":"+o+"R"+d,d=Ia++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=$2++,o=":"+o+"r"+d.toString(32)+":";return t.memoizedState=o},unstable_isNewReconciler:!1},ny={readContext:Gr,useCallback:xh,useContext:Gr,useEffect:Yu,useImperativeHandle:ph,useInsertionEffect:hh,useLayoutEffect:mh,useMemo:yh,useReducer:Gu,useRef:dh,useState:function(){return Gu(ka)},useDebugValue:Ku,useDeferredValue:function(t){var o=Xr();return wh(o,In.memoizedState,t)},useTransition:function(){var t=Gu(ka)[0],o=Xr().memoizedState;return[t,o]},useMutableSource:rh,useSyncExternalStore:sh,useId:vh,unstable_isNewReconciler:!1},ry={readContext:Gr,useCallback:xh,useContext:Gr,useEffect:Yu,useImperativeHandle:ph,useInsertionEffect:hh,useLayoutEffect:mh,useMemo:yh,useReducer:Xu,useRef:dh,useState:function(){return Xu(ka)},useDebugValue:Ku,useDeferredValue:function(t){var o=Xr();return In===null?o.memoizedState=t:wh(o,In.memoizedState,t)},useTransition:function(){var t=Xu(ka)[0],o=Xr().memoizedState;return[t,o]},useMutableSource:rh,useSyncExternalStore:sh,useId:vh,unstable_isNewReconciler:!1};function os(t,o){if(t&&t.defaultProps){o=pe({},o),t=t.defaultProps;for(var d in t)o[d]===void 0&&(o[d]=t[d]);return o}return o}function Zu(t,o,d,p){o=t.memoizedState,d=d(p,o),d=d==null?o:pe({},o,d),t.memoizedState=d,t.lanes===0&&(t.updateQueue.baseState=d)}var ql={isMounted:function(t){return(t=t._reactInternals)?pr(t)===t:!1},enqueueSetState:function(t,o,d){t=t._reactInternals;var p=ur(),C=pi(t),S=Bs(p,C);S.payload=o,d!=null&&(S.callback=d),o=fi(t,S,C),o!==null&&(cs(o,t,C,p),zl(o,t,C))},enqueueReplaceState:function(t,o,d){t=t._reactInternals;var p=ur(),C=pi(t),S=Bs(p,C);S.tag=1,S.payload=o,d!=null&&(S.callback=d),o=fi(t,S,C),o!==null&&(cs(o,t,C,p),zl(o,t,C))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var d=ur(),p=pi(t),C=Bs(d,p);C.tag=2,o!=null&&(C.callback=o),o=fi(t,C,p),o!==null&&(cs(o,t,p,d),zl(o,t,p))}};function Ah(t,o,d,p,C,S,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(p,S,_):o.prototype&&o.prototype.isPureReactComponent?!ae(d,p)||!ae(C,S):!0}function Sh(t,o,d){var p=!1,C=ci,S=o.contextType;return typeof S=="object"&&S!==null?S=Gr(S):(C=yr(o)?Fi:er.current,p=o.contextTypes,S=(p=p!=null)?xo(t,C):ci),o=new o(d,S),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ql,t.stateNode=o,o._reactInternals=t,p&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=C,t.__reactInternalMemoizedMaskedChildContext=S),o}function Nh(t,o,d,p){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==t&&ql.enqueueReplaceState(o,o.state,null)}function qu(t,o,d,p){var C=t.stateNode;C.props=d,C.state=t.memoizedState,C.refs={},Lu(t);var S=o.contextType;typeof S=="object"&&S!==null?C.context=Gr(S):(S=yr(o)?Fi:er.current,C.context=xo(t,S)),C.state=t.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Zu(t,o,S,d),C.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(o=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),o!==C.state&&ql.enqueueReplaceState(C,C.state,null),Hl(t,d,C,p),C.state=t.memoizedState),typeof C.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,o){try{var d="",p=o;do d+=Ve(p),p=p.return;while(p);var C=d}catch(S){C=`
Error generating stack: `+S.message+`
`+S.stack}return{value:t,source:o,stack:C,digest:null}}function $u(t,o,d){return{value:t,source:null,stack:d??null,digest:o??null}}function Qu(t,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var sy=typeof WeakMap=="function"?WeakMap:Map;function Th(t,o,d){d=Bs(-1,d),d.tag=3,d.payload={element:null};var p=o.value;return d.callback=function(){rc||(rc=!0,hd=p),Qu(t,o)},d}function Ih(t,o,d){d=Bs(-1,d),d.tag=3;var p=t.type.getDerivedStateFromError;if(typeof p=="function"){var C=o.value;d.payload=function(){return p(C)},d.callback=function(){Qu(t,o)}}var S=t.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){Qu(t,o),typeof p!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),d}function kh(t,o,d){var p=t.pingCache;if(p===null){p=t.pingCache=new sy;var C=new Set;p.set(o,C)}else C=p.get(o),C===void 0&&(C=new Set,p.set(o,C));C.has(d)||(C.add(d),t=yy.bind(null,t,o,d),o.then(t,t))}function Rh(t){do{var o;if((o=t.tag===13)&&(o=t.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return t;t=t.return}while(t!==null);return null}function _h(t,o,d,p,C){return(t.mode&1)===0?(t===o?t.flags|=65536:(t.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Bs(-1,1),o.tag=2,fi(d,o,1))),d.lanes|=1),t):(t.flags|=65536,t.lanes=C,t)}var iy=ie.ReactCurrentOwner,wr=!1;function cr(t,o,d,p){o.child=t===null?$0(o,null,d,p):Co(o,t.child,d,p)}function Oh(t,o,d,p,C){d=d.render;var S=o.ref;return bo(o,C),p=Hu(t,o,d,p,S,C),d=Wu(),t!==null&&!wr?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~C,js(t,o,C)):(Qt&&d&&Nu(o),o.flags|=1,cr(t,o,p,C),o.child)}function Dh(t,o,d,p,C){if(t===null){var S=d.type;return typeof S=="function"&&!vd(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=S,Mh(t,o,S,p,C)):(t=cc(d.type,null,p,o,o.mode,C),t.ref=o.ref,t.return=o,o.child=t)}if(S=t.child,(t.lanes&C)===0){var _=S.memoizedProps;if(d=d.compare,d=d!==null?d:ae,d(_,p)&&t.ref===o.ref)return js(t,o,C)}return o.flags|=1,t=yi(S,p),t.ref=o.ref,t.return=o,o.child=t}function Mh(t,o,d,p,C){if(t!==null){var S=t.memoizedProps;if(ae(S,p)&&t.ref===o.ref)if(wr=!1,o.pendingProps=p=S,(t.lanes&C)!==0)(t.flags&131072)!==0&&(wr=!0);else return o.lanes=t.lanes,js(t,o,C)}return Ju(t,o,d,p,C)}function Ph(t,o,d){var p=o.pendingProps,C=p.children,S=t!==null?t.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(To,Pr),Pr|=d;else{if((d&1073741824)===0)return t=S!==null?S.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:t,cachePool:null,transitions:null},o.updateQueue=null,Ht(To,Pr),Pr|=t,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:d,Ht(To,Pr),Pr|=p}else S!==null?(p=S.baseLanes|d,o.memoizedState=null):p=d,Ht(To,Pr),Pr|=p;return cr(t,o,C,d),o.child}function Lh(t,o){var d=o.ref;(t===null&&d!==null||t!==null&&t.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Ju(t,o,d,p,C){var S=yr(d)?Fi:er.current;return S=xo(o,S),bo(o,C),d=Hu(t,o,d,p,S,C),p=Wu(),t!==null&&!wr?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~C,js(t,o,C)):(Qt&&p&&Nu(o),o.flags|=1,cr(t,o,d,C),o.child)}function Bh(t,o,d,p,C){if(yr(d)){var S=!0;Ml(o)}else S=!1;if(bo(o,C),o.stateNode===null)Ql(t,o),Sh(o,d,p),qu(o,d,p,C),p=!0;else if(t===null){var _=o.stateNode,F=o.memoizedProps;_.props=F;var W=_.context,ce=d.contextType;typeof ce=="object"&&ce!==null?ce=Gr(ce):(ce=yr(d)?Fi:er.current,ce=xo(o,ce));var we=d.getDerivedStateFromProps,Se=typeof we=="function"||typeof _.getSnapshotBeforeUpdate=="function";Se||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F!==p||W!==ce)&&Nh(o,_,p,ce),di=!1;var xe=o.memoizedState;_.state=xe,Hl(o,p,_,C),W=o.memoizedState,F!==p||xe!==W||xr.current||di?(typeof we=="function"&&(Zu(o,d,we,p),W=o.memoizedState),(F=di||Ah(o,d,F,p,xe,W,ce))?(Se||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=W),_.props=p,_.state=W,_.context=ce,p=F):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{_=o.stateNode,J0(t,o),F=o.memoizedProps,ce=o.type===o.elementType?F:os(o.type,F),_.props=ce,Se=o.pendingProps,xe=_.context,W=d.contextType,typeof W=="object"&&W!==null?W=Gr(W):(W=yr(d)?Fi:er.current,W=xo(o,W));var Be=d.getDerivedStateFromProps;(we=typeof Be=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F!==Se||xe!==W)&&Nh(o,_,p,W),di=!1,xe=o.memoizedState,_.state=xe,Hl(o,p,_,C);var Ue=o.memoizedState;F!==Se||xe!==Ue||xr.current||di?(typeof Be=="function"&&(Zu(o,d,Be,p),Ue=o.memoizedState),(ce=di||Ah(o,d,ce,p,xe,Ue,W)||!1)?(we||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,Ue,W),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,Ue,W)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||F===t.memoizedProps&&xe===t.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&xe===t.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ue),_.props=p,_.state=Ue,_.context=W,p=ce):(typeof _.componentDidUpdate!="function"||F===t.memoizedProps&&xe===t.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&xe===t.memoizedState||(o.flags|=1024),p=!1)}return ed(t,o,d,p,S,C)}function ed(t,o,d,p,C,S){Lh(t,o);var _=(o.flags&128)!==0;if(!p&&!_)return C&&z0(o,d,!1),js(t,o,S);p=o.stateNode,iy.current=o;var F=_&&typeof d.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,t!==null&&_?(o.child=Co(o,t.child,null,S),o.child=Co(o,null,F,S)):cr(t,o,F,S),o.memoizedState=p.state,C&&z0(o,d,!0),o.child}function jh(t){var o=t.stateNode;o.pendingContext?V0(t,o.pendingContext,o.pendingContext!==o.context):o.context&&V0(t,o.context,!1),Bu(t,o.containerInfo)}function Fh(t,o,d,p,C){return vo(),Ru(C),o.flags|=256,cr(t,o,d,p),o.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vh(t,o,d){var p=o.pendingProps,C=rn.current,S=!1,_=(o.flags&128)!==0,F;if((F=_)||(F=t!==null&&t.memoizedState===null?!1:(C&2)!==0),F?(S=!0,o.flags&=-129):(t===null||t.memoizedState!==null)&&(C|=1),Ht(rn,C&1),t===null)return ku(o),t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((o.mode&1)===0?o.lanes=1:t.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=p.children,t=p.fallback,S?(p=o.mode,S=o.child,_={mode:"hidden",children:_},(p&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=_):S=uc(_,p,0,null),t=Zi(t,p,d,null),S.return=o,t.return=o,S.sibling=t,o.child=S,o.child.memoizedState=nd(d),o.memoizedState=td,t):rd(o,_));if(C=t.memoizedState,C!==null&&(F=C.dehydrated,F!==null))return oy(t,o,_,p,F,C,d);if(S){S=p.fallback,_=o.mode,C=t.child,F=C.sibling;var W={mode:"hidden",children:p.children};return(_&1)===0&&o.child!==C?(p=o.child,p.childLanes=0,p.pendingProps=W,o.deletions=null):(p=yi(C,W),p.subtreeFlags=C.subtreeFlags&14680064),F!==null?S=yi(F,S):(S=Zi(S,_,d,null),S.flags|=2),S.return=o,p.return=o,p.sibling=S,o.child=p,p=S,S=o.child,_=t.child.memoizedState,_=_===null?nd(d):{baseLanes:_.baseLanes|d,cachePool:null,transitions:_.transitions},S.memoizedState=_,S.childLanes=t.childLanes&~d,o.memoizedState=td,p}return S=t.child,t=S.sibling,p=yi(S,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=d),p.return=o,p.sibling=null,t!==null&&(d=o.deletions,d===null?(o.deletions=[t],o.flags|=16):d.push(t)),o.child=p,o.memoizedState=null,p}function rd(t,o){return o=uc({mode:"visible",children:o},t.mode,0,null),o.return=t,t.child=o}function $l(t,o,d,p){return p!==null&&Ru(p),Co(o,t.child,null,d),t=rd(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function oy(t,o,d,p,C,S,_){if(d)return o.flags&256?(o.flags&=-257,p=$u(Error(a(422))),$l(t,o,_,p)):o.memoizedState!==null?(o.child=t.child,o.flags|=128,null):(S=p.fallback,C=o.mode,p=uc({mode:"visible",children:p.children},C,0,null),S=Zi(S,C,_,null),S.flags|=2,p.return=o,S.return=o,p.sibling=S,o.child=p,(o.mode&1)!==0&&Co(o,t.child,null,_),o.child.memoizedState=nd(_),o.memoizedState=td,S);if((o.mode&1)===0)return $l(t,o,_,null);if(C.data==="$!"){if(p=C.nextSibling&&C.nextSibling.dataset,p)var F=p.dgst;return p=F,S=Error(a(419)),p=$u(S,p,void 0),$l(t,o,_,p)}if(F=(_&t.childLanes)!==0,wr||F){if(p=Ln,p!==null){switch(_&-_){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(p.suspendedLanes|_))!==0?0:C,C!==0&&C!==S.retryLane&&(S.retryLane=C,Ls(t,C),cs(p,t,C,-1))}return wd(),p=$u(Error(a(421))),$l(t,o,_,p)}return C.data==="$?"?(o.flags|=128,o.child=t.child,o=wy.bind(null,t),C._reactRetry=o,null):(t=S.treeContext,Mr=ai(C.nextSibling),Dr=o,Qt=!0,is=null,t!==null&&(Hr[Wr++]=Ms,Hr[Wr++]=Ps,Hr[Wr++]=Vi,Ms=t.id,Ps=t.overflow,Vi=o),o=rd(o,p.children),o.flags|=4096,o)}function Uh(t,o,d){t.lanes|=o;var p=t.alternate;p!==null&&(p.lanes|=o),Mu(t.return,o,d)}function sd(t,o,d,p,C){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:C}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=d,S.tailMode=C)}function zh(t,o,d){var p=o.pendingProps,C=p.revealOrder,S=p.tail;if(cr(t,o,p.children,d),p=rn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uh(t,d,o);else if(t.tag===19)Uh(t,d,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}p&=1}if(Ht(rn,p),(o.mode&1)===0)o.memoizedState=null;else switch(C){case"forwards":for(d=o.child,C=null;d!==null;)t=d.alternate,t!==null&&Wl(t)===null&&(C=d),d=d.sibling;d=C,d===null?(C=o.child,o.child=null):(C=d.sibling,d.sibling=null),sd(o,!1,C,d,S);break;case"backwards":for(d=null,C=o.child,o.child=null;C!==null;){if(t=C.alternate,t!==null&&Wl(t)===null){o.child=C;break}t=C.sibling,C.sibling=d,d=C,C=t}sd(o,!0,d,null,S);break;case"together":sd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ql(t,o){(o.mode&1)===0&&t!==null&&(t.alternate=null,o.alternate=null,o.flags|=2)}function js(t,o,d){if(t!==null&&(o.dependencies=t.dependencies),Gi|=o.lanes,(d&o.childLanes)===0)return null;if(t!==null&&o.child!==t.child)throw Error(a(153));if(o.child!==null){for(t=o.child,d=yi(t,t.pendingProps),o.child=d,d.return=o;t.sibling!==null;)t=t.sibling,d=d.sibling=yi(t,t.pendingProps),d.return=o;d.sibling=null}return o.child}function ay(t,o,d){switch(o.tag){case 3:jh(o),vo();break;case 5:nh(o);break;case 1:yr(o.type)&&Ml(o);break;case 4:Bu(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,C=o.memoizedProps.value;Ht(Vl,p._currentValue),p._currentValue=C;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ht(rn,rn.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?Vh(t,o,d):(Ht(rn,rn.current&1),t=js(t,o,d),t!==null?t.sibling:null);Ht(rn,rn.current&1);break;case 19:if(p=(d&o.childLanes)!==0,(t.flags&128)!==0){if(p)return zh(t,o,d);o.flags|=128}if(C=o.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ht(rn,rn.current),p)break;return null;case 22:case 23:return o.lanes=0,Ph(t,o,d)}return js(t,o,d)}var Hh,id,Wh,Gh;Hh=function(t,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},id=function(){},Wh=function(t,o,d,p){var C=t.memoizedProps;if(C!==p){t=o.stateNode,Hi(ys.current);var S=null;switch(d){case"input":C=mr(t,C),p=mr(t,p),S=[];break;case"select":C=pe({},C,{value:void 0}),p=pe({},p,{value:void 0}),S=[];break;case"textarea":C=an(t,C),p=an(t,p),S=[];break;default:typeof C.onClick!="function"&&typeof p.onClick=="function"&&(t.onclick=_l)}vt(d,p);var _;d=null;for(ce in C)if(!p.hasOwnProperty(ce)&&C.hasOwnProperty(ce)&&C[ce]!=null)if(ce==="style"){var F=C[ce];for(_ in F)F.hasOwnProperty(_)&&(d||(d={}),d[_]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(m.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in p){var W=p[ce];if(F=C?.[ce],p.hasOwnProperty(ce)&&W!==F&&(W!=null||F!=null))if(ce==="style")if(F){for(_ in F)!F.hasOwnProperty(_)||W&&W.hasOwnProperty(_)||(d||(d={}),d[_]="");for(_ in W)W.hasOwnProperty(_)&&F[_]!==W[_]&&(d||(d={}),d[_]=W[_])}else d||(S||(S=[]),S.push(ce,d)),d=W;else ce==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,F=F?F.__html:void 0,W!=null&&F!==W&&(S=S||[]).push(ce,W)):ce==="children"?typeof W!="string"&&typeof W!="number"||(S=S||[]).push(ce,""+W):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(m.hasOwnProperty(ce)?(W!=null&&ce==="onScroll"&&Yt("scroll",t),S||F===W||(S=[])):(S=S||[]).push(ce,W))}d&&(S=S||[]).push("style",d);var ce=S;(o.updateQueue=ce)&&(o.flags|=4)}},Gh=function(t,o,d,p){d!==p&&(o.flags|=4)};function _a(t,o){if(!Qt)switch(t.tailMode){case"hidden":o=t.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?t.tail=null:d.sibling=null;break;case"collapsed":d=t.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:p.sibling=null}}function nr(t){var o=t.alternate!==null&&t.alternate.child===t.child,d=0,p=0;if(o)for(var C=t.child;C!==null;)d|=C.lanes|C.childLanes,p|=C.subtreeFlags&14680064,p|=C.flags&14680064,C.return=t,C=C.sibling;else for(C=t.child;C!==null;)d|=C.lanes|C.childLanes,p|=C.subtreeFlags,p|=C.flags,C.return=t,C=C.sibling;return t.subtreeFlags|=p,t.childLanes=d,o}function ly(t,o,d){var p=o.pendingProps;switch(Tu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(o),null;case 1:return yr(o.type)&&Dl(),nr(o),null;case 3:return p=o.stateNode,Ao(),Kt(xr),Kt(er),Vu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(t===null||t.child===null)&&(jl(o)?o.flags|=4:t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,is!==null&&(pd(is),is=null))),id(t,o),nr(o),null;case 5:ju(o);var C=Hi(Na.current);if(d=o.type,t!==null&&o.stateNode!=null)Wh(t,o,d,p,C),t.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(a(166));return nr(o),null}if(t=Hi(ys.current),jl(o)){p=o.stateNode,d=o.type;var S=o.memoizedProps;switch(p[xs]=o,p[Ca]=S,t=(o.mode&1)!==0,d){case"dialog":Yt("cancel",p),Yt("close",p);break;case"iframe":case"object":case"embed":Yt("load",p);break;case"video":case"audio":for(C=0;C<ya.length;C++)Yt(ya[C],p);break;case"source":Yt("error",p);break;case"img":case"image":case"link":Yt("error",p),Yt("load",p);break;case"details":Yt("toggle",p);break;case"input":ir(p,S),Yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},Yt("invalid",p);break;case"textarea":jr(p,S),Yt("invalid",p)}vt(d,S),C=null;for(var _ in S)if(S.hasOwnProperty(_)){var F=S[_];_==="children"?typeof F=="string"?p.textContent!==F&&(S.suppressHydrationWarning!==!0&&Rl(p.textContent,F,t),C=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(S.suppressHydrationWarning!==!0&&Rl(p.textContent,F,t),C=["children",""+F]):m.hasOwnProperty(_)&&F!=null&&_==="onScroll"&&Yt("scroll",p)}switch(d){case"input":Dt(p),St(p,S,!0);break;case"textarea":Dt(p),Gs(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=_l)}p=C,o.updateQueue=p,p!==null&&(o.flags|=4)}else{_=C.nodeType===9?C:C.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bn(d)),t==="http://www.w3.org/1999/xhtml"?d==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof p.is=="string"?t=_.createElement(d,{is:p.is}):(t=_.createElement(d),d==="select"&&(_=t,p.multiple?_.multiple=!0:p.size&&(_.size=p.size))):t=_.createElementNS(t,d),t[xs]=o,t[Ca]=p,Hh(t,o,!1,!1),o.stateNode=t;e:{switch(_=Mt(d,p),d){case"dialog":Yt("cancel",t),Yt("close",t),C=p;break;case"iframe":case"object":case"embed":Yt("load",t),C=p;break;case"video":case"audio":for(C=0;C<ya.length;C++)Yt(ya[C],t);C=p;break;case"source":Yt("error",t),C=p;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),C=p;break;case"details":Yt("toggle",t),C=p;break;case"input":ir(t,p),C=mr(t,p),Yt("invalid",t);break;case"option":C=p;break;case"select":t._wrapperState={wasMultiple:!!p.multiple},C=pe({},p,{value:void 0}),Yt("invalid",t);break;case"textarea":jr(t,p),C=an(t,p),Yt("invalid",t);break;default:C=p}vt(d,C),F=C;for(S in F)if(F.hasOwnProperty(S)){var W=F[S];S==="style"?_e(t,W):S==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&ln(t,W)):S==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&or(t,W):typeof W=="number"&&or(t,""+W):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(m.hasOwnProperty(S)?W!=null&&S==="onScroll"&&Yt("scroll",t):W!=null&&Y(t,S,W,_))}switch(d){case"input":Dt(t),St(t,p,!1);break;case"textarea":Dt(t),Gs(t);break;case"option":p.value!=null&&t.setAttribute("value",""+Oe(p.value));break;case"select":t.multiple=!!p.multiple,S=p.value,S!=null?Le(t,!!p.multiple,S,!1):p.defaultValue!=null&&Le(t,!!p.multiple,p.defaultValue,!0);break;default:typeof C.onClick=="function"&&(t.onclick=_l)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return nr(o),null;case 6:if(t&&o.stateNode!=null)Gh(t,o,t.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(a(166));if(d=Hi(Na.current),Hi(ys.current),jl(o)){if(p=o.stateNode,d=o.memoizedProps,p[xs]=o,(S=p.nodeValue!==d)&&(t=Dr,t!==null))switch(t.tag){case 3:Rl(p.nodeValue,d,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rl(p.nodeValue,d,(t.mode&1)!==0)}S&&(o.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[xs]=o,o.stateNode=p}return nr(o),null;case 13:if(Kt(rn),p=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Mr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)K0(),vo(),o.flags|=98560,S=!1;else if(S=jl(o),p!==null&&p.dehydrated!==null){if(t===null){if(!S)throw Error(a(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(a(317));S[xs]=o}else vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nr(o),S=!1}else is!==null&&(pd(is),is=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(p=p!==null,p!==(t!==null&&t.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(t===null||(rn.current&1)!==0?kn===0&&(kn=3):wd())),o.updateQueue!==null&&(o.flags|=4),nr(o),null);case 4:return Ao(),id(t,o),t===null&&wa(o.stateNode.containerInfo),nr(o),null;case 10:return Du(o.type._context),nr(o),null;case 17:return yr(o.type)&&Dl(),nr(o),null;case 19:if(Kt(rn),S=o.memoizedState,S===null)return nr(o),null;if(p=(o.flags&128)!==0,_=S.rendering,_===null)if(p)_a(S,!1);else{if(kn!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(_=Wl(t),_!==null){for(o.flags|=128,_a(S,!1),p=_.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=d,d=o.child;d!==null;)S=d,t=p,S.flags&=14680066,_=S.alternate,_===null?(S.childLanes=0,S.lanes=t,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=_.childLanes,S.lanes=_.lanes,S.child=_.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=_.memoizedProps,S.memoizedState=_.memoizedState,S.updateQueue=_.updateQueue,S.type=_.type,t=_.dependencies,S.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),d=d.sibling;return Ht(rn,rn.current&1|2),o.child}t=t.sibling}S.tail!==null&&It()>Io&&(o.flags|=128,p=!0,_a(S,!1),o.lanes=4194304)}else{if(!p)if(t=Wl(_),t!==null){if(o.flags|=128,p=!0,d=t.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),_a(S,!0),S.tail===null&&S.tailMode==="hidden"&&!_.alternate&&!Qt)return nr(o),null}else 2*It()-S.renderingStartTime>Io&&d!==1073741824&&(o.flags|=128,p=!0,_a(S,!1),o.lanes=4194304);S.isBackwards?(_.sibling=o.child,o.child=_):(d=S.last,d!==null?d.sibling=_:o.child=_,S.last=_)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=It(),o.sibling=null,d=rn.current,Ht(rn,p?d&1|2:d&1),o):(nr(o),null);case 22:case 23:return yd(),p=o.memoizedState!==null,t!==null&&t.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Pr&1073741824)!==0&&(nr(o),o.subtreeFlags&6&&(o.flags|=8192)):nr(o),null;case 24:return null;case 25:return null}throw Error(a(156,o.tag))}function cy(t,o){switch(Tu(o),o.tag){case 1:return yr(o.type)&&Dl(),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Ao(),Kt(xr),Kt(er),Vu(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 5:return ju(o),null;case 13:if(Kt(rn),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(a(340));vo()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return Kt(rn),null;case 4:return Ao(),null;case 10:return Du(o.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var Jl=!1,rr=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function No(t,o){var d=t.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){dn(t,o,p)}else d.current=null}function od(t,o,d){try{d()}catch(p){dn(t,o,p)}}var Xh=!1;function dy(t,o){if(yu=gs,t=dt(),it(t)){if("selectionStart"in t)var d={start:t.selectionStart,end:t.selectionEnd};else e:{d=(d=t.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var C=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var _=0,F=-1,W=-1,ce=0,we=0,Se=t,xe=null;t:for(;;){for(var Be;Se!==d||C!==0&&Se.nodeType!==3||(F=_+C),Se!==S||p!==0&&Se.nodeType!==3||(W=_+p),Se.nodeType===3&&(_+=Se.nodeValue.length),(Be=Se.firstChild)!==null;)xe=Se,Se=Be;for(;;){if(Se===t)break t;if(xe===d&&++ce===C&&(F=_),xe===S&&++we===p&&(W=_),(Be=Se.nextSibling)!==null)break;Se=xe,xe=Se.parentNode}Se=Be}d=F===-1||W===-1?null:{start:F,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(wu={focusedElem:t,selectionRange:d},gs=!1,Fe=o;Fe!==null;)if(o=Fe,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,Fe=t;else for(;Fe!==null;){o=Fe;try{var Ue=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var We=Ue.memoizedProps,xn=Ue.memoizedState,se=o.stateNode,q=se.getSnapshotBeforeUpdate(o.elementType===o.type?We:os(o.type,We),xn);se.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var oe=o.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ke){dn(o,o.return,ke)}if(t=o.sibling,t!==null){t.return=o.return,Fe=t;break}Fe=o.return}return Ue=Xh,Xh=!1,Ue}function Oa(t,o,d){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var C=p=p.next;do{if((C.tag&t)===t){var S=C.destroy;C.destroy=void 0,S!==void 0&&od(o,d,S)}C=C.next}while(C!==p)}}function ec(t,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&t)===t){var p=d.create;d.destroy=p()}d=d.next}while(d!==o)}}function ad(t){var o=t.ref;if(o!==null){var d=t.stateNode;switch(t.tag){case 5:t=d;break;default:t=d}typeof o=="function"?o(t):o.current=t}}function Yh(t){var o=t.alternate;o!==null&&(t.alternate=null,Yh(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&(delete o[xs],delete o[Ca],delete o[bu],delete o[Y2],delete o[K2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kh(t){return t.tag===5||t.tag===3||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,o,d){var p=t.tag;if(p===5||p===6)t=t.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(t,o):d.insertBefore(t,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(t,d)):(o=d,o.appendChild(t)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=_l));else if(p!==4&&(t=t.child,t!==null))for(ld(t,o,d),t=t.sibling;t!==null;)ld(t,o,d),t=t.sibling}function cd(t,o,d){var p=t.tag;if(p===5||p===6)t=t.stateNode,o?d.insertBefore(t,o):d.appendChild(t);else if(p!==4&&(t=t.child,t!==null))for(cd(t,o,d),t=t.sibling;t!==null;)cd(t,o,d),t=t.sibling}var Gn=null,as=!1;function hi(t,o,d){for(d=d.child;d!==null;)qh(t,o,d),d=d.sibling}function qh(t,o,d){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(wt,d)}catch{}switch(d.tag){case 5:rr||No(d,o);case 6:var p=Gn,C=as;Gn=null,hi(t,o,d),Gn=p,as=C,Gn!==null&&(as?(t=Gn,d=d.stateNode,t.nodeType===8?t.parentNode.removeChild(d):t.removeChild(d)):Gn.removeChild(d.stateNode));break;case 18:Gn!==null&&(as?(t=Gn,d=d.stateNode,t.nodeType===8?Eu(t.parentNode,d):t.nodeType===1&&Eu(t,d),ns(t)):Eu(Gn,d.stateNode));break;case 4:p=Gn,C=as,Gn=d.stateNode.containerInfo,as=!0,hi(t,o,d),Gn=p,as=C;break;case 0:case 11:case 14:case 15:if(!rr&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){C=p=p.next;do{var S=C,_=S.destroy;S=S.tag,_!==void 0&&((S&2)!==0||(S&4)!==0)&&od(d,o,_),C=C.next}while(C!==p)}hi(t,o,d);break;case 1:if(!rr&&(No(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(F){dn(d,o,F)}hi(t,o,d);break;case 21:hi(t,o,d);break;case 22:d.mode&1?(rr=(p=rr)||d.memoizedState!==null,hi(t,o,d),rr=p):hi(t,o,d);break;default:hi(t,o,d)}}function $h(t){var o=t.updateQueue;if(o!==null){t.updateQueue=null;var d=t.stateNode;d===null&&(d=t.stateNode=new uy),o.forEach(function(p){var C=vy.bind(null,t,p);d.has(p)||(d.add(p),p.then(C,C))})}}function ls(t,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var C=d[p];try{var S=t,_=o,F=_;e:for(;F!==null;){switch(F.tag){case 5:Gn=F.stateNode,as=!1;break e;case 3:Gn=F.stateNode.containerInfo,as=!0;break e;case 4:Gn=F.stateNode.containerInfo,as=!0;break e}F=F.return}if(Gn===null)throw Error(a(160));qh(S,_,C),Gn=null,as=!1;var W=C.alternate;W!==null&&(W.return=null),C.return=null}catch(ce){dn(C,o,ce)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qh(o,t),o=o.sibling}function Qh(t,o){var d=t.alternate,p=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ls(o,t),vs(t),p&4){try{Oa(3,t,t.return),ec(3,t)}catch(We){dn(t,t.return,We)}try{Oa(5,t,t.return)}catch(We){dn(t,t.return,We)}}break;case 1:ls(o,t),vs(t),p&512&&d!==null&&No(d,d.return);break;case 5:if(ls(o,t),vs(t),p&512&&d!==null&&No(d,d.return),t.flags&32){var C=t.stateNode;try{or(C,"")}catch(We){dn(t,t.return,We)}}if(p&4&&(C=t.stateNode,C!=null)){var S=t.memoizedProps,_=d!==null?d.memoizedProps:S,F=t.type,W=t.updateQueue;if(t.updateQueue=null,W!==null)try{F==="input"&&S.type==="radio"&&S.name!=null&&es(C,S),Mt(F,_);var ce=Mt(F,S);for(_=0;_<W.length;_+=2){var we=W[_],Se=W[_+1];we==="style"?_e(C,Se):we==="dangerouslySetInnerHTML"?ln(C,Se):we==="children"?or(C,Se):Y(C,we,Se,ce)}switch(F){case"input":Bt(C,S);break;case"textarea":gr(C,S);break;case"select":var xe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!S.multiple;var Be=S.value;Be!=null?Le(C,!!S.multiple,Be,!1):xe!==!!S.multiple&&(S.defaultValue!=null?Le(C,!!S.multiple,S.defaultValue,!0):Le(C,!!S.multiple,S.multiple?[]:"",!1))}C[Ca]=S}catch(We){dn(t,t.return,We)}}break;case 6:if(ls(o,t),vs(t),p&4){if(t.stateNode===null)throw Error(a(162));C=t.stateNode,S=t.memoizedProps;try{C.nodeValue=S}catch(We){dn(t,t.return,We)}}break;case 3:if(ls(o,t),vs(t),p&4&&d!==null&&d.memoizedState.isDehydrated)try{ns(o.containerInfo)}catch(We){dn(t,t.return,We)}break;case 4:ls(o,t),vs(t);break;case 13:ls(o,t),vs(t),C=t.child,C.flags&8192&&(S=C.memoizedState!==null,C.stateNode.isHidden=S,!S||C.alternate!==null&&C.alternate.memoizedState!==null||(fd=It())),p&4&&$h(t);break;case 22:if(we=d!==null&&d.memoizedState!==null,t.mode&1?(rr=(ce=rr)||we,ls(o,t),rr=ce):ls(o,t),vs(t),p&8192){if(ce=t.memoizedState!==null,(t.stateNode.isHidden=ce)&&!we&&(t.mode&1)!==0)for(Fe=t,we=t.child;we!==null;){for(Se=Fe=we;Fe!==null;){switch(xe=Fe,Be=xe.child,xe.tag){case 0:case 11:case 14:case 15:Oa(4,xe,xe.return);break;case 1:No(xe,xe.return);var Ue=xe.stateNode;if(typeof Ue.componentWillUnmount=="function"){p=xe,d=xe.return;try{o=p,Ue.props=o.memoizedProps,Ue.state=o.memoizedState,Ue.componentWillUnmount()}catch(We){dn(p,d,We)}}break;case 5:No(xe,xe.return);break;case 22:if(xe.memoizedState!==null){t1(Se);continue}}Be!==null?(Be.return=xe,Fe=Be):t1(Se)}we=we.sibling}e:for(we=null,Se=t;;){if(Se.tag===5){if(we===null){we=Se;try{C=Se.stateNode,ce?(S=C.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(F=Se.stateNode,W=Se.memoizedProps.style,_=W!=null&&W.hasOwnProperty("display")?W.display:null,F.style.display=Wt("display",_))}catch(We){dn(t,t.return,We)}}}else if(Se.tag===6){if(we===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch(We){dn(t,t.return,We)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===t)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===t)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===t)break e;we===Se&&(we=null),Se=Se.return}we===Se&&(we=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:ls(o,t),vs(t),p&4&&$h(t);break;case 21:break;default:ls(o,t),vs(t)}}function vs(t){var o=t.flags;if(o&2){try{e:{for(var d=t.return;d!==null;){if(Kh(d)){var p=d;break e}d=d.return}throw Error(a(160))}switch(p.tag){case 5:var C=p.stateNode;p.flags&32&&(or(C,""),p.flags&=-33);var S=Zh(t);cd(t,S,C);break;case 3:case 4:var _=p.stateNode.containerInfo,F=Zh(t);ld(t,F,_);break;default:throw Error(a(161))}}catch(W){dn(t,t.return,W)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function fy(t,o,d){Fe=t,Jh(t)}function Jh(t,o,d){for(var p=(t.mode&1)!==0;Fe!==null;){var C=Fe,S=C.child;if(C.tag===22&&p){var _=C.memoizedState!==null||Jl;if(!_){var F=C.alternate,W=F!==null&&F.memoizedState!==null||rr;F=Jl;var ce=rr;if(Jl=_,(rr=W)&&!ce)for(Fe=C;Fe!==null;)_=Fe,W=_.child,_.tag===22&&_.memoizedState!==null?n1(C):W!==null?(W.return=_,Fe=W):n1(C);for(;S!==null;)Fe=S,Jh(S),S=S.sibling;Fe=C,Jl=F,rr=ce}e1(t)}else(C.subtreeFlags&8772)!==0&&S!==null?(S.return=C,Fe=S):e1(t)}}function e1(t){for(;Fe!==null;){var o=Fe;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:rr||ec(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!rr)if(d===null)p.componentDidMount();else{var C=o.elementType===o.type?d.memoizedProps:os(o.type,d.memoizedProps);p.componentDidUpdate(C,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&th(o,S,p);break;case 3:var _=o.updateQueue;if(_!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}th(o,_,d)}break;case 5:var F=o.stateNode;if(d===null&&o.flags&4){d=F;var W=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ce=o.alternate;if(ce!==null){var we=ce.memoizedState;if(we!==null){var Se=we.dehydrated;Se!==null&&ns(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}rr||o.flags&512&&ad(o)}catch(xe){dn(o,o.return,xe)}}if(o===t){Fe=null;break}if(d=o.sibling,d!==null){d.return=o.return,Fe=d;break}Fe=o.return}}function t1(t){for(;Fe!==null;){var o=Fe;if(o===t){Fe=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Fe=d;break}Fe=o.return}}function n1(t){for(;Fe!==null;){var o=Fe;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{ec(4,o)}catch(W){dn(o,d,W)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var C=o.return;try{p.componentDidMount()}catch(W){dn(o,C,W)}}var S=o.return;try{ad(o)}catch(W){dn(o,S,W)}break;case 5:var _=o.return;try{ad(o)}catch(W){dn(o,_,W)}}}catch(W){dn(o,o.return,W)}if(o===t){Fe=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Fe=F;break}Fe=o.return}}var hy=Math.ceil,tc=ie.ReactCurrentDispatcher,ud=ie.ReactCurrentOwner,Yr=ie.ReactCurrentBatchConfig,At=0,Ln=null,vn=null,Xn=0,Pr=0,To=li(0),kn=0,Da=null,Gi=0,nc=0,dd=0,Ma=null,vr=null,fd=0,Io=1/0,Fs=null,rc=!1,hd=null,mi=null,sc=!1,gi=null,ic=0,Pa=0,md=null,oc=-1,ac=0;function ur(){return(At&6)!==0?It():oc!==-1?oc:oc=It()}function pi(t){return(t.mode&1)===0?1:(At&2)!==0&&Xn!==0?Xn&-Xn:q2.transition!==null?(ac===0&&(ac=An()),ac):(t=ct,t!==0||(t=window.event,t=t===void 0?16:la(t.type)),t)}function cs(t,o,d,p){if(50<Pa)throw Pa=0,md=null,Error(a(185));P(t,d,p),((At&2)===0||t!==Ln)&&(t===Ln&&((At&2)===0&&(nc|=d),kn===4&&xi(t,Xn)),Cr(t,p),d===1&&At===0&&(o.mode&1)===0&&(Io=It()+500,Pl&&ui()))}function Cr(t,o){var d=t.callbackNode;$s(t,o);var p=kr(t,t===Ln?Xn:0);if(p===0)d!==null&&Dn(d),t.callbackNode=null,t.callbackPriority=0;else if(o=p&-p,t.callbackPriority!==o){if(d!=null&&Dn(d),o===1)t.tag===0?Z2(s1.bind(null,t)):H0(s1.bind(null,t)),G2(function(){(At&6)===0&&ui()}),d=null;else{switch(pl(p)){case 1:d=he;break;case 4:d=ml;break;case 16:d=jt;break;case 536870912:d=gl;break;default:d=jt}d=f1(d,r1.bind(null,t))}t.callbackPriority=o,t.callbackNode=d}}function r1(t,o){if(oc=-1,ac=0,(At&6)!==0)throw Error(a(327));var d=t.callbackNode;if(ko()&&t.callbackNode!==d)return null;var p=kr(t,t===Ln?Xn:0);if(p===0)return null;if((p&30)!==0||(p&t.expiredLanes)!==0||o)o=lc(t,p);else{o=p;var C=At;At|=2;var S=o1();(Ln!==t||Xn!==o)&&(Fs=null,Io=It()+500,Yi(t,o));do try{py();break}catch(F){i1(t,F)}while(!0);Ou(),tc.current=S,At=C,vn!==null?o=0:(Ln=null,Xn=0,o=kn)}if(o!==0){if(o===2&&(C=kt(t),C!==0&&(p=C,o=gd(t,C))),o===1)throw d=Da,Yi(t,0),xi(t,p),Cr(t,It()),d;if(o===6)xi(t,p);else{if(C=t.current.alternate,(p&30)===0&&!my(C)&&(o=lc(t,p),o===2&&(S=kt(t),S!==0&&(p=S,o=gd(t,S))),o===1))throw d=Da,Yi(t,0),xi(t,p),Cr(t,It()),d;switch(t.finishedWork=C,t.finishedLanes=p,o){case 0:case 1:throw Error(a(345));case 2:Ki(t,vr,Fs);break;case 3:if(xi(t,p),(p&130023424)===p&&(o=fd+500-It(),10<o)){if(kr(t,0)!==0)break;if(C=t.suspendedLanes,(C&p)!==p){ur(),t.pingedLanes|=t.suspendedLanes&C;break}t.timeoutHandle=Cu(Ki.bind(null,t,vr,Fs),o);break}Ki(t,vr,Fs);break;case 4:if(xi(t,p),(p&4194240)===p)break;for(o=t.eventTimes,C=-1;0<p;){var _=31-lr(p);S=1<<_,_=o[_],_>C&&(C=_),p&=~S}if(p=C,p=It()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*hy(p/1960))-p,10<p){t.timeoutHandle=Cu(Ki.bind(null,t,vr,Fs),p);break}Ki(t,vr,Fs);break;case 5:Ki(t,vr,Fs);break;default:throw Error(a(329))}}}return Cr(t,It()),t.callbackNode===d?r1.bind(null,t):null}function gd(t,o){var d=Ma;return t.current.memoizedState.isDehydrated&&(Yi(t,o).flags|=256),t=lc(t,o),t!==2&&(o=vr,vr=d,o!==null&&pd(o)),t}function pd(t){vr===null?vr=t:vr.push.apply(vr,t)}function my(t){for(var o=t;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var C=d[p],S=C.getSnapshot;C=C.value;try{if(!Q(S(),C))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xi(t,o){for(o&=~dd,o&=~nc,t.suspendedLanes|=o,t.pingedLanes&=~o,t=t.expirationTimes;0<o;){var d=31-lr(o),p=1<<d;t[d]=-1,o&=~p}}function s1(t){if((At&6)!==0)throw Error(a(327));ko();var o=kr(t,0);if((o&1)===0)return Cr(t,It()),null;var d=lc(t,o);if(t.tag!==0&&d===2){var p=kt(t);p!==0&&(o=p,d=gd(t,p))}if(d===1)throw d=Da,Yi(t,0),xi(t,o),Cr(t,It()),d;if(d===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=o,Ki(t,vr,Fs),Cr(t,It()),null}function xd(t,o){var d=At;At|=1;try{return t(o)}finally{At=d,At===0&&(Io=It()+500,Pl&&ui())}}function Xi(t){gi!==null&&gi.tag===0&&(At&6)===0&&ko();var o=At;At|=1;var d=Yr.transition,p=ct;try{if(Yr.transition=null,ct=1,t)return t()}finally{ct=p,Yr.transition=d,At=o,(At&6)===0&&ui()}}function yd(){Pr=To.current,Kt(To)}function Yi(t,o){t.finishedWork=null,t.finishedLanes=0;var d=t.timeoutHandle;if(d!==-1&&(t.timeoutHandle=-1,W2(d)),vn!==null)for(d=vn.return;d!==null;){var p=d;switch(Tu(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Dl();break;case 3:Ao(),Kt(xr),Kt(er),Vu();break;case 5:ju(p);break;case 4:Ao();break;case 13:Kt(rn);break;case 19:Kt(rn);break;case 10:Du(p.type._context);break;case 22:case 23:yd()}d=d.return}if(Ln=t,vn=t=yi(t.current,null),Xn=Pr=o,kn=0,Da=null,dd=nc=Gi=0,vr=Ma=null,zi!==null){for(o=0;o<zi.length;o++)if(d=zi[o],p=d.interleaved,p!==null){d.interleaved=null;var C=p.next,S=d.pending;if(S!==null){var _=S.next;S.next=C,p.next=_}d.pending=p}zi=null}return t}function i1(t,o){do{var d=vn;try{if(Ou(),Gl.current=Zl,Xl){for(var p=sn.memoizedState;p!==null;){var C=p.queue;C!==null&&(C.pending=null),p=p.next}Xl=!1}if(Wi=0,Pn=In=sn=null,Ta=!1,Ia=0,ud.current=null,d===null||d.return===null){kn=1,Da=o,vn=null;break}e:{var S=t,_=d.return,F=d,W=o;if(o=Xn,F.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ce=W,we=F,Se=we.tag;if((we.mode&1)===0&&(Se===0||Se===11||Se===15)){var xe=we.alternate;xe?(we.updateQueue=xe.updateQueue,we.memoizedState=xe.memoizedState,we.lanes=xe.lanes):(we.updateQueue=null,we.memoizedState=null)}var Be=Rh(_);if(Be!==null){Be.flags&=-257,_h(Be,_,F,S,o),Be.mode&1&&kh(S,ce,o),o=Be,W=ce;var Ue=o.updateQueue;if(Ue===null){var We=new Set;We.add(W),o.updateQueue=We}else Ue.add(W);break e}else{if((o&1)===0){kh(S,ce,o),wd();break e}W=Error(a(426))}}else if(Qt&&F.mode&1){var xn=Rh(_);if(xn!==null){(xn.flags&65536)===0&&(xn.flags|=256),_h(xn,_,F,S,o),Ru(So(W,F));break e}}S=W=So(W,F),kn!==4&&(kn=2),Ma===null?Ma=[S]:Ma.push(S),S=_;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var se=Th(S,W,o);eh(S,se);break e;case 1:F=W;var q=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(mi===null||!mi.has(oe)))){S.flags|=65536,o&=-o,S.lanes|=o;var ke=Ih(S,F,o);eh(S,ke);break e}}S=S.return}while(S!==null)}l1(d)}catch(Ge){o=Ge,vn===d&&d!==null&&(vn=d=d.return);continue}break}while(!0)}function o1(){var t=tc.current;return tc.current=Zl,t===null?Zl:t}function wd(){(kn===0||kn===3||kn===2)&&(kn=4),Ln===null||(Gi&268435455)===0&&(nc&268435455)===0||xi(Ln,Xn)}function lc(t,o){var d=At;At|=2;var p=o1();(Ln!==t||Xn!==o)&&(Fs=null,Yi(t,o));do try{gy();break}catch(C){i1(t,C)}while(!0);if(Ou(),At=d,tc.current=p,vn!==null)throw Error(a(261));return Ln=null,Xn=0,kn}function gy(){for(;vn!==null;)a1(vn)}function py(){for(;vn!==null&&!Vt();)a1(vn)}function a1(t){var o=d1(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,o===null?l1(t):vn=o,ud.current=null}function l1(t){var o=t;do{var d=o.alternate;if(t=o.return,(o.flags&32768)===0){if(d=ly(d,o,Pr),d!==null){vn=d;return}}else{if(d=cy(d,o),d!==null){d.flags&=32767,vn=d;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kn=6,vn=null;return}}if(o=o.sibling,o!==null){vn=o;return}vn=o=t}while(o!==null);kn===0&&(kn=5)}function Ki(t,o,d){var p=ct,C=Yr.transition;try{Yr.transition=null,ct=1,xy(t,o,d,p)}finally{Yr.transition=C,ct=p}return null}function xy(t,o,d,p){do ko();while(gi!==null);if((At&6)!==0)throw Error(a(327));d=t.finishedWork;var C=t.finishedLanes;if(d===null)return null;if(t.finishedWork=null,t.finishedLanes=0,d===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var S=d.lanes|d.childLanes;if(Xe(t,S),t===Ln&&(vn=Ln=null,Xn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||sc||(sc=!0,f1(jt,function(){return ko(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Yr.transition,Yr.transition=null;var _=ct;ct=1;var F=At;At|=4,ud.current=null,dy(t,d),Qh(d,t),Jn(wu),gs=!!yu,wu=yu=null,t.current=d,fy(d),hl(),At=F,ct=_,Yr.transition=S}else t.current=d;if(sc&&(sc=!1,gi=t,ic=C),S=t.pendingLanes,S===0&&(mi=null),gt(d.stateNode),Cr(t,It()),o!==null)for(p=t.onRecoverableError,d=0;d<o.length;d++)C=o[d],p(C.value,{componentStack:C.stack,digest:C.digest});if(rc)throw rc=!1,t=hd,hd=null,t;return(ic&1)!==0&&t.tag!==0&&ko(),S=t.pendingLanes,(S&1)!==0?t===md?Pa++:(Pa=0,md=t):Pa=0,ui(),null}function ko(){if(gi!==null){var t=pl(ic),o=Yr.transition,d=ct;try{if(Yr.transition=null,ct=16>t?16:t,gi===null)var p=!1;else{if(t=gi,gi=null,ic=0,(At&6)!==0)throw Error(a(331));var C=At;for(At|=4,Fe=t.current;Fe!==null;){var S=Fe,_=S.child;if((Fe.flags&16)!==0){var F=S.deletions;if(F!==null){for(var W=0;W<F.length;W++){var ce=F[W];for(Fe=ce;Fe!==null;){var we=Fe;switch(we.tag){case 0:case 11:case 15:Oa(8,we,S)}var Se=we.child;if(Se!==null)Se.return=we,Fe=Se;else for(;Fe!==null;){we=Fe;var xe=we.sibling,Be=we.return;if(Yh(we),we===ce){Fe=null;break}if(xe!==null){xe.return=Be,Fe=xe;break}Fe=Be}}}var Ue=S.alternate;if(Ue!==null){var We=Ue.child;if(We!==null){Ue.child=null;do{var xn=We.sibling;We.sibling=null,We=xn}while(We!==null)}}Fe=S}}if((S.subtreeFlags&2064)!==0&&_!==null)_.return=S,Fe=_;else e:for(;Fe!==null;){if(S=Fe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Oa(9,S,S.return)}var se=S.sibling;if(se!==null){se.return=S.return,Fe=se;break e}Fe=S.return}}var q=t.current;for(Fe=q;Fe!==null;){_=Fe;var oe=_.child;if((_.subtreeFlags&2064)!==0&&oe!==null)oe.return=_,Fe=oe;else e:for(_=q;Fe!==null;){if(F=Fe,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:ec(9,F)}}catch(Ge){dn(F,F.return,Ge)}if(F===_){Fe=null;break e}var ke=F.sibling;if(ke!==null){ke.return=F.return,Fe=ke;break e}Fe=F.return}}if(At=C,ui(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(wt,t)}catch{}p=!0}return p}finally{ct=d,Yr.transition=o}}return!1}function c1(t,o,d){o=So(d,o),o=Th(t,o,1),t=fi(t,o,1),o=ur(),t!==null&&(P(t,1,o),Cr(t,o))}function dn(t,o,d){if(t.tag===3)c1(t,t,d);else for(;o!==null;){if(o.tag===3){c1(o,t,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(mi===null||!mi.has(p))){t=So(d,t),t=Ih(o,t,1),o=fi(o,t,1),t=ur(),o!==null&&(P(o,1,t),Cr(o,t));break}}o=o.return}}function yy(t,o,d){var p=t.pingCache;p!==null&&p.delete(o),o=ur(),t.pingedLanes|=t.suspendedLanes&d,Ln===t&&(Xn&d)===d&&(kn===4||kn===3&&(Xn&130023424)===Xn&&500>It()-fd?Yi(t,0):dd|=d),Cr(t,o)}function u1(t,o){o===0&&((t.mode&1)===0?o=1:(o=so,so<<=1,(so&130023424)===0&&(so=4194304)));var d=ur();t=Ls(t,o),t!==null&&(P(t,o,d),Cr(t,d))}function wy(t){var o=t.memoizedState,d=0;o!==null&&(d=o.retryLane),u1(t,d)}function vy(t,o){var d=0;switch(t.tag){case 13:var p=t.stateNode,C=t.memoizedState;C!==null&&(d=C.retryLane);break;case 19:p=t.stateNode;break;default:throw Error(a(314))}p!==null&&p.delete(o),u1(t,d)}var d1;d1=function(t,o,d){if(t!==null)if(t.memoizedProps!==o.pendingProps||xr.current)wr=!0;else{if((t.lanes&d)===0&&(o.flags&128)===0)return wr=!1,ay(t,o,d);wr=(t.flags&131072)!==0}else wr=!1,Qt&&(o.flags&1048576)!==0&&W0(o,Bl,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Ql(t,o),t=o.pendingProps;var C=xo(o,er.current);bo(o,d),C=Hu(null,o,p,t,C,d);var S=Wu();return o.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,yr(p)?(S=!0,Ml(o)):S=!1,o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Lu(o),C.updater=ql,o.stateNode=C,C._reactInternals=o,qu(o,p,t,d),o=ed(null,o,p,!0,S,d)):(o.tag=0,Qt&&S&&Nu(o),cr(null,o,C,d),o=o.child),o;case 16:p=o.elementType;e:{switch(Ql(t,o),t=o.pendingProps,C=p._init,p=C(p._payload),o.type=p,C=o.tag=Ey(p),t=os(p,t),C){case 0:o=Ju(null,o,p,t,d);break e;case 1:o=Bh(null,o,p,t,d);break e;case 11:o=Oh(null,o,p,t,d);break e;case 14:o=Dh(null,o,p,os(p.type,t),d);break e}throw Error(a(306,p,""))}return o;case 0:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),Ju(t,o,p,C,d);case 1:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),Bh(t,o,p,C,d);case 3:e:{if(jh(o),t===null)throw Error(a(387));p=o.pendingProps,S=o.memoizedState,C=S.element,J0(t,o),Hl(o,p,null,d);var _=o.memoizedState;if(p=_.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){C=So(Error(a(423)),o),o=Fh(t,o,p,d,C);break e}else if(p!==C){C=So(Error(a(424)),o),o=Fh(t,o,p,d,C);break e}else for(Mr=ai(o.stateNode.containerInfo.firstChild),Dr=o,Qt=!0,is=null,d=$0(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(vo(),p===C){o=js(t,o,d);break e}cr(t,o,p,d)}o=o.child}return o;case 5:return nh(o),t===null&&ku(o),p=o.type,C=o.pendingProps,S=t!==null?t.memoizedProps:null,_=C.children,vu(p,C)?_=null:S!==null&&vu(p,S)&&(o.flags|=32),Lh(t,o),cr(t,o,_,d),o.child;case 6:return t===null&&ku(o),null;case 13:return Vh(t,o,d);case 4:return Bu(o,o.stateNode.containerInfo),p=o.pendingProps,t===null?o.child=Co(o,null,p,d):cr(t,o,p,d),o.child;case 11:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),Oh(t,o,p,C,d);case 7:return cr(t,o,o.pendingProps,d),o.child;case 8:return cr(t,o,o.pendingProps.children,d),o.child;case 12:return cr(t,o,o.pendingProps.children,d),o.child;case 10:e:{if(p=o.type._context,C=o.pendingProps,S=o.memoizedProps,_=C.value,Ht(Vl,p._currentValue),p._currentValue=_,S!==null)if(Q(S.value,_)){if(S.children===C.children&&!xr.current){o=js(t,o,d);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var F=S.dependencies;if(F!==null){_=S.child;for(var W=F.firstContext;W!==null;){if(W.context===p){if(S.tag===1){W=Bs(-1,d&-d),W.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var we=ce.pending;we===null?W.next=W:(W.next=we.next,we.next=W),ce.pending=W}}S.lanes|=d,W=S.alternate,W!==null&&(W.lanes|=d),Mu(S.return,d,o),F.lanes|=d;break}W=W.next}}else if(S.tag===10)_=S.type===o.type?null:S.child;else if(S.tag===18){if(_=S.return,_===null)throw Error(a(341));_.lanes|=d,F=_.alternate,F!==null&&(F.lanes|=d),Mu(_,d,o),_=S.sibling}else _=S.child;if(_!==null)_.return=S;else for(_=S;_!==null;){if(_===o){_=null;break}if(S=_.sibling,S!==null){S.return=_.return,_=S;break}_=_.return}S=_}cr(t,o,C.children,d),o=o.child}return o;case 9:return C=o.type,p=o.pendingProps.children,bo(o,d),C=Gr(C),p=p(C),o.flags|=1,cr(t,o,p,d),o.child;case 14:return p=o.type,C=os(p,o.pendingProps),C=os(p.type,C),Dh(t,o,p,C,d);case 15:return Mh(t,o,o.type,o.pendingProps,d);case 17:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),Ql(t,o),o.tag=1,yr(p)?(t=!0,Ml(o)):t=!1,bo(o,d),Sh(o,p,C),qu(o,p,C,d),ed(null,o,p,!0,t,d);case 19:return zh(t,o,d);case 22:return Ph(t,o,d)}throw Error(a(156,o.tag))};function f1(t,o){return Tr(t,o)}function Cy(t,o,d,p){this.tag=t,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,o,d,p){return new Cy(t,o,d,p)}function vd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ey(t){if(typeof t=="function")return vd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ee)return 11;if(t===G)return 14}return 2}function yi(t,o){var d=t.alternate;return d===null?(d=Kr(t.tag,o,t.key,t.mode),d.elementType=t.elementType,d.type=t.type,d.stateNode=t.stateNode,d.alternate=t,t.alternate=d):(d.pendingProps=o,d.type=t.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=t.flags&14680064,d.childLanes=t.childLanes,d.lanes=t.lanes,d.child=t.child,d.memoizedProps=t.memoizedProps,d.memoizedState=t.memoizedState,d.updateQueue=t.updateQueue,o=t.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=t.sibling,d.index=t.index,d.ref=t.ref,d}function cc(t,o,d,p,C,S){var _=2;if(p=t,typeof t=="function")vd(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case $:return Zi(d.children,C,S,o);case J:_=8,C|=8;break;case K:return t=Kr(12,d,o,C|2),t.elementType=K,t.lanes=S,t;case De:return t=Kr(13,d,o,C),t.elementType=De,t.lanes=S,t;case me:return t=Kr(19,d,o,C),t.elementType=me,t.lanes=S,t;case te:return uc(d,C,S,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:_=10;break e;case Pe:_=9;break e;case Ee:_=11;break e;case G:_=14;break e;case be:_=16,p=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return o=Kr(_,d,o,C),o.elementType=t,o.type=p,o.lanes=S,o}function Zi(t,o,d,p){return t=Kr(7,t,p,o),t.lanes=d,t}function uc(t,o,d,p){return t=Kr(22,t,p,o),t.elementType=te,t.lanes=d,t.stateNode={isHidden:!1},t}function Cd(t,o,d){return t=Kr(6,t,null,o),t.lanes=d,t}function Ed(t,o,d){return o=Kr(4,t.children!==null?t.children:[],t.key,o),o.lanes=d,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function by(t,o,d,p,C){this.tag=o,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=re(0),this.expirationTimes=re(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=re(0),this.identifierPrefix=p,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function bd(t,o,d,p,C,S,_,F,W){return t=new by(t,o,d,F,W),o===1?(o=1,S===!0&&(o|=8)):o=0,S=Kr(3,null,null,o),t.current=S,S.stateNode=t,S.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lu(S),t}function Ay(t,o,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:p==null?null:""+p,children:t,containerInfo:o,implementation:d}}function h1(t){if(!t)return ci;t=t._reactInternals;e:{if(pr(t)!==t||t.tag!==1)throw Error(a(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(yr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(a(171))}if(t.tag===1){var d=t.type;if(yr(d))return U0(t,d,o)}return o}function m1(t,o,d,p,C,S,_,F,W){return t=bd(d,p,!0,t,C,S,_,F,W),t.context=h1(null),d=t.current,p=ur(),C=pi(d),S=Bs(p,C),S.callback=o??null,fi(d,S,C),t.current.lanes=C,P(t,C,p),Cr(t,p),t}function dc(t,o,d,p){var C=o.current,S=ur(),_=pi(C);return d=h1(d),o.context===null?o.context=d:o.pendingContext=d,o=Bs(S,_),o.payload={element:t},p=p===void 0?null:p,p!==null&&(o.callback=p),t=fi(C,o,_),t!==null&&(cs(t,C,_,S),zl(t,C,_)),_}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g1(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var d=t.retryLane;t.retryLane=d!==0&&d<o?d:o}}function Ad(t,o){g1(t,o),(t=t.alternate)&&g1(t,o)}function Sy(){return null}var p1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sd(t){this._internalRoot=t}hc.prototype.render=Sd.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(a(409));dc(t,o,null,null)},hc.prototype.unmount=Sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Xi(function(){dc(null,t,null,null)}),o[Os]=null}};function hc(t){this._internalRoot=t}hc.prototype.unstable_scheduleHydration=function(t){if(t){var o=Ut();t={blockedOn:null,target:t,priority:o};for(var d=0;d<zn.length&&o!==0&&o<zn[d].priority;d++);zn.splice(d,0,t),d===0&&yl(t)}};function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x1(){}function Ny(t,o,d,p,C){if(C){if(typeof p=="function"){var S=p;p=function(){var ce=fc(_);S.call(ce)}}var _=m1(o,p,t,0,null,!1,!1,"",x1);return t._reactRootContainer=_,t[Os]=_.current,wa(t.nodeType===8?t.parentNode:t),Xi(),_}for(;C=t.lastChild;)t.removeChild(C);if(typeof p=="function"){var F=p;p=function(){var ce=fc(W);F.call(ce)}}var W=bd(t,0,!1,null,null,!1,!1,"",x1);return t._reactRootContainer=W,t[Os]=W.current,wa(t.nodeType===8?t.parentNode:t),Xi(function(){dc(o,W,d,p)}),W}function gc(t,o,d,p,C){var S=d._reactRootContainer;if(S){var _=S;if(typeof C=="function"){var F=C;C=function(){var W=fc(_);F.call(W)}}dc(o,_,t,C)}else _=Ny(d,o,t,C,p);return fc(_)}io=function(t){switch(t.tag){case 3:var o=t.stateNode;if(o.current.memoizedState.isDehydrated){var d=Ft(o.pendingLanes);d!==0&&(cn(o,d|1),Cr(o,It()),(At&6)===0&&(Io=It()+500,ui()))}break;case 13:Xi(function(){var p=Ls(t,1);if(p!==null){var C=ur();cs(p,t,1,C)}}),Ad(t,1)}},Qn=function(t){if(t.tag===13){var o=Ls(t,134217728);if(o!==null){var d=ur();cs(o,t,134217728,d)}Ad(t,134217728)}},Ke=function(t){if(t.tag===13){var o=pi(t),d=Ls(t,o);if(d!==null){var p=ur();cs(d,t,o,p)}Ad(t,o)}},Ut=function(){return ct},ia=function(t,o){var d=ct;try{return ct=t,o()}finally{ct=d}},Ys=function(t,o,d){switch(o){case"input":if(Bt(t,d),o=d.name,d.type==="radio"&&o!=null){for(d=t;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==t&&p.form===t.form){var C=Ol(p);if(!C)throw Error(a(90));En(p),Bt(p,C)}}}break;case"textarea":gr(t,d);break;case"select":o=d.value,o!=null&&Le(t,!!d.multiple,o,!1)}},en=xd,Et=Xi;var Ty={usingClientEntryPoint:!1,Events:[Ea,go,Ol,nt,Ct,xd]},La={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iy={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dl(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||Sy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{wt=pc.inject(Iy),lt=pc}catch{}}return Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty,Er.createPortal=function(t,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(o))throw Error(a(200));return Ay(t,o,null,d)},Er.createRoot=function(t,o){if(!Nd(t))throw Error(a(299));var d=!1,p="",C=p1;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=bd(t,1,!1,null,null,d,!1,p,C),t[Os]=o.current,wa(t.nodeType===8?t.parentNode:t),new Sd(o)},Er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=dl(o),t=t===null?null:t.stateNode,t},Er.flushSync=function(t){return Xi(t)},Er.hydrate=function(t,o,d){if(!mc(o))throw Error(a(200));return gc(null,t,o,!0,d)},Er.hydrateRoot=function(t,o,d){if(!Nd(t))throw Error(a(405));var p=d!=null&&d.hydratedSources||null,C=!1,S="",_=p1;if(d!=null&&(d.unstable_strictMode===!0&&(C=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),o=m1(o,null,t,1,d??null,C,!1,S,_),t[Os]=o.current,wa(t),p)for(t=0;t<p.length;t++)d=p[t],C=d._getVersion,C=C(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,C]:o.mutableSourceEagerHydrationData.push(d,C);return new hc(o)},Er.render=function(t,o,d){if(!mc(o))throw Error(a(200));return gc(null,t,o,!1,d)},Er.unmountComponentAtNode=function(t){if(!mc(t))throw Error(a(40));return t._reactRootContainer?(Xi(function(){gc(null,null,t,!1,function(){t._reactRootContainer=null,t[Os]=null})}),!0):!1},Er.unstable_batchedUpdates=xd,Er.unstable_renderSubtreeIntoContainer=function(t,o,d,p){if(!mc(d))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return gc(t,o,d,!1,p)},Er.version="18.3.1-next-f1338f8080-20240426",Er}var S1;function kg(){if(S1)return kd.exports;S1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),kd.exports=Py(),kd.exports}var N1;function Ly(){if(N1)return yc;N1=1;var r=kg();return yc.createRoot=r.createRoot,yc.hydrateRoot=r.hydrateRoot,yc}var By=Ly(),M=jf();const Re=Bf(M),Rg=Ig({__proto__:null,default:Re},[M]);function _g(r){var s,a,f="";if(typeof r=="string"||typeof r=="number")f+=r;else if(typeof r=="object")if(Array.isArray(r)){var m=r.length;for(s=0;s<m;s++)r[s]&&(a=_g(r[s]))&&(f&&(f+=" "),f+=a)}else for(a in r)r[a]&&(f&&(f+=" "),f+=a);return f}function Og(){for(var r,s,a=0,f="",m=arguments.length;a<m;a++)(r=arguments[a])&&(s=_g(r))&&(f&&(f+=" "),f+=s);return f}const Ff="-",jy=r=>{const s=Vy(r),{conflictingClassGroups:a,conflictingClassGroupModifiers:f}=r;return{getClassGroupId:w=>{const b=w.split(Ff);return b[0]===""&&b.length!==1&&b.shift(),Dg(b,s)||Fy(w)},getConflictingClassGroupIds:(w,b)=>{const N=a[w]||[];return b&&f[w]?[...N,...f[w]]:N}}},Dg=(r,s)=>{if(r.length===0)return s.classGroupId;const a=r[0],f=s.nextPart.get(a),m=f?Dg(r.slice(1),f):void 0;if(m)return m;if(s.validators.length===0)return;const g=r.join(Ff);return s.validators.find(({validator:w})=>w(g))?.classGroupId},T1=/^\[(.+)\]$/,Fy=r=>{if(T1.test(r)){const s=T1.exec(r)[1],a=s?.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},Vy=r=>{const{theme:s,classGroups:a}=r,f={nextPart:new Map,validators:[]};for(const m in a)of(a[m],f,m,s);return f},of=(r,s,a,f)=>{r.forEach(m=>{if(typeof m=="string"){const g=m===""?s:I1(s,m);g.classGroupId=a;return}if(typeof m=="function"){if(Uy(m)){of(m(f),s,a,f);return}s.validators.push({validator:m,classGroupId:a});return}Object.entries(m).forEach(([g,w])=>{of(w,I1(s,g),a,f)})})},I1=(r,s)=>{let a=r;return s.split(Ff).forEach(f=>{a.nextPart.has(f)||a.nextPart.set(f,{nextPart:new Map,validators:[]}),a=a.nextPart.get(f)}),a},Uy=r=>r.isThemeGetter,zy=r=>{if(r<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,f=new Map;const m=(g,w)=>{a.set(g,w),s++,s>r&&(s=0,f=a,a=new Map)};return{get(g){let w=a.get(g);if(w!==void 0)return w;if((w=f.get(g))!==void 0)return m(g,w),w},set(g,w){a.has(g)?a.set(g,w):m(g,w)}}},af="!",lf=":",Hy=lf.length,Wy=r=>{const{prefix:s,experimentalParseClassName:a}=r;let f=m=>{const g=[];let w=0,b=0,N=0,E;for(let z=0;z<m.length;z++){let j=m[z];if(w===0&&b===0){if(j===lf){g.push(m.slice(N,z)),N=z+Hy;continue}if(j==="/"){E=z;continue}}j==="["?w++:j==="]"?w--:j==="("?b++:j===")"&&b--}const T=g.length===0?m:m.substring(N),A=Gy(T),D=A!==T,B=E&&E>N?E-N:void 0;return{modifiers:g,hasImportantModifier:D,baseClassName:A,maybePostfixModifierPosition:B}};if(s){const m=s+lf,g=f;f=w=>w.startsWith(m)?g(w.substring(m.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:w,maybePostfixModifierPosition:void 0}}if(a){const m=f;f=g=>a({className:g,parseClassName:m})}return f},Gy=r=>r.endsWith(af)?r.substring(0,r.length-1):r.startsWith(af)?r.substring(1):r,Xy=r=>{const s=Object.fromEntries(r.orderSensitiveModifiers.map(f=>[f,!0]));return f=>{if(f.length<=1)return f;const m=[];let g=[];return f.forEach(w=>{w[0]==="["||s[w]?(m.push(...g.sort(),w),g=[]):g.push(w)}),m.push(...g.sort()),m}},Yy=r=>({cache:zy(r.cacheSize),parseClassName:Wy(r),sortModifiers:Xy(r),...jy(r)}),Ky=/\s+/,Zy=(r,s)=>{const{parseClassName:a,getClassGroupId:f,getConflictingClassGroupIds:m,sortModifiers:g}=s,w=[],b=r.trim().split(Ky);let N="";for(let E=b.length-1;E>=0;E-=1){const T=b[E],{isExternal:A,modifiers:D,hasImportantModifier:B,baseClassName:z,maybePostfixModifierPosition:j}=a(T);if(A){N=T+(N.length>0?" "+N:N);continue}let V=!!j,U=f(V?z.substring(0,j):z);if(!U){if(!V){N=T+(N.length>0?" "+N:N);continue}if(U=f(z),!U){N=T+(N.length>0?" "+N:N);continue}V=!1}const ne=g(D).join(":"),Y=B?ne+af:ne,ie=Y+U;if(w.includes(ie))continue;w.push(ie);const fe=m(U,V);for(let de=0;de<fe.length;++de){const $=fe[de];w.push(Y+$)}N=T+(N.length>0?" "+N:N)}return N};function qy(){let r=0,s,a,f="";for(;r<arguments.length;)(s=arguments[r++])&&(a=Mg(s))&&(f&&(f+=" "),f+=a);return f}const Mg=r=>{if(typeof r=="string")return r;let s,a="";for(let f=0;f<r.length;f++)r[f]&&(s=Mg(r[f]))&&(a&&(a+=" "),a+=s);return a};function $y(r,...s){let a,f,m,g=w;function w(N){const E=s.reduce((T,A)=>A(T),r());return a=Yy(E),f=a.cache.get,m=a.cache.set,g=b,b(N)}function b(N){const E=f(N);if(E)return E;const T=Zy(N,a);return m(N,T),T}return function(){return g(qy.apply(null,arguments))}}const Rn=r=>{const s=a=>a[r]||[];return s.isThemeGetter=!0,s},Pg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qy=/^\d+\/\d+$/,Jy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ew=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ro=r=>Qy.test(r),ft=r=>!!r&&!Number.isNaN(Number(r)),vi=r=>!!r&&Number.isInteger(Number(r)),Od=r=>r.endsWith("%")&&ft(r.slice(0,-1)),Vs=r=>Jy.test(r),sw=()=>!0,iw=r=>ew.test(r)&&!tw.test(r),Bg=()=>!1,ow=r=>nw.test(r),aw=r=>rw.test(r),lw=r=>!ze(r)&&!He(r),cw=r=>Zo(r,Vg,Bg),ze=r=>Pg.test(r),qi=r=>Zo(r,Ug,iw),Dd=r=>Zo(r,mw,ft),k1=r=>Zo(r,jg,Bg),uw=r=>Zo(r,Fg,aw),wc=r=>Zo(r,zg,ow),He=r=>Lg.test(r),ja=r=>qo(r,Ug),dw=r=>qo(r,gw),R1=r=>qo(r,jg),fw=r=>qo(r,Vg),hw=r=>qo(r,Fg),vc=r=>qo(r,zg,!0),Zo=(r,s,a)=>{const f=Pg.exec(r);return f?f[1]?s(f[1]):a(f[2]):!1},qo=(r,s,a=!1)=>{const f=Lg.exec(r);return f?f[1]?s(f[1]):a:!1},jg=r=>r==="position"||r==="percentage",Fg=r=>r==="image"||r==="url",Vg=r=>r==="length"||r==="size"||r==="bg-size",Ug=r=>r==="length",mw=r=>r==="number",gw=r=>r==="family-name",zg=r=>r==="shadow",pw=()=>{const r=Rn("color"),s=Rn("font"),a=Rn("text"),f=Rn("font-weight"),m=Rn("tracking"),g=Rn("leading"),w=Rn("breakpoint"),b=Rn("container"),N=Rn("spacing"),E=Rn("radius"),T=Rn("shadow"),A=Rn("inset-shadow"),D=Rn("text-shadow"),B=Rn("drop-shadow"),z=Rn("blur"),j=Rn("perspective"),V=Rn("aspect"),U=Rn("ease"),ne=Rn("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],fe=()=>[...ie(),He,ze],de=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],J=()=>[He,ze,N],K=()=>[Ro,"full","auto",...J()],ge=()=>[vi,"none","subgrid",He,ze],Pe=()=>["auto",{span:["full",vi,He,ze]},vi,He,ze],Ee=()=>[vi,"auto",He,ze],De=()=>["auto","min","max","fr",He,ze],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],be=()=>["auto",...J()],te=()=>[Ro,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...J()],ee=()=>[r,He,ze],Ce=()=>[...ie(),R1,k1,{position:[He,ze]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",fw,cw,{size:[He,ze]}],ue=()=>[Od,ja,qi],Ae=()=>["","none","full",E,He,ze],Ie=()=>["",ft,ja,qi],Ve=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ye=()=>[ft,Od,R1,k1],Oe=()=>["","none",z,He,ze],at=()=>["none",ft,He,ze],Rt=()=>["none",ft,He,ze],Dt=()=>[ft,He,ze],En=()=>[Ro,"full",...J()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[sw],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[lw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",ft],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ro,ze,He,V]}],container:["container"],columns:[{columns:[ft,ze,He,b]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:fe()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[vi,"auto",He,ze]}],basis:[{basis:[Ro,"full","auto",b,...J()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Ro,"auto","initial","none",ze]}],grow:[{grow:["",ft,He,ze]}],shrink:[{shrink:["",ft,He,ze]}],order:[{order:[vi,"first","last","none",He,ze]}],"grid-cols":[{"grid-cols":ge()}],"col-start-end":[{col:Pe()}],"col-start":[{"col-start":Ee()}],"col-end":[{"col-end":Ee()}],"grid-rows":[{"grid-rows":ge()}],"row-start-end":[{row:Pe()}],"row-start":[{"row-start":Ee()}],"row-end":[{"row-end":Ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":De()}],"auto-rows":[{"auto-rows":De()}],gap:[{gap:J()}],"gap-x":[{"gap-x":J()}],"gap-y":[{"gap-y":J()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:J()}],px:[{px:J()}],py:[{py:J()}],ps:[{ps:J()}],pe:[{pe:J()}],pt:[{pt:J()}],pr:[{pr:J()}],pb:[{pb:J()}],pl:[{pl:J()}],m:[{m:be()}],mx:[{mx:be()}],my:[{my:be()}],ms:[{ms:be()}],me:[{me:be()}],mt:[{mt:be()}],mr:[{mr:be()}],mb:[{mb:be()}],ml:[{ml:be()}],"space-x":[{"space-x":J()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":J()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[b,"screen",...te()]}],"min-w":[{"min-w":[b,"screen","none",...te()]}],"max-w":[{"max-w":[b,"screen","none","prose",{screen:[w]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",a,ja,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[f,He,Dd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Od,ze]}],"font-family":[{font:[dw,ze,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[m,He,ze]}],"line-clamp":[{"line-clamp":[ft,"none",He,Dd]}],leading:[{leading:[g,...J()]}],"list-image":[{"list-image":["none",He,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",He,qi]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[ft,"auto",He,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ce()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vi,He,ze],radial:["",He,ze],conic:[vi,He,ze]},hw,uw]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:Ie()}],"border-w-x":[{"border-x":Ie()}],"border-w-y":[{"border-y":Ie()}],"border-w-s":[{"border-s":Ie()}],"border-w-e":[{"border-e":Ie()}],"border-w-t":[{"border-t":Ie()}],"border-w-r":[{"border-r":Ie()}],"border-w-b":[{"border-b":Ie()}],"border-w-l":[{"border-l":Ie()}],"divide-x":[{"divide-x":Ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,He,ze]}],"outline-w":[{outline:["",ft,ja,qi]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",T,vc,wc]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",A,vc,wc]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:Ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[ft,qi]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":Ie()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",D,vc,wc]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[ft,He,ze]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ye()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Ye()}],"mask-image-t-to-pos":[{"mask-t-to":Ye()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Ye()}],"mask-image-r-to-pos":[{"mask-r-to":Ye()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Ye()}],"mask-image-b-to-pos":[{"mask-b-to":Ye()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Ye()}],"mask-image-l-to-pos":[{"mask-l-to":Ye()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Ye()}],"mask-image-x-to-pos":[{"mask-x-to":Ye()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Ye()}],"mask-image-y-to-pos":[{"mask-y-to":Ye()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[He,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ye()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ie()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ye()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ce()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",He,ze]}],filter:[{filter:["","none",He,ze]}],blur:[{blur:Oe()}],brightness:[{brightness:[ft,He,ze]}],contrast:[{contrast:[ft,He,ze]}],"drop-shadow":[{"drop-shadow":["","none",B,vc,wc]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",ft,He,ze]}],"hue-rotate":[{"hue-rotate":[ft,He,ze]}],invert:[{invert:["",ft,He,ze]}],saturate:[{saturate:[ft,He,ze]}],sepia:[{sepia:["",ft,He,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",He,ze]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[ft,He,ze]}],"backdrop-contrast":[{"backdrop-contrast":[ft,He,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,He,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,He,ze]}],"backdrop-invert":[{"backdrop-invert":["",ft,He,ze]}],"backdrop-opacity":[{"backdrop-opacity":[ft,He,ze]}],"backdrop-saturate":[{"backdrop-saturate":[ft,He,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,He,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":J()}],"border-spacing-x":[{"border-spacing-x":J()}],"border-spacing-y":[{"border-spacing-y":J()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",He,ze]}],ease:[{ease:["linear","initial",U,He,ze]}],delay:[{delay:[ft,He,ze]}],animate:[{animate:["none",ne,He,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,He,ze]}],"perspective-origin":[{"perspective-origin":fe()}],rotate:[{rotate:at()}],"rotate-x":[{"rotate-x":at()}],"rotate-y":[{"rotate-y":at()}],"rotate-z":[{"rotate-z":at()}],scale:[{scale:Rt()}],"scale-x":[{"scale-x":Rt()}],"scale-y":[{"scale-y":Rt()}],"scale-z":[{"scale-z":Rt()}],"scale-3d":["scale-3d"],skew:[{skew:Dt()}],"skew-x":[{"skew-x":Dt()}],"skew-y":[{"skew-y":Dt()}],transform:[{transform:[He,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:En()}],"translate-x":[{"translate-x":En()}],"translate-y":[{"translate-y":En()}],"translate-z":[{"translate-z":En()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,ze]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[ft,ja,qi,Dd]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xw=$y(pw);function Fn(...r){return xw(Og(r))}function Lt({className:r,...s}){return y.jsx("div",{"data-slot":"card",className:Fn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...s})}function _1(r,s){if(typeof r=="function")return r(s);r!=null&&(r.current=s)}function Hg(...r){return s=>{let a=!1;const f=r.map(m=>{const g=_1(m,s);return!a&&typeof g=="function"&&(a=!0),g});if(a)return()=>{for(let m=0;m<f.length;m++){const g=f[m];typeof g=="function"?g():_1(r[m],null)}}}}function Jr(...r){return M.useCallback(Hg(...r),r)}function qa(r){const s=yw(r),a=M.forwardRef((f,m)=>{const{children:g,...w}=f,b=M.Children.toArray(g),N=b.find(vw);if(N){const E=N.props.children,T=b.map(A=>A===N?M.Children.count(E)>1?M.Children.only(null):M.isValidElement(E)?E.props.children:null:A);return y.jsx(s,{...w,ref:m,children:M.isValidElement(E)?M.cloneElement(E,void 0,T):null})}return y.jsx(s,{...w,ref:m,children:g})});return a.displayName=`${r}.Slot`,a}var Wg=qa("Slot");function yw(r){const s=M.forwardRef((a,f)=>{const{children:m,...g}=a;if(M.isValidElement(m)){const w=Ew(m),b=Cw(g,m.props);return m.type!==M.Fragment&&(b.ref=f?Hg(f,w):w),M.cloneElement(m,b)}return M.Children.count(m)>1?M.Children.only(null):null});return s.displayName=`${r}.SlotClone`,s}var ww=Symbol("radix.slottable");function vw(r){return M.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===ww}function Cw(r,s){const a={...s};for(const f in s){const m=r[f],g=s[f];/^on[A-Z]/.test(f)?m&&g?a[f]=(...b)=>{const N=g(...b);return m(...b),N}:m&&(a[f]=m):f==="style"?a[f]={...m,...g}:f==="className"&&(a[f]=[m,g].filter(Boolean).join(" "))}return{...r,...a}}function Ew(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}const O1=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,D1=Og,Gg=(r,s)=>a=>{var f;if(s?.variants==null)return D1(r,a?.class,a?.className);const{variants:m,defaultVariants:g}=s,w=Object.keys(m).map(E=>{const T=a?.[E],A=g?.[E];if(T===null)return null;const D=O1(T)||O1(A);return m[E][D]}),b=a&&Object.entries(a).reduce((E,T)=>{let[A,D]=T;return D===void 0||(E[A]=D),E},{}),N=s==null||(f=s.compoundVariants)===null||f===void 0?void 0:f.reduce((E,T)=>{let{class:A,className:D,...B}=T;return Object.entries(B).every(z=>{let[j,V]=z;return Array.isArray(V)?V.includes({...g,...b}[j]):{...g,...b}[j]===V})?[...E,A,D]:E},[]);return D1(r,w,N,a?.class,a?.className)},bw=Gg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function pt({className:r,variant:s,size:a,asChild:f=!1,...m}){const g=f?Wg:"button";return y.jsx(g,{"data-slot":"button",className:Fn(bw({variant:s,size:a,className:r})),...m})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,f)=>f?f.toUpperCase():a.toLowerCase()),M1=r=>{const s=Sw(r);return s.charAt(0).toUpperCase()+s.slice(1)},Xg=(...r)=>r.filter((s,a,f)=>!!s&&s.trim()!==""&&f.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=M.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:f,className:m="",children:g,iconNode:w,...b},N)=>M.createElement("svg",{ref:N,...Nw,width:s,height:s,stroke:r,strokeWidth:f?Number(a)*24/Number(s):a,className:Xg("lucide",m),...b},[...w.map(([E,T])=>M.createElement(E,T)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(r,s)=>{const a=M.forwardRef(({className:f,...m},g)=>M.createElement(Tw,{ref:g,iconNode:s,className:Xg(`lucide-${Aw(M1(r))}`,`lucide-${r}`,f),...m}));return a.displayName=M1(r),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fa=xt("arrow-left",Iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Rw=xt("arrow-up-right",kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],P1=xt("award",_w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yg=xt("bell",Ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],L1=xt("camera",Dw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zs=xt("chevron-right",Mw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kg=xt("circle-alert",Pw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bw=xt("circle-check-big",Lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zg=xt("circle-check",jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qg=xt("circle-help",Fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],B1=xt("external-link",Vw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Uo=xt("eye-off",Uw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zo=xt("eye",zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ww=xt("file-text",Hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],$a=xt("gift",Gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Yw=xt("house",Xw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],cf=xt("key",Kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],bi=xt("leaf",Zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cc=xt("loader-circle",qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Mc=xt("lock",$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Jw=xt("log-out",Qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mo=xt("mail",ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],nv=xt("message-square",tv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M5 12h14",key:"1ays0h"}]],sv=xt("minus",rv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ov=xt("moon",iv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Md=xt("package",av);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],cv=xt("phone",lv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dv=xt("plus",uv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],zc=xt("qr-code",fv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mv=xt("send",hv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pv=xt("settings",gv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$g=xt("shield",xv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],wv=xt("smartphone",yv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Cv=xt("sun",vv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],bv=xt("trending-up",Ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vf=xt("user",Av);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$o=xt("x",Sv),Uf=M.createContext({});function zf(r){const s=M.useRef(null);return s.current===null&&(s.current=r()),s.current}const Hf=typeof window<"u",Qg=Hf?M.useLayoutEffect:M.useEffect,Qc=M.createContext(null);function Wf(r,s){r.indexOf(s)===-1&&r.push(s)}function Gf(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const Hs=(r,s,a)=>a>s?s:a<r?r:a;let Xf=()=>{};const Ws={},Jg=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function ep(r){return typeof r=="object"&&r!==null}const tp=r=>/^0[^.\s]+$/u.test(r);function Yf(r){let s;return()=>(s===void 0&&(s=r()),s)}const Qr=r=>r,Nv=(r,s)=>a=>s(r(a)),sl=(...r)=>r.reduce(Nv),Qa=(r,s,a)=>{const f=s-r;return f===0?1:(a-r)/f};class Kf{constructor(){this.subscriptions=[]}add(s){return Wf(this.subscriptions,s),()=>Gf(this.subscriptions,s)}notify(s,a,f){const m=this.subscriptions.length;if(m)if(m===1)this.subscriptions[0](s,a,f);else for(let g=0;g<m;g++){const w=this.subscriptions[g];w&&w(s,a,f)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ss=r=>r*1e3,$r=r=>r/1e3;function np(r,s){return s?r*(1e3/s):0}const rp=(r,s,a)=>(((1-3*a+3*s)*r+(3*a-6*s))*r+3*s)*r,Tv=1e-7,Iv=12;function kv(r,s,a,f,m){let g,w,b=0;do w=s+(a-s)/2,g=rp(w,f,m)-r,g>0?a=w:s=w;while(Math.abs(g)>Tv&&++b<Iv);return w}function il(r,s,a,f){if(r===s&&a===f)return Qr;const m=g=>kv(g,0,1,r,a);return g=>g===0||g===1?g:rp(m(g),s,f)}const sp=r=>s=>s<=.5?r(2*s)/2:(2-r(2*(1-s)))/2,ip=r=>s=>1-r(1-s),op=il(.33,1.53,.69,.99),Zf=ip(op),ap=sp(Zf),lp=r=>(r*=2)<1?.5*Zf(r):.5*(2-Math.pow(2,-10*(r-1))),qf=r=>1-Math.sin(Math.acos(r)),cp=ip(qf),up=sp(qf),Rv=il(.42,0,1,1),_v=il(0,0,.58,1),dp=il(.42,0,.58,1),Ov=r=>Array.isArray(r)&&typeof r[0]!="number",fp=r=>Array.isArray(r)&&typeof r[0]=="number",Dv={linear:Qr,easeIn:Rv,easeInOut:dp,easeOut:_v,circIn:qf,circInOut:up,circOut:cp,backIn:Zf,backInOut:ap,backOut:op,anticipate:lp},Mv=r=>typeof r=="string",j1=r=>{if(fp(r)){Xf(r.length===4);const[s,a,f,m]=r;return il(s,a,f,m)}else if(Mv(r))return Dv[r];return r},Ec=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Pv(r,s){let a=new Set,f=new Set,m=!1,g=!1;const w=new WeakSet;let b={delta:0,timestamp:0,isProcessing:!1};function N(T){w.has(T)&&(E.schedule(T),r()),T(b)}const E={schedule:(T,A=!1,D=!1)=>{const z=D&&m?a:f;return A&&w.add(T),z.has(T)||z.add(T),T},cancel:T=>{f.delete(T),w.delete(T)},process:T=>{if(b=T,m){g=!0;return}m=!0,[a,f]=[f,a],a.forEach(N),a.clear(),m=!1,g&&(g=!1,E.process(T))}};return E}const Lv=40;function hp(r,s){let a=!1,f=!0;const m={delta:0,timestamp:0,isProcessing:!1},g=()=>a=!0,w=Ec.reduce((Y,ie)=>(Y[ie]=Pv(g),Y),{}),{setup:b,read:N,resolveKeyframes:E,preUpdate:T,update:A,preRender:D,render:B,postRender:z}=w,j=()=>{const Y=Ws.useManualTiming?m.timestamp:performance.now();a=!1,Ws.useManualTiming||(m.delta=f?1e3/60:Math.max(Math.min(Y-m.timestamp,Lv),1)),m.timestamp=Y,m.isProcessing=!0,b.process(m),N.process(m),E.process(m),T.process(m),A.process(m),D.process(m),B.process(m),z.process(m),m.isProcessing=!1,a&&s&&(f=!1,r(j))},V=()=>{a=!0,f=!0,m.isProcessing||r(j)};return{schedule:Ec.reduce((Y,ie)=>{const fe=w[ie];return Y[ie]=(de,$=!1,J=!1)=>(a||V(),fe.schedule(de,$,J)),Y},{}),cancel:Y=>{for(let ie=0;ie<Ec.length;ie++)w[Ec[ie]].cancel(Y)},state:m,steps:w}}const{schedule:Jt,cancel:Ai,state:Yn,steps:Pd}=hp(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0);let Pc;function Bv(){Pc=void 0}const Ar={now:()=>(Pc===void 0&&Ar.set(Yn.isProcessing||Ws.useManualTiming?Yn.timestamp:performance.now()),Pc),set:r=>{Pc=r,queueMicrotask(Bv)}},mp=r=>s=>typeof s=="string"&&s.startsWith(r),$f=mp("--"),jv=mp("var(--"),Qf=r=>jv(r)?Fv.test(r.split("/*")[0].trim()):!1,Fv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qo={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Ja={...Qo,transform:r=>Hs(0,1,r)},bc={...Qo,default:1},Wa=r=>Math.round(r*1e5)/1e5,Jf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vv(r){return r==null}const Uv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e0=(r,s)=>a=>!!(typeof a=="string"&&Uv.test(a)&&a.startsWith(r)||s&&!Vv(a)&&Object.prototype.hasOwnProperty.call(a,s)),gp=(r,s,a)=>f=>{if(typeof f!="string")return f;const[m,g,w,b]=f.match(Jf);return{[r]:parseFloat(m),[s]:parseFloat(g),[a]:parseFloat(w),alpha:b!==void 0?parseFloat(b):1}},zv=r=>Hs(0,255,r),Ld={...Qo,transform:r=>Math.round(zv(r))},Ji={test:e0("rgb","red"),parse:gp("red","green","blue"),transform:({red:r,green:s,blue:a,alpha:f=1})=>"rgba("+Ld.transform(r)+", "+Ld.transform(s)+", "+Ld.transform(a)+", "+Wa(Ja.transform(f))+")"};function Hv(r){let s="",a="",f="",m="";return r.length>5?(s=r.substring(1,3),a=r.substring(3,5),f=r.substring(5,7),m=r.substring(7,9)):(s=r.substring(1,2),a=r.substring(2,3),f=r.substring(3,4),m=r.substring(4,5),s+=s,a+=a,f+=f,m+=m),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(f,16),alpha:m?parseInt(m,16)/255:1}}const uf={test:e0("#"),parse:Hv,transform:Ji.transform},ol=r=>({test:s=>typeof s=="string"&&s.endsWith(r)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${r}`}),Ci=ol("deg"),Ns=ol("%"),et=ol("px"),Wv=ol("vh"),Gv=ol("vw"),F1={...Ns,parse:r=>Ns.parse(r)/100,transform:r=>Ns.transform(r*100)},Po={test:e0("hsl","hue"),parse:gp("hue","saturation","lightness"),transform:({hue:r,saturation:s,lightness:a,alpha:f=1})=>"hsla("+Math.round(r)+", "+Ns.transform(Wa(s))+", "+Ns.transform(Wa(a))+", "+Wa(Ja.transform(f))+")"},Cn={test:r=>Ji.test(r)||uf.test(r)||Po.test(r),parse:r=>Ji.test(r)?Ji.parse(r):Po.test(r)?Po.parse(r):uf.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Ji.transform(r):Po.transform(r),getAnimatableNone:r=>{const s=Cn.parse(r);return s.alpha=0,Cn.transform(s)}},Xv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yv(r){return isNaN(r)&&typeof r=="string"&&(r.match(Jf)?.length||0)+(r.match(Xv)?.length||0)>0}const pp="number",xp="color",Kv="var",Zv="var(",V1="${}",qv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function el(r){const s=r.toString(),a=[],f={color:[],number:[],var:[]},m=[];let g=0;const b=s.replace(qv,N=>(Cn.test(N)?(f.color.push(g),m.push(xp),a.push(Cn.parse(N))):N.startsWith(Zv)?(f.var.push(g),m.push(Kv),a.push(N)):(f.number.push(g),m.push(pp),a.push(parseFloat(N))),++g,V1)).split(V1);return{values:a,split:b,indexes:f,types:m}}function yp(r){return el(r).values}function wp(r){const{split:s,types:a}=el(r),f=s.length;return m=>{let g="";for(let w=0;w<f;w++)if(g+=s[w],m[w]!==void 0){const b=a[w];b===pp?g+=Wa(m[w]):b===xp?g+=Cn.transform(m[w]):g+=m[w]}return g}}const $v=r=>typeof r=="number"?0:Cn.test(r)?Cn.getAnimatableNone(r):r;function Qv(r){const s=yp(r);return wp(r)(s.map($v))}const Si={test:Yv,parse:yp,createTransformer:wp,getAnimatableNone:Qv};function Bd(r,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?r+(s-r)*6*a:a<1/2?s:a<2/3?r+(s-r)*(2/3-a)*6:r}function Jv({hue:r,saturation:s,lightness:a,alpha:f}){r/=360,s/=100,a/=100;let m=0,g=0,w=0;if(!s)m=g=w=a;else{const b=a<.5?a*(1+s):a+s-a*s,N=2*a-b;m=Bd(N,b,r+1/3),g=Bd(N,b,r),w=Bd(N,b,r-1/3)}return{red:Math.round(m*255),green:Math.round(g*255),blue:Math.round(w*255),alpha:f}}function Hc(r,s){return a=>a>0?s:r}const on=(r,s,a)=>r+(s-r)*a,jd=(r,s,a)=>{const f=r*r,m=a*(s*s-f)+f;return m<0?0:Math.sqrt(m)},e3=[uf,Ji,Po],t3=r=>e3.find(s=>s.test(r));function U1(r){const s=t3(r);if(!s)return!1;let a=s.parse(r);return s===Po&&(a=Jv(a)),a}const z1=(r,s)=>{const a=U1(r),f=U1(s);if(!a||!f)return Hc(r,s);const m={...a};return g=>(m.red=jd(a.red,f.red,g),m.green=jd(a.green,f.green,g),m.blue=jd(a.blue,f.blue,g),m.alpha=on(a.alpha,f.alpha,g),Ji.transform(m))},df=new Set(["none","hidden"]);function n3(r,s){return df.has(r)?a=>a<=0?r:s:a=>a>=1?s:r}function r3(r,s){return a=>on(r,s,a)}function t0(r){return typeof r=="number"?r3:typeof r=="string"?Qf(r)?Hc:Cn.test(r)?z1:o3:Array.isArray(r)?vp:typeof r=="object"?Cn.test(r)?z1:s3:Hc}function vp(r,s){const a=[...r],f=a.length,m=r.map((g,w)=>t0(g)(g,s[w]));return g=>{for(let w=0;w<f;w++)a[w]=m[w](g);return a}}function s3(r,s){const a={...r,...s},f={};for(const m in a)r[m]!==void 0&&s[m]!==void 0&&(f[m]=t0(r[m])(r[m],s[m]));return m=>{for(const g in f)a[g]=f[g](m);return a}}function i3(r,s){const a=[],f={color:0,var:0,number:0};for(let m=0;m<s.values.length;m++){const g=s.types[m],w=r.indexes[g][f[g]],b=r.values[w]??0;a[m]=b,f[g]++}return a}const o3=(r,s)=>{const a=Si.createTransformer(s),f=el(r),m=el(s);return f.indexes.var.length===m.indexes.var.length&&f.indexes.color.length===m.indexes.color.length&&f.indexes.number.length>=m.indexes.number.length?df.has(r)&&!m.values.length||df.has(s)&&!f.values.length?n3(r,s):sl(vp(i3(f,m),m.values),a):Hc(r,s)};function Cp(r,s,a){return typeof r=="number"&&typeof s=="number"&&typeof a=="number"?on(r,s,a):t0(r)(r,s)}const a3=r=>{const s=({timestamp:a})=>r(a);return{start:(a=!0)=>Jt.update(s,a),stop:()=>Ai(s),now:()=>Yn.isProcessing?Yn.timestamp:Ar.now()}},Ep=(r,s,a=10)=>{let f="";const m=Math.max(Math.round(s/a),2);for(let g=0;g<m;g++)f+=Math.round(r(g/(m-1))*1e4)/1e4+", ";return`linear(${f.substring(0,f.length-2)})`},Wc=2e4;function n0(r){let s=0;const a=50;let f=r.next(s);for(;!f.done&&s<Wc;)s+=a,f=r.next(s);return s>=Wc?1/0:s}function l3(r,s=100,a){const f=a({...r,keyframes:[0,s]}),m=Math.min(n0(f),Wc);return{type:"keyframes",ease:g=>f.next(m*g).value/s,duration:$r(m)}}const c3=5;function bp(r,s,a){const f=Math.max(s-c3,0);return np(a-r(f),s-f)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fd=.001;function u3({duration:r=hn.duration,bounce:s=hn.bounce,velocity:a=hn.velocity,mass:f=hn.mass}){let m,g,w=1-s;w=Hs(hn.minDamping,hn.maxDamping,w),r=Hs(hn.minDuration,hn.maxDuration,$r(r)),w<1?(m=E=>{const T=E*w,A=T*r,D=T-a,B=ff(E,w),z=Math.exp(-A);return Fd-D/B*z},g=E=>{const A=E*w*r,D=A*a+a,B=Math.pow(w,2)*Math.pow(E,2)*r,z=Math.exp(-A),j=ff(Math.pow(E,2),w);return(-m(E)+Fd>0?-1:1)*((D-B)*z)/j}):(m=E=>{const T=Math.exp(-E*r),A=(E-a)*r+1;return-Fd+T*A},g=E=>{const T=Math.exp(-E*r),A=(a-E)*(r*r);return T*A});const b=5/r,N=f3(m,g,b);if(r=Ss(r),isNaN(N))return{stiffness:hn.stiffness,damping:hn.damping,duration:r};{const E=Math.pow(N,2)*f;return{stiffness:E,damping:w*2*Math.sqrt(f*E),duration:r}}}const d3=12;function f3(r,s,a){let f=a;for(let m=1;m<d3;m++)f=f-r(f)/s(f);return f}function ff(r,s){return r*Math.sqrt(1-s*s)}const h3=["duration","bounce"],m3=["stiffness","damping","mass"];function H1(r,s){return s.some(a=>r[a]!==void 0)}function g3(r){let s={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...r};if(!H1(r,m3)&&H1(r,h3))if(r.visualDuration){const a=r.visualDuration,f=2*Math.PI/(a*1.2),m=f*f,g=2*Hs(.05,1,1-(r.bounce||0))*Math.sqrt(m);s={...s,mass:hn.mass,stiffness:m,damping:g}}else{const a=u3(r);s={...s,...a,mass:hn.mass},s.isResolvedFromDuration=!0}return s}function Gc(r=hn.visualDuration,s=hn.bounce){const a=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:s}:r;let{restSpeed:f,restDelta:m}=a;const g=a.keyframes[0],w=a.keyframes[a.keyframes.length-1],b={done:!1,value:g},{stiffness:N,damping:E,mass:T,duration:A,velocity:D,isResolvedFromDuration:B}=g3({...a,velocity:-$r(a.velocity||0)}),z=D||0,j=E/(2*Math.sqrt(N*T)),V=w-g,U=$r(Math.sqrt(N/T)),ne=Math.abs(V)<5;f||(f=ne?hn.restSpeed.granular:hn.restSpeed.default),m||(m=ne?hn.restDelta.granular:hn.restDelta.default);let Y;if(j<1){const fe=ff(U,j);Y=de=>{const $=Math.exp(-j*U*de);return w-$*((z+j*U*V)/fe*Math.sin(fe*de)+V*Math.cos(fe*de))}}else if(j===1)Y=fe=>w-Math.exp(-U*fe)*(V+(z+U*V)*fe);else{const fe=U*Math.sqrt(j*j-1);Y=de=>{const $=Math.exp(-j*U*de),J=Math.min(fe*de,300);return w-$*((z+j*U*V)*Math.sinh(J)+fe*V*Math.cosh(J))/fe}}const ie={calculatedDuration:B&&A||null,next:fe=>{const de=Y(fe);if(B)b.done=fe>=A;else{let $=fe===0?z:0;j<1&&($=fe===0?Ss(z):bp(Y,fe,de));const J=Math.abs($)<=f,K=Math.abs(w-de)<=m;b.done=J&&K}return b.value=b.done?w:de,b},toString:()=>{const fe=Math.min(n0(ie),Wc),de=Ep($=>ie.next(fe*$).value,fe,30);return fe+"ms "+de},toTransition:()=>{}};return ie}Gc.applyToOptions=r=>{const s=l3(r,100,Gc);return r.ease=s.ease,r.duration=Ss(s.duration),r.type="keyframes",r};function hf({keyframes:r,velocity:s=0,power:a=.8,timeConstant:f=325,bounceDamping:m=10,bounceStiffness:g=500,modifyTarget:w,min:b,max:N,restDelta:E=.5,restSpeed:T}){const A=r[0],D={done:!1,value:A},B=J=>b!==void 0&&J<b||N!==void 0&&J>N,z=J=>b===void 0?N:N===void 0||Math.abs(b-J)<Math.abs(N-J)?b:N;let j=a*s;const V=A+j,U=w===void 0?V:w(V);U!==V&&(j=U-A);const ne=J=>-j*Math.exp(-J/f),Y=J=>U+ne(J),ie=J=>{const K=ne(J),ge=Y(J);D.done=Math.abs(K)<=E,D.value=D.done?U:ge};let fe,de;const $=J=>{B(D.value)&&(fe=J,de=Gc({keyframes:[D.value,z(D.value)],velocity:bp(Y,J,D.value),damping:m,stiffness:g,restDelta:E,restSpeed:T}))};return $(0),{calculatedDuration:null,next:J=>{let K=!1;return!de&&fe===void 0&&(K=!0,ie(J),$(J)),fe!==void 0&&J>=fe?de.next(J-fe):(!K&&ie(J),D)}}}function p3(r,s,a){const f=[],m=a||Ws.mix||Cp,g=r.length-1;for(let w=0;w<g;w++){let b=m(r[w],r[w+1]);if(s){const N=Array.isArray(s)?s[w]||Qr:s;b=sl(N,b)}f.push(b)}return f}function x3(r,s,{clamp:a=!0,ease:f,mixer:m}={}){const g=r.length;if(Xf(g===s.length),g===1)return()=>s[0];if(g===2&&s[0]===s[1])return()=>s[1];const w=r[0]===r[1];r[0]>r[g-1]&&(r=[...r].reverse(),s=[...s].reverse());const b=p3(s,f,m),N=b.length,E=T=>{if(w&&T<r[0])return s[0];let A=0;if(N>1)for(;A<r.length-2&&!(T<r[A+1]);A++);const D=Qa(r[A],r[A+1],T);return b[A](D)};return a?T=>E(Hs(r[0],r[g-1],T)):E}function y3(r,s){const a=r[r.length-1];for(let f=1;f<=s;f++){const m=Qa(0,s,f);r.push(on(a,1,m))}}function w3(r){const s=[0];return y3(s,r.length-1),s}function v3(r,s){return r.map(a=>a*s)}function C3(r,s){return r.map(()=>s||dp).splice(0,r.length-1)}function Ga({duration:r=300,keyframes:s,times:a,ease:f="easeInOut"}){const m=Ov(f)?f.map(j1):j1(f),g={done:!1,value:s[0]},w=v3(a&&a.length===s.length?a:w3(s),r),b=x3(w,s,{ease:Array.isArray(m)?m:C3(s,m)});return{calculatedDuration:r,next:N=>(g.value=b(N),g.done=N>=r,g)}}const E3=r=>r!==null;function r0(r,{repeat:s,repeatType:a="loop"},f,m=1){const g=r.filter(E3),b=m<0||s&&a!=="loop"&&s%2===1?0:g.length-1;return!b||f===void 0?g[b]:f}const b3={decay:hf,inertia:hf,tween:Ga,keyframes:Ga,spring:Gc};function Ap(r){typeof r.type=="string"&&(r.type=b3[r.type])}class s0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const A3=r=>r/100;class i0 extends s0{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Ar.now()&&this.tick(Ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;Ap(s);const{type:a=Ga,repeat:f=0,repeatDelay:m=0,repeatType:g,velocity:w=0}=s;let{keyframes:b}=s;const N=a||Ga;N!==Ga&&typeof b[0]!="number"&&(this.mixKeyframes=sl(A3,Cp(b[0],b[1])),b=[0,100]);const E=N({...s,keyframes:b});g==="mirror"&&(this.mirroredGenerator=N({...s,keyframes:[...b].reverse(),velocity:-w})),E.calculatedDuration===null&&(E.calculatedDuration=n0(E));const{calculatedDuration:T}=E;this.calculatedDuration=T,this.resolvedDuration=T+m,this.totalDuration=this.resolvedDuration*(f+1)-m,this.generator=E}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:f,totalDuration:m,mixKeyframes:g,mirroredGenerator:w,resolvedDuration:b,calculatedDuration:N}=this;if(this.startTime===null)return f.next(0);const{delay:E=0,keyframes:T,repeat:A,repeatType:D,repeatDelay:B,type:z,onUpdate:j,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-m/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const U=this.currentTime-E*(this.playbackSpeed>=0?1:-1),ne=this.playbackSpeed>=0?U<0:U>m;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let Y=this.currentTime,ie=f;if(A){const J=Math.min(this.currentTime,m)/b;let K=Math.floor(J),ge=J%1;!ge&&J>=1&&(ge=1),ge===1&&K--,K=Math.min(K,A+1),!!(K%2)&&(D==="reverse"?(ge=1-ge,B&&(ge-=B/b)):D==="mirror"&&(ie=w)),Y=Hs(0,1,ge)*b}const fe=ne?{done:!1,value:T[0]}:ie.next(Y);g&&(fe.value=g(fe.value));let{done:de}=fe;!ne&&N!==null&&(de=this.playbackSpeed>=0?this.currentTime>=m:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return $&&z!==hf&&(fe.value=r0(T,this.options,V,this.speed)),j&&j(fe.value),$&&this.finish(),fe}then(s,a){return this.finished.then(s,a)}get duration(){return $r(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+$r(s)}get time(){return $r(this.currentTime)}set time(s){s=Ss(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Ar.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=$r(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=a3,startTime:a}=this.options;this.driver||(this.driver=s(m=>this.tick(m))),this.options.onPlay?.();const f=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=f):this.holdTime!==null?this.startTime=f-this.holdTime:this.startTime||(this.startTime=a??f),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function S3(r){for(let s=1;s<r.length;s++)r[s]??(r[s]=r[s-1])}const eo=r=>r*180/Math.PI,mf=r=>{const s=eo(Math.atan2(r[1],r[0]));return gf(s)},N3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:mf,rotateZ:mf,skewX:r=>eo(Math.atan(r[1])),skewY:r=>eo(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},gf=r=>(r=r%360,r<0&&(r+=360),r),W1=mf,G1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),X1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),T3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:G1,scaleY:X1,scale:r=>(G1(r)+X1(r))/2,rotateX:r=>gf(eo(Math.atan2(r[6],r[5]))),rotateY:r=>gf(eo(Math.atan2(-r[2],r[0]))),rotateZ:W1,rotate:W1,skewX:r=>eo(Math.atan(r[4])),skewY:r=>eo(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function pf(r){return r.includes("scale")?1:0}function xf(r,s){if(!r||r==="none")return pf(s);const a=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let f,m;if(a)f=T3,m=a;else{const b=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);f=N3,m=b}if(!m)return pf(s);const g=f[s],w=m[1].split(",").map(k3);return typeof g=="function"?g(w):w[g]}const I3=(r,s)=>{const{transform:a="none"}=getComputedStyle(r);return xf(a,s)};function k3(r){return parseFloat(r.trim())}const Jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ea=new Set(Jo),Y1=r=>r===Qo||r===et,R3=new Set(["x","y","z"]),_3=Jo.filter(r=>!R3.has(r));function O3(r){const s=[];return _3.forEach(a=>{const f=r.getValue(a);f!==void 0&&(s.push([a,f.get()]),f.set(a.startsWith("scale")?1:0))}),s}const to={width:({x:r},{paddingLeft:s="0",paddingRight:a="0"})=>r.max-r.min-parseFloat(s)-parseFloat(a),height:({y:r},{paddingTop:s="0",paddingBottom:a="0"})=>r.max-r.min-parseFloat(s)-parseFloat(a),top:(r,{top:s})=>parseFloat(s),left:(r,{left:s})=>parseFloat(s),bottom:({y:r},{top:s})=>parseFloat(s)+(r.max-r.min),right:({x:r},{left:s})=>parseFloat(s)+(r.max-r.min),x:(r,{transform:s})=>xf(s,"x"),y:(r,{transform:s})=>xf(s,"y")};to.translateX=to.x;to.translateY=to.y;const no=new Set;let yf=!1,wf=!1,vf=!1;function Sp(){if(wf){const r=Array.from(no).filter(f=>f.needsMeasurement),s=new Set(r.map(f=>f.element)),a=new Map;s.forEach(f=>{const m=O3(f);m.length&&(a.set(f,m),f.render())}),r.forEach(f=>f.measureInitialState()),s.forEach(f=>{f.render();const m=a.get(f);m&&m.forEach(([g,w])=>{f.getValue(g)?.set(w)})}),r.forEach(f=>f.measureEndState()),r.forEach(f=>{f.suspendedScrollY!==void 0&&window.scrollTo(0,f.suspendedScrollY)})}wf=!1,yf=!1,no.forEach(r=>r.complete(vf)),no.clear()}function Np(){no.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(wf=!0)})}function D3(){vf=!0,Np(),Sp(),vf=!1}class o0{constructor(s,a,f,m,g,w=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=f,this.motionValue=m,this.element=g,this.isAsync=w}scheduleResolve(){this.state="scheduled",this.isAsync?(no.add(this),yf||(yf=!0,Jt.read(Np),Jt.resolveKeyframes(Sp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:f,motionValue:m}=this;if(s[0]===null){const g=m?.get(),w=s[s.length-1];if(g!==void 0)s[0]=g;else if(f&&a){const b=f.readValue(a,w);b!=null&&(s[0]=b)}s[0]===void 0&&(s[0]=w),m&&g===void 0&&m.set(s[0])}S3(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),no.delete(this)}cancel(){this.state==="scheduled"&&(no.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const M3=r=>r.startsWith("--");function P3(r,s,a){M3(s)?r.style.setProperty(s,a):r.style[s]=a}const L3=Yf(()=>window.ScrollTimeline!==void 0),B3={};function j3(r,s){const a=Yf(r);return()=>B3[s]??a()}const Tp=j3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),za=([r,s,a,f])=>`cubic-bezier(${r}, ${s}, ${a}, ${f})`,K1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function Ip(r,s){if(r)return typeof r=="function"?Tp()?Ep(r,s):"ease-out":fp(r)?za(r):Array.isArray(r)?r.map(a=>Ip(a,s)||K1.easeOut):K1[r]}function F3(r,s,a,{delay:f=0,duration:m=300,repeat:g=0,repeatType:w="loop",ease:b="easeOut",times:N}={},E=void 0){const T={[s]:a};N&&(T.offset=N);const A=Ip(b,m);Array.isArray(A)&&(T.easing=A);const D={delay:f,duration:m,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:g+1,direction:w==="reverse"?"alternate":"normal"};return E&&(D.pseudoElement=E),r.animate(T,D)}function kp(r){return typeof r=="function"&&"applyToOptions"in r}function V3({type:r,...s}){return kp(r)&&Tp()?r.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class U3 extends s0{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:f,keyframes:m,pseudoElement:g,allowFlatten:w=!1,finalKeyframe:b,onComplete:N}=s;this.isPseudoElement=!!g,this.allowFlatten=w,this.options=s,Xf(typeof s.type!="string");const E=V3(s);this.animation=F3(a,f,m,E,g),E.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!g){const T=r0(m,this.options,b,this.speed);this.updateMotionValue?this.updateMotionValue(T):P3(a,f,T),this.animation.cancel()}N?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return $r(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+$r(s)}get time(){return $r(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Ss(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&L3()?(this.animation.timeline=s,Qr):a(this)}}const Rp={anticipate:lp,backInOut:ap,circInOut:up};function z3(r){return r in Rp}function H3(r){typeof r.ease=="string"&&z3(r.ease)&&(r.ease=Rp[r.ease])}const Z1=10;class W3 extends U3{constructor(s){H3(s),Ap(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:f,onComplete:m,element:g,...w}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const b=new i0({...w,autoplay:!1}),N=Ss(this.finishedTime??this.time);a.setWithVelocity(b.sample(N-Z1).value,b.sample(N).value,Z1),b.stop()}}const q1=(r,s)=>s==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Si.test(r)||r==="0")&&!r.startsWith("url("));function G3(r){const s=r[0];if(r.length===1)return!0;for(let a=0;a<r.length;a++)if(r[a]!==s)return!0}function X3(r,s,a,f){const m=r[0];if(m===null)return!1;if(s==="display"||s==="visibility")return!0;const g=r[r.length-1],w=q1(m,s),b=q1(g,s);return!w||!b?!1:G3(r)||(a==="spring"||kp(a))&&f}function Cf(r){r.duration=0,r.type="keyframes"}const Y3=new Set(["opacity","clipPath","filter","transform"]),K3=Yf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z3(r){const{motionValue:s,name:a,repeatDelay:f,repeatType:m,damping:g,type:w}=r;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:N,transformTemplate:E}=s.owner.getProps();return K3()&&a&&Y3.has(a)&&(a!=="transform"||!E)&&!N&&!f&&m!=="mirror"&&g!==0&&w!=="inertia"}const q3=40;class $3 extends s0{constructor({autoplay:s=!0,delay:a=0,type:f="keyframes",repeat:m=0,repeatDelay:g=0,repeatType:w="loop",keyframes:b,name:N,motionValue:E,element:T,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ar.now();const D={autoplay:s,delay:a,type:f,repeat:m,repeatDelay:g,repeatType:w,name:N,motionValue:E,element:T,...A},B=T?.KeyframeResolver||o0;this.keyframeResolver=new B(b,(z,j,V)=>this.onKeyframesResolved(z,j,D,!V),N,E,T),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,a,f,m){this.keyframeResolver=void 0;const{name:g,type:w,velocity:b,delay:N,isHandoff:E,onUpdate:T}=f;this.resolvedAt=Ar.now(),X3(s,g,w,b)||((Ws.instantAnimations||!N)&&T?.(r0(s,f,a)),s[0]=s[s.length-1],Cf(f),f.repeat=0);const D={startTime:m?this.resolvedAt?this.resolvedAt-this.createdAt>q3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...f,keyframes:s},B=!E&&Z3(D)?new W3({...D,element:D.motionValue.owner.current}):new i0(D);B.finished.then(()=>this.notifyFinished()).catch(Qr),this.pendingTimeline&&(this.stopTimeline=B.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=B}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),D3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Q3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J3(r){const s=Q3.exec(r);if(!s)return[,];const[,a,f,m]=s;return[`--${a??f}`,m]}function _p(r,s,a=1){const[f,m]=J3(r);if(!f)return;const g=window.getComputedStyle(s).getPropertyValue(f);if(g){const w=g.trim();return Jg(w)?parseFloat(w):w}return Qf(m)?_p(m,s,a+1):m}function a0(r,s){return r?.[s]??r?.default??r}const Op=new Set(["width","height","top","left","right","bottom",...Jo]),eC={test:r=>r==="auto",parse:r=>r},Dp=r=>s=>s.test(r),Mp=[Qo,et,Ns,Ci,Gv,Wv,eC],$1=r=>Mp.find(Dp(r));function tC(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||tp(r):!0}const nC=new Set(["brightness","contrast","saturate","opacity"]);function rC(r){const[s,a]=r.slice(0,-1).split("(");if(s==="drop-shadow")return r;const[f]=a.match(Jf)||[];if(!f)return r;const m=a.replace(f,"");let g=nC.has(s)?1:0;return f!==a&&(g*=100),s+"("+g+m+")"}const sC=/\b([a-z-]*)\(.*?\)/gu,Ef={...Si,getAnimatableNone:r=>{const s=r.match(sC);return s?s.map(rC).join(" "):r}},Q1={...Qo,transform:Math.round},iC={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:bc,scaleX:bc,scaleY:bc,scaleZ:bc,skew:Ci,skewX:Ci,skewY:Ci,distance:et,translateX:et,translateY:et,translateZ:et,x:et,y:et,z:et,perspective:et,transformPerspective:et,opacity:Ja,originX:F1,originY:F1,originZ:et},l0={borderWidth:et,borderTopWidth:et,borderRightWidth:et,borderBottomWidth:et,borderLeftWidth:et,borderRadius:et,radius:et,borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomRightRadius:et,borderBottomLeftRadius:et,width:et,maxWidth:et,height:et,maxHeight:et,top:et,right:et,bottom:et,left:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,backgroundPositionX:et,backgroundPositionY:et,...iC,zIndex:Q1,fillOpacity:Ja,strokeOpacity:Ja,numOctaves:Q1},oC={...l0,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:Ef,WebkitFilter:Ef},Pp=r=>oC[r];function Lp(r,s){let a=Pp(r);return a!==Ef&&(a=Si),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const aC=new Set(["auto","none","0"]);function lC(r,s,a){let f=0,m;for(;f<r.length&&!m;){const g=r[f];typeof g=="string"&&!aC.has(g)&&el(g).values.length&&(m=r[f]),f++}if(m&&a)for(const g of s)r[g]=Lp(a,m)}class cC extends o0{constructor(s,a,f,m,g){super(s,a,f,m,g,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:f}=this;if(!a||!a.current)return;super.readKeyframes();for(let N=0;N<s.length;N++){let E=s[N];if(typeof E=="string"&&(E=E.trim(),Qf(E))){const T=_p(E,a.current);T!==void 0&&(s[N]=T),N===s.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Op.has(f)||s.length!==2)return;const[m,g]=s,w=$1(m),b=$1(g);if(w!==b)if(Y1(w)&&Y1(b))for(let N=0;N<s.length;N++){const E=s[N];typeof E=="string"&&(s[N]=parseFloat(E))}else to[f]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,f=[];for(let m=0;m<s.length;m++)(s[m]===null||tC(s[m]))&&f.push(m);f.length&&lC(s,f,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:f}=this;if(!s||!s.current)return;f==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[f](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const m=a[a.length-1];m!==void 0&&s.getValue(f,m).jump(m,!1)}measureEndState(){const{element:s,name:a,unresolvedKeyframes:f}=this;if(!s||!s.current)return;const m=s.getValue(a);m&&m.jump(this.measuredOrigin,!1);const g=f.length-1,w=f[g];f[g]=to[a](s.measureViewportBox(),window.getComputedStyle(s.current)),w!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=w),this.removedTransforms?.length&&this.removedTransforms.forEach(([b,N])=>{s.getValue(b).set(N)}),this.resolveNoneKeyframes()}}function uC(r,s,a){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let f=document;const m=a?.[r]??f.querySelectorAll(r);return m?Array.from(m):[]}return Array.from(r)}const Bp=(r,s)=>s&&typeof r=="number"?s.transform(r):r;function jp(r){return ep(r)&&"offsetHeight"in r}const J1=30,dC=r=>!isNaN(parseFloat(r));class fC{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=f=>{const m=Ar.now();if(this.updatedAt!==m&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(f),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const g of this.dependents)g.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=dC(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Kf);const f=this.events[s].add(a);return s==="change"?()=>{f(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:f}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,a,f){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-f}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>J1)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,J1);return np(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Go(r,s){return new fC(r,s)}const{schedule:c0}=hp(queueMicrotask,!1),us={x:!1,y:!1};function Fp(){return us.x||us.y}function hC(r){return r==="x"||r==="y"?us[r]?null:(us[r]=!0,()=>{us[r]=!1}):us.x||us.y?null:(us.x=us.y=!0,()=>{us.x=us.y=!1})}function Vp(r,s){const a=uC(r),f=new AbortController,m={passive:!0,...s,signal:f.signal};return[a,m,()=>f.abort()]}function em(r){return!(r.pointerType==="touch"||Fp())}function mC(r,s,a={}){const[f,m,g]=Vp(r,a),w=b=>{if(!em(b))return;const{target:N}=b,E=s(N,b);if(typeof E!="function"||!N)return;const T=A=>{em(A)&&(E(A),N.removeEventListener("pointerleave",T))};N.addEventListener("pointerleave",T,m)};return f.forEach(b=>{b.addEventListener("pointerenter",w,m)}),g}const Up=(r,s)=>s?r===s?!0:Up(r,s.parentElement):!1,u0=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,gC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pC(r){return gC.has(r.tagName)||r.tabIndex!==-1}const Lc=new WeakSet;function tm(r){return s=>{s.key==="Enter"&&r(s)}}function Vd(r,s){r.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const xC=(r,s)=>{const a=r.currentTarget;if(!a)return;const f=tm(()=>{if(Lc.has(a))return;Vd(a,"down");const m=tm(()=>{Vd(a,"up")}),g=()=>Vd(a,"cancel");a.addEventListener("keyup",m,s),a.addEventListener("blur",g,s)});a.addEventListener("keydown",f,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",f),s)};function nm(r){return u0(r)&&!Fp()}function yC(r,s,a={}){const[f,m,g]=Vp(r,a),w=b=>{const N=b.currentTarget;if(!nm(b))return;Lc.add(N);const E=s(N,b),T=(B,z)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",D),Lc.has(N)&&Lc.delete(N),nm(B)&&typeof E=="function"&&E(B,{success:z})},A=B=>{T(B,N===window||N===document||a.useGlobalTarget||Up(N,B.target))},D=B=>{T(B,!1)};window.addEventListener("pointerup",A,m),window.addEventListener("pointercancel",D,m)};return f.forEach(b=>{(a.useGlobalTarget?window:b).addEventListener("pointerdown",w,m),jp(b)&&(b.addEventListener("focus",E=>xC(E,m)),!pC(b)&&!b.hasAttribute("tabindex")&&(b.tabIndex=0))}),g}function zp(r){return ep(r)&&"ownerSVGElement"in r}function wC(r){return zp(r)&&r.tagName==="svg"}const sr=r=>!!(r&&r.getVelocity),vC=[...Mp,Cn,Si],CC=r=>vC.find(Dp(r)),d0=M.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function rm(r,s){if(typeof r=="function")return r(s);r!=null&&(r.current=s)}function EC(...r){return s=>{let a=!1;const f=r.map(m=>{const g=rm(m,s);return!a&&typeof g=="function"&&(a=!0),g});if(a)return()=>{for(let m=0;m<f.length;m++){const g=f[m];typeof g=="function"?g():rm(r[m],null)}}}}function bC(...r){return M.useCallback(EC(...r),r)}class AC extends M.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const f=a.offsetParent,m=jp(f)&&f.offsetWidth||0,g=this.props.sizeRef.current;g.height=a.offsetHeight||0,g.width=a.offsetWidth||0,g.top=a.offsetTop,g.left=a.offsetLeft,g.right=m-g.width-g.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SC({children:r,isPresent:s,anchorX:a,root:f}){const m=M.useId(),g=M.useRef(null),w=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:b}=M.useContext(d0),N=bC(g,r?.ref);return M.useInsertionEffect(()=>{const{width:E,height:T,top:A,left:D,right:B}=w.current;if(s||!g.current||!E||!T)return;const z=a==="left"?`left: ${D}`:`right: ${B}`;g.current.dataset.motionPopId=m;const j=document.createElement("style");b&&(j.nonce=b);const V=f??document.head;return V.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${T}px !important;
            ${z}px !important;
            top: ${A}px !important;
          }
        `),()=>{V.contains(j)&&V.removeChild(j)}},[s]),y.jsx(AC,{isPresent:s,childRef:g,sizeRef:w,children:M.cloneElement(r,{ref:N})})}const NC=({children:r,initial:s,isPresent:a,onExitComplete:f,custom:m,presenceAffectsLayout:g,mode:w,anchorX:b,root:N})=>{const E=zf(TC),T=M.useId();let A=!0,D=M.useMemo(()=>(A=!1,{id:T,initial:s,isPresent:a,custom:m,onExitComplete:B=>{E.set(B,!0);for(const z of E.values())if(!z)return;f&&f()},register:B=>(E.set(B,!1),()=>E.delete(B))}),[a,E,f]);return g&&A&&(D={...D}),M.useMemo(()=>{E.forEach((B,z)=>E.set(z,!1))},[a]),M.useEffect(()=>{!a&&!E.size&&f&&f()},[a]),w==="popLayout"&&(r=y.jsx(SC,{isPresent:a,anchorX:b,root:N,children:r})),y.jsx(Qc.Provider,{value:D,children:r})};function TC(){return new Map}function Hp(r=!0){const s=M.useContext(Qc);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:f,register:m}=s,g=M.useId();M.useEffect(()=>{if(r)return m(g)},[r]);const w=M.useCallback(()=>r&&f&&f(g),[g,f,r]);return!a&&f?[!1,w]:[!0]}const Ac=r=>r.key||"";function sm(r){const s=[];return M.Children.forEach(r,a=>{M.isValidElement(a)&&s.push(a)}),s}const Wp=({children:r,custom:s,initial:a=!0,onExitComplete:f,presenceAffectsLayout:m=!0,mode:g="sync",propagate:w=!1,anchorX:b="left",root:N})=>{const[E,T]=Hp(w),A=M.useMemo(()=>sm(r),[r]),D=w&&!E?[]:A.map(Ac),B=M.useRef(!0),z=M.useRef(A),j=zf(()=>new Map),[V,U]=M.useState(A),[ne,Y]=M.useState(A);Qg(()=>{B.current=!1,z.current=A;for(let de=0;de<ne.length;de++){const $=Ac(ne[de]);D.includes($)?j.delete($):j.get($)!==!0&&j.set($,!1)}},[ne,D.length,D.join("-")]);const ie=[];if(A!==V){let de=[...A];for(let $=0;$<ne.length;$++){const J=ne[$],K=Ac(J);D.includes(K)||(de.splice($,0,J),ie.push(J))}return g==="wait"&&ie.length&&(de=ie),Y(sm(de)),U(A),null}const{forceRender:fe}=M.useContext(Uf);return y.jsx(y.Fragment,{children:ne.map(de=>{const $=Ac(de),J=w&&!E?!1:A===ne||D.includes($),K=()=>{if(j.has($))j.set($,!0);else return;let ge=!0;j.forEach(Pe=>{Pe||(ge=!1)}),ge&&(fe?.(),Y(z.current),w&&T?.(),f&&f())};return y.jsx(NC,{isPresent:J,initial:!B.current||a?void 0:!1,custom:s,presenceAffectsLayout:m,mode:g,root:N,onExitComplete:J?void 0:K,anchorX:b,children:de},$)})})},Gp=M.createContext({strict:!1}),im={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const r in im)Xo[r]={isEnabled:s=>im[r].some(a=>!!s[a])};function IC(r){for(const s in r)Xo[s]={...Xo[s],...r[s]}}const kC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||kC.has(r)}let Xp=r=>!Xc(r);function RC(r){typeof r=="function"&&(Xp=s=>s.startsWith("on")?!Xc(s):r(s))}try{RC(require("@emotion/is-prop-valid").default)}catch{}function _C(r,s,a){const f={};for(const m in r)m==="values"&&typeof r.values=="object"||(Xp(m)||a===!0&&Xc(m)||!s&&!Xc(m)||r.draggable&&m.startsWith("onDrag"))&&(f[m]=r[m]);return f}const Jc=M.createContext({});function eu(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function tl(r){return typeof r=="string"||Array.isArray(r)}const f0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h0=["initial",...f0];function tu(r){return eu(r.animate)||h0.some(s=>tl(r[s]))}function Yp(r){return!!(tu(r)||r.variants)}function OC(r,s){if(tu(r)){const{initial:a,animate:f}=r;return{initial:a===!1||tl(a)?a:void 0,animate:tl(f)?f:void 0}}return r.inherit!==!1?s:{}}function DC(r){const{initial:s,animate:a}=OC(r,M.useContext(Jc));return M.useMemo(()=>({initial:s,animate:a}),[om(s),om(a)])}function om(r){return Array.isArray(r)?r.join(" "):r}const nl={};function MC(r){for(const s in r)nl[s]=r[s],$f(s)&&(nl[s].isCSSVariable=!0)}function Kp(r,{layout:s,layoutId:a}){return ea.has(r)||r.startsWith("origin")||(s||a!==void 0)&&(!!nl[r]||r==="opacity")}const PC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LC=Jo.length;function BC(r,s,a){let f="",m=!0;for(let g=0;g<LC;g++){const w=Jo[g],b=r[w];if(b===void 0)continue;let N=!0;if(typeof b=="number"?N=b===(w.startsWith("scale")?1:0):N=parseFloat(b)===0,!N||a){const E=Bp(b,l0[w]);if(!N){m=!1;const T=PC[w]||w;f+=`${T}(${E}) `}a&&(s[w]=E)}}return f=f.trim(),a?f=a(s,m?"":f):m&&(f="none"),f}function m0(r,s,a){const{style:f,vars:m,transformOrigin:g}=r;let w=!1,b=!1;for(const N in s){const E=s[N];if(ea.has(N)){w=!0;continue}else if($f(N)){m[N]=E;continue}else{const T=Bp(E,l0[N]);N.startsWith("origin")?(b=!0,g[N]=T):f[N]=T}}if(s.transform||(w||a?f.transform=BC(s,r.transform,a):f.transform&&(f.transform="none")),b){const{originX:N="50%",originY:E="50%",originZ:T=0}=g;f.transformOrigin=`${N} ${E} ${T}`}}const g0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zp(r,s,a){for(const f in s)!sr(s[f])&&!Kp(f,a)&&(r[f]=s[f])}function jC({transformTemplate:r},s){return M.useMemo(()=>{const a=g0();return m0(a,s,r),Object.assign({},a.vars,a.style)},[s])}function FC(r,s){const a=r.style||{},f={};return Zp(f,a,r),Object.assign(f,jC(r,s)),f}function VC(r,s){const a={},f=FC(r,s);return r.drag&&r.dragListener!==!1&&(a.draggable=!1,f.userSelect=f.WebkitUserSelect=f.WebkitTouchCallout="none",f.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(a.tabIndex=0),a.style=f,a}const UC={offset:"stroke-dashoffset",array:"stroke-dasharray"},zC={offset:"strokeDashoffset",array:"strokeDasharray"};function HC(r,s,a=1,f=0,m=!0){r.pathLength=1;const g=m?UC:zC;r[g.offset]=et.transform(-f);const w=et.transform(s),b=et.transform(a);r[g.array]=`${w} ${b}`}function qp(r,{attrX:s,attrY:a,attrScale:f,pathLength:m,pathSpacing:g=1,pathOffset:w=0,...b},N,E,T){if(m0(r,b,E),N){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:A,style:D}=r;A.transform&&(D.transform=A.transform,delete A.transform),(D.transform||A.transformOrigin)&&(D.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),D.transform&&(D.transformBox=T?.transformBox??"fill-box",delete A.transformBox),s!==void 0&&(A.x=s),a!==void 0&&(A.y=a),f!==void 0&&(A.scale=f),m!==void 0&&HC(A,m,g,w,!1)}const $p=()=>({...g0(),attrs:{}}),Qp=r=>typeof r=="string"&&r.toLowerCase()==="svg";function WC(r,s,a,f){const m=M.useMemo(()=>{const g=$p();return qp(g,s,Qp(f),r.transformTemplate,r.style),{...g.attrs,style:{...g.style}}},[s]);if(r.style){const g={};Zp(g,r.style,r),m.style={...g,...m.style}}return m}const GC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p0(r){return typeof r!="string"||r.includes("-")?!1:!!(GC.indexOf(r)>-1||/[A-Z]/u.test(r))}function XC(r,s,a,{latestValues:f},m,g=!1){const b=(p0(r)?WC:VC)(s,f,m,r),N=_C(s,typeof r=="string",g),E=r!==M.Fragment?{...N,...b,ref:a}:{},{children:T}=s,A=M.useMemo(()=>sr(T)?T.get():T,[T]);return M.createElement(r,{...E,children:A})}function am(r){const s=[{},{}];return r?.values.forEach((a,f)=>{s[0][f]=a.get(),s[1][f]=a.getVelocity()}),s}function x0(r,s,a,f){if(typeof s=="function"){const[m,g]=am(f);s=s(a!==void 0?a:r.custom,m,g)}if(typeof s=="string"&&(s=r.variants&&r.variants[s]),typeof s=="function"){const[m,g]=am(f);s=s(a!==void 0?a:r.custom,m,g)}return s}function Bc(r){return sr(r)?r.get():r}function YC({scrapeMotionValuesFromProps:r,createRenderState:s},a,f,m){return{latestValues:KC(a,f,m,r),renderState:s()}}function KC(r,s,a,f){const m={},g=f(r,{});for(const D in g)m[D]=Bc(g[D]);let{initial:w,animate:b}=r;const N=tu(r),E=Yp(r);s&&E&&!N&&r.inherit!==!1&&(w===void 0&&(w=s.initial),b===void 0&&(b=s.animate));let T=a?a.initial===!1:!1;T=T||w===!1;const A=T?b:w;if(A&&typeof A!="boolean"&&!eu(A)){const D=Array.isArray(A)?A:[A];for(let B=0;B<D.length;B++){const z=x0(r,D[B]);if(z){const{transitionEnd:j,transition:V,...U}=z;for(const ne in U){let Y=U[ne];if(Array.isArray(Y)){const ie=T?Y.length-1:0;Y=Y[ie]}Y!==null&&(m[ne]=Y)}for(const ne in j)m[ne]=j[ne]}}}return m}const Jp=r=>(s,a)=>{const f=M.useContext(Jc),m=M.useContext(Qc),g=()=>YC(r,s,f,m);return a?g():zf(g)};function y0(r,s,a){const{style:f}=r,m={};for(const g in f)(sr(f[g])||s.style&&sr(s.style[g])||Kp(g,r)||a?.getValue(g)?.liveStyle!==void 0)&&(m[g]=f[g]);return m}const ZC=Jp({scrapeMotionValuesFromProps:y0,createRenderState:g0});function ex(r,s,a){const f=y0(r,s,a);for(const m in r)if(sr(r[m])||sr(s[m])){const g=Jo.indexOf(m)!==-1?"attr"+m.charAt(0).toUpperCase()+m.substring(1):m;f[g]=r[m]}return f}const qC=Jp({scrapeMotionValuesFromProps:ex,createRenderState:$p}),$C=Symbol.for("motionComponentSymbol");function Lo(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function QC(r,s,a){return M.useCallback(f=>{f&&r.onMount&&r.onMount(f),s&&(f?s.mount(f):s.unmount()),a&&(typeof a=="function"?a(f):Lo(a)&&(a.current=f))},[s])}const w0=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JC="framerAppearId",tx="data-"+w0(JC),nx=M.createContext({});function eE(r,s,a,f,m){const{visualElement:g}=M.useContext(Jc),w=M.useContext(Gp),b=M.useContext(Qc),N=M.useContext(d0).reducedMotion,E=M.useRef(null);f=f||w.renderer,!E.current&&f&&(E.current=f(r,{visualState:s,parent:g,props:a,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:N}));const T=E.current,A=M.useContext(nx);T&&!T.projection&&m&&(T.type==="html"||T.type==="svg")&&tE(E.current,a,m,A);const D=M.useRef(!1);M.useInsertionEffect(()=>{T&&D.current&&T.update(a,b)});const B=a[tx],z=M.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return Qg(()=>{T&&(D.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),z.current&&T.animationState&&T.animationState.animateChanges())}),M.useEffect(()=>{T&&(!z.current&&T.animationState&&T.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),z.current=!1),T.enteringChildren=void 0)}),T}function tE(r,s,a,f){const{layoutId:m,layout:g,drag:w,dragConstraints:b,layoutScroll:N,layoutRoot:E,layoutCrossfade:T}=s;r.projection=new a(r.latestValues,s["data-framer-portal-id"]?void 0:rx(r.parent)),r.projection.setOptions({layoutId:m,layout:g,alwaysMeasureLayout:!!w||b&&Lo(b),visualElement:r,animationType:typeof g=="string"?g:"both",initialPromotionConfig:f,crossfade:T,layoutScroll:N,layoutRoot:E})}function rx(r){if(r)return r.options.allowProjection!==!1?r.projection:rx(r.parent)}function Ud(r,{forwardMotionProps:s=!1}={},a,f){a&&IC(a);const m=p0(r)?qC:ZC;function g(b,N){let E;const T={...M.useContext(d0),...b,layoutId:nE(b)},{isStatic:A}=T,D=DC(b),B=m(b,A);if(!A&&Hf){rE();const z=sE(T);E=z.MeasureLayout,D.visualElement=eE(r,B,T,f,z.ProjectionNode)}return y.jsxs(Jc.Provider,{value:D,children:[E&&D.visualElement?y.jsx(E,{visualElement:D.visualElement,...T}):null,XC(r,b,QC(B,D.visualElement,N),B,A,s)]})}g.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const w=M.forwardRef(g);return w[$C]=r,w}function nE({layoutId:r}){const s=M.useContext(Uf).id;return s&&r!==void 0?s+"-"+r:r}function rE(r,s){M.useContext(Gp).strict}function sE(r){const{drag:s,layout:a}=Xo;if(!s&&!a)return{};const f={...s,...a};return{MeasureLayout:s?.isEnabled(r)||a?.isEnabled(r)?f.MeasureLayout:void 0,ProjectionNode:f.ProjectionNode}}function iE(r,s){if(typeof Proxy>"u")return Ud;const a=new Map,f=(g,w)=>Ud(g,w,r,s),m=(g,w)=>f(g,w);return new Proxy(m,{get:(g,w)=>w==="create"?f:(a.has(w)||a.set(w,Ud(w,void 0,r,s)),a.get(w))})}function sx({top:r,left:s,right:a,bottom:f}){return{x:{min:s,max:a},y:{min:r,max:f}}}function oE({x:r,y:s}){return{top:s.min,right:r.max,bottom:s.max,left:r.min}}function aE(r,s){if(!s)return r;const a=s({x:r.left,y:r.top}),f=s({x:r.right,y:r.bottom});return{top:a.y,left:a.x,bottom:f.y,right:f.x}}function zd(r){return r===void 0||r===1}function bf({scale:r,scaleX:s,scaleY:a}){return!zd(r)||!zd(s)||!zd(a)}function Qi(r){return bf(r)||ix(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function ix(r){return lm(r.x)||lm(r.y)}function lm(r){return r&&r!=="0%"}function Yc(r,s,a){const f=r-a,m=s*f;return a+m}function cm(r,s,a,f,m){return m!==void 0&&(r=Yc(r,m,f)),Yc(r,a,f)+s}function Af(r,s=0,a=1,f,m){r.min=cm(r.min,s,a,f,m),r.max=cm(r.max,s,a,f,m)}function ox(r,{x:s,y:a}){Af(r.x,s.translate,s.scale,s.originPoint),Af(r.y,a.translate,a.scale,a.originPoint)}const um=.999999999999,dm=1.0000000000001;function lE(r,s,a,f=!1){const m=a.length;if(!m)return;s.x=s.y=1;let g,w;for(let b=0;b<m;b++){g=a[b],w=g.projectionDelta;const{visualElement:N}=g.options;N&&N.props.style&&N.props.style.display==="contents"||(f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&jo(r,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),w&&(s.x*=w.x.scale,s.y*=w.y.scale,ox(r,w)),f&&Qi(g.latestValues)&&jo(r,g.latestValues))}s.x<dm&&s.x>um&&(s.x=1),s.y<dm&&s.y>um&&(s.y=1)}function Bo(r,s){r.min=r.min+s,r.max=r.max+s}function fm(r,s,a,f,m=.5){const g=on(r.min,r.max,m);Af(r,s,a,g,f)}function jo(r,s){fm(r.x,s.x,s.scaleX,s.scale,s.originX),fm(r.y,s.y,s.scaleY,s.scale,s.originY)}function ax(r,s){return sx(aE(r.getBoundingClientRect(),s))}function cE(r,s,a){const f=ax(r,a),{scroll:m}=s;return m&&(Bo(f.x,m.offset.x),Bo(f.y,m.offset.y)),f}const hm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:hm(),y:hm()}),mm=()=>({min:0,max:0}),yn=()=>({x:mm(),y:mm()}),Sf={current:null},lx={current:!1};function uE(){if(lx.current=!0,!!Hf)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),s=()=>Sf.current=r.matches;r.addEventListener("change",s),s()}else Sf.current=!1}const dE=new WeakMap;function fE(r,s,a){for(const f in s){const m=s[f],g=a[f];if(sr(m))r.addValue(f,m);else if(sr(g))r.addValue(f,Go(m,{owner:r}));else if(g!==m)if(r.hasValue(f)){const w=r.getValue(f);w.liveStyle===!0?w.jump(m):w.hasAnimated||w.set(m)}else{const w=r.getStaticValue(f);r.addValue(f,Go(w!==void 0?w:m,{owner:r}))}}for(const f in a)s[f]===void 0&&r.removeValue(f);return s}const gm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hE{scrapeMotionValuesFromProps(s,a,f){return{}}constructor({parent:s,props:a,presenceContext:f,reducedMotionConfig:m,blockInitialAnimation:g,visualState:w},b={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const D=Ar.now();this.renderScheduledAt<D&&(this.renderScheduledAt=D,Jt.render(this.render,!1,!0))};const{latestValues:N,renderState:E}=w;this.latestValues=N,this.baseTarget={...N},this.initialValues=a.initial?{...N}:{},this.renderState=E,this.parent=s,this.props=a,this.presenceContext=f,this.depth=s?s.depth+1:0,this.reducedMotionConfig=m,this.options=b,this.blockInitialAnimation=!!g,this.isControllingVariants=tu(a),this.isVariantNode=Yp(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:T,...A}=this.scrapeMotionValuesFromProps(a,{},this);for(const D in A){const B=A[D];N[D]!==void 0&&sr(B)&&B.set(N[D])}}mount(s){this.current=s,dE.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,f)=>this.bindToMotionValue(f,a)),lx.current||uE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ai(this.notifyUpdate),Ai(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const f=ea.has(s);f&&this.onBindTransform&&this.onBindTransform();const m=a.on("change",w=>{this.latestValues[s]=w,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),f&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let g;window.MotionCheckAppearSync&&(g=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{m(),g&&g(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Xo){const a=Xo[s];if(!a)continue;const{isEnabled:f,Feature:m}=a;if(!this.features[s]&&m&&f(this.props)&&(this.features[s]=new m(this)),this.features[s]){const g=this.features[s];g.isMounted?g.update():(g.mount(),g.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let f=0;f<gm.length;f++){const m=gm[f];this.propEventSubscriptions[m]&&(this.propEventSubscriptions[m](),delete this.propEventSubscriptions[m]);const g="on"+m,w=s[g];w&&(this.propEventSubscriptions[m]=this.on(m,w))}this.prevMotionValues=fE(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const f=this.values.get(s);a!==f&&(f&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let f=this.values.get(s);return f===void 0&&a!==void 0&&(f=Go(a===null?void 0:a,{owner:this}),this.addValue(s,f)),f}readValue(s,a){let f=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return f!=null&&(typeof f=="string"&&(Jg(f)||tp(f))?f=parseFloat(f):!CC(f)&&Si.test(a)&&(f=Lp(s,a)),this.setBaseTarget(s,sr(f)?f.get():f)),sr(f)?f.get():f}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){const{initial:a}=this.props;let f;if(typeof a=="string"||typeof a=="object"){const g=x0(this.props,a,this.presenceContext?.custom);g&&(f=g[s])}if(a&&f!==void 0)return f;const m=this.getBaseTargetFromProps(this.props,s);return m!==void 0&&!sr(m)?m:this.initialValues[s]!==void 0&&f===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Kf),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}scheduleRenderMicrotask(){c0.render(this.render)}}class cx extends hE{constructor(){super(...arguments),this.KeyframeResolver=cC}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:f}){delete a[s],delete f[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;sr(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function ux(r,{style:s,vars:a},f,m){const g=r.style;let w;for(w in s)g[w]=s[w];m?.applyProjectionStyles(g,f);for(w in a)g.setProperty(w,a[w])}function mE(r){return window.getComputedStyle(r)}class gE extends cx{constructor(){super(...arguments),this.type="html",this.renderInstance=ux}readValueFromInstance(s,a){if(ea.has(a))return this.projection?.isProjecting?pf(a):I3(s,a);{const f=mE(s),m=($f(a)?f.getPropertyValue(a):f[a])||0;return typeof m=="string"?m.trim():m}}measureInstanceViewportBox(s,{transformPagePoint:a}){return ax(s,a)}build(s,a,f){m0(s,a,f.transformTemplate)}scrapeMotionValuesFromProps(s,a,f){return y0(s,a,f)}}const dx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pE(r,s,a,f){ux(r,s,void 0,f);for(const m in s.attrs)r.setAttribute(dx.has(m)?m:w0(m),s.attrs[m])}class xE extends cx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(ea.has(a)){const f=Pp(a);return f&&f.default||0}return a=dx.has(a)?a:w0(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,f){return ex(s,a,f)}build(s,a,f){qp(s,a,this.isSVGTag,f.transformTemplate,f.style)}renderInstance(s,a,f,m){pE(s,a,f,m)}mount(s){this.isSVGTag=Qp(s.tagName),super.mount(s)}}const yE=(r,s)=>p0(r)?new xE(s):new gE(s,{allowProjection:r!==M.Fragment});function Ho(r,s,a){const f=r.getProps();return x0(f,s,a!==void 0?a:f.custom,r)}const Nf=r=>Array.isArray(r);function wE(r,s,a){r.hasValue(s)?r.getValue(s).set(a):r.addValue(s,Go(a))}function vE(r){return Nf(r)?r[r.length-1]||0:r}function CE(r,s){const a=Ho(r,s);let{transitionEnd:f={},transition:m={},...g}=a||{};g={...g,...f};for(const w in g){const b=vE(g[w]);wE(r,w,b)}}function EE(r){return!!(sr(r)&&r.add)}function Tf(r,s){const a=r.getValue("willChange");if(EE(a))return a.add(s);if(!a&&Ws.WillChange){const f=new Ws.WillChange("auto");r.addValue("willChange",f),f.add(s)}}function fx(r){return r.props[tx]}const bE=r=>r!==null;function AE(r,{repeat:s,repeatType:a="loop"},f){const m=r.filter(bE),g=s&&a!=="loop"&&s%2===1?0:m.length-1;return m[g]}const SE={type:"spring",stiffness:500,damping:25,restSpeed:10},NE=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),TE={type:"keyframes",duration:.8},IE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kE=(r,{keyframes:s})=>s.length>2?TE:ea.has(r)?r.startsWith("scale")?NE(s[1]):SE:IE;function RE({when:r,delay:s,delayChildren:a,staggerChildren:f,staggerDirection:m,repeat:g,repeatType:w,repeatDelay:b,from:N,elapsed:E,...T}){return!!Object.keys(T).length}const v0=(r,s,a,f={},m,g)=>w=>{const b=a0(f,r)||{},N=b.delay||f.delay||0;let{elapsed:E=0}=f;E=E-Ss(N);const T={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...b,delay:-E,onUpdate:D=>{s.set(D),b.onUpdate&&b.onUpdate(D)},onComplete:()=>{w(),b.onComplete&&b.onComplete()},name:r,motionValue:s,element:g?void 0:m};RE(b)||Object.assign(T,kE(r,T)),T.duration&&(T.duration=Ss(T.duration)),T.repeatDelay&&(T.repeatDelay=Ss(T.repeatDelay)),T.from!==void 0&&(T.keyframes[0]=T.from);let A=!1;if((T.type===!1||T.duration===0&&!T.repeatDelay)&&(Cf(T),T.delay===0&&(A=!0)),(Ws.instantAnimations||Ws.skipAnimations)&&(A=!0,Cf(T),T.delay=0),T.allowFlatten=!b.type&&!b.ease,A&&!g&&s.get()!==void 0){const D=AE(T.keyframes,b);if(D!==void 0){Jt.update(()=>{T.onUpdate(D),T.onComplete()});return}}return b.isSync?new i0(T):new $3(T)};function _E({protectedKeys:r,needsAnimating:s},a){const f=r.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,f}function hx(r,s,{delay:a=0,transitionOverride:f,type:m}={}){let{transition:g=r.getDefaultTransition(),transitionEnd:w,...b}=s;f&&(g=f);const N=[],E=m&&r.animationState&&r.animationState.getState()[m];for(const T in b){const A=r.getValue(T,r.latestValues[T]??null),D=b[T];if(D===void 0||E&&_E(E,T))continue;const B={delay:a,...a0(g||{},T)},z=A.get();if(z!==void 0&&!A.isAnimating&&!Array.isArray(D)&&D===z&&!B.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const U=fx(r);if(U){const ne=window.MotionHandoffAnimation(U,T,Jt);ne!==null&&(B.startTime=ne,j=!0)}}Tf(r,T),A.start(v0(T,A,D,r.shouldReduceMotion&&Op.has(T)?{type:!1}:B,r,j));const V=A.animation;V&&N.push(V)}return w&&Promise.all(N).then(()=>{Jt.update(()=>{w&&CE(r,w)})}),N}function mx(r,s,a,f=0,m=1){const g=Array.from(r).sort((E,T)=>E.sortNodePosition(T)).indexOf(s),w=r.size,b=(w-1)*f;return typeof a=="function"?a(g,w):m===1?g*f:b-g*f}function If(r,s,a={}){const f=Ho(r,s,a.type==="exit"?r.presenceContext?.custom:void 0);let{transition:m=r.getDefaultTransition()||{}}=f||{};a.transitionOverride&&(m=a.transitionOverride);const g=f?()=>Promise.all(hx(r,f,a)):()=>Promise.resolve(),w=r.variantChildren&&r.variantChildren.size?(N=0)=>{const{delayChildren:E=0,staggerChildren:T,staggerDirection:A}=m;return OE(r,s,N,E,T,A,a)}:()=>Promise.resolve(),{when:b}=m;if(b){const[N,E]=b==="beforeChildren"?[g,w]:[w,g];return N().then(()=>E())}else return Promise.all([g(),w(a.delay)])}function OE(r,s,a=0,f=0,m=0,g=1,w){const b=[];for(const N of r.variantChildren)N.notify("AnimationStart",s),b.push(If(N,s,{...w,delay:a+(typeof f=="function"?0:f)+mx(r.variantChildren,N,f,m,g)}).then(()=>N.notify("AnimationComplete",s)));return Promise.all(b)}function DE(r,s,a={}){r.notify("AnimationStart",s);let f;if(Array.isArray(s)){const m=s.map(g=>If(r,g,a));f=Promise.all(m)}else if(typeof s=="string")f=If(r,s,a);else{const m=typeof s=="function"?Ho(r,s,a.custom):s;f=Promise.all(hx(r,m,a))}return f.then(()=>{r.notify("AnimationComplete",s)})}function gx(r,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==r.length)return!1;for(let f=0;f<a;f++)if(s[f]!==r[f])return!1;return!0}const ME=h0.length;function px(r){if(!r)return;if(!r.isControllingVariants){const a=r.parent?px(r.parent)||{}:{};return r.props.initial!==void 0&&(a.initial=r.props.initial),a}const s={};for(let a=0;a<ME;a++){const f=h0[a],m=r.props[f];(tl(m)||m===!1)&&(s[f]=m)}return s}const PE=[...f0].reverse(),LE=f0.length;function BE(r){return s=>Promise.all(s.map(({animation:a,options:f})=>DE(r,a,f)))}function jE(r){let s=BE(r),a=pm(),f=!0;const m=N=>(E,T)=>{const A=Ho(r,T,N==="exit"?r.presenceContext?.custom:void 0);if(A){const{transition:D,transitionEnd:B,...z}=A;E={...E,...z,...B}}return E};function g(N){s=N(r)}function w(N){const{props:E}=r,T=px(r.parent)||{},A=[],D=new Set;let B={},z=1/0;for(let V=0;V<LE;V++){const U=PE[V],ne=a[U],Y=E[U]!==void 0?E[U]:T[U],ie=tl(Y),fe=U===N?ne.isActive:null;fe===!1&&(z=V);let de=Y===T[U]&&Y!==E[U]&&ie;if(de&&f&&r.manuallyAnimateOnMount&&(de=!1),ne.protectedKeys={...B},!ne.isActive&&fe===null||!Y&&!ne.prevProp||eu(Y)||typeof Y=="boolean")continue;const $=FE(ne.prevProp,Y);let J=$||U===N&&ne.isActive&&!de&&ie||V>z&&ie,K=!1;const ge=Array.isArray(Y)?Y:[Y];let Pe=ge.reduce(m(U),{});fe===!1&&(Pe={});const{prevResolvedValues:Ee={}}=ne,De={...Ee,...Pe},me=te=>{J=!0,D.has(te)&&(K=!0,D.delete(te)),ne.needsAnimating[te]=!0;const ee=r.getValue(te);ee&&(ee.liveStyle=!1)};for(const te in De){const ee=Pe[te],Ce=Ee[te];if(B.hasOwnProperty(te))continue;let pe=!1;Nf(ee)&&Nf(Ce)?pe=!gx(ee,Ce):pe=ee!==Ce,pe?ee!=null?me(te):D.add(te):ee!==void 0&&D.has(te)?me(te):ne.protectedKeys[te]=!0}ne.prevProp=Y,ne.prevResolvedValues=Pe,ne.isActive&&(B={...B,...Pe}),f&&r.blockInitialAnimation&&(J=!1);const G=de&&$;J&&(!G||K)&&A.push(...ge.map(te=>{const ee={type:U};if(typeof te=="string"&&f&&!G&&r.manuallyAnimateOnMount&&r.parent){const{parent:Ce}=r,pe=Ho(Ce,te);if(Ce.enteringChildren&&pe){const{delayChildren:Z}=pe.transition||{};ee.delay=mx(Ce.enteringChildren,r,Z)}}return{animation:te,options:ee}}))}if(D.size){const V={};if(typeof E.initial!="boolean"){const U=Ho(r,Array.isArray(E.initial)?E.initial[0]:E.initial);U&&U.transition&&(V.transition=U.transition)}D.forEach(U=>{const ne=r.getBaseTarget(U),Y=r.getValue(U);Y&&(Y.liveStyle=!0),V[U]=ne??null}),A.push({animation:V})}let j=!!A.length;return f&&(E.initial===!1||E.initial===E.animate)&&!r.manuallyAnimateOnMount&&(j=!1),f=!1,j?s(A):Promise.resolve()}function b(N,E){if(a[N].isActive===E)return Promise.resolve();r.variantChildren?.forEach(A=>A.animationState?.setActive(N,E)),a[N].isActive=E;const T=w(N);for(const A in a)a[A].protectedKeys={};return T}return{animateChanges:w,setActive:b,setAnimateFunction:g,getState:()=>a,reset:()=>{a=pm()}}}function FE(r,s){return typeof s=="string"?s!==r:Array.isArray(s)?!gx(s,r):!1}function $i(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pm(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class Ni{constructor(s){this.isMounted=!1,this.node=s}update(){}}class VE extends Ni{constructor(s){super(s),s.animationState||(s.animationState=jE(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();eu(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UE=0;class zE extends Ni{constructor(){super(...arguments),this.id=UE++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:f}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===f)return;const m=this.node.animationState.setActive("exit",!s);a&&!s&&m.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const HE={animation:{Feature:VE},exit:{Feature:zE}};function rl(r,s,a,f={passive:!0}){return r.addEventListener(s,a,f),()=>r.removeEventListener(s,a)}function al(r){return{point:{x:r.pageX,y:r.pageY}}}const WE=r=>s=>u0(s)&&r(s,al(s));function Xa(r,s,a,f){return rl(r,s,WE(a),f)}const xx=1e-4,GE=1-xx,XE=1+xx,yx=.01,YE=0-yx,KE=0+yx;function hr(r){return r.max-r.min}function ZE(r,s,a){return Math.abs(r-s)<=a}function xm(r,s,a,f=.5){r.origin=f,r.originPoint=on(s.min,s.max,r.origin),r.scale=hr(a)/hr(s),r.translate=on(a.min,a.max,r.origin)-r.originPoint,(r.scale>=GE&&r.scale<=XE||isNaN(r.scale))&&(r.scale=1),(r.translate>=YE&&r.translate<=KE||isNaN(r.translate))&&(r.translate=0)}function Ya(r,s,a,f){xm(r.x,s.x,a.x,f?f.originX:void 0),xm(r.y,s.y,a.y,f?f.originY:void 0)}function ym(r,s,a){r.min=a.min+s.min,r.max=r.min+hr(s)}function qE(r,s,a){ym(r.x,s.x,a.x),ym(r.y,s.y,a.y)}function wm(r,s,a){r.min=s.min-a.min,r.max=r.min+hr(s)}function Ka(r,s,a){wm(r.x,s.x,a.x),wm(r.y,s.y,a.y)}function qr(r){return[r("x"),r("y")]}const wx=({current:r})=>r?r.ownerDocument.defaultView:null,vm=(r,s)=>Math.abs(r-s);function $E(r,s){const a=vm(r.x,s.x),f=vm(r.y,s.y);return Math.sqrt(a**2+f**2)}class vx{constructor(s,a,{transformPagePoint:f,contextWindow:m=window,dragSnapToOrigin:g=!1,distanceThreshold:w=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Wd(this.lastMoveEventInfo,this.history),B=this.startEvent!==null,z=$E(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!B&&!z)return;const{point:j}=D,{timestamp:V}=Yn;this.history.push({...j,timestamp:V});const{onStart:U,onMove:ne}=this.handlers;B||(U&&U(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),ne&&ne(this.lastMoveEvent,D)},this.handlePointerMove=(D,B)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=Hd(B,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(D,B)=>{this.end();const{onEnd:z,onSessionEnd:j,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Wd(D.type==="pointercancel"?this.lastMoveEventInfo:Hd(B,this.transformPagePoint),this.history);this.startEvent&&z&&z(D,U),j&&j(D,U)},!u0(s))return;this.dragSnapToOrigin=g,this.handlers=a,this.transformPagePoint=f,this.distanceThreshold=w,this.contextWindow=m||window;const b=al(s),N=Hd(b,this.transformPagePoint),{point:E}=N,{timestamp:T}=Yn;this.history=[{...E,timestamp:T}];const{onSessionStart:A}=a;A&&A(s,Wd(N,this.history)),this.removeListeners=sl(Xa(this.contextWindow,"pointermove",this.handlePointerMove),Xa(this.contextWindow,"pointerup",this.handlePointerUp),Xa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Ai(this.updatePoint)}}function Hd(r,s){return s?{point:s(r.point)}:r}function Cm(r,s){return{x:r.x-s.x,y:r.y-s.y}}function Wd({point:r},s){return{point:r,delta:Cm(r,Cx(s)),offset:Cm(r,QE(s)),velocity:JE(s,.1)}}function QE(r){return r[0]}function Cx(r){return r[r.length-1]}function JE(r,s){if(r.length<2)return{x:0,y:0};let a=r.length-1,f=null;const m=Cx(r);for(;a>=0&&(f=r[a],!(m.timestamp-f.timestamp>Ss(s)));)a--;if(!f)return{x:0,y:0};const g=$r(m.timestamp-f.timestamp);if(g===0)return{x:0,y:0};const w={x:(m.x-f.x)/g,y:(m.y-f.y)/g};return w.x===1/0&&(w.x=0),w.y===1/0&&(w.y=0),w}function eb(r,{min:s,max:a},f){return s!==void 0&&r<s?r=f?on(s,r,f.min):Math.max(r,s):a!==void 0&&r>a&&(r=f?on(a,r,f.max):Math.min(r,a)),r}function Em(r,s,a){return{min:s!==void 0?r.min+s:void 0,max:a!==void 0?r.max+a-(r.max-r.min):void 0}}function tb(r,{top:s,left:a,bottom:f,right:m}){return{x:Em(r.x,a,m),y:Em(r.y,s,f)}}function bm(r,s){let a=s.min-r.min,f=s.max-r.max;return s.max-s.min<r.max-r.min&&([a,f]=[f,a]),{min:a,max:f}}function nb(r,s){return{x:bm(r.x,s.x),y:bm(r.y,s.y)}}function rb(r,s){let a=.5;const f=hr(r),m=hr(s);return m>f?a=Qa(s.min,s.max-f,r.min):f>m&&(a=Qa(r.min,r.max-m,s.min)),Hs(0,1,a)}function sb(r,s){const a={};return s.min!==void 0&&(a.min=s.min-r.min),s.max!==void 0&&(a.max=s.max-r.min),a}const kf=.35;function ib(r=kf){return r===!1?r=0:r===!0&&(r=kf),{x:Am(r,"left","right"),y:Am(r,"top","bottom")}}function Am(r,s,a){return{min:Sm(r,s),max:Sm(r,a)}}function Sm(r,s){return typeof r=="number"?r:r[s]||0}const ob=new WeakMap;class ab{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:f}={}){const{presenceContext:m}=this.visualElement;if(m&&m.isPresent===!1)return;const g=A=>{const{dragSnapToOrigin:D}=this.getProps();D?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(al(A).point)},w=(A,D)=>{const{drag:B,dragPropagation:z,onDragStart:j}=this.getProps();if(B&&!z&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hC(B),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=D,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(U=>{let ne=this.getAxisMotionValue(U).get()||0;if(Ns.test(ne)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const ie=Y.layout.layoutBox[U];ie&&(ne=hr(ie)*(parseFloat(ne)/100))}}this.originPoint[U]=ne}),j&&Jt.postRender(()=>j(A,D)),Tf(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},b=(A,D)=>{this.latestPointerEvent=A,this.latestPanInfo=D;const{dragPropagation:B,dragDirectionLock:z,onDirectionLock:j,onDrag:V}=this.getProps();if(!B&&!this.openDragLock)return;const{offset:U}=D;if(z&&this.currentDirection===null){this.currentDirection=lb(U),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",D.point,U),this.updateAxis("y",D.point,U),this.visualElement.render(),V&&V(A,D)},N=(A,D)=>{this.latestPointerEvent=A,this.latestPanInfo=D,this.stop(A,D),this.latestPointerEvent=null,this.latestPanInfo=null},E=()=>qr(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:T}=this.getProps();this.panSession=new vx(s,{onSessionStart:g,onStart:w,onMove:b,onSessionEnd:N,resumeAnimation:E},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:T,distanceThreshold:f,contextWindow:wx(this.visualElement)})}stop(s,a){const f=s||this.latestPointerEvent,m=a||this.latestPanInfo,g=this.isDragging;if(this.cancel(),!g||!m||!f)return;const{velocity:w}=m;this.startAnimation(w);const{onDragEnd:b}=this.getProps();b&&Jt.postRender(()=>b(f,m))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:f}=this.getProps();!f&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,f){const{drag:m}=this.getProps();if(!f||!Sc(s,m,this.currentDirection))return;const g=this.getAxisMotionValue(s);let w=this.originPoint[s]+f[s];this.constraints&&this.constraints[s]&&(w=eb(w,this.constraints[s],this.elastic[s])),g.set(w)}resolveConstraints(){const{dragConstraints:s,dragElastic:a}=this.getProps(),f=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,m=this.constraints;s&&Lo(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&f?this.constraints=tb(f.layoutBox,s):this.constraints=!1,this.elastic=ib(a),m!==this.constraints&&f&&this.constraints&&!this.hasMutatedConstraints&&qr(g=>{this.constraints!==!1&&this.getAxisMotionValue(g)&&(this.constraints[g]=sb(f.layoutBox[g],this.constraints[g]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!Lo(s))return!1;const f=s.current,{projection:m}=this.visualElement;if(!m||!m.layout)return!1;const g=cE(f,m.root,this.visualElement.getTransformPagePoint());let w=nb(m.layout.layoutBox,g);if(a){const b=a(oE(w));this.hasMutatedConstraints=!!b,b&&(w=sx(b))}return w}startAnimation(s){const{drag:a,dragMomentum:f,dragElastic:m,dragTransition:g,dragSnapToOrigin:w,onDragTransitionEnd:b}=this.getProps(),N=this.constraints||{},E=qr(T=>{if(!Sc(T,a,this.currentDirection))return;let A=N&&N[T]||{};w&&(A={min:0,max:0});const D=m?200:1e6,B=m?40:1e7,z={type:"inertia",velocity:f?s[T]:0,bounceStiffness:D,bounceDamping:B,timeConstant:750,restDelta:1,restSpeed:10,...g,...A};return this.startAxisValueAnimation(T,z)});return Promise.all(E).then(b)}startAxisValueAnimation(s,a){const f=this.getAxisMotionValue(s);return Tf(this.visualElement,s),f.start(v0(s,f,0,a,this.visualElement,!1))}stopAnimation(){qr(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){qr(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,f=this.visualElement.getProps(),m=f[a];return m||this.visualElement.getValue(s,(f.initial?f.initial[s]:void 0)||0)}snapToCursor(s){qr(a=>{const{drag:f}=this.getProps();if(!Sc(a,f,this.currentDirection))return;const{projection:m}=this.visualElement,g=this.getAxisMotionValue(a);if(m&&m.layout){const{min:w,max:b}=m.layout.layoutBox[a];g.set(s[a]-on(w,b,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:f}=this.visualElement;if(!Lo(a)||!f||!this.constraints)return;this.stopAnimation();const m={x:0,y:0};qr(w=>{const b=this.getAxisMotionValue(w);if(b&&this.constraints!==!1){const N=b.get();m[w]=rb({min:N,max:N},this.constraints[w])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.current.style.transform=g?g({},""):"none",f.root&&f.root.updateScroll(),f.updateLayout(),this.resolveConstraints(),qr(w=>{if(!Sc(w,s,null))return;const b=this.getAxisMotionValue(w),{min:N,max:E}=this.constraints[w];b.set(on(N,E,m[w]))})}addListeners(){if(!this.visualElement.current)return;ob.set(this.visualElement,this);const s=this.visualElement.current,a=Xa(s,"pointerdown",N=>{const{drag:E,dragListener:T=!0}=this.getProps();E&&T&&this.start(N)}),f=()=>{const{dragConstraints:N}=this.getProps();Lo(N)&&N.current&&(this.constraints=this.resolveRefConstraints())},{projection:m}=this.visualElement,g=m.addEventListener("measure",f);m&&!m.layout&&(m.root&&m.root.updateScroll(),m.updateLayout()),Jt.read(f);const w=rl(window,"resize",()=>this.scalePositionWithinConstraints()),b=m.addEventListener("didUpdate",(({delta:N,hasLayoutChanged:E})=>{this.isDragging&&E&&(qr(T=>{const A=this.getAxisMotionValue(T);A&&(this.originPoint[T]+=N[T].translate,A.set(A.get()+N[T].translate))}),this.visualElement.render())}));return()=>{w(),a(),g(),b&&b()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:f=!1,dragPropagation:m=!1,dragConstraints:g=!1,dragElastic:w=kf,dragMomentum:b=!0}=s;return{...s,drag:a,dragDirectionLock:f,dragPropagation:m,dragConstraints:g,dragElastic:w,dragMomentum:b}}}function Sc(r,s,a){return(s===!0||s===r)&&(a===null||a===r)}function lb(r,s=10){let a=null;return Math.abs(r.y)>s?a="y":Math.abs(r.x)>s&&(a="x"),a}class cb extends Ni{constructor(s){super(s),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new ab(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nm=r=>(s,a)=>{r&&Jt.postRender(()=>r(s,a))};class ub extends Ni{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(s){this.session=new vx(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wx(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:f,onPanEnd:m}=this.node.getProps();return{onSessionStart:Nm(s),onStart:Nm(a),onMove:f,onEnd:(g,w)=>{delete this.session,m&&Jt.postRender(()=>m(g,w))}}}mount(){this.removePointerDownListener=Xa(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tm(r,s){return s.max===s.min?0:r/(s.max-s.min)*100}const Va={correct:(r,s)=>{if(!s.target)return r;if(typeof r=="string")if(et.test(r))r=parseFloat(r);else return r;const a=Tm(r,s.target.x),f=Tm(r,s.target.y);return`${a}% ${f}%`}},db={correct:(r,{treeScale:s,projectionDelta:a})=>{const f=r,m=Si.parse(r);if(m.length>5)return f;const g=Si.createTransformer(r),w=typeof m[0]!="number"?1:0,b=a.x.scale*s.x,N=a.y.scale*s.y;m[0+w]/=b,m[1+w]/=N;const E=on(b,N,.5);return typeof m[2+w]=="number"&&(m[2+w]/=E),typeof m[3+w]=="number"&&(m[3+w]/=E),g(m)}};let Gd=!1;class fb extends M.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:f,layoutId:m}=this.props,{projection:g}=s;MC(hb),g&&(a.group&&a.group.add(g),f&&f.register&&m&&f.register(g),Gd&&g.root.didUpdate(),g.addEventListener("animationComplete",()=>{this.safeToRemove()}),g.setOptions({...g.options,onExitComplete:()=>this.safeToRemove()})),jc.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:f,drag:m,isPresent:g}=this.props,{projection:w}=f;return w&&(w.isPresent=g,Gd=!0,m||s.layoutDependency!==a||a===void 0||s.isPresent!==g?w.willUpdate():this.safeToRemove(),s.isPresent!==g&&(g?w.promote():w.relegate()||Jt.postRender(()=>{const b=w.getStack();(!b||!b.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),c0.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:f}=this.props,{projection:m}=s;Gd=!0,m&&(m.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(m),f&&f.deregister&&f.deregister(m))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function Ex(r){const[s,a]=Hp(),f=M.useContext(Uf);return y.jsx(fb,{...r,layoutGroup:f,switchLayoutGroup:M.useContext(nx),isPresent:s,safeToRemove:a})}const hb={borderRadius:{...Va,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Va,borderTopRightRadius:Va,borderBottomLeftRadius:Va,borderBottomRightRadius:Va,boxShadow:db};function mb(r,s,a){const f=sr(r)?r:Go(r);return f.start(v0("",f,s,a)),f.animation}const gb=(r,s)=>r.depth-s.depth;class pb{constructor(){this.children=[],this.isDirty=!1}add(s){Wf(this.children,s),this.isDirty=!0}remove(s){Gf(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(gb),this.isDirty=!1,this.children.forEach(s)}}function xb(r,s){const a=Ar.now(),f=({timestamp:m})=>{const g=m-a;g>=s&&(Ai(f),r(g-s))};return Jt.setup(f,!0),()=>Ai(f)}const bx=["TopLeft","TopRight","BottomLeft","BottomRight"],yb=bx.length,Im=r=>typeof r=="string"?parseFloat(r):r,km=r=>typeof r=="number"||et.test(r);function wb(r,s,a,f,m,g){m?(r.opacity=on(0,a.opacity??1,vb(f)),r.opacityExit=on(s.opacity??1,0,Cb(f))):g&&(r.opacity=on(s.opacity??1,a.opacity??1,f));for(let w=0;w<yb;w++){const b=`border${bx[w]}Radius`;let N=Rm(s,b),E=Rm(a,b);if(N===void 0&&E===void 0)continue;N||(N=0),E||(E=0),N===0||E===0||km(N)===km(E)?(r[b]=Math.max(on(Im(N),Im(E),f),0),(Ns.test(E)||Ns.test(N))&&(r[b]+="%")):r[b]=E}(s.rotate||a.rotate)&&(r.rotate=on(s.rotate||0,a.rotate||0,f))}function Rm(r,s){return r[s]!==void 0?r[s]:r.borderRadius}const vb=Ax(0,.5,cp),Cb=Ax(.5,.95,Qr);function Ax(r,s,a){return f=>f<r?0:f>s?1:a(Qa(r,s,f))}function _m(r,s){r.min=s.min,r.max=s.max}function Zr(r,s){_m(r.x,s.x),_m(r.y,s.y)}function Om(r,s){r.translate=s.translate,r.scale=s.scale,r.originPoint=s.originPoint,r.origin=s.origin}function Dm(r,s,a,f,m){return r-=s,r=Yc(r,1/a,f),m!==void 0&&(r=Yc(r,1/m,f)),r}function Eb(r,s=0,a=1,f=.5,m,g=r,w=r){if(Ns.test(s)&&(s=parseFloat(s),s=on(w.min,w.max,s/100)-w.min),typeof s!="number")return;let b=on(g.min,g.max,f);r===g&&(b-=s),r.min=Dm(r.min,s,a,b,m),r.max=Dm(r.max,s,a,b,m)}function Mm(r,s,[a,f,m],g,w){Eb(r,s[a],s[f],s[m],s.scale,g,w)}const bb=["x","scaleX","originX"],Ab=["y","scaleY","originY"];function Pm(r,s,a,f){Mm(r.x,s,bb,a?a.x:void 0,f?f.x:void 0),Mm(r.y,s,Ab,a?a.y:void 0,f?f.y:void 0)}function Lm(r){return r.translate===0&&r.scale===1}function Sx(r){return Lm(r.x)&&Lm(r.y)}function Bm(r,s){return r.min===s.min&&r.max===s.max}function Sb(r,s){return Bm(r.x,s.x)&&Bm(r.y,s.y)}function jm(r,s){return Math.round(r.min)===Math.round(s.min)&&Math.round(r.max)===Math.round(s.max)}function Nx(r,s){return jm(r.x,s.x)&&jm(r.y,s.y)}function Fm(r){return hr(r.x)/hr(r.y)}function Vm(r,s){return r.translate===s.translate&&r.scale===s.scale&&r.originPoint===s.originPoint}class Nb{constructor(){this.members=[]}add(s){Wf(this.members,s),s.scheduleRender()}remove(s){if(Gf(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(m=>s===m);if(a===0)return!1;let f;for(let m=a;m>=0;m--){const g=this.members[m];if(g.isPresent!==!1){f=g;break}}return f?(this.promote(f),!0):!1}promote(s,a){const f=this.lead;if(s!==f&&(this.prevLead=f,this.lead=s,s.show(),f)){f.instance&&f.scheduleRender(),s.scheduleRender(),s.resumeFrom=f,a&&(s.resumeFrom.preserveOpacity=!0),f.snapshot&&(s.snapshot=f.snapshot,s.snapshot.latestValues=f.animationValues||f.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:m}=s.options;m===!1&&f.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:f}=s;a.onExitComplete&&a.onExitComplete(),f&&f.options.onExitComplete&&f.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tb(r,s,a){let f="";const m=r.x.translate/s.x,g=r.y.translate/s.y,w=a?.z||0;if((m||g||w)&&(f=`translate3d(${m}px, ${g}px, ${w}px) `),(s.x!==1||s.y!==1)&&(f+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:E,rotate:T,rotateX:A,rotateY:D,skewX:B,skewY:z}=a;E&&(f=`perspective(${E}px) ${f}`),T&&(f+=`rotate(${T}deg) `),A&&(f+=`rotateX(${A}deg) `),D&&(f+=`rotateY(${D}deg) `),B&&(f+=`skewX(${B}deg) `),z&&(f+=`skewY(${z}deg) `)}const b=r.x.scale*s.x,N=r.y.scale*s.y;return(b!==1||N!==1)&&(f+=`scale(${b}, ${N})`),f||"none"}const Xd=["","X","Y","Z"],Ib=1e3;let kb=0;function Yd(r,s,a,f){const{latestValues:m}=s;m[r]&&(a[r]=m[r],s.setStaticValue(r,0),f&&(f[r]=0))}function Tx(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:s}=r.options;if(!s)return;const a=fx(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:m,layoutId:g}=r.options;window.MotionCancelOptimisedAnimation(a,"transform",Jt,!(m||g))}const{parent:f}=r;f&&!f.hasCheckedOptimisedAppear&&Tx(f)}function Ix({attachResizeListener:r,defaultParent:s,measureScroll:a,checkIsScrollRoot:f,resetTransform:m}){return class{constructor(w={},b=s?.()){this.id=kb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ob),this.nodes.forEach(Lb),this.nodes.forEach(Bb),this.nodes.forEach(Db)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=w,this.root=b?b.root||b:this,this.path=b?[...b.path,b]:[],this.parent=b,this.depth=b?b.depth+1:0;for(let N=0;N<this.path.length;N++)this.path[N].shouldResetTransform=!0;this.root===this&&(this.nodes=new pb)}addEventListener(w,b){return this.eventHandlers.has(w)||this.eventHandlers.set(w,new Kf),this.eventHandlers.get(w).add(b)}notifyListeners(w,...b){const N=this.eventHandlers.get(w);N&&N.notify(...b)}hasListeners(w){return this.eventHandlers.has(w)}mount(w){if(this.instance)return;this.isSVG=zp(w)&&!wC(w),this.instance=w;const{layoutId:b,layout:N,visualElement:E}=this.options;if(E&&!E.current&&E.mount(w),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(N||b)&&(this.isLayoutDirty=!0),r){let T,A=0;const D=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{A=window.innerWidth}),r(w,()=>{const B=window.innerWidth;B!==A&&(A=B,this.root.updateBlockedByResize=!0,T&&T(),T=xb(D,250),jc.hasAnimatedSinceResize&&(jc.hasAnimatedSinceResize=!1,this.nodes.forEach(Hm)))})}b&&this.root.registerSharedNode(b,this),this.options.animate!==!1&&E&&(b||N)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:A,hasRelativeLayoutChanged:D,layout:B})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const z=this.options.transition||E.getDefaultTransition()||zb,{onLayoutAnimationStart:j,onLayoutAnimationComplete:V}=E.getProps(),U=!this.targetLayout||!Nx(this.targetLayout,B),ne=!A&&D;if(this.options.layoutRoot||this.resumeFrom||ne||A&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...a0(z,"layout"),onPlay:j,onComplete:V};(E.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(T,ne)}else A||Hm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=B})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const w=this.getStack();w&&w.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jb),this.animationId++)}getTransformTemplate(){const{visualElement:w}=this.options;return w&&w.getProps().transformTemplate}willUpdate(w=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const A=this.path[T];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:b,layout:N}=this.options;if(b===void 0&&!N)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),w&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Um);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pb),this.nodes.forEach(Rb),this.nodes.forEach(_b)):this.nodes.forEach(zm),this.clearAllSnapshots();const b=Ar.now();Yn.delta=Hs(0,1e3/60,b-Yn.timestamp),Yn.timestamp=b,Yn.isProcessing=!0,Pd.update.process(Yn),Pd.preRender.process(Yn),Pd.render.process(Yn),Yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mb),this.sharedNodes.forEach(Fb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let N=0;N<this.path.length;N++)this.path[N].updateScroll();const w=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,w?w.layoutBox:void 0)}updateScroll(w="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===w&&(b=!1),b&&this.instance){const N=f(this.instance);this.scroll={animationId:this.root.animationId,phase:w,isRoot:N,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:N}}}resetTransform(){if(!m)return;const w=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!Sx(this.projectionDelta),N=this.getTransformTemplate(),E=N?N(this.latestValues,""):void 0,T=E!==this.prevTransformTemplateValue;w&&this.instance&&(b||Qi(this.latestValues)||T)&&(m(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(w=!0){const b=this.measurePageBox();let N=this.removeElementScroll(b);return w&&(N=this.removeTransform(N)),Hb(N),{animationId:this.root.animationId,measuredBox:b,layoutBox:N,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:w}=this.options;if(!w)return yn();const b=w.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Wb))){const{scroll:E}=this.root;E&&(Bo(b.x,E.offset.x),Bo(b.y,E.offset.y))}return b}removeElementScroll(w){const b=yn();if(Zr(b,w),this.scroll?.wasRoot)return b;for(let N=0;N<this.path.length;N++){const E=this.path[N],{scroll:T,options:A}=E;E!==this.root&&T&&A.layoutScroll&&(T.wasRoot&&Zr(b,w),Bo(b.x,T.offset.x),Bo(b.y,T.offset.y))}return b}applyTransform(w,b=!1){const N=yn();Zr(N,w);for(let E=0;E<this.path.length;E++){const T=this.path[E];!b&&T.options.layoutScroll&&T.scroll&&T!==T.root&&jo(N,{x:-T.scroll.offset.x,y:-T.scroll.offset.y}),Qi(T.latestValues)&&jo(N,T.latestValues)}return Qi(this.latestValues)&&jo(N,this.latestValues),N}removeTransform(w){const b=yn();Zr(b,w);for(let N=0;N<this.path.length;N++){const E=this.path[N];if(!E.instance||!Qi(E.latestValues))continue;bf(E.latestValues)&&E.updateSnapshot();const T=yn(),A=E.measurePageBox();Zr(T,A),Pm(b,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,T)}return Qi(this.latestValues)&&Pm(b,this.latestValues),b}setTargetDelta(w){this.targetDelta=w,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(w){this.options={...this.options,...w,crossfade:w.crossfade!==void 0?w.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(w=!1){const b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);const N=!!this.resumingFrom||this!==b;if(!(w||N&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:A}=this.options;if(!(!this.layout||!(T||A))){if(this.resolvedRelativeTargetAt=Yn.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Ka(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zr(this.target,this.layout.layoutBox),ox(this.target,this.targetDelta)):Zr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Ka(this.relativeTargetOrigin,this.target,D.target),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bf(this.parent.latestValues)||ix(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const w=this.getLead(),b=!!this.resumingFrom||this!==w;let N=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(N=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(N=!1),this.resolvedRelativeTargetAt===Yn.timestamp&&(N=!1),N)return;const{layout:E,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||T))return;Zr(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,D=this.treeScale.y;lE(this.layoutCorrected,this.treeScale,this.path,b),w.layout&&!w.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(w.target=w.layout.layoutBox,w.targetWithTransforms=yn());const{target:B}=w;if(!B){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Om(this.prevProjectionDelta.x,this.projectionDelta.x),Om(this.prevProjectionDelta.y,this.projectionDelta.y)),Ya(this.projectionDelta,this.layoutCorrected,B,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==D||!Vm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",B))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(w=!0){if(this.options.visualElement?.scheduleRender(),w){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(w,b=!1){const N=this.snapshot,E=N?N.latestValues:{},T={...this.latestValues},A=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;const D=yn(),B=N?N.source:void 0,z=this.layout?this.layout.source:void 0,j=B!==z,V=this.getStack(),U=!V||V.members.length<=1,ne=!!(j&&!U&&this.options.crossfade===!0&&!this.path.some(Ub));this.animationProgress=0;let Y;this.mixTargetDelta=ie=>{const fe=ie/1e3;Wm(A.x,w.x,fe),Wm(A.y,w.y,fe),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ka(D,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vb(this.relativeTarget,this.relativeTargetOrigin,D,fe),Y&&Sb(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=yn()),Zr(Y,this.relativeTarget)),j&&(this.animationValues=T,wb(T,E,this.latestValues,fe,ne,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=fe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(w){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{jc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Go(0)),this.currentAnimation=mb(this.motionValue,[0,1e3],{...w,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),w.onUpdate&&w.onUpdate(b)},onStop:()=>{},onComplete:()=>{w.onComplete&&w.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const w=this.getStack();w&&w.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ib),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const w=this.getLead();let{targetWithTransforms:b,target:N,layout:E,latestValues:T}=w;if(!(!b||!N||!E)){if(this!==w&&this.layout&&E&&kx(this.options.animationType,this.layout.layoutBox,E.layoutBox)){N=this.target||yn();const A=hr(this.layout.layoutBox.x);N.x.min=w.target.x.min,N.x.max=N.x.min+A;const D=hr(this.layout.layoutBox.y);N.y.min=w.target.y.min,N.y.max=N.y.min+D}Zr(b,N),jo(b,T),Ya(this.projectionDeltaWithTransform,this.layoutCorrected,b,T)}}registerSharedNode(w,b){this.sharedNodes.has(w)||this.sharedNodes.set(w,new Nb),this.sharedNodes.get(w).add(b);const E=b.options.initialPromotionConfig;b.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(b):void 0})}isLead(){const w=this.getStack();return w?w.lead===this:!0}getLead(){const{layoutId:w}=this.options;return w?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:w}=this.options;return w?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:w}=this.options;if(w)return this.root.sharedNodes.get(w)}promote({needsReset:w,transition:b,preserveFollowOpacity:N}={}){const E=this.getStack();E&&E.promote(this,N),w&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){const w=this.getStack();return w?w.relegate(this):!1}resetSkewAndRotation(){const{visualElement:w}=this.options;if(!w)return;let b=!1;const{latestValues:N}=w;if((N.z||N.rotate||N.rotateX||N.rotateY||N.rotateZ||N.skewX||N.skewY)&&(b=!0),!b)return;const E={};N.z&&Yd("z",w,E,this.animationValues);for(let T=0;T<Xd.length;T++)Yd(`rotate${Xd[T]}`,w,E,this.animationValues),Yd(`skew${Xd[T]}`,w,E,this.animationValues);w.render();for(const T in E)w.setStaticValue(T,E[T]),this.animationValues&&(this.animationValues[T]=E[T]);w.scheduleRender()}applyProjectionStyles(w,b){if(!this.instance||this.isSVG)return;if(!this.isVisible){w.visibility="hidden";return}const N=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,w.visibility="",w.opacity="",w.pointerEvents=Bc(b?.pointerEvents)||"",w.transform=N?N(this.latestValues,""):"none";return}const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Bc(b?.pointerEvents)||""),this.hasProjected&&!Qi(this.latestValues)&&(w.transform=N?N({},""):"none",this.hasProjected=!1);return}w.visibility="";const T=E.animationValues||E.latestValues;this.applyTransformsToTarget();let A=Tb(this.projectionDeltaWithTransform,this.treeScale,T);N&&(A=N(T,A)),w.transform=A;const{x:D,y:B}=this.projectionDelta;w.transformOrigin=`${D.origin*100}% ${B.origin*100}% 0`,E.animationValues?w.opacity=E===this?T.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:w.opacity=E===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const z in nl){if(T[z]===void 0)continue;const{correct:j,applyTo:V,isCSSVariable:U}=nl[z],ne=A==="none"?T[z]:j(T[z],E);if(V){const Y=V.length;for(let ie=0;ie<Y;ie++)w[V[ie]]=ne}else U?this.options.visualElement.renderState.vars[z]=ne:w[z]=ne}this.options.layoutId&&(w.pointerEvents=E===this?Bc(b?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(w=>w.currentAnimation?.stop()),this.root.nodes.forEach(Um),this.root.sharedNodes.clear()}}}function Rb(r){r.updateLayout()}function _b(r){const s=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&s&&r.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:f}=r.layout,{animationType:m}=r.options,g=s.source!==r.layout.source;m==="size"?qr(T=>{const A=g?s.measuredBox[T]:s.layoutBox[T],D=hr(A);A.min=a[T].min,A.max=A.min+D}):kx(m,s.layoutBox,a)&&qr(T=>{const A=g?s.measuredBox[T]:s.layoutBox[T],D=hr(a[T]);A.max=A.min+D,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[T].max=r.relativeTarget[T].min+D)});const w=Fo();Ya(w,a,s.layoutBox);const b=Fo();g?Ya(b,r.applyTransform(f,!0),s.measuredBox):Ya(b,a,s.layoutBox);const N=!Sx(w);let E=!1;if(!r.resumeFrom){const T=r.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:A,layout:D}=T;if(A&&D){const B=yn();Ka(B,s.layoutBox,A.layoutBox);const z=yn();Ka(z,a,D.layoutBox),Nx(B,z)||(E=!0),T.options.layoutRoot&&(r.relativeTarget=z,r.relativeTargetOrigin=B,r.relativeParent=T)}}}r.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:b,layoutDelta:w,hasLayoutChanged:N,hasRelativeLayoutChanged:E})}else if(r.isLead()){const{onExitComplete:a}=r.options;a&&a()}r.options.transition=void 0}function Ob(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Db(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function Mb(r){r.clearSnapshot()}function Um(r){r.clearMeasurements()}function zm(r){r.isLayoutDirty=!1}function Pb(r){const{visualElement:s}=r.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),r.resetTransform()}function Hm(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function Lb(r){r.resolveTargetDelta()}function Bb(r){r.calcProjection()}function jb(r){r.resetSkewAndRotation()}function Fb(r){r.removeLeadSnapshot()}function Wm(r,s,a){r.translate=on(s.translate,0,a),r.scale=on(s.scale,1,a),r.origin=s.origin,r.originPoint=s.originPoint}function Gm(r,s,a,f){r.min=on(s.min,a.min,f),r.max=on(s.max,a.max,f)}function Vb(r,s,a,f){Gm(r.x,s.x,a.x,f),Gm(r.y,s.y,a.y,f)}function Ub(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const zb={duration:.45,ease:[.4,0,.1,1]},Xm=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Ym=Xm("applewebkit/")&&!Xm("chrome/")?Math.round:Qr;function Km(r){r.min=Ym(r.min),r.max=Ym(r.max)}function Hb(r){Km(r.x),Km(r.y)}function kx(r,s,a){return r==="position"||r==="preserve-aspect"&&!ZE(Fm(s),Fm(a),.2)}function Wb(r){return r!==r.root&&r.scroll?.wasRoot}const Gb=Ix({attachResizeListener:(r,s)=>rl(r,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kd={current:void 0},Rx=Ix({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Kd.current){const r=new Gb({});r.mount(window),r.setOptions({layoutScroll:!0}),Kd.current=r}return Kd.current},resetTransform:(r,s)=>{r.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),Xb={pan:{Feature:ub},drag:{Feature:cb,ProjectionNode:Rx,MeasureLayout:Ex}};function Zm(r,s,a){const{props:f}=r;r.animationState&&f.whileHover&&r.animationState.setActive("whileHover",a==="Start");const m="onHover"+a,g=f[m];g&&Jt.postRender(()=>g(s,al(s)))}class Yb extends Ni{mount(){const{current:s}=this.node;s&&(this.unmount=mC(s,(a,f)=>(Zm(this.node,f,"Start"),m=>Zm(this.node,m,"End"))))}unmount(){}}class Kb extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sl(rl(this.node.current,"focus",()=>this.onFocus()),rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qm(r,s,a){const{props:f}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&f.whileTap&&r.animationState.setActive("whileTap",a==="Start");const m="onTap"+(a==="End"?"":a),g=f[m];g&&Jt.postRender(()=>g(s,al(s)))}class Zb extends Ni{mount(){const{current:s}=this.node;s&&(this.unmount=yC(s,(a,f)=>(qm(this.node,f,"Start"),(m,{success:g})=>qm(this.node,m,g?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rf=new WeakMap,Zd=new WeakMap,qb=r=>{const s=Rf.get(r.target);s&&s(r)},$b=r=>{r.forEach(qb)};function Qb({root:r,...s}){const a=r||document;Zd.has(a)||Zd.set(a,{});const f=Zd.get(a),m=JSON.stringify(s);return f[m]||(f[m]=new IntersectionObserver($b,{root:r,...s})),f[m]}function Jb(r,s,a){const f=Qb(s);return Rf.set(r,a),f.observe(r),()=>{Rf.delete(r),f.unobserve(r)}}const e4={some:0,all:1};class t4 extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:f,amount:m="some",once:g}=s,w={root:a?a.current:void 0,rootMargin:f,threshold:typeof m=="number"?m:e4[m]},b=N=>{const{isIntersecting:E}=N;if(this.isInView===E||(this.isInView=E,g&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:T,onViewportLeave:A}=this.node.getProps(),D=E?T:A;D&&D(N)};return Jb(this.node.current,w,b)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(n4(s,a))&&this.startObserver()}unmount(){}}function n4({viewport:r={}},{viewport:s={}}={}){return a=>r[a]!==s[a]}const r4={inView:{Feature:t4},tap:{Feature:Zb},focus:{Feature:Kb},hover:{Feature:Yb}},s4={layout:{ProjectionNode:Rx,MeasureLayout:Ex}},i4={...HE,...r4,...Xb,...s4},Kn=iE(i4,yE);function $m({onNavigateToRewards:r}){const s=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",a=localStorage.getItem("usuario_id"),f=localStorage.getItem("token"),[m,g]=M.useState(0),[w,b]=M.useState(!1),[N,E]=M.useState(!0),[T,A]=M.useState([]),D=()=>({"Content-Type":"application/json",Authorization:`Bearer ${f}`}),B=async()=>{if(!(!a||!f))try{const V=await fetch(`${s}/obtenerPuntos?usuario_id=${a}`,{headers:D()});if(!V.ok)throw new Error(`HTTP error! status: ${V.status}`);const U=await V.json();g(U.puntos||0)}catch(V){console.error("Error al obtener puntos:",V)}},z=async()=>{if(!(!a||!f))try{const V=await fetch(`${s}/obtenerHistorial?usuario_id=${a}`,{headers:D()});if(!V.ok)throw new Error(`HTTP error! status: ${V.status}`);const ne=(await V.json()).sort((Y,ie)=>new Date(ie.date).getTime()-new Date(Y.date).getTime());A(ne)}catch(V){console.error("Error al obtener historial:",V)}};M.useEffect(()=>{a&&f?(async()=>{E(!0);try{await Promise.all([B(),z()])}catch(U){console.error("Error cargando datos:",U)}finally{E(!1)}})():E(!1)},[a,f]);const j=w?T:T.slice(0,4);return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Hola,"}),y.jsx("h1",{className:"text-gray-900 dark:text-white",children:localStorage.getItem("usuario_nombre")})]}),y.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:y.jsx(bi,{className:"w-10 h-10 text-white"})})]}),y.jsx(Kn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:y.jsx(Lt,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6 border-0",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(bi,{className:"w-5 h-5"}),y.jsx("span",{className:"text-emerald-100",children:"Balance disponible"})]}),y.jsx("div",{className:"space-y-1",children:y.jsx("div",{className:"flex items-baseline gap-1",children:m?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-4xl font-semibold",children:m.toLocaleString()}),y.jsx("span",{className:"text-xl text-emerald-100",children:"ecopoints"})]}):y.jsx("span",{className:"text-sm text-emerald-100 italic",children:"Cargando..."})})}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsxs(pt,{className:"flex-1 bg-white text-emerald-600 hover:bg-emerald-50",onClick:r,children:[y.jsx($a,{className:"w-4 h-4 mr-2"}),"Canjear"]}),y.jsx(pt,{className:"flex-1 bg-emerald-600 border border-white/30 text-white hover:bg-emerald-800",onClick:r,children:"Ver premios"})]})]})})}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Actividad reciente"}),y.jsxs("button",{onClick:()=>b(!w),className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1",children:[w?"Ver menos":"Ver todo",y.jsx(Rw,{className:"w-4 h-4"})]})]}),y.jsx("div",{className:`space-y-3 ${w?"max-h-[400px] overflow-y-auto pr-2":""}`,children:j.map(V=>y.jsx(Kn.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2},children:y.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center bg-emerald-100 dark:bg-emerald-900 ${V.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:V.type==="scan"?y.jsx(bi,{className:"lucide lucide-leaf w-5 h-5 text-emerald-600 dark:text-emerald-400"}):y.jsx($a,{className:"w-5 h-5 text-orange-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:V.description}),y.jsx("p",{className:"text-gray-500 text-sm dark:text-gray-400",children:V.location})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:`${V.type==="scan"?"text-emerald-600 dark:text-emerald-400":"text-orange-600"} font-semibold`,children:[V.type==="scan"?"+":"-",V.points]}),y.jsx("p",{className:"text-gray-500 text-sm",children:new Date(V.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})})},V.id))})]})]})}var je;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(je||(je={}));var Qm=new Map([[je.QR_CODE,"QR_CODE"],[je.AZTEC,"AZTEC"],[je.CODABAR,"CODABAR"],[je.CODE_39,"CODE_39"],[je.CODE_93,"CODE_93"],[je.CODE_128,"CODE_128"],[je.DATA_MATRIX,"DATA_MATRIX"],[je.MAXICODE,"MAXICODE"],[je.ITF,"ITF"],[je.EAN_13,"EAN_13"],[je.EAN_8,"EAN_8"],[je.PDF_417,"PDF_417"],[je.RSS_14,"RSS_14"],[je.RSS_EXPANDED,"RSS_EXPANDED"],[je.UPC_A,"UPC_A"],[je.UPC_E,"UPC_E"],[je.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Jm;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(Jm||(Jm={}));function o4(r){return Object.values(je).includes(r)}var Kc;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Kc||(Kc={}));var a4=(function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Kc.SCAN_TYPE_CAMERA,Kc.SCAN_TYPE_FILE],r})(),_x=(function(){function r(s,a){this.format=s,this.formatName=a}return r.prototype.toString=function(){return this.formatName},r.create=function(s){if(!Qm.has(s))throw"".concat(s," not in html5QrcodeSupportedFormatsTextMap");return new r(s,Qm.get(s))},r})(),eg=(function(){function r(){}return r.createFromText=function(s){var a={text:s};return{decodedText:s,result:a}},r.createFromQrcodeResult=function(s){return{decodedText:s.text,result:s}},r})(),_f;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_f||(_f={}));var l4=(function(){function r(){}return r.createFrom=function(s){return{errorMessage:s,type:_f.UNKWOWN_ERROR}},r})(),c4=(function(){function r(s){this.verbose=s}return r.prototype.log=function(s){this.verbose&&console.log(s)},r.prototype.warn=function(s){this.verbose&&console.warn(s)},r.prototype.logError=function(s,a){(this.verbose||a===!0)&&console.error(s)},r.prototype.logErrors=function(s){if(s.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(s)},r})();function Us(r){return typeof r>"u"||r===null}var Vo=(function(){function r(){}return r.codeParseError=function(s){return"QR code parse error, error = ".concat(s)},r.errorGettingUserMedia=function(s){return"Error getting userMedia, error = ".concat(s)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r})(),Ox=(function(){function r(){}return r.isMediaStreamConstraintsValid=function(s,a){if(typeof s!="object"){var f=typeof s;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(m),w=Object.keys(s),b=0,N=w;b<N.length;b++){var E=N[b];if(g.has(E))return a.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},r})(),Ha={exports:{}},u4=Ha.exports,tg;function d4(){return tg||(tg=1,(function(r,s){(function(a,f){f(s)})(u4,(function(a){function f(k){return k==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,e){k.__proto__=e}||function(k,e){for(var n in e)e.hasOwnProperty(n)&&(k[n]=e[n])};function g(k,e){m(k,e);function n(){this.constructor=k}k.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function w(k,e){var n=Object.setPrototypeOf;n?n(k,e):k.__proto__=e}function b(k,e){e===void 0&&(e=k.constructor);var n=Error.captureStackTrace;n&&n(k,e)}var N=(function(k){g(e,k);function e(n){var i=this.constructor,l=k.call(this,n)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),w(l,i.prototype),b(l),l}return e})(Error);class E extends N{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class T extends E{}T.kind="ArgumentException";class A extends E{}A.kind="IllegalArgumentException";class D{constructor(e){if(this.binarizer=e,e===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,l){const c=this.binarizer.getLuminanceSource().crop(e,n,i,l);return new D(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class B extends E{static getChecksumInstance(){return new B}}B.kind="ChecksumException";class z{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(e,n,i,l,c){for(;c--;)i[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class V extends E{}V.kind="IndexOutOfBoundsException";class U extends V{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}U.kind="ArrayIndexOutOfBoundsException";class ne{static fill(e,n){for(let i=0,l=e.length;i<l;i++)e[i]=n}static fillWithin(e,n,i,l){ne.rangeCheck(e.length,n,i);for(let c=n;c<i;c++)e[c]=l}static rangeCheck(e,n,i){if(n>i)throw new A("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new U(n);if(i>e)throw new U(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(c=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(c=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,l=e.length;i<l;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const l=i-n,c=new Int32Array(l);return j.arraycopy(e,n,c,0,l),c}static binarySearch(e,n,i){i===void 0&&(i=ne.numberComparator);let l=0,c=e.length-1;for(;l<=c;){const u=c+l>>1,h=i(n,e[u]);if(h>0)l=u+1;else if(h<0)c=u-1;else return u}return-l-1}static numberComparator(e,n){return e-n}}class Y{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}Y.MIN_VALUE_32_BITS=-2147483648,Y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ie{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=ie.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=ie.makeArray(e);j.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=i[l]}const h=l*32+Y.numberOfTrailingZeros(c);return h>n?n:h}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=~i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=~i[l]}const h=l*32+Y.numberOfTrailingZeros(c);return h>n?n:h}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new A;if(n===e)return;n--;const i=Math.floor(e/32),l=Math.floor(n/32),c=this.bits;for(let u=i;u<=l;u++){const h=u>i?0:e&31,v=(2<<(u<l?31:n&31))-(1<<h);c[u]|=v}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new A;if(n===e)return!0;n--;const l=Math.floor(e/32),c=Math.floor(n/32),u=this.bits;for(let h=l;h<=c;h++){const x=h>l?0:e&31,I=(2<<(h<c?31:n&31))-(1<<x)&4294967295;if((u[h]&I)!==(i?I:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new A("Sizes don't match");const n=this.bits;for(let i=0,l=n.length;i<l;i++)n[i]^=e.bits[i]}toBytes(e,n,i,l){for(let c=0;c<l;c++){let u=0;for(let h=0;h<8;h++)this.get(e)&&(u|=1<<7-h),e++;n[i+c]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,l=this.bits;for(let c=0;c<i;c++){let u=l[c];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[n-c]=u}if(this.size!==i*32){const c=i*32-this.size;let u=e[0]>>>c;for(let h=1;h<i;h++){const x=e[h];u|=x<<32-c,e[h-1]=u,u=x>>>c}e[i-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ie))return!1;const n=e;return this.size===n.size&&ne.equals(this.bits,n.bits)}hashCode(){return 31*this.size+ne.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new ie(this.size,this.bits.slice())}}var fe;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(fe||(fe={}));var de=fe;class $ extends E{static getFormatInstance(){return new $}}$.kind="FormatException";var J;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(J||(J={}));class K{constructor(e,n,i,...l){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,K.VALUE_IDENTIFIER_TO_ECI.set(e,this),K.NAME_TO_ECI.set(i,this);const c=this.values;for(let u=0,h=c.length;u!==h;u++){const x=c[u];K.VALUES_TO_ECI.set(x,this)}for(const u of l)K.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new $("incorect value");const n=K.VALUES_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}static getCharacterSetECIByName(e){const n=K.NAME_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}equals(e){if(!(e instanceof K))return!1;const n=e;return this.getName()===n.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(J.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(J.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(J.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(J.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(J.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(J.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(J.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(J.Big5,28,"Big5"),K.GB18030=new K(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(J.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends E{}ge.kind="UnsupportedOperationException";class Pe{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Pe.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof K?e:K.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(Pe.isDecodeFallbackSupported(i)){let l="";for(let c=0,u=e.length;c<u;c++){let h=e[c].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(i.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ge(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(K.UTF8)||e.equals(K.ISO8859_1)||e.equals(K.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let c=0;c<i.length;c++)l.push(i[c].charCodeAt(0));return new Uint8Array(l)}}class Ee{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return Pe.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(de.CHARACTER_SET)!==void 0)return n.get(de.CHARACTER_SET).toString();const i=e.length;let l=!0,c=!0,u=!0,h=0,x=0,v=0,I=0,R=0,O=0,L=0,H=0,X=0,Q=0,ae=0;const Ne=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Te=0;Te<i&&(l||c||u);Te++){const ye=e[Te]&255;u&&(h>0?(ye&128)===0?u=!1:h--:(ye&128)!==0&&((ye&64)===0?u=!1:(h++,(ye&32)===0?x++:(h++,(ye&16)===0?v++:(h++,(ye&8)===0?I++:u=!1))))),l&&(ye>127&&ye<160?l=!1:ye>159&&(ye<192||ye===215||ye===247)&&ae++),c&&(R>0?ye<64||ye===127||ye>252?c=!1:R--:ye===128||ye===160||ye>239?c=!1:ye>160&&ye<224?(O++,H=0,L++,L>X&&(X=L)):ye>127?(R++,L=0,H++,H>Q&&(Q=H)):(L=0,H=0))}return u&&h>0&&(u=!1),c&&R>0&&(c=!1),u&&(Ne||x+v+I>0)?Ee.UTF8:c&&(Ee.ASSUME_SHIFT_JIS||X>=3||Q>=3)?Ee.SHIFT_JIS:l&&c?X===2&&O===2||ae*10>=i?Ee.SHIFT_JIS:Ee.ISO88591:l?Ee.ISO88591:c?Ee.SHIFT_JIS:u?Ee.UTF8:Ee.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function l(u,h,x,v,I,R){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let O=I?parseInt(I.substr(1)):void 0,L;switch(R){case"s":L=n[i];break;case"c":L=n[i][0];break;case"f":L=parseFloat(n[i]).toFixed(u);break;case"p":L=parseFloat(n[i]).toPrecision(u);break;case"e":L=parseFloat(n[i]).toExponential(u);break;case"x":L=parseInt(n[i]).toString(O||16);break;case"d":L=parseFloat(parseInt(n[i],O||10).toPrecision(u)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(O);let H=parseInt(x),X=x&&x[0]+""=="0"?"0":" ";for(;L.length<H;)L=h!==void 0?L+X:X+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}static getBytes(e,n){return Pe.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Ee.SHIFT_JIS=K.SJIS.getName(),Ee.GB2312="GB2312",Ee.ISO88591=K.ISO8859_1.getName(),Ee.EUC_JP="EUC_JP",Ee.UTF8=K.UTF8.getName(),Ee.PLATFORM_DEFAULT_ENCODING=Ee.UTF8,Ee.ASSUME_SHIFT_JIS=!1;class De{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ee.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let l=n;n<n+i;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class me{constructor(e,n,i,l){if(this.width=e,this.height=n,this.rowSize=i,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new A("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,l=new me(i,n);for(let c=0;c<n;c++){const u=e[c];for(let h=0;h<i;h++)u[h]&&l.set(h,c)}return l}static parseFromString(e,n,i){if(e===null)throw new A("stringRepresentation cannot be null");const l=new Array(e.length);let c=0,u=0,h=-1,x=0,v=0;for(;v<e.length;)if(e.charAt(v)===`
`||e.charAt(v)==="\r"){if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new A("row lengths do not match");u=c,x++}v++}else if(e.substring(v,v+n.length)===n)v+=n.length,l[c]=!0,c++;else if(e.substring(v,v+i.length)===i)v+=i.length,l[c]=!1,c++;else throw new A("illegal character encountered: "+e.substring(v));if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new A("row lengths do not match");x++}const I=new me(h,x);for(let R=0;R<c;R++)l[R]&&I.set(Math.floor(R%h),Math.floor(R/h));return I}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new A("input matrix dimensions do not match");const n=new ie(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let c=0,u=this.height;c<u;c++){const h=c*i,x=e.getRow(c,n).getBitArray();for(let v=0;v<i;v++)l[h+v]^=x[v]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,l){if(n<0||e<0)throw new A("Left and top must be nonnegative");if(l<1||i<1)throw new A("Height and width must be at least 1");const c=e+i,u=n+l;if(u>this.height||c>this.width)throw new A("The region must fit inside the matrix");const h=this.rowSize,x=this.bits;for(let v=n;v<u;v++){const I=v*h;for(let R=e;R<c;R++)x[I+Math.floor(R/32)]|=1<<(R&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new ie(this.width):n.clear();const i=this.rowSize,l=this.bits,c=e*i;for(let u=0;u<i;u++)n.setBulk(u*32,l[c+u]);return n}setRow(e,n){j.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new ie(e),l=new ie(e);for(let c=0,u=Math.floor((n+1)/2);c<u;c++)i=this.getRow(c,i),l=this.getRow(n-1-c,l),i.reverse(),l.reverse(),this.setRow(c,l),this.setRow(n-1-c,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,l=this.bits;let c=e,u=n,h=-1,x=-1;for(let v=0;v<n;v++)for(let I=0;I<i;I++){const R=l[v*i+I];if(R!==0){if(v<u&&(u=v),v>x&&(x=v),I*32<c){let O=0;for(;(R<<31-O&4294967295)===0;)O++;I*32+O<c&&(c=I*32+O)}if(I*32+31>h){let O=31;for(;!(R>>>O);)O--;I*32+O>h&&(h=I*32+O)}}}return h<c||x<u?null:Int32Array.from([c,u,h-c+1,x-u+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const l=i/e;let c=i%e*32;const u=n[i];let h=0;for(;(u<<31-h&4294967295)===0;)h++;return c+=h,Int32Array.from([c,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/e);let c=Math.floor(i%e)*32;const u=n[i];let h=31;for(;!(u>>>h);)h--;return c+=h,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof me))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&ne.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ne.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let l=new De;for(let c=0,u=this.height;c<u;c++){for(let h=0,x=this.width;h<x;h++)l.append(this.get(h,c)?e:n);l.append(i)}return l.toString()}clone(){return new me(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends E{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class be extends z{constructor(e){super(e),this.luminances=be.EMPTY,this.buckets=new Int32Array(be.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),l=i.getWidth();n==null||n.getSize()<l?n=new ie(l):n.clear(),this.initArrays(l);const c=i.getRow(e,this.luminances),u=this.buckets;for(let x=0;x<l;x++)u[(c[x]&255)>>be.LUMINANCE_SHIFT]++;const h=be.estimateBlackPoint(u);if(l<3)for(let x=0;x<l;x++)(c[x]&255)<h&&n.set(x);else{let x=c[0]&255,v=c[1]&255;for(let I=1;I<l-1;I++){const R=c[I+1]&255;(v*4-x-R)/2<h&&n.set(I),x=v,v=R}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),l=new me(n,i);this.initArrays(n);const c=this.buckets;for(let x=1;x<5;x++){const v=Math.floor(i*x/5),I=e.getRow(v,this.luminances),R=Math.floor(n*4/5);for(let O=Math.floor(n/5);O<R;O++){const L=I[O]&255;c[L>>be.LUMINANCE_SHIFT]++}}const u=be.estimateBlackPoint(c),h=e.getMatrix();for(let x=0;x<i;x++){const v=x*n;for(let I=0;I<n;I++)(h[v+I]&255)<u&&l.set(I,x)}return l}createBinarizer(e){return new be(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<be.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,l=0,c=0;for(let I=0;I<n;I++)e[I]>c&&(l=I,c=e[I]),e[I]>i&&(i=e[I]);let u=0,h=0;for(let I=0;I<n;I++){const R=I-l,O=e[I]*R*R;O>h&&(u=I,h=O)}if(l>u){const I=l;l=u,u=I}if(u-l<=n/16)throw new G;let x=u-1,v=-1;for(let I=u-1;I>l;I--){const R=I-l,O=R*R*(u-I)*(i-e[I]);O>v&&(x=I,v=O)}return x<<be.LUMINANCE_SHIFT}}be.LUMINANCE_BITS=5,be.LUMINANCE_SHIFT=8-be.LUMINANCE_BITS,be.LUMINANCE_BUCKETS=1<<be.LUMINANCE_BITS,be.EMPTY=Uint8ClampedArray.from([0]);class te extends be{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=te.MINIMUM_DIMENSION&&i>=te.MINIMUM_DIMENSION){const l=e.getMatrix();let c=n>>te.BLOCK_SIZE_POWER;(n&te.BLOCK_SIZE_MASK)!==0&&c++;let u=i>>te.BLOCK_SIZE_POWER;(i&te.BLOCK_SIZE_MASK)!==0&&u++;const h=te.calculateBlackPoints(l,c,u,n,i),x=new me(n,i);te.calculateThresholdForBlock(l,c,u,n,i,h,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new te(e)}static calculateThresholdForBlock(e,n,i,l,c,u,h){const x=c-te.BLOCK_SIZE,v=l-te.BLOCK_SIZE;for(let I=0;I<i;I++){let R=I<<te.BLOCK_SIZE_POWER;R>x&&(R=x);const O=te.cap(I,2,i-3);for(let L=0;L<n;L++){let H=L<<te.BLOCK_SIZE_POWER;H>v&&(H=v);const X=te.cap(L,2,n-3);let Q=0;for(let Ne=-2;Ne<=2;Ne++){const Te=u[O+Ne];Q+=Te[X-2]+Te[X-1]+Te[X]+Te[X+1]+Te[X+2]}const ae=Q/25;te.thresholdBlock(e,H,R,ae,l,h)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,l,c,u){for(let h=0,x=i*c+n;h<te.BLOCK_SIZE;h++,x+=c)for(let v=0;v<te.BLOCK_SIZE;v++)(e[x+v]&255)<=l&&u.set(n+v,i+h)}static calculateBlackPoints(e,n,i,l,c){const u=c-te.BLOCK_SIZE,h=l-te.BLOCK_SIZE,x=new Array(i);for(let v=0;v<i;v++){x[v]=new Int32Array(n);let I=v<<te.BLOCK_SIZE_POWER;I>u&&(I=u);for(let R=0;R<n;R++){let O=R<<te.BLOCK_SIZE_POWER;O>h&&(O=h);let L=0,H=255,X=0;for(let ae=0,Ne=I*l+O;ae<te.BLOCK_SIZE;ae++,Ne+=l){for(let Te=0;Te<te.BLOCK_SIZE;Te++){const ye=e[Ne+Te]&255;L+=ye,ye<H&&(H=ye),ye>X&&(X=ye)}if(X-H>te.MIN_DYNAMIC_RANGE)for(ae++,Ne+=l;ae<te.BLOCK_SIZE;ae++,Ne+=l)for(let Te=0;Te<te.BLOCK_SIZE;Te++)L+=e[Ne+Te]&255}let Q=L>>te.BLOCK_SIZE_POWER*2;if(X-H<=te.MIN_DYNAMIC_RANGE&&(Q=H/2,v>0&&R>0)){const ae=(x[v-1][R]+2*x[v][R-1]+x[v-1][R-1])/4;H<ae&&(Q=ae)}x[v][R]=Q}}return x}}te.BLOCK_SIZE_POWER=3,te.BLOCK_SIZE=1<<te.BLOCK_SIZE_POWER,te.BLOCK_SIZE_MASK=te.BLOCK_SIZE-1,te.MINIMUM_DIMENSION=te.BLOCK_SIZE*5,te.MIN_DYNAMIC_RANGE=24;class ee{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,l){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new De;for(let i=0;i<this.height;i++){const l=this.getRow(i,e);for(let c=0;c<this.width;c++){const u=l[c]&255;let h;u<64?h="#":u<128?h="+":u<192?h=".":h=" ",n.append(h)}n.append(`
`)}return n.toString()}}class Ce extends ee{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),l=this.getWidth();for(let c=0;c<l;c++)i[c]=255-(i[c]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let l=0;l<n;l++)i[l]=255-(e[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,l){return new Ce(this.delegate.crop(e,n,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ce(this.delegate.rotateCounterClockwise45())}}class pe extends ee{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return pe.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const l=new Uint8ClampedArray(n*i);for(let c=0,u=0,h=e.length;c<h;c+=4,u++){let x;if(e[c+3]===0)x=255;else{const I=e[c],R=e[c+1],O=e[c+2];x=306*I+601*R+117*O+512>>10}l[u]=x}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth(),l=e*i;return n===null?n=this.buffer.slice(l,l+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(l,l+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,l){return super.crop(e,n,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),l=e*pe.DEGREE_TO_RADIANS,c=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*u),x=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*u);return n.width=h,n.height=x,i.translate(h/2,x/2),i.rotate(l),i.drawImage(this.canvas,c/-2,u/-2),this.buffer=pe.makeBufferFromCanvasImageData(n),this}invert(){return new Ce(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||xc||self||window||void 0)&&(globalThis||xc||self||window||void 0).__awaiter||function(k,e,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(I){try{v(i.next(I))}catch(R){u(R)}}function x(I){try{v(i.throw(I))}catch(R){u(R)}}function v(I){I.done?c(I.value):l(I.value).then(h,x)}v((i=i.apply(k,e||[])).next())})};class Ae{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const c=i.deviceId||i.id,u=i.label||`Video device ${n.length+1}`,h=i.groupId,x={deviceId:c,label:u,kind:l,groupId:h};n.push(x)}return n})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new Z(n.deviceId,n.label))})}findDeviceById(e){return ue(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return ue(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return ue(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return ue(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return ue(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,n,i)})}decodeFromConstraints(e,n,i){return ue(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,i)})}decodeFromStream(e,n,i){return ue(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return ue(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new T(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new T(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new T("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new T("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new T("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new T("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new T("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new T("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,n);return i.src=e,l}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const l=(c,u)=>{if(this._stopAsyncDecode){u(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);c(h)}catch(h){const x=n&&h instanceof G,I=(h instanceof B||h instanceof $)&&i;if(x||I)return setTimeout(l,this._timeBetweenDecodingAttempts,c,u);u(h)}};return new Promise((c,u)=>l(c,u))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){n(null,l);const c=l instanceof B||l instanceof $,u=l instanceof G;(c||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,i){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),i=new pe(n),l=new te(i);return new D(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=l+"px",n.width=i,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ie{constructor(e,n,i=n==null?0:8*n.length,l,c,u=j.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=l,this.format=c,this.timestamp=u,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=l,this.format=c,this.resultMetadata=null,u==null?this.timestamp=j.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);j.arraycopy(n,0,i,0,n.length),j.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var ve=Ve,Ye;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ye||(Ye={}));var Oe=Ye;class at{constructor(e,n,i,l,c=-1,u=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Rt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Dt{constructor(e,n){if(n.length===0)throw new A;this.field=e;const i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),j.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let u=0,h=n.length;u!==h;u++){const x=n[u];i=Rt.addOrSubtract(i,x)}return i}i=n[0];const l=n.length,c=this.field;for(let u=1;u<l;u++)i=Rt.addOrSubtract(c.multiply(e,i),n[u]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const u=n;n=i,i=u}let l=new Int32Array(i.length);const c=i.length-n.length;j.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=Rt.addOrSubtract(n[u-c],i[u]);return new Dt(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1),h=this.field;for(let x=0;x<i;x++){const v=n[x];for(let I=0;I<c;I++)u[x+I]=Rt.addOrSubtract(u[x+I],h.multiply(v,l[I]))}return new Dt(h,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,l=new Int32Array(n),c=this.coefficients;for(let u=0;u<n;u++)l[u]=i.multiply(c[u],e);return new Dt(i,l)}multiplyByMonomial(e,n){if(e<0)throw new A;if(n===0)return this.field.getZero();const i=this.coefficients,l=i.length,c=new Int32Array(l+e),u=this.field;for(let h=0;h<l;h++)c[h]=u.multiply(i[h],n);return new Dt(u,c)}divide(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new A("Divide by 0");const n=this.field;let i=n.getZero(),l=this;const c=e.getCoefficient(e.getDegree()),u=n.inverse(c);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const h=l.getDegree()-e.getDegree(),x=n.multiply(l.getCoefficient(l.getDegree()),u),v=e.multiplyByMonomial(h,x),I=n.buildMonomial(h,x);i=i.addOrSubtract(I),l=l.addOrSubtract(v)}return[i,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const l=this.field.log(i);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class En extends E{}En.kind="ArithmeticException";class ht extends Rt{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const l=new Int32Array(n);let c=1;for(let h=0;h<n;h++)l[h]=c,c*=2,c>=n&&(c^=e,c&=n-1);this.expTable=l;const u=new Int32Array(n);for(let h=0;h<n-1;h++)u[l[h]]=h;this.logTable=u,this.zero=new Dt(this,Int32Array.from([0])),this.one=new Dt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new A;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new Dt(this,i)}inverse(e){if(e===0)throw new En;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Y.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ht.AZTEC_DATA_12=new ht(4201,4096,1),ht.AZTEC_DATA_10=new ht(1033,1024,1),ht.AZTEC_DATA_6=new ht(67,64,1),ht.AZTEC_PARAM=new ht(19,16,1),ht.QR_CODE_FIELD_256=new ht(285,256,0),ht.DATA_MATRIX_FIELD_256=new ht(301,256,1),ht.AZTEC_DATA_8=ht.DATA_MATRIX_FIELD_256,ht.MAXICODE_FIELD_64=ht.AZTEC_DATA_6;class mr extends E{}mr.kind="ReedSolomonException";class ir extends E{}ir.kind="IllegalStateException";class es{constructor(e){this.field=e}decode(e,n){const i=this.field,l=new Dt(i,e),c=new Int32Array(n);let u=!0;for(let L=0;L<n;L++){const H=l.evaluateAt(i.exp(L+i.getGeneratorBase()));c[c.length-1-L]=H,H!==0&&(u=!1)}if(u)return;const h=new Dt(i,c),x=this.runEuclideanAlgorithm(i.buildMonomial(n,1),h,n),v=x[0],I=x[1],R=this.findErrorLocations(v),O=this.findErrorMagnitudes(I,R);for(let L=0;L<R.length;L++){const H=e.length-1-i.log(R[L]);if(H<0)throw new mr("Bad error location");e[H]=ht.addOrSubtract(e[H],O[L])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const L=e;e=n,n=L}const l=this.field;let c=e,u=n,h=l.getZero(),x=l.getOne();for(;u.getDegree()>=(i/2|0);){let L=c,H=h;if(c=u,h=x,c.isZero())throw new mr("r_{i-1} was zero");u=L;let X=l.getZero();const Q=c.getCoefficient(c.getDegree()),ae=l.inverse(Q);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){const Ne=u.getDegree()-c.getDegree(),Te=l.multiply(u.getCoefficient(u.getDegree()),ae);X=X.addOrSubtract(l.buildMonomial(Ne,Te)),u=u.addOrSubtract(c.multiplyByMonomial(Ne,Te))}if(x=X.multiply(h).addOrSubtract(H),u.getDegree()>=c.getDegree())throw new ir("Division algorithm failed to reduce polynomial?")}const v=x.getCoefficient(0);if(v===0)throw new mr("sigmaTilde(0) was zero");const I=l.inverse(v),R=x.multiplyScalar(I),O=u.multiplyScalar(I);return[R,O]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let l=0;const c=this.field;for(let u=1;u<c.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(i[l]=c.inverse(u),l++);if(l!==n)throw new mr("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,l=new Int32Array(i),c=this.field;for(let u=0;u<i;u++){const h=c.inverse(n[u]);let x=1;for(let v=0;v<i;v++)if(u!==v){const I=c.multiply(n[v],h),R=(I&1)===0?I|1:I&-2;x=c.multiply(x,R)}l[u]=c.multiply(e.evaluateAt(h),c.inverse(x)),c.getGeneratorBase()!==0&&(l[u]=c.multiply(l[u],h))}return l}}var Bt;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Bt||(Bt={}));class St{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),l=this.correctBits(i),c=St.convertBoolArrayToByteArray(l),u=St.getEncodedData(l),h=new at(c,u,null,null);return h.setNumBits(l.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=Bt.UPPER,l=Bt.UPPER,c="",u=0;for(;u<n;)if(l===Bt.BINARY){if(n-u<5)break;let h=St.readCode(e,u,5);if(u+=5,h===0){if(n-u<11)break;h=St.readCode(e,u,11)+31,u+=11}for(let x=0;x<h;x++){if(n-u<8){u=n;break}const v=St.readCode(e,u,8);c+=Ee.castAsNonUtf8Char(v),u+=8}l=i}else{let h=l===Bt.DIGIT?4:5;if(n-u<h)break;let x=St.readCode(e,u,h);u+=h;let v=St.getCharacter(l,x);v.startsWith("CTRL_")?(i=l,l=St.getTable(v.charAt(5)),v.charAt(6)==="L"&&(i=l)):(c+=v,l=i)}return c}static getTable(e){switch(e){case"L":return Bt.LOWER;case"P":return Bt.PUNCT;case"M":return Bt.MIXED;case"D":return Bt.DIGIT;case"B":return Bt.BINARY;case"U":default:return Bt.UPPER}}static getCharacter(e,n){switch(e){case Bt.UPPER:return St.UPPER_TABLE[n];case Bt.LOWER:return St.LOWER_TABLE[n];case Bt.MIXED:return St.MIXED_TABLE[n];case Bt.PUNCT:return St.PUNCT_TABLE[n];case Bt.DIGIT:return St.DIGIT_TABLE[n];default:throw new ir("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=ht.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=ht.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=ht.AZTEC_DATA_10):(i=12,n=ht.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=e.length/i;if(c<l)throw new $;let u=e.length%i,h=new Int32Array(c);for(let O=0;O<c;O++,u+=i)h[O]=St.readCode(e,u,i);try{new es(n).decode(h,c-l)}catch(O){throw new $(O)}let x=(1<<i)-1,v=0;for(let O=0;O<l;O++){let L=h[O];if(L===0||L===x)throw new $;(L===1||L===x-1)&&v++}let I=new Array(l*i-v),R=0;for(let O=0;O<l;O++){let L=h[O];if(L===1||L===x-1)I.fill(L>1,R,R+i-1),R+=i-1;else for(let H=i-1;H>=0;--H)I[R++]=(L&1<<H)!==0}return I}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(n?11:14)+i*4,c=new Int32Array(l),u=new Array(this.totalBitsInLayer(i,n));if(n)for(let h=0;h<c.length;h++)c[h]=h;else{let h=l+1+2*Y.truncDivision(Y.truncDivision(l,2)-1,15),x=l/2,v=Y.truncDivision(h,2);for(let I=0;I<x;I++){let R=I+Y.truncDivision(I,15);c[x-I-1]=v-R-1,c[x+I]=v+R+1}}for(let h=0,x=0;h<i;h++){let v=(i-h)*4+(n?9:12),I=h*2,R=l-1-I;for(let O=0;O<v;O++){let L=O*2;for(let H=0;H<2;H++)u[x+L+H]=e.get(c[I+H],c[I+O]),u[x+2*v+L+H]=e.get(c[I+O],c[R-H]),u[x+4*v+L+H]=e.get(c[R-H],c[R-O]),u[x+6*v+L+H]=e.get(c[R-O],c[I+H])}x+=v*8}return u}static readCode(e,n,i){let l=0;for(let c=n;c<n+i;c++)l<<=1,e[c]&&(l|=1);return l}static readByte(e,n){let i=e.length-n;return i>=8?St.readCode(e,n,8):St.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=St.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class tt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,l){const c=e-i,u=n-l;return Math.sqrt(c*c+u*u)}static sum(e){let n=0;for(let i=0,l=e.length;i!==l;i++){const c=e[i];n+=c}return n}}class Br{static floatToIntBits(e){return e}}Br.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Le{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Le){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Br.floatToIntBits(this.x)+Br.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let c,u,h;if(i>=n&&i>=l?(u=e[0],c=e[1],h=e[2]):l>=i&&l>=n?(u=e[1],c=e[0],h=e[2]):(u=e[2],c=e[0],h=e[1]),this.crossProductZ(c,u,h)<0){const x=c;c=h,h=x}e[0]=c,e[1]=u,e[2]=h}static distance(e,n){return tt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const l=n.x,c=n.y;return(i.x-l)*(e.y-c)-(i.y-c)*(e.x-l)}}class an{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class jr extends an{constructor(e,n,i,l,c){super(e,n),this.compact=i,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class gr{constructor(e,n,i,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=gr.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const c=n/2|0;if(this.leftInit=i-c,this.rightInit=i+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,l=this.downInit,c=!1,u=!0,h=!1,x=!1,v=!1,I=!1,R=!1;const O=this.width,L=this.height;for(;u;){u=!1;let H=!0;for(;(H||!x)&&n<O;)H=this.containsBlackPoint(i,l,n,!1),H?(n++,u=!0,x=!0):x||n++;if(n>=O){c=!0;break}let X=!0;for(;(X||!v)&&l<L;)X=this.containsBlackPoint(e,n,l,!0),X?(l++,u=!0,v=!0):v||l++;if(l>=L){c=!0;break}let Q=!0;for(;(Q||!I)&&e>=0;)Q=this.containsBlackPoint(i,l,e,!1),Q?(e--,u=!0,I=!0):I||e--;if(e<0){c=!0;break}let ae=!0;for(;(ae||!R)&&i>=0;)ae=this.containsBlackPoint(e,n,i,!0),ae?(i--,u=!0,R=!0):R||i--;if(i<0){c=!0;break}u&&(h=!0)}if(!c&&h){const H=n-e;let X=null;for(let Te=1;X===null&&Te<H;Te++)X=this.getBlackPointOnSegment(e,l-Te,e+Te,l);if(X==null)throw new G;let Q=null;for(let Te=1;Q===null&&Te<H;Te++)Q=this.getBlackPointOnSegment(e,i+Te,e+Te,i);if(Q==null)throw new G;let ae=null;for(let Te=1;ae===null&&Te<H;Te++)ae=this.getBlackPointOnSegment(n,i+Te,n-Te,i);if(ae==null)throw new G;let Ne=null;for(let Te=1;Ne===null&&Te<H;Te++)Ne=this.getBlackPointOnSegment(n,l-Te,n-Te,l);if(Ne==null)throw new G;return this.centerEdges(Ne,X,ae,Q)}else throw new G}getBlackPointOnSegment(e,n,i,l){const c=tt.round(tt.distance(e,n,i,l)),u=(i-e)/c,h=(l-n)/c,x=this.image;for(let v=0;v<c;v++){const I=tt.round(e+v*u),R=tt.round(n+v*h);if(x.get(I,R))return new Le(I,R)}return null}centerEdges(e,n,i,l){const c=e.getX(),u=e.getY(),h=n.getX(),x=n.getY(),v=i.getX(),I=i.getY(),R=l.getX(),O=l.getY(),L=gr.CORR;return c<this.width/2?[new Le(R-L,O+L),new Le(h+L,x+L),new Le(v-L,I-L),new Le(c+L,u-L)]:[new Le(R+L,O+L),new Le(h+L,x-L),new Le(v-L,I+L),new Le(c-L,u-L)]}containsBlackPoint(e,n,i,l){const c=this.image;if(l){for(let u=e;u<=n;u++)if(c.get(u,i))return!0}else for(let u=e;u<=n;u++)if(c.get(i,u))return!0;return!1}}gr.INIT_SIZE=10,gr.CORR=1;class Gs{static checkAndNudgePoints(e,n){const i=e.getWidth(),l=e.getHeight();let c=!0;for(let u=0;u<n.length&&c;u+=2){const h=Math.floor(n[u]),x=Math.floor(n[u+1]);if(h<-1||h>i||x<-1||x>l)throw new G;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),x===-1?(n[u+1]=0,c=!0):x===l&&(n[u+1]=l-1,c=!0)}c=!0;for(let u=n.length-2;u>=0&&c;u-=2){const h=Math.floor(n[u]),x=Math.floor(n[u+1]);if(h<-1||h>i||x<-1||x>l)throw new G;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),x===-1?(n[u+1]=0,c=!0):x===l&&(n[u+1]=l-1,c=!0)}}}class bn{constructor(e,n,i,l,c,u,h,x,v){this.a11=e,this.a21=n,this.a31=i,this.a12=l,this.a22=c,this.a32=u,this.a13=h,this.a23=x,this.a33=v}static quadrilateralToQuadrilateral(e,n,i,l,c,u,h,x,v,I,R,O,L,H,X,Q){const ae=bn.quadrilateralToSquare(e,n,i,l,c,u,h,x);return bn.squareToQuadrilateral(v,I,R,O,L,H,X,Q).times(ae)}transformPoints(e){const n=e.length,i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,x=this.a23,v=this.a31,I=this.a32,R=this.a33;for(let O=0;O<n;O+=2){const L=e[O],H=e[O+1],X=c*L+x*H+R;e[O]=(i*L+u*H+v)/X,e[O+1]=(l*L+h*H+I)/X}}transformPointsWithValues(e,n){const i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,x=this.a23,v=this.a31,I=this.a32,R=this.a33,O=e.length;for(let L=0;L<O;L++){const H=e[L],X=n[L],Q=c*H+x*X+R;e[L]=(i*H+u*X+v)/Q,n[L]=(l*H+h*X+I)/Q}}static squareToQuadrilateral(e,n,i,l,c,u,h,x){const v=e-i+c-h,I=n-l+u-x;if(v===0&&I===0)return new bn(i-e,c-i,e,l-n,u-l,n,0,0,1);{const R=i-c,O=h-c,L=l-u,H=x-u,X=R*H-O*L,Q=(v*H-O*I)/X,ae=(R*I-v*L)/X;return new bn(i-e+Q*i,h-e+ae*h,e,l-n+Q*l,x-n+ae*x,n,Q,ae,1)}}static quadrilateralToSquare(e,n,i,l,c,u,h,x){return bn.squareToQuadrilateral(e,n,i,l,c,u,h,x).buildAdjoint()}buildAdjoint(){return new bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new bn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Xs extends Gs{sampleGrid(e,n,i,l,c,u,h,x,v,I,R,O,L,H,X,Q,ae,Ne,Te){const ye=bn.quadrilateralToQuadrilateral(l,c,u,h,x,v,I,R,O,L,H,X,Q,ae,Ne,Te);return this.sampleGridWithTransform(e,n,i,ye)}sampleGridWithTransform(e,n,i,l){if(n<=0||i<=0)throw new G;const c=new me(n,i),u=new Float32Array(2*n);for(let h=0;h<i;h++){const x=u.length,v=h+.5;for(let I=0;I<x;I+=2)u[I]=I/2+.5,u[I+1]=v;l.transformPoints(u),Gs.checkAndNudgePoints(e,u);try{for(let I=0;I<x;I+=2)e.get(Math.floor(u[I]),Math.floor(u[I+1]))&&c.set(I/2,h)}catch{throw new G}}return c}}class Zn{static setGridSampler(e){Zn.gridSampler=e}static getInstance(){return Zn.gridSampler}}Zn.gridSampler=new Xs;class ln{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class or{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),c=this.getMatrixCornerPoints(i);return new jr(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new G;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let l=0;for(let u=0;u<4;u++){let h=i[(this.shift+u)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,n){let i=0;e.forEach((l,c,u)=>{let h=(l>>n-2<<1)+(l&1);i=(i<<3)+h}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(Y.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new G}getCorrectedParameterData(e,n){let i,l;n?(i=7,l=2):(i=10,l=4);let c=i-l,u=new Int32Array(i);for(let x=i-1;x>=0;--x)u[x]=e&15,e>>=4;try{new es(ht.AZTEC_PARAM).decode(u,c)}catch{throw new G}let h=0;for(let x=0;x<l;x++)h=(h<<4)+u[x];return h}getBullsEyeCorners(e){let n=e,i=e,l=e,c=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let R=this.getFirstDifferent(n,u,1,-1),O=this.getFirstDifferent(i,u,1,1),L=this.getFirstDifferent(l,u,-1,1),H=this.getFirstDifferent(c,u,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(H,R)*this.nbCenterLayers/(this.distancePoint(c,n)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(R,O,L,H))break}n=R,i=O,l=L,c=H,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let h=new Le(n.getX()+.5,n.getY()-.5),x=new Le(i.getX()+.5,i.getY()+.5),v=new Le(l.getX()-.5,l.getY()+.5),I=new Le(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,x,v,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,l;try{let h=new gr(this.image).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{let x=this.image.getWidth()/2,v=this.image.getHeight()/2;e=this.getFirstDifferent(new ln(x+7,v-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ln(x+7,v+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new ln(x-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ln(x-7,v-7),!1,-1,-1).toResultPoint()}let c=tt.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=tt.round((e.getY()+l.getY()+n.getY()+i.getY())/4);try{let h=new gr(this.image,15,c,u).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{e=this.getFirstDifferent(new ln(c+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ln(c+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new ln(c-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ln(c-7,u-7),!1,-1,-1).toResultPoint()}return c=tt.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=tt.round((e.getY()+l.getY()+n.getY()+i.getY())/4),new ln(c,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,l,c){let u=Zn.getInstance(),h=this.getDimension(),x=h/2-this.nbCenterLayers,v=h/2+this.nbCenterLayers;return u.sampleGrid(e,h,h,x,x,v,x,v,v,x,v,n.getX(),n.getY(),i.getX(),i.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(e,n,i){let l=0,c=this.distanceResultPoint(e,n),u=c/i,h=e.getX(),x=e.getY(),v=u*(n.getX()-e.getX())/c,I=u*(n.getY()-e.getY())/c;for(let R=0;R<i;R++)this.image.get(tt.round(h+R*v),tt.round(x+R*I))&&(l|=1<<i-R-1);return l}isWhiteOrBlackRectangle(e,n,i,l){let c=3;e=new ln(e.getX()-c,e.getY()+c),n=new ln(n.getX()-c,n.getY()-c),i=new ln(i.getX()+c,i.getY()-c),l=new ln(l.getX()+c,l.getY()+c);let u=this.getColor(l,e);if(u===0)return!1;let h=this.getColor(e,n);return h!==u||(h=this.getColor(n,i),h!==u)?!1:(h=this.getColor(i,l),h===u)}getColor(e,n){let i=this.distancePoint(e,n),l=(n.getX()-e.getX())/i,c=(n.getY()-e.getY())/i,u=0,h=e.getX(),x=e.getY(),v=this.image.get(e.getX(),e.getY()),I=Math.ceil(i);for(let O=0;O<I;O++)h+=l,x+=c,this.image.get(tt.round(h),tt.round(x))!==v&&u++;let R=u/i;return R>.1&&R<.9?0:R<=.1===v?1:-1}getFirstDifferent(e,n,i,l){let c=e.getX()+i,u=e.getY()+l;for(;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i,u+=l;for(c-=i,u-=l;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i;for(c-=i;this.isValid(c,u)&&this.image.get(c,u)===n;)u+=l;return u-=l,new ln(c,u)}expandSquare(e,n,i){let l=i/(2*n),c=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,x=(e[0].getY()+e[2].getY())/2,v=new Le(h+l*c,x+l*u),I=new Le(h-l*c,x-l*u);c=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,x=(e[1].getY()+e[3].getY())/2;let R=new Le(h+l*c,x+l*u),O=new Le(h-l*c,x-l*u);return[v,R,I,O]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=tt.round(e.getX()),i=tt.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return tt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return tt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Y.truncDivision(this.nbLayers-4,8)+1)+15}}class Sr{decode(e,n=null){let i=null,l=new or(e.getBlackMatrix()),c=null,u=null;try{let I=l.detectMirror(!1);c=I.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(I)}catch(I){i=I}if(u==null)try{let I=l.detectMirror(!0);c=I.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(I)}catch(I){throw i??I}let h=new Ie(u.getText(),u.getRawBytes(),u.getNumBits(),c,ve.AZTEC,j.currentTimeMillis()),x=u.getByteSegments();x!=null&&h.putMetadata(Oe.BYTE_SEGMENTS,x);let v=u.getECLevel();return v!=null&&h.putMetadata(Oe.ERROR_CORRECTION_LEVEL,v),h}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(de.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((l,c,u)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class fs extends Ae{constructor(e=500){super(new Sr,e)}}class Wt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(de.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),u=this.doDecode(c,n),h=u.getResultMetadata();let x=270;h!==null&&h.get(Oe.ORIENTATION)===!0&&(x=x+h.get(Oe.ORIENTATION)%360),u.putMetadata(Oe.ORIENTATION,x);const v=u.getResultPoints();if(v!==null){const I=c.getHeight();for(let R=0;R<v.length;R++)v[R]=new Le(I-v[R].getY()-1,v[R].getX())}return u}else throw new G}}reset(){}doDecode(e,n){const i=e.getWidth(),l=e.getHeight();let c=new ie(i);const u=n&&n.get(de.TRY_HARDER)===!0,h=Math.max(1,l>>(u?8:5));let x;u?x=l:x=15;const v=Math.trunc(l/2);for(let I=0;I<x;I++){const R=Math.trunc((I+1)/2),O=(I&1)===0,L=v+h*(O?R:-R);if(L<0||L>=l)break;try{c=e.getBlackRow(L,c)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(c.reverse(),n&&n.get(de.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;n.forEach((Q,ae)=>X.set(ae,Q)),X.delete(de.NEED_RESULT_POINT_CALLBACK),n=X}try{const X=this.decodeRow(L,c,n);if(H===1){X.putMetadata(Oe.ORIENTATION,180);const Q=X.getResultPoints();Q!==null&&(Q[0]=new Le(i-Q[0].getX()-1,Q[0].getY()),Q[1]=new Le(i-Q[1].getX()-1,Q[1].getY()))}return X}catch{}}}throw new G}static recordPattern(e,n,i){const l=i.length;for(let v=0;v<l;v++)i[v]=0;const c=e.getSize();if(n>=c)throw new G;let u=!e.get(n),h=0,x=n;for(;x<c;){if(e.get(x)!==u)i[h]++;else{if(++h===l)break;i[h]=1,u=!u}x++}if(!(h===l||h===l-1&&x===c))throw new G}static recordPatternInReverse(e,n,i){let l=i.length,c=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==c&&(l--,c=!c);if(l>=0)throw new G;Wt.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const l=e.length;let c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return Number.POSITIVE_INFINITY;const h=c/u;i*=h;let x=0;for(let v=0;v<l;v++){const I=e[v],R=n[v]*h,O=I>R?I-R:R-I;if(O>i)return Number.POSITIVE_INFINITY;x+=O}return x/c}}class _e extends Wt{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),u=i,h=!1;const x=6;for(let v=i;v<n;v++)if(e.get(v)!==h)c[l]++;else{if(l===x-1){let I=_e.MAX_AVG_VARIANCE,R=-1;for(let O=_e.CODE_START_A;O<=_e.CODE_START_C;O++){const L=Wt.patternMatchVariance(c,_e.CODE_PATTERNS[O],_e.MAX_INDIVIDUAL_VARIANCE);L<I&&(I=L,R=O)}if(R>=0&&e.isRange(Math.max(0,u-(v-u)/2),u,!1))return Int32Array.from([u,v,R]);u+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,h=!h}throw new G}static decodeCode(e,n,i){Wt.recordPattern(e,i,n);let l=_e.MAX_AVG_VARIANCE,c=-1;for(let u=0;u<_e.CODE_PATTERNS.length;u++){const h=_e.CODE_PATTERNS[u],x=this.patternMatchVariance(n,h,_e.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,c=u)}if(c>=0)return c;throw new G}decodeRow(e,n,i){const l=i&&i.get(de.ASSUME_GS1)===!0,c=_e.findStartPattern(n),u=c[2];let h=0;const x=new Uint8Array(20);x[h++]=u;let v;switch(u){case _e.CODE_START_A:v=_e.CODE_CODE_A;break;case _e.CODE_START_B:v=_e.CODE_CODE_B;break;case _e.CODE_START_C:v=_e.CODE_CODE_C;break;default:throw new $}let I=!1,R=!1,O="",L=c[0],H=c[1];const X=Int32Array.from([0,0,0,0,0,0]);let Q=0,ae=0,Ne=u,Te=0,ye=!0,dt=!1,it=!1;for(;!I;){const ss=R;switch(R=!1,Q=ae,ae=_e.decodeCode(n,X,H),x[h++]=ae,ae!==_e.CODE_STOP&&(ye=!0),ae!==_e.CODE_STOP&&(Te++,Ne+=Te*ae),L=H,H+=X.reduce((ii,xa)=>ii+xa,0),ae){case _e.CODE_START_A:case _e.CODE_START_B:case _e.CODE_START_C:throw new $}switch(v){case _e.CODE_CODE_A:if(ae<64)it===dt?O+=String.fromCharCode(32+ae):O+=String.fromCharCode(32+ae+128),it=!1;else if(ae<96)it===dt?O+=String.fromCharCode(ae-64):O+=String.fromCharCode(ae+64),it=!1;else switch(ae!==_e.CODE_STOP&&(ye=!1),ae){case _e.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_A:!dt&&it?(dt=!0,it=!1):dt&&it?(dt=!1,it=!1):it=!0;break;case _e.CODE_SHIFT:R=!0,v=_e.CODE_CODE_B;break;case _e.CODE_CODE_B:v=_e.CODE_CODE_B;break;case _e.CODE_CODE_C:v=_e.CODE_CODE_C;break;case _e.CODE_STOP:I=!0;break}break;case _e.CODE_CODE_B:if(ae<96)it===dt?O+=String.fromCharCode(32+ae):O+=String.fromCharCode(32+ae+128),it=!1;else switch(ae!==_e.CODE_STOP&&(ye=!1),ae){case _e.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_B:!dt&&it?(dt=!0,it=!1):dt&&it?(dt=!1,it=!1):it=!0;break;case _e.CODE_SHIFT:R=!0,v=_e.CODE_CODE_A;break;case _e.CODE_CODE_A:v=_e.CODE_CODE_A;break;case _e.CODE_CODE_C:v=_e.CODE_CODE_C;break;case _e.CODE_STOP:I=!0;break}break;case _e.CODE_CODE_C:if(ae<100)ae<10&&(O+="0"),O+=ae;else switch(ae!==_e.CODE_STOP&&(ye=!1),ae){case _e.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case _e.CODE_CODE_A:v=_e.CODE_CODE_A;break;case _e.CODE_CODE_B:v=_e.CODE_CODE_B;break;case _e.CODE_STOP:I=!0;break}break}ss&&(v=v===_e.CODE_CODE_A?_e.CODE_CODE_B:_e.CODE_CODE_A)}const Jn=H-L;if(H=n.getNextUnset(H),!n.isRange(H,Math.min(n.getSize(),H+(H-L)/2),!1))throw new G;if(Ne-=Te*Q,Ne%103!==Q)throw new B;const Or=O.length;if(Or===0)throw new G;Or>0&&ye&&(v===_e.CODE_CODE_C?O=O.substring(0,Or-2):O=O.substring(0,Or-1));const pn=(c[1]+c[0])/2,Tt=L+Jn/2,nn=x.length,Wn=new Uint8Array(nn);for(let ss=0;ss<nn;ss++)Wn[ss]=x[ss];const _s=[new Le(pn,e),new Le(Tt,e)];return new Ie(O,Wn,0,_s,ve.CODE_128,new Date().getTime())}}_e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],_e.MAX_AVG_VARIANCE=.25,_e.MAX_INDIVIDUAL_VARIANCE=.7,_e.CODE_SHIFT=98,_e.CODE_CODE_C=99,_e.CODE_CODE_B=100,_e.CODE_CODE_A=101,_e.CODE_FNC_1=102,_e.CODE_FNC_2=97,_e.CODE_FNC_3=96,_e.CODE_FNC_4_A=101,_e.CODE_FNC_4_B=100,_e.CODE_START_A=103,_e.CODE_START_B=104,_e.CODE_START_C=105,_e.CODE_STOP=106;class qt extends Wt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=qt.findAsteriskPattern(n,l),u=n.getNextSet(c[1]),h=n.getSize(),x,v;do{qt.recordPattern(n,u,l);let X=qt.toNarrowWidePattern(l);if(X<0)throw new G;x=qt.patternToChar(X),this.decodeRowResult+=x,v=u;for(let Q of l)u+=Q;u=n.getNextSet(u)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let X of l)I+=X;let R=u-v-I;if(u!==h&&R*2<I)throw new G;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,Q=0;for(let ae=0;ae<X;ae++)Q+=qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ae));if(this.decodeRowResult.charAt(X)!==qt.ALPHABET_STRING.charAt(Q%43))throw new B;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new G;let O;this.extendedMode?O=qt.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let L=(c[1]+c[0])/2,H=v+I/2;return new Ie(O,null,0,[new Le(L,e),new Le(H,e)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),l=e.getNextSet(0),c=0,u=l,h=!1,x=n.length;for(let v=l;v<i;v++)if(e.get(v)!==h)n[c]++;else{if(c===x-1){if(this.toNarrowWidePattern(n)===qt.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((v-u)/2)),u,!1))return[u,v];u+=n[0]+n[1],n.copyWithin(0,2,2+c-1),n[c-1]=0,n[c]=0,c--}else c++;n[c]=1,h=!h}throw new G}static toNarrowWidePattern(e){let n=e.length,i=0,l;do{let c=2147483647;for(let x of e)x<c&&x>i&&(c=x);i=c,l=0;let u=0,h=0;for(let x=0;x<n;x++){let v=e[x];v>i&&(h|=1<<n-1-x,l++,u+=v)}if(l===3){for(let x=0;x<n&&l>0;x++){let v=e[x];if(v>i&&(l--,v*2>=u))return-1}return h}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<qt.CHARACTER_ENCODINGS.length;n++)if(qt.CHARACTER_ENCODINGS[n]===e)return qt.ALPHABET_STRING.charAt(n);if(e===qt.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(e){let n=e.length,i="";for(let l=0;l<n;l++){let c=e.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let u=e.charAt(l+1),h="\0";switch(c){case"+":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new $;break;case"$":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new $;break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u==="X"||u==="Y"||u==="Z")h="";else throw new $;break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new $;break}i+=h,l++}else i+=c}return i}}qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],qt.ASTERISK_ENCODING=148;class vt extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let l=this.decodeStart(n),c=this.decodeEnd(n),u=new De;vt.decodeMiddle(n,l[1],c[0],u);let h=u.toString(),x=null;i!=null&&(x=i.get(de.ALLOWED_LENGTHS)),x==null&&(x=vt.DEFAULT_ALLOWED_LENGTHS);let v=h.length,I=!1,R=0;for(let H of x){if(v===H){I=!0;break}H>R&&(R=H)}if(!I&&v>R&&(I=!0),!I)throw new $;const O=[new Le(l[1],e),new Le(c[0],e)];return new Ie(h,null,0,O,ve.ITF,new Date().getTime())}static decodeMiddle(e,n,i,l){let c=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),u.fill(0),h.fill(0);n<i;){Wt.recordPattern(e,n,c);for(let v=0;v<5;v++){let I=2*v;u[v]=c[I],h[v]=c[I+1]}let x=vt.decodeDigit(u);l.append(x.toString()),x=this.decodeDigit(h),l.append(x.toString()),c.forEach(function(v){n+=v})}}decodeStart(e){let n=vt.skipWhiteSpace(e),i=vt.findGuardPattern(e,n,vt.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let l=n-1;i>0&&l>=0&&!e.get(l);l--)i--;if(i!==0)throw new G}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new G;return i}decodeEnd(e){e.reverse();try{let n=vt.skipWhiteSpace(e),i;try{i=vt.findGuardPattern(e,n,vt.END_PATTERN_REVERSED[0])}catch(c){c instanceof G&&(i=vt.findGuardPattern(e,n,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let l=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-l,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let l=i.length,c=new Int32Array(l),u=e.getSize(),h=!1,x=0,v=n;c.fill(0);for(let I=n;I<u;I++)if(e.get(I)!==h)c[x]++;else{if(x===l-1){if(Wt.patternMatchVariance(c,i,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[v,I];v+=c[0]+c[1],j.arraycopy(c,2,c,0,x-1),c[x-1]=0,c[x]=0,x--}else x++;c[x]=1,h=!h}throw new G}static decodeDigit(e){let n=vt.MAX_AVG_VARIANCE,i=-1,l=vt.PATTERNS.length;for(let c=0;c<l;c++){let u=vt.PATTERNS[c],h=Wt.patternMatchVariance(e,u,vt.MAX_INDIVIDUAL_VARIANCE);h<n?(n=h,i=c):h===n&&(i=-1)}if(i>=0)return i%10;throw new G}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Mt extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,l=0,c=Int32Array.from([0,0,0]);for(;!n;){c=Int32Array.from([0,0,0]),i=Mt.findGuardPattern(e,l,!1,this.START_END_PATTERN,c);let u=i[0];l=i[1];let h=u-(l-u);h>=0&&(n=e.isRange(h,u,!1))}return i}static checkChecksum(e){return Mt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Mt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new $;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new $;i+=c}return(1e3-i)%10}static decodeEnd(e,n){return Mt.findGuardPattern(e,n,!1,Mt.START_END_PATTERN,new Int32Array(Mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,l){return this.findGuardPattern(e,n,i,l,new Int32Array(l.length))}static findGuardPattern(e,n,i,l,c){let u=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let h=0,x=n,v=l.length,I=i;for(let R=n;R<u;R++)if(e.get(R)!==I)c[h]++;else{if(h===v-1){if(Wt.patternMatchVariance(c,l,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return Int32Array.from([x,R]);x+=c[0]+c[1];let O=c.slice(2,c.length-1);for(let L=0;L<h-1;L++)c[L]=O[L];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,I=!I}throw new G}static decodeDigit(e,n,i,l){this.recordPattern(e,i,n);let c=this.MAX_AVG_VARIANCE,u=-1,h=l.length;for(let x=0;x<h;x++){let v=l[x],I=Wt.patternMatchVariance(n,v,Mt.MAX_INDIVIDUAL_VARIANCE);I<c&&(c=I,u=x)}if(u>=0)return u;throw new G}}Mt.MAX_AVG_VARIANCE=.48,Mt.MAX_INDIVIDUAL_VARIANCE=.7,Mt.START_END_PATTERN=Int32Array.from([1,1,1]),Mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=Nr.parseExtensionString(u),x=[new Le((i[0]+i[1])/2,e),new Le(c,e)],v=new Ie(u,null,0,x,ve.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<5&&u<c;v++){let I=Mt.decodeDigit(e,l,u,Mt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+I%10);for(let R of l)u+=R;I>=10&&(h|=1<<4-v),v!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==5)throw new G;let x=this.determineCheckDigit(h);if(Nr.extensionChecksum(i.toString())!==x)throw new G;return u}static extensionChecksum(e){let n=e.length,i=0;for(let l=n-2;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;i*=3;for(let l=n-1;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new G}static parseExtensionString(e){if(e.length!==5)return null;let n=Nr.parseExtension5String(e);return n==null?null:new Map([[Oe.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),l=(i/100).toString(),c=i%100,u=c<10?"0"+c:c.toString();return n+l+"."+u}}class qn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=qn.parseExtensionString(u),x=[new Le((i[0]+i[1])/2,e),new Le(c,e)],v=new Ie(u,null,0,x,ve.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let x=0;x<2&&u<c;x++){let v=Mt.decodeDigit(e,l,u,Mt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let I of l)u+=I;v>=10&&(h|=1<<1-x),x!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==2)throw new G;if(parseInt(i.toString())%4!==h)throw new G;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[Oe.ISSUE_NUMBER,parseInt(e)]])}}class Ys{static decodeRow(e,n,i){let l=Mt.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Nr().decodeRow(e,n,l)}catch{return new qn().decodeRow(e,n,l)}}}Ys.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends Mt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=ut.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let l=0;l<n.length;l++)i[l]=n[n.length-l-1];ut.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let l=ut.findStartGuardPattern(n),c=i==null?null:i.get(de.NEED_RESULT_POINT_CALLBACK);if(c!=null){const ye=new Le((l[0]+l[1])/2,e);c.foundPossibleResultPoint(ye)}let u=this.decodeMiddle(n,l,this.decodeRowStringBuffer),h=u.rowOffset,x=u.resultString;if(c!=null){const ye=new Le(h,e);c.foundPossibleResultPoint(ye)}let v=this.decodeEnd(n,h);if(c!=null){const ye=new Le((v[0]+v[1])/2,e);c.foundPossibleResultPoint(ye)}let I=v[1],R=I+(I-v[0]);if(R>=n.getSize()||!n.isRange(I,R,!1))throw new G;let O=x.toString();if(O.length<8)throw new $;if(!ut.checkChecksum(O))throw new B;let L=(l[1]+l[0])/2,H=(v[1]+v[0])/2,X=this.getBarcodeFormat(),Q=[new Le(L,e),new Le(H,e)],ae=new Ie(O,null,0,Q,X,new Date().getTime()),Ne=0;try{let ye=Ys.decodeRow(e,n,v[1]);ae.putMetadata(Oe.UPC_EAN_EXTENSION,ye.getText()),ae.putAllMetadata(ye.getResultMetadata()),ae.addResultPoints(ye.getResultPoints()),Ne=ye.getText().length}catch{}let Te=i==null?null:i.get(de.ALLOWED_EAN_EXTENSIONS);if(Te!=null){let ye=!1;for(let dt in Te)if(Ne.toString()===dt){ye=!0;break}if(!ye)throw new G}return ae}decodeEnd(e,n){return ut.findGuardPattern(e,n,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ut.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return ut.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new $;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new $;i+=c}return(1e3-i)%10}}class Vn extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<6&&u<c;v++){let I=ut.decodeDigit(e,l,u,ut.L_AND_G_PATTERNS);i+=String.fromCharCode(48+I%10);for(let R of l)u+=R;I>=10&&(h|=1<<5-v)}i=Vn.determineFirstDigit(i,h),u=ut.findGuardPattern(e,u,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&u<c;v++){let I=ut.decodeDigit(e,l,u,ut.L_PATTERNS);i+=String.fromCharCode(48+I);for(let R of l)u+=R}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new G}}Vn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ks extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1];for(let x=0;x<4&&u<c;x++){let v=ut.decodeDigit(e,l,u,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let I of l)u+=I}u=ut.findGuardPattern(e,u,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&u<c;x++){let v=ut.decodeDigit(e,l,u,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let I of l)u+=I}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return ve.EAN_8}}class nt extends ut{constructor(){super(...arguments),this.ean13Reader=new Vn}getBarcodeFormat(){return ve.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new Ie(n.substring(1),null,null,e.getResultPoints(),ve.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new G}reset(){this.ean13Reader.reset()}}class Ct extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=e.getSize();let u=n[1],h=0;for(let v=0;v<6&&u<c;v++){const I=Ct.decodeDigit(e,l,u,Ct.L_AND_G_PATTERNS);i+=String.fromCharCode(48+I%10);for(let R of l)u+=R;I>=10&&(h|=1<<5-v)}let x=Ct.determineNumSysAndCheckDigit(i,h);return{rowOffset:u,resultString:x}}decodeEnd(e,n){return Ct.findGuardPatternWithoutCounters(e,n,!0,Ct.MIDDLE_END_PATTERN)}checkChecksum(e){return ut.checkChecksum(Ct.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let c=String.fromCharCode(48+i),u=String.fromCharCode(48+l);return c+e+u}throw G.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),i=new De;i.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(l),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(l);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Ct.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class en extends Wt{constructor(e){super();let n=e==null?null:e.get(de.POSSIBLE_FORMATS),i=[];f(n)?(i.push(new Vn),i.push(new nt),i.push(new Ks),i.push(new Ct)):(n.indexOf(ve.EAN_13)>-1&&i.push(new Vn),n.indexOf(ve.UPC_A)>-1&&i.push(new nt),n.indexOf(ve.EAN_8)>-1&&i.push(new Ks),n.indexOf(ve.UPC_E)>-1&&i.push(new Ct)),this.readers=i}decodeRow(e,n,i){for(let l of this.readers)try{const c=l.decodeRow(e,n,i),u=c.getBarcodeFormat()===ve.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(de.POSSIBLE_FORMATS),x=h==null||h.includes(ve.UPC_A);if(u&&x){const v=c.getRawBytes(),I=new Ie(c.getText().substring(1),v,v?v.length:null,c.getResultPoints(),ve.UPC_A);return I.putAllMetadata(c.getResultMetadata()),I}return c}catch{}throw new G}reset(){for(let e of this.readers)e.reset()}}class Et extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(Wt.patternMatchVariance(e,n[i],Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return i;throw new G}static count(e){return tt.sum(new Int32Array(e))}static increment(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]>l&&(l=n[c],i=c);e[i]++}static decrement(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]<l&&(l=n[c],i=c);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],l=n/i;if(l>=Et.MIN_FINDER_PATTERN_RATIO&&l<=Et.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let h of e)h>u&&(u=h),h<c&&(c=h);return u<10*c}return!1}}Et.MAX_AVG_VARIANCE=.2,Et.MAX_INDIVIDUAL_VARIANCE=.45,Et.MIN_FINDER_PATTERN_RATIO=9.5/12,Et.MAX_FINDER_PATTERN_RATIO=12.5/14;class ar{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ar))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gt{constructor(e,n,i,l,c){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Le(i,c)),this.resultPoints.push(new Le(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Gt))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class _t{constructor(){}static getRSSvalue(e,n,i){let l=0;for(let x of e)l+=x;let c=0,u=0,h=e.length;for(let x=0;x<h-1;x++){let v;for(v=1,u|=1<<x;v<e[x];v++,u&=~(1<<x)){let I=_t.combins(l-v-1,h-x-2);if(i&&u===0&&l-v-(h-x-1)>=h-x-1&&(I-=_t.combins(l-v-(h-x),h-x-2)),h-x-1>1){let R=0;for(let O=l-v-(h-x-2);O>n;O--)R+=_t.combins(l-v-O-1,h-x-3);I-=R*(h-1-x)}else l-v>n&&I--;c+=I}l-=v}return c}static combins(e,n){let i,l;e-n>n?(l=n,i=e-n):(l=e-n,i=n);let c=1,u=1;for(let h=e;h>i;h--)c*=h,u<=l&&(c/=u,u++);for(;u<=l;)c/=u,u++;return c}}class hs{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,l=new ie(i),c=0,h=e[0].getRightChar().getValue();for(let x=11;x>=0;--x)(h&1<<x)!=0&&l.set(c),c++;for(let x=1;x<e.length;++x){let v=e[x],I=v.getLeftChar().getValue();for(let R=11;R>=0;--R)(I&1<<R)!=0&&l.set(c),c++;if(v.getRightChar()!=null){let R=v.getRightChar().getValue();for(let O=11;O>=0;--O)(R&1<<O)!=0&&l.set(c),c++}}return l}}class Xt{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Un{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class tn extends Un{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===tn.FNC1}}tn.FNC1="$";class wn extends Un{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class On extends Un{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new $;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===On.FNC1}isSecondDigitFNC1(){return this.secondDigit===On.FNC1}isAnyFNC1(){return this.firstDigit===On.FNC1||this.secondDigit===On.FNC1}}On.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new G;let n=e.substring(0,2);for(let c of Me.TWO_DIGIT_DATA_LENGTH)if(c[0]===n)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,c[2],e):Me.processFixedAI(2,c[1],e);if(e.length<3)throw new G;let i=e.substring(0,3);for(let c of Me.THREE_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,c[2],e):Me.processFixedAI(3,c[1],e);for(let c of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);if(e.length<4)throw new G;let l=e.substring(0,4);for(let c of Me.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);throw new G}static processFixedAI(e,n,i){if(i.length<e)throw new G;let l=i.substring(0,e);if(i.length<e+n)throw new G;let c=i.substring(e,e+n),u=i.substring(e+n),h="("+l+")"+c,x=Me.parseFieldsInGeneralPurpose(u);return x==null?h:h+x}static processVariableAI(e,n,i){let l=i.substring(0,e),c;i.length<e+n?c=i.length:c=e+n;let u=i.substring(e,c),h=i.substring(c),x="("+l+")"+u,v=Me.parseFieldsInGeneralPurpose(h);return v==null?x:x+v}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class Zs{constructor(e){this.buffer=new De,this.information=e}decodeAllCodes(e,n){let i=n,l=null;do{let c=this.decodeGeneralPurposeField(i,l),u=Me.parseFieldsInGeneralPurpose(c.getNewString());if(u!=null&&e.append(u),c.isRemaining()?l=""+c.getRemainingValue():l=null,i===c.getNewPosition())break;i=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new On(this.information.getSize(),On.FNC1,On.FNC1):new On(this.information.getSize(),c-1,On.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,l=(n-8)%11;return new On(e+7,i,l)}extractNumericValueFromBitArray(e,n){return Zs.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let l=0;for(let c=0;c<i;++c)e.get(n+c)&&(l|=1<<i-c-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new wn(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new wn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new wn(this.current.getPosition(),this.buffer.toString()):n=new wn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Xt(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xt(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new tn(e+5,tn.FNC1);if(n>=5&&n<15)return new tn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new tn(e+7,""+(i+1));if(i>=90&&i<116)return new tn(e+7,""+(i+7));let l=this.extractNumericValueFromBitArray(e,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new $}return new tn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new tn(e+5,tn.FNC1);if(n>=5&&n<15)return new tn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new tn(e+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new ir("Decoding invalid alphanumeric value: "+i)}return new tn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class ta{constructor(e){this.information=e,this.generalDecoder=new Zs(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class $n extends ta{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}$n.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let l=0;l<13;l++){let c=e.charAt(l+n).charCodeAt(0)-48;i+=(l&1)===0?3*c:c}i=10-i%10,i===10&&(i=0),e.append(i)}}$n.GTIN_SIZE=40;class pr extends $n{constructor(e){super(e)}parseInformation(){let e=new De;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(pr.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,pr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,pr.HEADER_SIZE+44)}}pr.HEADER_SIZE=4;class Ti extends ta{constructor(e){super(e)}parseInformation(){let e=new De;return this.getGeneralDecoder().decodeAllCodes(e,Ti.HEADER_SIZE)}}Ti.HEADER_SIZE=5;class Ii extends $n{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,l);let c=this.checkWeight(l),u=1e5;for(let h=0;h<5;++h)c/u===0&&e.append("0"),u/=10;e.append(c)}}class Fr extends Ii{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Fr.HEADER_SIZE+Ii.GTIN_SIZE+Fr.WEIGHT_SIZE)throw new G;let e=new De;return this.encodeCompressedGtin(e,Fr.HEADER_SIZE),this.encodeCompressedWeight(e,Fr.HEADER_SIZE+Ii.GTIN_SIZE,Fr.WEIGHT_SIZE),e.toString()}}Fr.HEADER_SIZE=5,Fr.WEIGHT_SIZE=15;class dl extends Fr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class fl extends Fr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Tr extends $n{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Tr.HEADER_SIZE+$n.GTIN_SIZE)throw new G;let e=new De;this.encodeCompressedGtin(e,Tr.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+$n.GTIN_SIZE,Tr.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Tr.HEADER_SIZE+$n.GTIN_SIZE+Tr.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}Tr.HEADER_SIZE=8,Tr.LAST_DIGIT_SIZE=2;class Dn extends $n{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+$n.GTIN_SIZE)throw new G;let e=new De;this.encodeCompressedGtin(e,Dn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+$n.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+$n.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,Dn.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+$n.GTIN_SIZE+Dn.LAST_DIGIT_SIZE+Dn.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Dn.HEADER_SIZE=8,Dn.LAST_DIGIT_SIZE=2,Dn.FIRST_THREE_DIGITS_SIZE=10;class Vt extends Ii{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Vt.HEADER_SIZE+Vt.GTIN_SIZE+Vt.WEIGHT_SIZE+Vt.DATE_SIZE)throw new G;let e=new De;return this.encodeCompressedGtin(e,Vt.HEADER_SIZE),this.encodeCompressedWeight(e,Vt.HEADER_SIZE+Vt.GTIN_SIZE,Vt.WEIGHT_SIZE),this.encodeCompressedDate(e,Vt.HEADER_SIZE+Vt.GTIN_SIZE+Vt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Vt.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=i%32;i/=32;let c=i%12+1;i/=12;let u=i;u/10==0&&e.append("0"),e.append(u),c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Vt.HEADER_SIZE=8,Vt.WEIGHT_SIZE=20,Vt.DATE_SIZE=16;function hl(k){try{if(k.get(1))return new pr(k);if(!k.get(2))return new Ti(k);switch(Zs.extractNumericValueFromBitArray(k,1,4)){case 4:return new dl(k);case 5:return new fl(k)}switch(Zs.extractNumericValueFromBitArray(k,1,5)){case 12:return new Tr(k);case 13:return new Dn(k)}switch(Zs.extractNumericValueFromBitArray(k,1,7)){case 56:return new Vt(k,"310","11");case 57:return new Vt(k,"320","11");case 58:return new Vt(k,"310","13");case 59:return new Vt(k,"320","13");case 60:return new Vt(k,"310","15");case 61:return new Vt(k,"320","15");case 62:return new Vt(k,"310","17");case 63:return new Vt(k,"320","17")}}catch(e){throw console.log(e),new ir("unknown decoder: "+k)}}class It{constructor(e,n,i,l){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof It?It.equalsOrNull(e.leftchar,n.leftchar)&&It.equalsOrNull(e.rightchar,n.rightchar)&&It.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:It.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class na{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof na?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((l,c)=>{n.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class he extends Et{constructor(e){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(c){if(c instanceof G){if(!this.pairs.length)throw new G;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new G}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(l);try{return this.checkRows(c,i+1)}catch(u){this.verbose&&console.log(u)}}throw new G}static isValidSequence(e){for(let n of he.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,l=!1,c=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>e){c=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),i++}c||l||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new na(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let l of i.getPairs())for(let c of e)if(It.equals(l,c))break}}static isPartialRow(e,n){for(let i of n){let l=!0;for(let c of e){let u=!1;for(let h of i.getPairs())if(c.equals(h)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=hs.buildBitArray(e),l=hl(n).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],u[0],u[1]];return new Ie(l,null,null,h,ve.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let x=this.pairs.get(h);l+=x.getLeftChar().getChecksumPortion(),c++;let v=x.getRightChar();v!=null&&(l+=v.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let l=n.length%2==0;this.startFromEven&&(l=!l);let c,u=!0,h=-1;do this.findNextPair(e,n,h),c=this.parseFoundFinderPattern(e,i,l),c==null?h=he.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let x=this.decodeDataCharacter(e,c,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new G;let v;try{v=this.decodeDataCharacter(e,c,l,!1)}catch(I){v=null,this.verbose&&console.log(I)}return new It(x,v,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u;i>=0?u=i:this.isEmptyPair(n)?u=0:u=n[n.length-1].getFinderPattern().getStartEnd()[1];let h=n.length%2!=0;this.startFromEven&&(h=!h);let x=!1;for(;u<c&&(x=!e.get(u),!!x);)u++;let v=0,I=u;for(let R=u;R<c;R++)if(e.get(R)!=x)l[v]++;else{if(v==3){if(h&&he.reverseCounters(l),he.isFinderPattern(l)){this.startEnd[0]=I,this.startEnd[1]=R;return}h&&he.reverseCounters(l),I+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,x=!x}throw new G}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let l=e[i];e[i]=e[n-i-1],e[n-i-1]=l}}parseFoundFinderPattern(e,n,i){let l,c,u;if(i){let v=this.startEnd[0]-1;for(;v>=0&&!e.get(v);)v--;v++,l=this.startEnd[0]-v,c=v,u=this.startEnd[1]}else c=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let h=this.getDecodeFinderCounters();j.arraycopy(h,0,h,1,h.length-1),h[0]=l;let x;try{x=this.parseFinderValue(h,he.FINDER_PATTERNS)}catch{return null}return new Gt(x,[c,u],c,u,n)}decodeDataCharacter(e,n,i,l){let c=this.getDataCharacterCounters();for(let Tt=0;Tt<c.length;Tt++)c[Tt]=0;if(l)he.recordPatternInReverse(e,n.getStartEnd()[0],c);else{he.recordPattern(e,n.getStartEnd()[1],c);for(let Tt=0,nn=c.length-1;Tt<nn;Tt++,nn--){let Wn=c[Tt];c[Tt]=c[nn],c[nn]=Wn}}let u=17,h=tt.sum(new Int32Array(c))/u,x=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-x)/x>.3)throw new G;let v=this.getOddCounts(),I=this.getEvenCounts(),R=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Tt=0;Tt<c.length;Tt++){let nn=1*c[Tt]/h,Wn=nn+.5;if(Wn<1){if(nn<.3)throw new G;Wn=1}else if(Wn>8){if(nn>8.7)throw new G;Wn=8}let _s=Tt/2;(Tt&1)==0?(v[_s]=Wn,R[_s]=nn-Wn):(I[_s]=Wn,O[_s]=nn-Wn)}this.adjustOddEvenCounts(u);let L=4*n.getValue()+(i?0:2)+(l?0:1)-1,H=0,X=0;for(let Tt=v.length-1;Tt>=0;Tt--){if(he.isNotA1left(n,i,l)){let nn=he.WEIGHTS[L][2*Tt];X+=v[Tt]*nn}H+=v[Tt]}let Q=0;for(let Tt=I.length-1;Tt>=0;Tt--)if(he.isNotA1left(n,i,l)){let nn=he.WEIGHTS[L][2*Tt+1];Q+=I[Tt]*nn}let ae=X+Q;if((H&1)!=0||H>13||H<4)throw new G;let Ne=(13-H)/2,Te=he.SYMBOL_WIDEST[Ne],ye=9-Te,dt=_t.getRSSvalue(v,Te,!0),it=_t.getRSSvalue(I,ye,!1),Jn=he.EVEN_TOTAL_SUBSET[Ne],Or=he.GSUM[Ne],pn=dt*Jn+it+Or;return new ar(pn,ae)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=tt.sum(new Int32Array(this.getOddCounts())),i=tt.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;n>13?c=!0:n<4&&(l=!0);let u=!1,h=!1;i>13?h=!0:i<4&&(u=!0);let x=n+i-e,v=(n&1)==1,I=(i&1)==0;if(x==1)if(v){if(I)throw new G;c=!0}else{if(!I)throw new G;h=!0}else if(x==-1)if(v){if(I)throw new G;l=!0}else{if(!I)throw new G;u=!0}else if(x==0){if(v){if(!I)throw new G;n<i?(l=!0,h=!0):(c=!0,u=!0)}else if(I)throw new G}else throw new G;if(l){if(c)throw new G;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new G;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class ml extends ar{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class jt extends Et{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const l=this.decodePair(n,!1,e,i);jt.addOrTally(this.possibleLeftPairs,l),n.reverse();let c=this.decodePair(n,!0,e,i);jt.addOrTally(this.possibleRightPairs,c),n.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&jt.checkChecksum(u,h))return jt.constructResult(u,h)}throw new G}static addOrTally(e,n){if(n==null)return;let i=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),l=new String(i).toString(),c=new De;for(let v=13-l.length;v>0;v--)c.append("0");c.append(l);let u=0;for(let v=0;v<13;v++){let I=c.charAt(v).charCodeAt(0)-48;u+=(v&1)===0?3*I:I}u=10-u%10,u===10&&(u=0),c.append(u.toString());let h=e.getFinderPattern().getResultPoints(),x=n.getFinderPattern().getResultPoints();return new Ie(c.toString(),null,0,[h[0],h[1],x[0],x[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(e,n,i,l){try{let c=this.findFinderPattern(e,n),u=this.parseFoundFinderPattern(e,i,n,c),h=l==null?null:l.get(de.NEED_RESULT_POINT_CALLBACK);if(h!=null){let I=(c[0]+c[1])/2;n&&(I=e.getSize()-1-I),h.foundPossibleResultPoint(new Le(I,i))}let x=this.decodeDataCharacter(e,u,!0),v=this.decodeDataCharacter(e,u,!1);return new ml(1597*x.getValue()+v.getValue(),x.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,n,i){let l=this.getDataCharacterCounters();for(let Q=0;Q<l.length;Q++)l[Q]=0;if(i)Wt.recordPatternInReverse(e,n.getStartEnd()[0],l);else{Wt.recordPattern(e,n.getStartEnd()[1]+1,l);for(let Q=0,ae=l.length-1;Q<ae;Q++,ae--){let Ne=l[Q];l[Q]=l[ae],l[ae]=Ne}}let c=i?16:15,u=tt.sum(new Int32Array(l))/c,h=this.getOddCounts(),x=this.getEvenCounts(),v=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Q=0;Q<l.length;Q++){let ae=l[Q]/u,Ne=Math.floor(ae+.5);Ne<1?Ne=1:Ne>8&&(Ne=8);let Te=Math.floor(Q/2);(Q&1)===0?(h[Te]=Ne,v[Te]=ae-Ne):(x[Te]=Ne,I[Te]=ae-Ne)}this.adjustOddEvenCounts(i,c);let R=0,O=0;for(let Q=h.length-1;Q>=0;Q--)O*=9,O+=h[Q],R+=h[Q];let L=0,H=0;for(let Q=x.length-1;Q>=0;Q--)L*=9,L+=x[Q],H+=x[Q];let X=O+3*L;if(i){if((R&1)!==0||R>12||R<4)throw new G;let Q=(12-R)/2,ae=jt.OUTSIDE_ODD_WIDEST[Q],Ne=9-ae,Te=_t.getRSSvalue(h,ae,!1),ye=_t.getRSSvalue(x,Ne,!0),dt=jt.OUTSIDE_EVEN_TOTAL_SUBSET[Q],it=jt.OUTSIDE_GSUM[Q];return new ar(Te*dt+ye+it,X)}else{if((H&1)!==0||H>10||H<4)throw new G;let Q=(10-H)/2,ae=jt.INSIDE_ODD_WIDEST[Q],Ne=9-ae,Te=_t.getRSSvalue(h,ae,!0),ye=_t.getRSSvalue(x,Ne,!1),dt=jt.INSIDE_ODD_TOTAL_SUBSET[Q],it=jt.INSIDE_GSUM[Q];return new ar(ye*dt+Te+it,X)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=e.getSize(),c=!1,u=0;for(;u<l&&(c=!e.get(u),n!==c);)u++;let h=0,x=u;for(let v=u;v<l;v++)if(e.get(v)!==c)i[h]++;else{if(h===3){if(Et.isFinderPattern(i))return[x,v];x+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,c=!c}throw new G}parseFoundFinderPattern(e,n,i,l){let c=e.get(l[0]),u=l[0]-1;for(;u>=0&&c!==e.get(u);)u--;u++;const h=l[0]-u,x=this.getDecodeFinderCounters(),v=new Int32Array(x.length);j.arraycopy(x,0,v,1,x.length-1),v[0]=h;const I=this.parseFinderValue(v,jt.FINDER_PATTERNS);let R=u,O=l[1];return i&&(R=e.getSize()-1-R,O=e.getSize()-1-O),new Gt(I,[u,l[1]],R,O,n)}adjustOddEvenCounts(e,n){let i=tt.sum(new Int32Array(this.getOddCounts())),l=tt.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1,h=!1,x=!1;e?(i>12?u=!0:i<4&&(c=!0),l>12?x=!0:l<4&&(h=!0)):(i>11?u=!0:i<5&&(c=!0),l>10?x=!0:l<4&&(h=!0));let v=i+l-n,I=(i&1)===(e?1:0),R=(l&1)===1;if(v===1)if(I){if(R)throw new G;u=!0}else{if(!R)throw new G;x=!0}else if(v===-1)if(I){if(R)throw new G;c=!0}else{if(!R)throw new G;h=!0}else if(v===0){if(I){if(!R)throw new G;i<l?(c=!0,x=!0):(u=!0,h=!0)}else if(R)throw new G}else throw new G;if(c){if(u)throw new G;Et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new G;Et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}jt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],jt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],jt.OUTSIDE_GSUM=[0,161,961,2015,2715],jt.INSIDE_GSUM=[0,336,1036,1516],jt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],jt.INSIDE_ODD_WIDEST=[2,4,6,8],jt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class qs extends Wt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get(de.POSSIBLE_FORMATS):null,l=e&&e.get(de.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ve.EAN_13)||i.includes(ve.UPC_A)||i.includes(ve.EAN_8)||i.includes(ve.UPC_E))&&this.readers.push(new en(e)),i.includes(ve.CODE_39)&&this.readers.push(new qt(l)),i.includes(ve.CODE_128)&&this.readers.push(new _e),i.includes(ve.ITF)&&this.readers.push(new vt),i.includes(ve.RSS_14)&&this.readers.push(new jt),i.includes(ve.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new en(e)),this.readers.push(new qt),this.readers.push(new en(e)),this.readers.push(new _e),this.readers.push(new vt),this.readers.push(new jt),this.readers.push(new he(this.verbose)))}decodeRow(e,n,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,i)}catch{}throw new G}reset(){this.readers.forEach(e=>e.reset())}}class gl extends Ae{constructor(e=500,n){super(new qs(n),e,n)}}class wt{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class lt{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(e,n,i,l,c,u){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=u;let h=0;const x=u.getECCodewords(),v=u.getECBlocks();for(let I of v)h+=I.getCount()*(I.getDataCodewords()+x);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new $;for(let i of gt.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new gt(1,10,10,8,8,new wt(5,new lt(1,3))),new gt(2,12,12,10,10,new wt(7,new lt(1,5))),new gt(3,14,14,12,12,new wt(10,new lt(1,8))),new gt(4,16,16,14,14,new wt(12,new lt(1,12))),new gt(5,18,18,16,16,new wt(14,new lt(1,18))),new gt(6,20,20,18,18,new wt(18,new lt(1,22))),new gt(7,22,22,20,20,new wt(20,new lt(1,30))),new gt(8,24,24,22,22,new wt(24,new lt(1,36))),new gt(9,26,26,24,24,new wt(28,new lt(1,44))),new gt(10,32,32,14,14,new wt(36,new lt(1,62))),new gt(11,36,36,16,16,new wt(42,new lt(1,86))),new gt(12,40,40,18,18,new wt(48,new lt(1,114))),new gt(13,44,44,20,20,new wt(56,new lt(1,144))),new gt(14,48,48,22,22,new wt(68,new lt(1,174))),new gt(15,52,52,24,24,new wt(42,new lt(2,102))),new gt(16,64,64,14,14,new wt(56,new lt(2,140))),new gt(17,72,72,16,16,new wt(36,new lt(4,92))),new gt(18,80,80,18,18,new wt(48,new lt(4,114))),new gt(19,88,88,20,20,new wt(56,new lt(4,144))),new gt(20,96,96,22,22,new wt(68,new lt(4,174))),new gt(21,104,104,24,24,new wt(56,new lt(6,136))),new gt(22,120,120,18,18,new wt(68,new lt(6,175))),new gt(23,132,132,20,20,new wt(62,new lt(8,163))),new gt(24,144,144,22,22,new wt(62,new lt(8,156),new lt(2,155))),new gt(25,8,18,6,16,new wt(7,new lt(1,5))),new gt(26,8,32,6,14,new wt(11,new lt(1,10))),new gt(27,12,26,10,24,new wt(14,new lt(1,16))),new gt(28,12,36,10,16,new wt(18,new lt(1,22))),new gt(29,16,36,14,16,new wt(24,new lt(1,32))),new gt(30,16,48,14,22,new wt(28,new lt(1,49)))]}}gt.VERSIONS=gt.buildVersions();class lr{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new $;this.version=lr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return gt.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,l=0;const c=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let h=!1,x=!1,v=!1,I=!1;do if(i===c&&l===0&&!h)e[n++]=this.readCorner1(c,u)&255,i-=2,l+=2,h=!0;else if(i===c-2&&l===0&&(u&3)!==0&&!x)e[n++]=this.readCorner2(c,u)&255,i-=2,l+=2,x=!0;else if(i===c+4&&l===2&&(u&7)===0&&!v)e[n++]=this.readCorner3(c,u)&255,i-=2,l+=2,v=!0;else if(i===c-2&&l===0&&(u&7)===4&&!I)e[n++]=this.readCorner4(c,u)&255,i-=2,l+=2,I=!0;else{do i<c&&l>=0&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i-=2,l+=2;while(i>=0&&l<u);i+=1,l+=3;do i>=0&&l<u&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i+=2,l-=2;while(i<c&&l>=0);i+=3,l+=1}while(i<c||l<u);if(n!==this.version.getTotalCodewords())throw new $;return e}readModule(e,n,i,l){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,l){let c=0;return this.readModule(e-2,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-2,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n,i,l)&&(c|=1),c<<=1,this.readModule(e,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e,n,i,l)&&(c|=1),c}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new A("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),u=n/l|0,h=i/c|0,x=u*l,v=h*c,I=new me(v,x);for(let R=0;R<u;++R){const O=R*l;for(let L=0;L<h;++L){const H=L*c;for(let X=0;X<l;++X){const Q=R*(l+2)+1+X,ae=O+X;for(let Ne=0;Ne<c;++Ne){const Te=L*(c+2)+1+Ne;if(e.get(Te,Q)){const ye=H+Ne;I.set(ye,ae)}}}}}return I}}class ra{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let l=0;const c=i.getECBlocks();for(let X of c)l+=X.getCount();const u=new Array(l);let h=0;for(let X of c)for(let Q=0;Q<X.getCount();Q++){const ae=X.getDataCodewords(),Ne=i.getECCodewords()+ae;u[h++]=new ra(ae,new Uint8Array(Ne))}const v=u[0].codewords.length-i.getECCodewords(),I=v-1;let R=0;for(let X=0;X<I;X++)for(let Q=0;Q<h;Q++)u[Q].codewords[X]=e[R++];const O=n.getVersionNumber()===24,L=O?8:h;for(let X=0;X<L;X++)u[X].codewords[v-1]=e[R++];const H=u[0].codewords.length;for(let X=v;X<H;X++)for(let Q=0;Q<h;Q++){const ae=O?(Q+8)%h:Q,Ne=O&&ae>7?X-1:X;u[ae].codewords[Ne]=e[R++]}if(R!==e.length)throw new A;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class sa{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new A(""+e);let n=0,i=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(i>0){const u=8-i,h=e<u?e:u,x=u-h,v=255>>8-h<<x;n=(c[l]&v)>>x,e-=h,i+=h,i===8&&(i=0,l++)}if(e>0){for(;e>=8;)n=n<<8|c[l]&255,l++,e-=8;if(e>0){const u=8-e,h=255>>u<<u;n=n<<e|(c[l]&h)>>u,i+=e}}return this.bitOffset=i,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var mn;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(mn||(mn={}));class Ir{static decode(e){const n=new sa(e),i=new De,l=new De,c=new Array;let u=mn.ASCII_ENCODE;do if(u===mn.ASCII_ENCODE)u=this.decodeAsciiSegment(n,i,l);else{switch(u){case mn.C40_ENCODE:this.decodeC40Segment(n,i);break;case mn.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case mn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case mn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case mn.BASE256_ENCODE:this.decodeBase256Segment(n,i,c);break;default:throw new $}u=mn.ASCII_ENCODE}while(u!==mn.PAD_ENCODE&&n.available()>0);return l.length()>0&&i.append(l.toString()),new at(e,i.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,n,i){let l=!1;do{let c=e.readBits(8);if(c===0)throw new $;if(c<=128)return l&&(c+=128),n.append(String.fromCharCode(c-1)),mn.ASCII_ENCODE;if(c===129)return mn.PAD_ENCODE;if(c<=229){const u=c-130;u<10&&n.append("0"),n.append(""+u)}else switch(c){case 230:return mn.C40_ENCODE;case 231:return mn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return mn.ANSIX12_ENCODE;case 239:return mn.TEXT_ENCODE;case 240:return mn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new $;break}}while(e.available()>0);return mn.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const l=[];let c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const x=l[h];switch(c){case 0:if(x<3)c=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[x];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new $;break;case 1:i?(n.append(String.fromCharCode(x+128)),i=!1):n.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[x];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(x){case 27:n.append("");break;case 30:i=!0;break;default:throw new $}c=0;break;case 3:i?(n.append(String.fromCharCode(x+224)),i=!1):n.append(String.fromCharCode(x+96)),c=0;break;default:throw new $}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,l=[],c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const x=l[h];switch(c){case 0:if(x<3)c=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[x];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new $;break;case 1:i?(n.append(String.fromCharCode(x+128)),i=!1):n.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[x];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(x){case 27:n.append("");break;case 30:i=!0;break;default:throw new $}c=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[x];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v),c=0}else throw new $;break;default:throw new $}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(u){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(u<14)n.append(String.fromCharCode(u+44));else if(u<40)n.append(String.fromCharCode(u+51));else throw new $;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let l=(e<<8)+n-1,c=Math.floor(l/1600);i[0]=c,l-=c*1600,c=Math.floor(l/40),i[1]=c,i[2]=l-c*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let l=e.readBits(6);if(l===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}(l&32)===0&&(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let l=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),l++);let u;if(c===0?u=e.available()/8|0:c<250?u=c:u=250*(c-249)+this.unrandomize255State(e.readBits(8),l++),u<0)throw new $;const h=new Uint8Array(u);for(let x=0;x<u;x++){if(e.available()<8)throw new $;h[x]=this.unrandomize255State(e.readBits(8),l++)}i.push(h);try{n.append(Pe.decode(h,Ee.ISO88591))}catch(x){throw new ir("Platform does not support required encoding: "+x.message)}}static unrandomize255State(e,n){const i=149*n%255+1,l=e-i;return l>=0?l:l+256}}Ir.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ir.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ir.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ir.TEXT_SHIFT2_SET_CHARS=Ir.C40_SHIFT2_SET_CHARS,Ir.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class so{constructor(){this.rsDecoder=new es(ht.DATA_MATRIX_FIELD_256)}decode(e){const n=new lr(e),i=n.getVersion(),l=n.readCodewords(),c=ra.getDataBlocks(l,i);let u=0;for(let v of c)u+=v.getNumDataCodewords();const h=new Uint8Array(u),x=c.length;for(let v=0;v<x;v++){const I=c[v],R=I.getCodewords(),O=I.getNumDataCodewords();this.correctErrors(R,O);for(let L=0;L<O;L++)h[L*x+v]=R[L]}return Ir.decode(h)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new B}for(let l=0;l<n;l++)e[l]=i[l]}}class Ft{constructor(e){this.image=e,this.rectangleDetector=new gr(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new G;n=this.shiftToModuleCenter(n);const i=n[0],l=n[1],c=n[2],u=n[3];let h=this.transitionsBetween(i,u)+1,x=this.transitionsBetween(c,u)+1;(h&1)===1&&(h+=1),(x&1)===1&&(x+=1),4*h<7*x&&4*x<7*h&&(h=x=Math.max(h,x));let v=Ft.sampleGrid(this.image,i,l,c,u,h,x);return new an(v,[i,l,c,u])}static shiftPoint(e,n,i){let l=(n.getX()-e.getX())/(i+1),c=(n.getY()-e.getY())/(i+1);return new Le(e.getX()+l,e.getY()+c)}static moveAway(e,n,i){let l=e.getX(),c=e.getY();return l<n?l-=1:l+=1,c<i?c-=1:c+=1,new Le(l,c)}detectSolid1(e){let n=e[0],i=e[1],l=e[3],c=e[2],u=this.transitionsBetween(n,i),h=this.transitionsBetween(i,l),x=this.transitionsBetween(l,c),v=this.transitionsBetween(c,n),I=u,R=[c,n,i,l];return I>h&&(I=h,R[0]=n,R[1]=i,R[2]=l,R[3]=c),I>x&&(I=x,R[0]=i,R[1]=l,R[2]=c,R[3]=n),I>v&&(R[0]=l,R[1]=c,R[2]=n,R[3]=i),R}detectSolid2(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=Ft.shiftPoint(i,l,(u+1)*4),x=Ft.shiftPoint(l,i,(u+1)*4),v=this.transitionsBetween(h,n),I=this.transitionsBetween(x,c);return v<I?(e[0]=n,e[1]=i,e[2]=l,e[3]=c):(e[0]=i,e[1]=l,e[2]=c,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=this.transitionsBetween(i,c),x=Ft.shiftPoint(n,i,(h+1)*4),v=Ft.shiftPoint(l,i,(u+1)*4);u=this.transitionsBetween(x,c),h=this.transitionsBetween(v,c);let I=new Le(c.getX()+(l.getX()-i.getX())/(u+1),c.getY()+(l.getY()-i.getY())/(u+1)),R=new Le(c.getX()+(n.getX()-i.getX())/(h+1),c.getY()+(n.getY()-i.getY())/(h+1));if(!this.isValid(I))return this.isValid(R)?R:null;if(!this.isValid(R))return I;let O=this.transitionsBetween(x,I)+this.transitionsBetween(v,I),L=this.transitionsBetween(x,R)+this.transitionsBetween(v,R);return O>L?I:R}shiftToModuleCenter(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c)+1,h=this.transitionsBetween(l,c)+1,x=Ft.shiftPoint(n,i,h*4),v=Ft.shiftPoint(l,i,u*4);u=this.transitionsBetween(x,c)+1,h=this.transitionsBetween(v,c)+1,(u&1)===1&&(u+=1),(h&1)===1&&(h+=1);let I=(n.getX()+i.getX()+l.getX()+c.getX())/4,R=(n.getY()+i.getY()+l.getY()+c.getY())/4;n=Ft.moveAway(n,I,R),i=Ft.moveAway(i,I,R),l=Ft.moveAway(l,I,R),c=Ft.moveAway(c,I,R);let O,L;return x=Ft.shiftPoint(n,i,h*4),x=Ft.shiftPoint(x,c,u*4),O=Ft.shiftPoint(i,n,h*4),O=Ft.shiftPoint(O,l,u*4),v=Ft.shiftPoint(l,c,h*4),v=Ft.shiftPoint(v,i,u*4),L=Ft.shiftPoint(c,l,h*4),L=Ft.shiftPoint(L,n,u*4),[x,O,v,L]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,l,c,u,h){return Zn.getInstance().sampleGrid(e,u,h,.5,.5,u-.5,.5,u-.5,h-.5,.5,h-.5,n.getX(),n.getY(),c.getX(),c.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),l=Math.trunc(e.getY()),c=Math.trunc(n.getX()),u=Math.trunc(n.getY()),h=Math.abs(u-l)>Math.abs(c-i);if(h){let X=i;i=l,l=X,X=c,c=u,u=X}let x=Math.abs(c-i),v=Math.abs(u-l),I=-x/2,R=l<u?1:-1,O=i<c?1:-1,L=0,H=this.image.get(h?l:i,h?i:l);for(let X=i,Q=l;X!==c;X+=O){let ae=this.image.get(h?Q:X,h?X:Q);if(ae!==H&&(L++,H=ae),I+=v,I>0){if(Q===u)break;Q+=R,I-=x}}return L}}class kr{constructor(){this.decoder=new so}decode(e,n=null){let i,l;if(n!=null&&n.has(de.PURE_BARCODE)){const v=kr.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(v),l=kr.NO_POINTS}else{const v=new Ft(e.getBlackMatrix()).detect();i=this.decoder.decode(v.getBits()),l=v.getPoints()}const c=i.getRawBytes(),u=new Ie(i.getText(),c,8*c.length,l,ve.DATA_MATRIX,j.currentTimeMillis()),h=i.getByteSegments();h!=null&&u.putMetadata(Oe.BYTE_SEGMENTS,h);const x=i.getECLevel();return x!=null&&u.putMetadata(Oe.ERROR_CORRECTION_LEVEL,x),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new G;const l=this.moduleSize(n,e);let c=n[1];const u=i[1];let h=n[0];const v=(i[0]-h+1)/l,I=(u-c+1)/l;if(v<=0||I<=0)throw new G;const R=l/2;c+=R,h+=R;const O=new me(v,I);for(let L=0;L<I;L++){const H=c+L*l;for(let X=0;X<v;X++)e.get(h+X*l,H)&&O.set(X,L)}return O}static moduleSize(e,n){const i=n.getWidth();let l=e[0];const c=e[1];for(;l<i&&n.get(l,c);)l++;if(l===i)throw new G;const u=l-e[0];if(u===0)throw new G;return u}}kr.NO_POINTS=[];class au extends Ae{constructor(e=500){super(new kr,e)}}var $s;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})($s||($s={}));class kt{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,kt.FOR_BITS.set(i,this),kt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return kt.L;case"M":return kt.M;case"Q":return kt.Q;case"H":return kt.H;default:throw new T(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof kt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=kt.FOR_BITS.size)throw new A;return kt.FOR_BITS.get(e)}}kt.FOR_BITS=new Map,kt.FOR_VALUE=new Map,kt.L=new kt($s.L,"L",1),kt.M=new kt($s.M,"M",0),kt.Q=new kt($s.Q,"Q",3),kt.H=new kt($s.H,"H",2);class An{constructor(e){this.errorCorrectionLevel=kt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return Y.bitCount(e^n)}static decodeFormatInformation(e,n){const i=An.doDecodeFormatInformation(e,n);return i!==null?i:An.doDecodeFormatInformation(e^An.FORMAT_INFO_MASK_QR,n^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,l=0;for(const c of An.FORMAT_INFO_DECODE_LOOKUP){const u=c[0];if(u===e||u===n)return new An(c[1]);let h=An.numBitsDiffering(e,u);h<i&&(l=c[1],i=h),e!==n&&(h=An.numBitsDiffering(n,u),h<i&&(l=c[1],i=h))}return i<=3?new An(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof An))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class re{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class P{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xe{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let l=0;const c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const h of u)l+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new $;try{return this.getVersionForNumber((e-17)/4)}catch{throw new $}}static getVersionForNumber(e){if(e<1||e>40)throw new A;return Xe.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<Xe.VERSION_DECODE_INFO.length;l++){const c=Xe.VERSION_DECODE_INFO[l];if(c===e)return Xe.getVersionForNumber(l+7);const u=An.numBitsDiffering(e,c);u<n&&(i=l+7,n=u)}return n<=3?Xe.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new me(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const c=this.alignmentPatternCenters[l]-2;for(let u=0;u<i;u++)l===0&&(u===0||u===i-1)||l===i-1&&u===0||n.setRegion(this.alignmentPatternCenters[u]-2,c,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Xe.VERSIONS=[new Xe(1,new Int32Array(0),new re(7,new P(1,19)),new re(10,new P(1,16)),new re(13,new P(1,13)),new re(17,new P(1,9))),new Xe(2,Int32Array.from([6,18]),new re(10,new P(1,34)),new re(16,new P(1,28)),new re(22,new P(1,22)),new re(28,new P(1,16))),new Xe(3,Int32Array.from([6,22]),new re(15,new P(1,55)),new re(26,new P(1,44)),new re(18,new P(2,17)),new re(22,new P(2,13))),new Xe(4,Int32Array.from([6,26]),new re(20,new P(1,80)),new re(18,new P(2,32)),new re(26,new P(2,24)),new re(16,new P(4,9))),new Xe(5,Int32Array.from([6,30]),new re(26,new P(1,108)),new re(24,new P(2,43)),new re(18,new P(2,15),new P(2,16)),new re(22,new P(2,11),new P(2,12))),new Xe(6,Int32Array.from([6,34]),new re(18,new P(2,68)),new re(16,new P(4,27)),new re(24,new P(4,19)),new re(28,new P(4,15))),new Xe(7,Int32Array.from([6,22,38]),new re(20,new P(2,78)),new re(18,new P(4,31)),new re(18,new P(2,14),new P(4,15)),new re(26,new P(4,13),new P(1,14))),new Xe(8,Int32Array.from([6,24,42]),new re(24,new P(2,97)),new re(22,new P(2,38),new P(2,39)),new re(22,new P(4,18),new P(2,19)),new re(26,new P(4,14),new P(2,15))),new Xe(9,Int32Array.from([6,26,46]),new re(30,new P(2,116)),new re(22,new P(3,36),new P(2,37)),new re(20,new P(4,16),new P(4,17)),new re(24,new P(4,12),new P(4,13))),new Xe(10,Int32Array.from([6,28,50]),new re(18,new P(2,68),new P(2,69)),new re(26,new P(4,43),new P(1,44)),new re(24,new P(6,19),new P(2,20)),new re(28,new P(6,15),new P(2,16))),new Xe(11,Int32Array.from([6,30,54]),new re(20,new P(4,81)),new re(30,new P(1,50),new P(4,51)),new re(28,new P(4,22),new P(4,23)),new re(24,new P(3,12),new P(8,13))),new Xe(12,Int32Array.from([6,32,58]),new re(24,new P(2,92),new P(2,93)),new re(22,new P(6,36),new P(2,37)),new re(26,new P(4,20),new P(6,21)),new re(28,new P(7,14),new P(4,15))),new Xe(13,Int32Array.from([6,34,62]),new re(26,new P(4,107)),new re(22,new P(8,37),new P(1,38)),new re(24,new P(8,20),new P(4,21)),new re(22,new P(12,11),new P(4,12))),new Xe(14,Int32Array.from([6,26,46,66]),new re(30,new P(3,115),new P(1,116)),new re(24,new P(4,40),new P(5,41)),new re(20,new P(11,16),new P(5,17)),new re(24,new P(11,12),new P(5,13))),new Xe(15,Int32Array.from([6,26,48,70]),new re(22,new P(5,87),new P(1,88)),new re(24,new P(5,41),new P(5,42)),new re(30,new P(5,24),new P(7,25)),new re(24,new P(11,12),new P(7,13))),new Xe(16,Int32Array.from([6,26,50,74]),new re(24,new P(5,98),new P(1,99)),new re(28,new P(7,45),new P(3,46)),new re(24,new P(15,19),new P(2,20)),new re(30,new P(3,15),new P(13,16))),new Xe(17,Int32Array.from([6,30,54,78]),new re(28,new P(1,107),new P(5,108)),new re(28,new P(10,46),new P(1,47)),new re(28,new P(1,22),new P(15,23)),new re(28,new P(2,14),new P(17,15))),new Xe(18,Int32Array.from([6,30,56,82]),new re(30,new P(5,120),new P(1,121)),new re(26,new P(9,43),new P(4,44)),new re(28,new P(17,22),new P(1,23)),new re(28,new P(2,14),new P(19,15))),new Xe(19,Int32Array.from([6,30,58,86]),new re(28,new P(3,113),new P(4,114)),new re(26,new P(3,44),new P(11,45)),new re(26,new P(17,21),new P(4,22)),new re(26,new P(9,13),new P(16,14))),new Xe(20,Int32Array.from([6,34,62,90]),new re(28,new P(3,107),new P(5,108)),new re(26,new P(3,41),new P(13,42)),new re(30,new P(15,24),new P(5,25)),new re(28,new P(15,15),new P(10,16))),new Xe(21,Int32Array.from([6,28,50,72,94]),new re(28,new P(4,116),new P(4,117)),new re(26,new P(17,42)),new re(28,new P(17,22),new P(6,23)),new re(30,new P(19,16),new P(6,17))),new Xe(22,Int32Array.from([6,26,50,74,98]),new re(28,new P(2,111),new P(7,112)),new re(28,new P(17,46)),new re(30,new P(7,24),new P(16,25)),new re(24,new P(34,13))),new Xe(23,Int32Array.from([6,30,54,78,102]),new re(30,new P(4,121),new P(5,122)),new re(28,new P(4,47),new P(14,48)),new re(30,new P(11,24),new P(14,25)),new re(30,new P(16,15),new P(14,16))),new Xe(24,Int32Array.from([6,28,54,80,106]),new re(30,new P(6,117),new P(4,118)),new re(28,new P(6,45),new P(14,46)),new re(30,new P(11,24),new P(16,25)),new re(30,new P(30,16),new P(2,17))),new Xe(25,Int32Array.from([6,32,58,84,110]),new re(26,new P(8,106),new P(4,107)),new re(28,new P(8,47),new P(13,48)),new re(30,new P(7,24),new P(22,25)),new re(30,new P(22,15),new P(13,16))),new Xe(26,Int32Array.from([6,30,58,86,114]),new re(28,new P(10,114),new P(2,115)),new re(28,new P(19,46),new P(4,47)),new re(28,new P(28,22),new P(6,23)),new re(30,new P(33,16),new P(4,17))),new Xe(27,Int32Array.from([6,34,62,90,118]),new re(30,new P(8,122),new P(4,123)),new re(28,new P(22,45),new P(3,46)),new re(30,new P(8,23),new P(26,24)),new re(30,new P(12,15),new P(28,16))),new Xe(28,Int32Array.from([6,26,50,74,98,122]),new re(30,new P(3,117),new P(10,118)),new re(28,new P(3,45),new P(23,46)),new re(30,new P(4,24),new P(31,25)),new re(30,new P(11,15),new P(31,16))),new Xe(29,Int32Array.from([6,30,54,78,102,126]),new re(30,new P(7,116),new P(7,117)),new re(28,new P(21,45),new P(7,46)),new re(30,new P(1,23),new P(37,24)),new re(30,new P(19,15),new P(26,16))),new Xe(30,Int32Array.from([6,26,52,78,104,130]),new re(30,new P(5,115),new P(10,116)),new re(28,new P(19,47),new P(10,48)),new re(30,new P(15,24),new P(25,25)),new re(30,new P(23,15),new P(25,16))),new Xe(31,Int32Array.from([6,30,56,82,108,134]),new re(30,new P(13,115),new P(3,116)),new re(28,new P(2,46),new P(29,47)),new re(30,new P(42,24),new P(1,25)),new re(30,new P(23,15),new P(28,16))),new Xe(32,Int32Array.from([6,34,60,86,112,138]),new re(30,new P(17,115)),new re(28,new P(10,46),new P(23,47)),new re(30,new P(10,24),new P(35,25)),new re(30,new P(19,15),new P(35,16))),new Xe(33,Int32Array.from([6,30,58,86,114,142]),new re(30,new P(17,115),new P(1,116)),new re(28,new P(14,46),new P(21,47)),new re(30,new P(29,24),new P(19,25)),new re(30,new P(11,15),new P(46,16))),new Xe(34,Int32Array.from([6,34,62,90,118,146]),new re(30,new P(13,115),new P(6,116)),new re(28,new P(14,46),new P(23,47)),new re(30,new P(44,24),new P(7,25)),new re(30,new P(59,16),new P(1,17))),new Xe(35,Int32Array.from([6,30,54,78,102,126,150]),new re(30,new P(12,121),new P(7,122)),new re(28,new P(12,47),new P(26,48)),new re(30,new P(39,24),new P(14,25)),new re(30,new P(22,15),new P(41,16))),new Xe(36,Int32Array.from([6,24,50,76,102,128,154]),new re(30,new P(6,121),new P(14,122)),new re(28,new P(6,47),new P(34,48)),new re(30,new P(46,24),new P(10,25)),new re(30,new P(2,15),new P(64,16))),new Xe(37,Int32Array.from([6,28,54,80,106,132,158]),new re(30,new P(17,122),new P(4,123)),new re(28,new P(29,46),new P(14,47)),new re(30,new P(49,24),new P(10,25)),new re(30,new P(24,15),new P(46,16))),new Xe(38,Int32Array.from([6,32,58,84,110,136,162]),new re(30,new P(4,122),new P(18,123)),new re(28,new P(13,46),new P(32,47)),new re(30,new P(48,24),new P(14,25)),new re(30,new P(42,15),new P(32,16))),new Xe(39,Int32Array.from([6,26,54,82,110,138,166]),new re(30,new P(20,117),new P(4,118)),new re(28,new P(40,47),new P(7,48)),new re(30,new P(43,24),new P(22,25)),new re(30,new P(10,15),new P(67,16))),new Xe(40,Int32Array.from([6,30,58,86,114,142,170]),new re(30,new P(19,118),new P(6,119)),new re(28,new P(18,47),new P(31,48)),new re(30,new P(34,24),new P(34,25)),new re(30,new P(20,15),new P(61,16)))];var cn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(cn||(cn={}));class ct{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let l=0;l<n;l++)this.isMasked(i,l)&&e.flip(l,i)}}ct.values=new Map([[cn.DATA_MASK_000,new ct(cn.DATA_MASK_000,(k,e)=>(k+e&1)===0)],[cn.DATA_MASK_001,new ct(cn.DATA_MASK_001,(k,e)=>(k&1)===0)],[cn.DATA_MASK_010,new ct(cn.DATA_MASK_010,(k,e)=>e%3===0)],[cn.DATA_MASK_011,new ct(cn.DATA_MASK_011,(k,e)=>(k+e)%3===0)],[cn.DATA_MASK_100,new ct(cn.DATA_MASK_100,(k,e)=>(Math.floor(k/2)+Math.floor(e/3)&1)===0)],[cn.DATA_MASK_101,new ct(cn.DATA_MASK_101,(k,e)=>k*e%6===0)],[cn.DATA_MASK_110,new ct(cn.DATA_MASK_110,(k,e)=>k*e%6<3)],[cn.DATA_MASK_111,new ct(cn.DATA_MASK_111,(k,e)=>(k+e+k*e%3&1)===0)]]);class pl{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new $;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const n=this.bitMatrix.getHeight();let i=0;const l=n-7;for(let c=n-1;c>=l;c--)i=this.copyBit(8,c,i);for(let c=n-8;c<n;c++)i=this.copyBit(c,8,i);if(this.parsedFormatInfo=An.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Xe.getVersionForNumber(n);let i=0;const l=e-11;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(h,u,i);let c=Xe.decodeVersionInformation(i);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;i=0;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(u,h,i);if(c=Xe.decodeVersionInformation(i),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new $}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=ct.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const c=n.buildFunctionPattern();let u=!0;const h=new Uint8Array(n.getTotalCodewords());let x=0,v=0,I=0;for(let R=l-1;R>0;R-=2){R===6&&R--;for(let O=0;O<l;O++){const L=u?l-1-O:O;for(let H=0;H<2;H++)c.get(R-H,L)||(I++,v<<=1,this.bitMatrix.get(R-H,L)&&(v|=1),I===8&&(h[x++]=v,I=0,v=0))}u=!u}if(x!==n.getTotalCodewords())throw new $;return h}remask(){if(this.parsedFormatInfo===null)return;const e=ct.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let l=n+1,c=e.getHeight();l<c;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class io{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new A;const l=n.getECBlocksForLevel(i);let c=0;const u=l.getECBlocks();for(const H of u)c+=H.getCount();const h=new Array(c);let x=0;for(const H of u)for(let X=0;X<H.getCount();X++){const Q=H.getDataCodewords(),ae=l.getECCodewordsPerBlock()+Q;h[x++]=new io(Q,new Uint8Array(ae))}const v=h[0].codewords.length;let I=h.length-1;for(;I>=0&&h[I].codewords.length!==v;)I--;I++;const R=v-l.getECCodewordsPerBlock();let O=0;for(let H=0;H<R;H++)for(let X=0;X<x;X++)h[X].codewords[H]=e[O++];for(let H=I;H<x;H++)h[H].codewords[R]=e[O++];const L=h[0].codewords.length;for(let H=R;H<L;H++)for(let X=0;X<x;X++){const Q=X<I?H:H+1;h[X].codewords[Q]=e[O++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Qn;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Qn||(Qn={}));class Ke{constructor(e,n,i,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=l,Ke.FOR_BITS.set(l,this),Ke.FOR_VALUE.set(e,this)}static forBits(e){const n=Ke.FOR_BITS.get(e);if(n===void 0)throw new A;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ke))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.TERMINATOR=new Ke(Qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ke.NUMERIC=new Ke(Qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ke.ALPHANUMERIC=new Ke(Qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ke.STRUCTURED_APPEND=new Ke(Qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ke.BYTE=new Ke(Qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ke.ECI=new Ke(Qn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ke.KANJI=new Ke(Qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ke.FNC1_FIRST_POSITION=new Ke(Qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ke.FNC1_SECOND_POSITION=new Ke(Qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ke.HANZI=new Ke(Qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(e,n,i,l){const c=new sa(e);let u=new De;const h=new Array;let x=-1,v=-1;try{let I=null,R=!1,O;do{if(c.available()<4)O=Ke.TERMINATOR;else{const L=c.readBits(4);O=Ke.forBits(L)}switch(O){case Ke.TERMINATOR:break;case Ke.FNC1_FIRST_POSITION:case Ke.FNC1_SECOND_POSITION:R=!0;break;case Ke.STRUCTURED_APPEND:if(c.available()<16)throw new $;x=c.readBits(8),v=c.readBits(8);break;case Ke.ECI:const L=Ut.parseECIValue(c);if(I=K.getCharacterSetECIByValue(L),I===null)throw new $;break;case Ke.HANZI:const H=c.readBits(4),X=c.readBits(O.getCharacterCountBits(n));H===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(c,u,X);break;default:const Q=c.readBits(O.getCharacterCountBits(n));switch(O){case Ke.NUMERIC:Ut.decodeNumericSegment(c,u,Q);break;case Ke.ALPHANUMERIC:Ut.decodeAlphanumericSegment(c,u,Q,R);break;case Ke.BYTE:Ut.decodeByteSegment(c,u,Q,I,h,l);break;case Ke.KANJI:Ut.decodeKanjiSegment(c,u,Q);break;default:throw new $}break}}while(O!==Ke.TERMINATOR)}catch{throw new $}return new at(e,u.toString(),h.length===0?null:h,i===null?null:i.toString(),x,v)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new $;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/96<<8&4294967295|u%96;h<959?h+=41377:h+=42657,l[c]=h>>8&255,l[c+1]=h&255,c+=2,i--}try{n.append(Pe.decode(l,Ee.GB2312))}catch(u){throw new $(u)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new $;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/192<<8&4294967295|u%192;h<7936?h+=33088:h+=49472,l[c]=h>>8,l[c+1]=h,c+=2,i--}try{n.append(Pe.decode(l,Ee.SHIFT_JIS))}catch(u){throw new $(u)}}static decodeByteSegment(e,n,i,l,c,u){if(8*i>e.available())throw new $;const h=new Uint8Array(i);for(let v=0;v<i;v++)h[v]=e.readBits(8);let x;l===null?x=Ee.guessEncoding(h,u):x=l.getName();try{n.append(Pe.decode(h,x))}catch(v){throw new $(v)}c.push(h)}static toAlphaNumericChar(e){if(e>=Ut.ALPHANUMERIC_CHARS.length)throw new $;return Ut.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,l){const c=n.length();for(;i>1;){if(e.available()<11)throw new $;const u=e.readBits(11);n.append(Ut.toAlphaNumericChar(Math.floor(u/45))),n.append(Ut.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(e.available()<6)throw new $;n.append(Ut.toAlphaNumericChar(e.readBits(6)))}if(l)for(let u=c;u<n.length();u++)n.charAt(u)==="%"&&(u<n.length()-1&&n.charAt(u+1)==="%"?n.deleteCharAt(u+1):n.setCharAt(u,""))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new $;const l=e.readBits(10);if(l>=1e3)throw new $;n.append(Ut.toAlphaNumericChar(Math.floor(l/100))),n.append(Ut.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Ut.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(e.available()<7)throw new $;const l=e.readBits(7);if(l>=100)throw new $;n.append(Ut.toAlphaNumericChar(Math.floor(l/10))),n.append(Ut.toAlphaNumericChar(l%10))}else if(i===1){if(e.available()<4)throw new $;const l=e.readBits(4);if(l>=10)throw new $;n.append(Ut.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new $}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class ia{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class oa{constructor(){this.rsDecoder=new es(ht.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(me.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new pl(e);let l=null;try{return this.decodeBitMatrixParser(i,n)}catch(c){l=c}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const c=this.decodeBitMatrixParser(i,n);return c.setOther(new ia(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(e,n){const i=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=io.getDataBlocks(c,i,l);let h=0;for(const I of u)h+=I.getNumDataCodewords();const x=new Uint8Array(h);let v=0;for(const I of u){const R=I.getCodewords(),O=I.getNumDataCodewords();this.correctErrors(R,O);for(let L=0;L<O;L++)x[v++]=R[L]}return Ut.decode(x,i,l,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new B}for(let l=0;l<n;l++)e[l]=i[l]}}class Qs extends Le{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=(this.getX()+n)/2,c=(this.getY()+e)/2,u=(this.estimatedModuleSize+i)/2;return new Qs(l,c,u)}}class Rr{constructor(e,n,i,l,c,u,h){this.image=e,this.startX=n,this.startY=i,this.width=l,this.height=c,this.moduleSize=u,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,l=e+i,c=this.startY+n/2,u=new Int32Array(3),h=this.image;for(let x=0;x<n;x++){const v=c+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));u[0]=0,u[1]=0,u[2]=0;let I=e;for(;I<l&&!h.get(I,v);)I++;let R=0;for(;I<l;){if(h.get(I,v))if(R===1)u[1]++;else if(R===2){if(this.foundPatternCross(u)){const O=this.handlePossibleCenter(u,v,I);if(O!==null)return O}u[0]=u[2],u[1]=1,u[2]=0,R=1}else u[++R]++;else R===1&&R++,u[R]++;I++}if(this.foundPatternCross(u)){const O=this.handlePossibleCenter(u,v,l);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=i)return!1;return!0}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let x=e;for(;x>=0&&c.get(n,x)&&h[1]<=i;)h[1]++,x--;if(x<0||h[1]>i)return NaN;for(;x>=0&&!c.get(n,x)&&h[0]<=i;)h[0]++,x--;if(h[0]>i)return NaN;for(x=e+1;x<u&&c.get(n,x)&&h[1]<=i;)h[1]++,x++;if(x===u||h[1]>i)return NaN;for(;x<u&&!c.get(n,x)&&h[2]<=i;)h[2]++,x++;if(h[2]>i)return NaN;const v=h[0]+h[1]+h[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(h)?Rr.centerFromEnd(h,x):NaN}handlePossibleCenter(e,n,i){const l=e[0]+e[1]+e[2],c=Rr.centerFromEnd(e,i),u=this.crossCheckVertical(n,c,2*e[1],l);if(!isNaN(u)){const h=(e[0]+e[1]+e[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(h,u,c))return v.combineEstimate(u,c,h);const x=new Qs(c,u,h);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Vr extends Le{constructor(e,n,i,l){super(e,n),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=this.count+1,c=(this.count*this.getX()+n)/l,u=(this.count*this.getY()+e)/l,h=(this.count*this.estimatedModuleSize+i)/l;return new Vr(c,u,h,l)}}class ms{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(de.TRY_HARDER)!==void 0,i=e!=null&&e.get(de.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),u=l.getWidth();let h=Math.floor(3*c/(4*$t.MAX_MODULES));(h<$t.MIN_SKIP||n)&&(h=$t.MIN_SKIP);let x=!1;const v=new Int32Array(5);for(let R=h-1;R<c&&!x;R+=h){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let O=0;for(let L=0;L<u;L++)if(l.get(L,R))(O&1)===1&&O++,v[O]++;else if((O&1)===0)if(O===4)if($t.foundPatternCross(v)){if(this.handlePossibleCenter(v,R,L,i)===!0)if(h=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>v[2]&&(R+=X-v[2]-h,L=u-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,O=3;continue}O=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,O=3;else v[++O]++;else v[O]++;$t.foundPatternCross(v)&&this.handlePossibleCenter(v,R,u,i)===!0&&(h=v[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return Le.orderBestPatterns(I),new ms(I)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let c=0;c<5;c++){const u=e[c];if(u===0)return!1;n+=u}if(n<7)return!1;const i=n/7,l=i/2;return Math.abs(i-e[0])<l&&Math.abs(i-e[1])<l&&Math.abs(3*i-e[2])<3*l&&Math.abs(i-e[3])<l&&Math.abs(i-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,l){const c=this.getCrossCheckStateCount();let u=0;const h=this.image;for(;e>=u&&n>=u&&h.get(n-u,e-u);)c[2]++,u++;if(e<u||n<u)return!1;for(;e>=u&&n>=u&&!h.get(n-u,e-u)&&c[1]<=i;)c[1]++,u++;if(e<u||n<u||c[1]>i)return!1;for(;e>=u&&n>=u&&h.get(n-u,e-u)&&c[0]<=i;)c[0]++,u++;if(c[0]>i)return!1;const x=h.getHeight(),v=h.getWidth();for(u=1;e+u<x&&n+u<v&&h.get(n+u,e+u);)c[2]++,u++;if(e+u>=x||n+u>=v)return!1;for(;e+u<x&&n+u<v&&!h.get(n+u,e+u)&&c[3]<i;)c[3]++,u++;if(e+u>=x||n+u>=v||c[3]>=i)return!1;for(;e+u<x&&n+u<v&&h.get(n+u,e+u)&&c[4]<i;)c[4]++,u++;if(c[4]>=i)return!1;const I=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(I-l)<2*l&&$t.foundPatternCross(c)}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.getCrossCheckStateCount();let x=e;for(;x>=0&&c.get(n,x);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(n,x)&&h[1]<=i;)h[1]++,x--;if(x<0||h[1]>i)return NaN;for(;x>=0&&c.get(n,x)&&h[0]<=i;)h[0]++,x--;if(h[0]>i)return NaN;for(x=e+1;x<u&&c.get(n,x);)h[2]++,x++;if(x===u)return NaN;for(;x<u&&!c.get(n,x)&&h[3]<i;)h[3]++,x++;if(x===u||h[3]>=i)return NaN;for(;x<u&&c.get(n,x)&&h[4]<i;)h[4]++,x++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=2*l?NaN:$t.foundPatternCross(h)?$t.centerFromEnd(h,x):NaN}crossCheckHorizontal(e,n,i,l){const c=this.image,u=c.getWidth(),h=this.getCrossCheckStateCount();let x=e;for(;x>=0&&c.get(x,n);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(x,n)&&h[1]<=i;)h[1]++,x--;if(x<0||h[1]>i)return NaN;for(;x>=0&&c.get(x,n)&&h[0]<=i;)h[0]++,x--;if(h[0]>i)return NaN;for(x=e+1;x<u&&c.get(x,n);)h[2]++,x++;if(x===u)return NaN;for(;x<u&&!c.get(x,n)&&h[3]<i;)h[3]++,x++;if(x===u||h[3]>=i)return NaN;for(;x<u&&c.get(x,n)&&h[4]<i;)h[4]++,x++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=l?NaN:$t.foundPatternCross(h)?$t.centerFromEnd(h,x):NaN}handlePossibleCenter(e,n,i,l){const c=e[0]+e[1]+e[2]+e[3]+e[4];let u=$t.centerFromEnd(e,i),h=this.crossCheckVertical(n,Math.floor(u),e[2],c);if(!isNaN(h)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(h),e[2],c),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(u),e[2],c)))){const x=c/7;let v=!1;const I=this.possibleCenters;for(let R=0,O=I.length;R<O;R++){const L=I[R];if(L.aboutEquals(x,h,u)){I[R]=L.combineEstimate(h,u,x),v=!0;break}}if(!v){const R=new Vr(u,h,x);I.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=$t.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=$t.CENTER_QUORUM&&(e++,n+=u.getEstimatedModuleSize());if(e<3)return!1;const l=n/i;let c=0;for(const u of this.possibleCenters)c+=Math.abs(u.getEstimatedModuleSize()-l);return c<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new G;const n=this.possibleCenters;let i;if(e>3){let l=0,c=0;for(const x of this.possibleCenters){const v=x.getEstimatedModuleSize();l+=v,c+=v*v}i=l/e;let u=Math.sqrt(c/e-i*i);n.sort((x,v)=>{const I=Math.abs(v.getEstimatedModuleSize()-i),R=Math.abs(x.getEstimatedModuleSize()-i);return I<R?-1:I>R?1:0});const h=Math.max(.2*i,u);for(let x=0;x<n.length&&n.length>3;x++){const v=n[x];Math.abs(v.getEstimatedModuleSize()-i)>h&&(n.splice(x,1),x--)}}if(n.length>3){let l=0;for(const c of n)l+=c.getEstimatedModuleSize();i=l/n.length,n.sort((c,u)=>{if(u.getCount()===c.getCount()){const h=Math.abs(u.getEstimatedModuleSize()-i),x=Math.abs(c.getEstimatedModuleSize()-i);return h<x?1:h>x?-1:0}else return u.getCount()-c.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class ts{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(de.NEED_RESULT_POINT_CALLBACK);const i=new $t(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),l=e.getBottomLeft(),c=this.calculateModuleSize(n,i,l);if(c<1)throw new G("No pattern found in proccess finder.");const u=ts.computeDimension(n,i,l,c),h=Xe.getProvisionalVersionForDimension(u),x=h.getDimensionForVersion()-7;let v=null;if(h.getAlignmentPatternCenters().length>0){const L=i.getX()-n.getX()+l.getX(),H=i.getY()-n.getY()+l.getY(),X=1-3/x,Q=Math.floor(n.getX()+X*(L-n.getX())),ae=Math.floor(n.getY()+X*(H-n.getY()));for(let Ne=4;Ne<=16;Ne<<=1)try{v=this.findAlignmentInRegion(c,Q,ae,Ne);break}catch(Te){if(!(Te instanceof G))throw Te}}const I=ts.createTransform(n,i,l,v,u),R=ts.sampleGrid(this.image,I,u);let O;return v===null?O=[l,n,i]:O=[l,n,i,v],new an(R,O)}static createTransform(e,n,i,l,c){const u=c-3.5;let h,x,v,I;return l!==null?(h=l.getX(),x=l.getY(),v=u-3,I=v):(h=n.getX()-e.getX()+i.getX(),x=n.getY()-e.getY()+i.getY(),v=u,I=u),bn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,v,I,3.5,u,e.getX(),e.getY(),n.getX(),n.getY(),h,x,i.getX(),i.getY())}static sampleGrid(e,n,i){return Zn.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,l){const c=tt.round(Le.distance(e,n)/l),u=tt.round(Le.distance(e,i)/l);let h=Math.floor((c+u)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new G("Dimensions could be not found.")}return h}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,l){let c=this.sizeOfBlackWhiteBlackRun(e,n,i,l),u=1,h=e-(i-e);h<0?(u=e/(e-h),h=0):h>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let x=Math.floor(n-(l-n)*u);return u=1,x<0?(u=n/(n-x),x=0):x>=this.image.getHeight()&&(u=(this.image.getHeight()-1-n)/(x-n),x=this.image.getHeight()-1),h=Math.floor(e+(h-e)*u),c+=this.sizeOfBlackWhiteBlackRun(e,n,h,x),c-1}sizeOfBlackWhiteBlackRun(e,n,i,l){const c=Math.abs(l-n)>Math.abs(i-e);if(c){let L=e;e=n,n=L,L=i,i=l,l=L}const u=Math.abs(i-e),h=Math.abs(l-n);let x=-u/2;const v=e<i?1:-1,I=n<l?1:-1;let R=0;const O=i+v;for(let L=e,H=n;L!==O;L+=v){const X=c?H:L,Q=c?L:H;if(R===1===this.image.get(X,Q)){if(R===2)return tt.distance(L,H,e,n);R++}if(x+=h,x>0){if(H===l)break;H+=I,x-=u}}return R===2?tt.distance(i+v,l,e,n):NaN}findAlignmentInRegion(e,n,i,l){const c=Math.floor(l*e),u=Math.max(0,n-c),h=Math.min(this.image.getWidth()-1,n+c);if(h-u<e*3)throw new G("Alignment top exceeds estimated module size.");const x=Math.max(0,i-c),v=Math.min(this.image.getHeight()-1,i+c);if(v-x<e*3)throw new G("Alignment bottom exceeds estimated module size.");return new Rr(this.image,u,x,h-u,v-x,e,this.resultPointCallback).find()}}class zn{constructor(){this.decoder=new oa}getDecoder(){return this.decoder}decode(e,n){let i,l;if(n!=null&&n.get(de.PURE_BARCODE)!==void 0){const x=zn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(x,n),l=zn.NO_POINTS}else{const x=new ts(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(x.getBits(),n),l=x.getPoints()}i.getOther()instanceof ia&&i.getOther().applyMirroredCorrection(l);const c=new Ie(i.getText(),i.getRawBytes(),void 0,l,ve.QR_CODE,void 0),u=i.getByteSegments();u!==null&&c.putMetadata(Oe.BYTE_SEGMENTS,u);const h=i.getECLevel();return h!==null&&c.putMetadata(Oe.ERROR_CORRECTION_LEVEL,h),i.hasStructuredAppend()&&(c.putMetadata(Oe.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),c.putMetadata(Oe.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new G;const l=this.moduleSize(n,e);let c=n[1],u=i[1],h=n[0],x=i[0];if(h>=x||c>=u)throw new G;if(u-c!==x-h&&(x=h+(u-c),x>=e.getWidth()))throw new G;const v=Math.round((x-h+1)/l),I=Math.round((u-c+1)/l);if(v<=0||I<=0)throw new G;if(I!==v)throw new G;const R=Math.floor(l/2);c+=R,h+=R;const O=h+Math.floor((v-1)*l)-x;if(O>0){if(O>R)throw new G;h-=O}const L=c+Math.floor((I-1)*l)-u;if(L>0){if(L>R)throw new G;c-=L}const H=new me(v,I);for(let X=0;X<I;X++){const Q=c+Math.floor(X*l);for(let ae=0;ae<v;ae++)e.get(h+Math.floor(ae*l),Q)&&H.set(ae,X)}return H}static moduleSize(e,n){const i=n.getHeight(),l=n.getWidth();let c=e[0],u=e[1],h=!0,x=0;for(;c<l&&u<i;){if(h!==n.get(c,u)){if(++x===5)break;h=!h}c++,u++}if(c===l||u===i)throw new G;return(c-e[0])/7}}zn.NO_POINTS=new Array;class Je{PDF417Common(){}static getBitCountSum(e){return tt.sum(e)}static toIntArray(e){if(e==null||!e.length)return Je.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const l of e)n[i++]=l;return n}static getCodeword(e){const n=ne.binarySearch(Je.SYMBOL_TABLE,e&262143);return n<0?-1:(Je.CODEWORD_TABLE[n]-1)%Je.NUMBER_OF_CODEWORDS}}Je.NUMBER_OF_CODEWORDS=929,Je.MAX_CODEWORDS_IN_BARCODE=Je.NUMBER_OF_CODEWORDS-1,Je.MIN_ROWS_IN_BARCODE=3,Je.MAX_ROWS_IN_BARCODE=90,Je.MODULES_IN_CODEWORD=17,Je.MODULES_IN_STOP_PATTERN=18,Je.BARS_IN_MODULE=8,Je.EMPTY_INT_ARRAY=new Int32Array([]),Je.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Je.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xl{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class st{static detectMultiple(e,n,i){let l=e.getBlackMatrix(),c=st.detect(i,l);return c.length||(l=l.clone(),l.rotate180(),c=st.detect(i,l)),new xl(l,c)}static detect(e,n){const i=new Array;let l=0,c=0,u=!1;for(;l<n.getHeight();){const h=st.findVertices(n,l,c);if(h[0]==null&&h[3]==null){if(!u)break;u=!1,c=0;for(const x of i)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=st.ROW_STEP;continue}if(u=!0,i.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return i}static findVertices(e,n,i){const l=e.getHeight(),c=e.getWidth(),u=new Array(8);return st.copyToResult(u,st.findRowsWithPattern(e,l,c,n,i,st.START_PATTERN),st.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),n=Math.trunc(u[4].getY())),st.copyToResult(u,st.findRowsWithPattern(e,l,c,n,i,st.STOP_PATTERN),st.INDEXES_STOP_PATTERN),u}static copyToResult(e,n,i){for(let l=0;l<i.length;l++)e[i[l]]=n[l]}static findRowsWithPattern(e,n,i,l,c,u){const h=new Array(4);let x=!1;const v=new Int32Array(u.length);for(;l<n;l+=st.ROW_STEP){let R=st.findGuardPattern(e,c,l,i,!1,u,v);if(R!=null){for(;l>0;){const O=st.findGuardPattern(e,c,--l,i,!1,u,v);if(O!=null)R=O;else{l++;break}}h[0]=new Le(R[0],l),h[1]=new Le(R[1],l),x=!0;break}}let I=l+1;if(x){let R=0,O=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;I<n;I++){const L=st.findGuardPattern(e,O[0],I,i,!1,u,v);if(L!=null&&Math.abs(O[0]-L[0])<st.MAX_PATTERN_DRIFT&&Math.abs(O[1]-L[1])<st.MAX_PATTERN_DRIFT)O=L,R=0;else{if(R>st.SKIPPED_ROW_COUNT_MAX)break;R++}}I-=R+1,h[2]=new Le(O[0],I),h[3]=new Le(O[1],I)}return I-l<st.BARCODE_MIN_HEIGHT&&ne.fill(h,null),h}static findGuardPattern(e,n,i,l,c,u,h){ne.fillWithin(h,0,h.length,0);let x=n,v=0;for(;e.get(x,i)&&x>0&&v++<st.MAX_PIXEL_DRIFT;)x--;let I=x,R=0,O=u.length;for(let L=c;I<l;I++)if(e.get(I,i)!==L)h[R]++;else{if(R===O-1){if(st.patternMatchVariance(h,u,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return new Int32Array([x,I]);x+=h[0]+h[1],j.arraycopy(h,2,h,0,R-1),h[R-1]=0,h[R]=0,R--}else R++;h[R]=1,L=!L}return R===O-1&&st.patternMatchVariance(h,u,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE?new Int32Array([x,I-1]):null}static patternMatchVariance(e,n,i){let l=e.length,c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return 1/0;let h=c/u;i*=h;let x=0;for(let v=0;v<l;v++){let I=e[v],R=n[v]*h,O=I>R?I-R:R-I;if(O>i)return 1/0;x+=O}return x/c}}st.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),st.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),st.MAX_AVG_VARIANCE=.42,st.MAX_INDIVIDUAL_VARIANCE=.8,st.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),st.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),st.MAX_PIXEL_DRIFT=3,st.MAX_PATTERN_DRIFT=5,st.SKIPPED_ROW_COUNT_MAX=25,st.ROW_STEP=5,st.BARCODE_MIN_HEIGHT=10;class Sn{constructor(e,n){if(n.length===0)throw new A;this.field=e;let i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),j.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let n=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let u=n;n=i,i=u}let l=new Int32Array(i.length),c=i.length-n.length;j.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=this.field.add(n[u-c],i[u]);return new Sn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Sn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Sn(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1);for(let h=0;h<i;h++){let x=n[h];for(let v=0;v<c;v++)u[h+v]=this.field.add(u[h+v],this.field.multiply(x,l[v]))}return new Sn(this.field,u)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new Sn(this.field,n)}multiplyScalar(e){if(e===0)return new Sn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=this.field.multiply(this.coefficients[l],e);return new Sn(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new A;if(n===0)return new Sn(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+e);for(let c=0;c<i;c++)l[c]=this.field.multiply(this.coefficients[c],n);return new Sn(this.field,l)}toString(){let e=new De;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class yl{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}inverse(e){if(e===0)throw new En;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Js extends yl{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let l=0;l<e;l++)this.expTable[l]=i,i=i*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Sn(this,new Int32Array([0])),this.one=new Sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new A;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new Sn(this,i)}}Js.PDF417_GF=new Js(Je.NUMBER_OF_CODEWORDS,3);class aa{constructor(){this.field=Js.PDF417_GF}decode(e,n,i){let l=new Sn(this.field,e),c=new Int32Array(n),u=!1;for(let H=n;H>0;H--){let X=l.evaluateAt(this.field.exp(H));c[n-H]=X,X!==0&&(u=!0)}if(!u)return 0;let h=this.field.getOne();if(i!=null)for(const H of i){let X=this.field.exp(e.length-1-H),Q=new Sn(this.field,new Int32Array([this.field.subtract(0,X),1]));h=h.multiply(Q)}let x=new Sn(this.field,c),v=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),x,n),I=v[0],R=v[1],O=this.findErrorLocations(I),L=this.findErrorMagnitudes(R,I,O);for(let H=0;H<O.length;H++){let X=e.length-1-this.field.log(O[H]);if(X<0)throw B.getChecksumInstance();e[X]=this.field.subtract(e[X],L[H])}return O.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let O=e;e=n,n=O}let l=e,c=n,u=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(i/2);){let O=l,L=u;if(l=c,u=h,l.isZero())throw B.getChecksumInstance();c=O;let H=this.field.getZero(),X=l.getCoefficient(l.getDegree()),Q=this.field.inverse(X);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let ae=c.getDegree()-l.getDegree(),Ne=this.field.multiply(c.getCoefficient(c.getDegree()),Q);H=H.add(this.field.buildMonomial(ae,Ne)),c=c.subtract(l.multiplyByMonomial(ae,Ne))}h=H.multiply(u).subtract(L).negative()}let x=h.getCoefficient(0);if(x===0)throw B.getChecksumInstance();let v=this.field.inverse(x),I=h.multiply(v),R=c.multiply(v);return[I,R]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),l=0;for(let c=1;c<this.field.getSize()&&l<n;c++)e.evaluateAt(c)===0&&(i[l]=this.field.inverse(c),l++);if(l!==n)throw B.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let l=n.getDegree(),c=new Int32Array(l);for(let v=1;v<=l;v++)c[l-v]=this.field.multiply(v,n.getCoefficient(v));let u=new Sn(this.field,c),h=i.length,x=new Int32Array(h);for(let v=0;v<h;v++){let I=this.field.inverse(i[v]),R=this.field.subtract(0,e.evaluateAt(I)),O=this.field.inverse(u.evaluateAt(I));x[v]=this.field.multiply(R,O)}return x}}class Ts{constructor(e,n,i,l,c){e instanceof Ts?this.constructor_2(e):this.constructor_1(e,n,i,l,c)}constructor_1(e,n,i,l,c){const u=n==null||i==null,h=l==null||c==null;if(u&&h)throw new G;u?(n=new Le(0,l.getY()),i=new Le(0,c.getY())):h&&(l=new Le(e.getWidth()-1,n.getY()),c=new Le(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Ts(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let l=this.topLeft,c=this.bottomLeft,u=this.topRight,h=this.bottomRight;if(e>0){let x=i?this.topLeft:this.topRight,v=Math.trunc(x.getY()-e);v<0&&(v=0);let I=new Le(x.getX(),v);i?l=I:u=I}if(n>0){let x=i?this.bottomLeft:this.bottomRight,v=Math.trunc(x.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let I=new Le(x.getX(),v);i?c=I:h=I}return new Ts(this.image,l,c,u,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ki{constructor(e,n,i,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ns{constructor(){this.buffer=""}static form(e,n){let i=-1;function l(u,h,x,v,I,R){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let O=I?parseInt(I.substr(1)):void 0,L;switch(R){case"s":L=n[i];break;case"c":L=n[i][0];break;case"f":L=parseFloat(n[i]).toFixed(u);break;case"p":L=parseFloat(n[i]).toPrecision(u);break;case"e":L=parseFloat(n[i]).toExponential(u);break;case"x":L=parseInt(n[i]).toString(O||16);break;case"d":L=parseFloat(parseInt(n[i],O||10).toPrecision(u)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(O);let H=parseInt(x),X=x&&x[0]+""=="0"?"0":" ";for(;L.length<H;)L=h!==void 0?L+X:X+L;return L}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}format(e,...n){this.buffer+=ns.form(e,n)}toString(){return this.buffer}}class Ur{constructor(e){this.boundingBox=new Ts(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<Ur.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(e)-i;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+i,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ns;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}Ur.MAX_NEARBY_DISTANCE=5;class gs{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,l]of this.values.entries()){const c={getKey:()=>i,getValue:()=>l};c.getValue()>e?(e=c.getValue(),n=[],n.push(c.getKey())):c.getValue()===e&&n.push(c.getKey())}return Je.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class wl extends Ur{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=-1,v=1,I=0;for(let R=u;R<h;R++){if(n[R]==null)continue;let O=n[R],L=O.getRowNumber()-x;if(L===0)I++;else if(L===1)v=Math.max(v,I),I=1,x=O.getRowNumber();else if(L<0||O.getRowNumber()>=e.getRowCount()||L>R)n[R]=null;else{let H;v>2?H=(v-2)*L:H=L;let X=H>=R;for(let Q=1;Q<=H&&!X;Q++)X=n[R-Q]!=null;X?n[R]=null:(x=O.getRowNumber(),I=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),x=-1;for(let v=c;v<u;v++){if(h[v]==null)continue;let I=h[v];I.setRowNumberAsRowIndicatorColumn();let R=I.getRowNumber()-x;R===0||(R===1?x=I.getRowNumber():I.getRowNumber()>=e.getRowCount()?h[v]=null:x=I.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new gs,i=new gs,l=new gs,c=new gs;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let x=h.getValue()%30,v=h.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:i.setValue(x*3+1);break;case 1:c.setValue(x/3),l.setValue(x%3);break;case 2:n.setValue(x+1);break}}if(n.getValue().length===0||i.getValue().length===0||l.getValue().length===0||c.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<Je.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>Je.MAX_ROWS_IN_BARCODE)return null;let u=new ki(n.getValue()[0],i.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let l=e[i];if(e[i]==null)continue;let c=l.getValue()%30,u=l.getRowNumber();if(u>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:c*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(c/3)!==n.getErrorCorrectionLevel()||c%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:c+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ri{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Je.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[i];c!=null&&(c.setRowNumber(e[i].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=this.barcodeColumnCount+1;u>0&&c<this.ADJUST_ROW_NUMBER_SKIP;u--){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=Ri.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=1;u<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;u++){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=Ri.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){if(!this.detectionResultColumns[e-1])return;let l=i[n],c=this.detectionResultColumns[e-1].getCodewords(),u=c;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=c[n],h[3]=u[n],n>0&&(h[0]=i[n-1],h[4]=c[n-1],h[5]=u[n-1]),n>1&&(h[8]=i[n-2],h[10]=c[n-2],h[11]=u[n-2]),n<i.length-1&&(h[1]=i[n+1],h[6]=c[n+1],h[7]=u[n+1]),n<i.length-2&&(h[9]=i[n+2],h[12]=c[n+2],h[13]=u[n+2]);for(let x of h)if(Ri.adjustRowNumber(l,x))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new ns;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[i];if(c==null){n.format("    |   ");continue}n.format(" %3d|%3d",c.getRowNumber(),c.getValue())}n.format("%n")}return n.toString()}}class Is{constructor(e,n,i,l){this.rowNumber=Is.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Is.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Is.BARCODE_ROW_UNKNOWN=-1;class Nn{static initialize(){for(let e=0;e<Je.SYMBOL_TABLE.length;e++){let n=Je.SYMBOL_TABLE[e],i=n&1;for(let l=0;l<Je.BARS_IN_MODULE;l++){let c=0;for(;(n&1)===i;)c+=1,n>>=1;i=n&1,Nn.RATIOS_TABLE[e]||(Nn.RATIOS_TABLE[e]=new Array(Je.BARS_IN_MODULE)),Nn.RATIOS_TABLE[e][Je.BARS_IN_MODULE-l-1]=Math.fround(c/Je.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Nn.getDecodedCodewordValue(Nn.sampleBitCounts(e));return n!==-1?n:Nn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=tt.sum(e),i=new Int32Array(Je.BARS_IN_MODULE),l=0,c=0;for(let u=0;u<Je.MODULES_IN_CODEWORD;u++){let h=n/(2*Je.MODULES_IN_CODEWORD)+u*n/Je.MODULES_IN_CODEWORD;c+e[l]<=h&&(c+=e[l],l++),i[l]++}return i}static getDecodedCodewordValue(e){let n=Nn.getBitValue(e);return Je.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let l=0;l<e[i];l++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=tt.sum(e),i=new Array(Je.BARS_IN_MODULE);if(n>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(e[u]/n);let l=Br.MAX_VALUE,c=-1;this.bSymbolTableReady||Nn.initialize();for(let u=0;u<Nn.RATIOS_TABLE.length;u++){let h=0,x=Nn.RATIOS_TABLE[u];for(let v=0;v<Je.BARS_IN_MODULE;v++){let I=Math.fround(x[v]-i[v]);if(h+=Math.fround(I*I),h>=l)break}h<l&&(l=h,c=Je.SYMBOL_TABLE[u])}return c}}Nn.bSymbolTableReady=!1,Nn.RATIOS_TABLE=new Array(Je.SYMBOL_TABLE.length).map(k=>new Array(Je.BARS_IN_MODULE));class oo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class la{static parseLong(e,n=void 0){return parseInt(e,n)}}class rs extends E{}rs.kind="NullPointerException";class ca{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new rs;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new V;if(i===0)return;for(let l=0;l<i;l++)this.write(e[n+l])}flush(){}close(){}}class ao extends E{}class vl extends ca{constructor(e=32){if(super(),this.count=0,e<0)throw new A("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new ao;i=Y.MAX_VALUE}this.buf=ne.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new V;this.ensureCapacity(this.count+i),j.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ne.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var bt;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bt||(bt={}));function _i(){if(typeof window<"u")return window.BigInt||null;if(typeof xc<"u")return xc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Oi;function un(k){if(typeof Oi>"u"&&(Oi=_i()),Oi===null)throw new Error("BigInt is not supported!");return Oi(k)}function ei(){let k=[];k[0]=un(1);let e=un(900);k[1]=e;for(let n=2;n<16;n++)k[n]=k[n-1]*e;return k}class le{static decode(e,n){let i=new De(""),l=K.ISO8859_1;i.enableDecoding(l);let c=1,u=e[c++],h=new oo;for(;c<e[0];){switch(u){case le.TEXT_COMPACTION_MODE_LATCH:c=le.textCompaction(e,c,i);break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:c=le.byteCompaction(u,e,l,c,i);break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c++]);break;case le.NUMERIC_COMPACTION_MODE_LATCH:c=le.numericCompaction(e,c,i);break;case le.ECI_CHARSET:K.getCharacterSetECIByValue(e[c++]);break;case le.ECI_GENERAL_PURPOSE:c+=2;break;case le.ECI_USER_DEFINED:c++;break;case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=le.decodeMacroBlock(e,c,h);break;case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:throw new $;default:c--,c=le.textCompaction(e,c,i);break}if(c<e.length)u=e[c++];else throw $.getFormatInstance()}if(i.length()===0)throw $.getFormatInstance();let x=new at(null,i.toString(),null,n);return x.setOther(h),x}static decodeMacroBlock(e,n,i){if(n+le.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw $.getFormatInstance();let l=new Int32Array(le.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<le.NUMBER_OF_SEQUENCE_CODEWORDS;h++,n++)l[h]=e[n];i.setSegmentIndex(Y.parseInt(le.decodeBase900toBase10(l,le.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new De;n=le.textCompaction(e,n,c),i.setFileId(c.toString());let u=-1;for(e[n]===le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=n+1);n<e[0];)switch(e[n]){case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new De;n=le.textCompaction(e,n+1,h),i.setFileName(h.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new De;n=le.textCompaction(e,n+1,x),i.setSender(x.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new De;n=le.textCompaction(e,n+1,v),i.setAddressee(v.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new De;n=le.numericCompaction(e,n+1,I),i.setSegmentCount(Y.parseInt(I.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let R=new De;n=le.numericCompaction(e,n+1,R),i.setTimestamp(la.parseLong(R.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new De;n=le.numericCompaction(e,n+1,O),i.setChecksum(Y.parseInt(O.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new De;n=le.numericCompaction(e,n+1,L),i.setFileSize(la.parseLong(L.toString()));break;default:throw $.getFormatInstance()}break;case le.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(u!==-1){let h=n-u;i.isLastSegment()&&h--,i.setOptionalData(ne.copyOfRange(e,u,u+h))}return n}static textCompaction(e,n,i){let l=new Int32Array((e[0]-n)*2),c=new Int32Array((e[0]-n)*2),u=0,h=!1;for(;n<e[0]&&!h;){let x=e[n++];if(x<le.TEXT_COMPACTION_MODE_LATCH)l[u]=x/30,l[u+1]=x%30,u+=2;else switch(x){case le.TEXT_COMPACTION_MODE_LATCH:l[u++]=le.TEXT_COMPACTION_MODE_LATCH;break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:n--,h=!0;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=e[n++],c[u]=x,u++;break}}return le.decodeTextCompaction(l,c,u,i),n}static decodeTextCompaction(e,n,i,l){let c=bt.ALPHA,u=bt.ALPHA,h=0;for(;h<i;){let x=e[h],v="";switch(c){case bt.ALPHA:if(x<26)v=String.fromCharCode(65+x);else switch(x){case 26:v=" ";break;case le.LL:c=bt.LOWER;break;case le.ML:c=bt.MIXED;break;case le.PS:u=c,c=bt.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case le.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.LOWER:if(x<26)v=String.fromCharCode(97+x);else switch(x){case 26:v=" ";break;case le.AS:u=c,c=bt.ALPHA_SHIFT;break;case le.ML:c=bt.MIXED;break;case le.PS:u=c,c=bt.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case le.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.MIXED:if(x<le.PL)v=le.MIXED_CHARS[x];else switch(x){case le.PL:c=bt.PUNCT;break;case 26:v=" ";break;case le.LL:c=bt.LOWER;break;case le.AL:c=bt.ALPHA;break;case le.PS:u=c,c=bt.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case le.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.PUNCT:if(x<le.PAL)v=le.PUNCT_CHARS[x];else switch(x){case le.PAL:c=bt.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case le.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.ALPHA_SHIFT:if(c=u,x<26)v=String.fromCharCode(65+x);else switch(x){case 26:v=" ";break;case le.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.PUNCT_SHIFT:if(c=u,x<le.PAL)v=le.PUNCT_CHARS[x];else switch(x){case le.PAL:c=bt.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case le.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break}v!==""&&l.append(v),h++}}static byteCompaction(e,n,i,l,c){let u=new vl,h=0,x=0,v=!1;switch(e){case le.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),R=n[l++];for(;l<n[0]&&!v;)switch(I[h++]=R,x=900*x+R,R=n[l++],R){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(h%5===0&&h>0){for(let O=0;O<6;++O)u.write(Number(un(x)>>un(8*(5-O))));x=0,h=0}break}l===n[0]&&R<le.TEXT_COMPACTION_MODE_LATCH&&(I[h++]=R);for(let O=0;O<h;O++)u.write(I[O]);break;case le.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!v;){let O=n[l++];if(O<le.TEXT_COMPACTION_MODE_LATCH)h++,x=900*x+O;else switch(O){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(h%5===0&&h>0){for(let L=0;L<6;++L)u.write(Number(un(x)>>un(8*(5-L))));x=0,h=0}}break}return c.append(Pe.decode(u.toByteArray(),i)),l}static numericCompaction(e,n,i){let l=0,c=!1,u=new Int32Array(le.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!c;){let h=e[n++];if(n===e[0]&&(c=!0),h<le.TEXT_COMPACTION_MODE_LATCH)u[l]=h,l++;else switch(h){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:n--,c=!0;break}(l%le.MAX_NUMERIC_CODEWORDS===0||h===le.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(i.append(le.decodeBase900toBase10(u,l)),l=0)}return n}static decodeBase900toBase10(e,n){let i=un(0);for(let c=0;c<n;c++)i+=le.EXP900[n-c-1]*un(e[c]);let l=i.toString();if(l.charAt(0)!=="1")throw new $;return l.substring(1)}}le.TEXT_COMPACTION_MODE_LATCH=900,le.BYTE_COMPACTION_MODE_LATCH=901,le.NUMERIC_COMPACTION_MODE_LATCH=902,le.BYTE_COMPACTION_MODE_LATCH_6=924,le.ECI_USER_DEFINED=925,le.ECI_GENERAL_PURPOSE=926,le.ECI_CHARSET=927,le.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,le.MACRO_PDF417_TERMINATOR=922,le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,le.MAX_NUMERIC_CODEWORDS=15,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,le.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,le.PL=25,le.LL=27,le.AS=27,le.ML=28,le.AL=28,le.PS=29,le.PAL=29,le.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,le.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",le.EXP900=_i()?ei():[],le.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ot{constructor(){}static decode(e,n,i,l,c,u,h){let x=new Ts(e,n,i,l,c),v=null,I=null,R;for(let H=!0;;H=!1){if(n!=null&&(v=ot.getRowIndicatorColumn(e,x,n,!0,u,h)),l!=null&&(I=ot.getRowIndicatorColumn(e,x,l,!1,u,h)),R=ot.merge(v,I),R==null)throw G.getNotFoundInstance();let X=R.getBoundingBox();if(H&&X!=null&&(X.getMinY()<x.getMinY()||X.getMaxY()>x.getMaxY()))x=X;else break}R.setBoundingBox(x);let O=R.getBarcodeColumnCount()+1;R.setDetectionResultColumn(0,v),R.setDetectionResultColumn(O,I);let L=v!=null;for(let H=1;H<=O;H++){let X=L?H:O-H;if(R.getDetectionResultColumn(X)!==void 0)continue;let Q;X===0||X===O?Q=new wl(x,X===0):Q=new Ur(x),R.setDetectionResultColumn(X,Q);let ae=-1,Ne=ae;for(let Te=x.getMinY();Te<=x.getMaxY();Te++){if(ae=ot.getStartColumn(R,X,Te,L),ae<0||ae>x.getMaxX()){if(Ne===-1)continue;ae=Ne}let ye=ot.detectCodeword(e,x.getMinX(),x.getMaxX(),L,ae,Te,u,h);ye!=null&&(Q.setCodeword(Te,ye),Ne=ae,u=Math.min(u,ye.getWidth()),h=Math.max(h,ye.getWidth()))}}return ot.createDecoderResult(R)}static merge(e,n){if(e==null&&n==null)return null;let i=ot.getBarcodeMetadata(e,n);if(i==null)return null;let l=Ts.merge(ot.adjustBoundingBox(e),ot.adjustBoundingBox(n));return new Ri(i,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=ot.getMax(n),l=0;for(let h of n)if(l+=i-h,h>0)break;let c=e.getCodewords();for(let h=0;l>0&&c[h]==null;h++)l--;let u=0;for(let h=n.length-1;h>=0&&(u+=i-n[h],!(n[h]>0));h--);for(let h=c.length-1;u>0&&c[h]==null;h--)u--;return e.getBoundingBox().addMissingRows(l,u,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,l,c,u){let h=new wl(n,l);for(let x=0;x<2;x++){let v=x===0?1:-1,I=Math.trunc(Math.trunc(i.getX()));for(let R=Math.trunc(Math.trunc(i.getY()));R<=n.getMaxY()&&R>=n.getMinY();R+=v){let O=ot.detectCodeword(e,0,e.getWidth(),l,I,R,c,u);O!=null&&(h.setCodeword(R,O),l?I=O.getStartX():I=O.getEndX())}}return h}static adjustCodewordCount(e,n){let i=n[0][1],l=i.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-ot.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(c<1||c>Je.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();i.setValue(c)}else l[0]!==c&&i.setValue(c)}static createDecoderResult(e){let n=ot.createBarcodeMatrix(e);ot.adjustCodewordCount(e,n);let i=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],u=new Array;for(let x=0;x<e.getBarcodeRowCount();x++)for(let v=0;v<e.getBarcodeColumnCount();v++){let I=n[x][v+1].getValue(),R=x*e.getBarcodeColumnCount()+v;I.length===0?i.push(R):I.length===1?l[R]=I[0]:(u.push(R),c.push(I))}let h=new Array(c.length);for(let x=0;x<h.length;x++)h[x]=c[x];return ot.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,Je.toIntArray(i),Je.toIntArray(u),h)}static createDecoderResultFromAmbiguousValues(e,n,i,l,c){let u=new Int32Array(l.length),h=100;for(;h-- >0;){for(let x=0;x<u.length;x++)n[l[x]]=c[x][u[x]];try{return ot.decodeCodewords(n,e,i)}catch(x){if(!(x instanceof B))throw x}if(u.length===0)throw B.getChecksumInstance();for(let x=0;x<u.length;x++)if(u[x]<c[x].length-1){u[x]++;break}else if(u[x]=0,x===u.length-1)throw B.getChecksumInstance()}throw B.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let c=0;c<n[l].length;c++)n[l][c]=new gs;let i=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=0){if(u>=n.length)continue;n[u][i].setValue(c.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,l){let c=l?1:-1,u=null;if(ot.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodeword(i)),u!=null)return l?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(i),u!=null)return l?u.getStartX():u.getEndX();if(ot.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodewordNearby(i)),u!=null)return l?u.getEndX():u.getStartX();let h=0;for(;ot.isValidBarcodeColumn(e,n-c);){n-=c;for(let x of e.getDetectionResultColumn(n).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+c*h*(x.getEndX()-x.getStartX());h++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,l,c,u,h,x){c=ot.adjustCodewordStartColumn(e,n,i,l,c,u);let v=ot.getModuleBitCount(e,n,i,l,c,u);if(v==null)return null;let I,R=tt.sum(v);if(l)I=c+R;else{for(let H=0;H<v.length/2;H++){let X=v[H];v[H]=v[v.length-1-H],v[v.length-1-H]=X}I=c,c=I-R}if(!ot.checkCodewordSkew(R,h,x))return null;let O=Nn.getDecodedValue(v),L=Je.getCodeword(O);return L===-1?null:new Is(c,I,ot.getCodewordBucketNumber(O),L)}static getModuleBitCount(e,n,i,l,c,u){let h=c,x=new Int32Array(8),v=0,I=l?1:-1,R=l;for(;(l?h<i:h>=n)&&v<x.length;)e.get(h,u)===R?(x[v]++,h+=I):(v++,R=!R);return v===x.length||h===(l?i:n)&&v===x.length-1?x:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,l,c,u){let h=c,x=l?-1:1;for(let v=0;v<2;v++){for(;(l?h>=n:h<i)&&l===e.get(h,u);){if(Math.abs(c-h)>ot.CODEWORD_SKEW_SIZE)return c;h+=x}x=-x,l=!l}return h}static checkCodewordSkew(e,n,i){return n-ot.CODEWORD_SKEW_SIZE<=e&&e<=i+ot.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw $.getFormatInstance();let l=1<<n+1,c=ot.correctErrors(e,i,l);ot.verifyCodewordCount(e,l);let u=le.decode(e,""+n);return u.setErrorsCorrected(c),u.setErasures(i.length),u}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+ot.MAX_ERRORS||i<0||i>ot.MAX_EC_CODEWORDS)throw B.getChecksumInstance();return ot.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw $.getFormatInstance();let i=e[0];if(i>e.length)throw $.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw $.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,l=n.length-1;for(;!((e&1)!==i&&(i=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return ot.getCodewordBucketNumber(ot.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new ns;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let l=0;l<e[i].length;l++){let c=e[i][l];c.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}n.format("%n")}return n.toString()}}ot.CODEWORD_SKEW_SIZE=2,ot.MAX_ERRORS=3,ot.MAX_EC_CODEWORDS=512,ot.errorCorrection=new aa;class Tn{decode(e,n=null){let i=Tn.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw G.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return Tn.decode(e,n,!0)}catch(i){throw i instanceof $||i instanceof B?G.getNotFoundInstance():i}}static decode(e,n,i){const l=new Array,c=st.detectMultiple(e,n,i);for(const u of c.getPoints()){const h=ot.decode(c.getBits(),u[4],u[5],u[6],u[7],Tn.getMinCodewordWidth(u),Tn.getMaxCodewordWidth(u)),x=new Ie(h.getText(),h.getRawBytes(),void 0,u,ve.PDF_417);x.putMetadata(Oe.ERROR_CORRECTION_LEVEL,h.getECLevel());const v=h.getOther();v!=null&&x.putMetadata(Oe.PDF417_EXTRA_METADATA,v),l.push(x)}return l.map(u=>u)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?Y.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Tn.getMaxWidth(e[0],e[4]),Tn.getMaxWidth(e[6],e[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.max(Tn.getMaxWidth(e[1],e[5]),Tn.getMaxWidth(e[7],e[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Tn.getMinWidth(e[0],e[4]),Tn.getMinWidth(e[6],e[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.min(Tn.getMinWidth(e[1],e[5]),Tn.getMinWidth(e[7],e[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))}reset(){}}class ti extends E{}ti.kind="ReaderException";class lo{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!f(e)&&e.get(de.TRY_HARDER)===!0,i=f(e)?null:e.get(de.POSSIBLE_FORMATS),l=new Array;if(!f(i)){const c=i.some(u=>u===ve.UPC_A||u===ve.UPC_E||u===ve.EAN_13||u===ve.EAN_8||u===ve.CODABAR||u===ve.CODE_39||u===ve.CODE_93||u===ve.CODE_128||u===ve.ITF||u===ve.RSS_14||u===ve.RSS_EXPANDED);c&&!n&&l.push(new qs(e,this.verbose)),i.includes(ve.QR_CODE)&&l.push(new zn),i.includes(ve.DATA_MATRIX)&&l.push(new kr),i.includes(ve.AZTEC)&&l.push(new Sr),i.includes(ve.PDF_417)&&l.push(new Tn),c&&n&&l.push(new qs(e,this.verbose))}l.length===0&&(n||l.push(new qs(e,this.verbose)),l.push(new zn),l.push(new kr),l.push(new Sr),l.push(new Tn),n&&l.push(new qs(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ti("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof ti)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Di extends Ae{constructor(e=null,n=500){const i=new lo;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class co extends Ae{constructor(e=500){super(new Tn,e)}}class Cl extends Ae{constructor(e=500){super(new zn,e)}}var ua;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(ua||(ua={}));var gn=ua;class da{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Dt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const l=this.field;for(let c=n.length;c<=e;c++){const u=i.multiply(new Dt(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));n.push(u),i=u}}return n[e]}encode(e,n){if(n===0)throw new A("No error correction bytes");const i=e.length-n;if(i<=0)throw new A("No data bytes provided");const l=this.buildGenerator(n),c=new Int32Array(i);j.arraycopy(e,0,c,0,i);let u=new Dt(this.field,c);u=u.multiplyByMonomial(n,1);const x=u.divide(l)[1].getCoefficients(),v=n-x.length;for(let I=0;I<v;I++)e[i+I]=0;j.arraycopy(x,0,e,i+v,x.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(e){return zt.applyMaskPenaltyRule1Internal(e,!0)+zt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c-1;u++){const h=i[u];for(let x=0;x<l-1;x++){const v=h[x];v===h[x+1]&&v===i[u+1][x]&&v===i[u+1][x+1]&&n++}}return zt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c;u++)for(let h=0;h<l;h++){const x=i[u];h+6<l&&x[h]===1&&x[h+1]===0&&x[h+2]===1&&x[h+3]===1&&x[h+4]===1&&x[h+5]===0&&x[h+6]===1&&(zt.isWhiteHorizontal(x,h-4,h)||zt.isWhiteHorizontal(x,h+7,h+11))&&n++,u+6<c&&i[u][h]===1&&i[u+1][h]===0&&i[u+2][h]===1&&i[u+3][h]===1&&i[u+4][h]===1&&i[u+5][h]===0&&i[u+6][h]===1&&(zt.isWhiteVertical(i,h,u-4,u)||zt.isWhiteVertical(i,h,u+7,u+11))&&n++}return n*zt.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let l=n;l<i;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,i,l){i=Math.max(i,0),l=Math.min(l,e.length);for(let c=i;c<l;c++)if(e[c][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let x=0;x<c;x++){const v=i[x];for(let I=0;I<l;I++)v[I]===1&&n++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-u)*10/u)*zt.N4}static getDataMaskBit(e,n,i){let l,c;switch(e){case 0:l=i+n&1;break;case 1:l=i&1;break;case 2:l=n%3;break;case 3:l=(i+n)%3;break;case 4:l=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:c=i*n,l=(c&1)+c%3;break;case 6:c=i*n,l=(c&1)+c%3&1;break;case 7:c=i*n,l=c%3+(i+n&1)&1;break;default:throw new A("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const l=n?e.getHeight():e.getWidth(),c=n?e.getWidth():e.getHeight(),u=e.getArray();for(let h=0;h<l;h++){let x=0,v=-1;for(let I=0;I<c;I++){const R=n?u[h][I]:u[I][h];R===v?x++:(x>=5&&(i+=zt.N1+(x-5)),x=1,v=R)}x>=5&&(i+=zt.N1+(x-5))}return i}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class uo{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let l=0;l!==n;l++)i[l]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)ne.fill(n,e)}equals(e){if(!(e instanceof uo))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,l=this.height;i<l;++i){const c=this.bytes[i],u=n.bytes[i];for(let h=0,x=this.width;h<x;++h)if(c[h]!==u[h])return!1}return!0}toString(){const e=new De;for(let n=0,i=this.height;n<i;++n){const l=this.bytes[n];for(let c=0,u=this.width;c<u;++c)switch(l[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class ks{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new De;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<ks.NUM_MASK_PATTERNS}}ks.NUM_MASK_PATTERNS=8;class Ot extends E{}Ot.kind="WriterException";class qe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,l,c){qe.clearMatrix(c),qe.embedBasicPatterns(i,c),qe.embedTypeInfo(n,l,c),qe.maybeEmbedVersionInfo(i,c),qe.embedDataBits(e,l,c)}static embedBasicPatterns(e,n){qe.embedPositionDetectionPatternsAndSeparators(n),qe.embedDarkDotAtLeftBottomCorner(n),qe.maybeEmbedPositionAdjustmentPatterns(e,n),qe.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const l=new ie;qe.makeTypeInfoBits(e,n,l);for(let c=0,u=l.getSize();c<u;++c){const h=l.get(l.getSize()-1-c),x=qe.TYPE_INFO_COORDINATES[c],v=x[0],I=x[1];if(i.setBoolean(v,I,h),c<8){const R=i.getWidth()-c-1;i.setBoolean(R,8,h)}else{const O=i.getHeight()-7+(c-8);i.setBoolean(8,O,h)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new ie;qe.makeVersionInfoBits(e,i);let l=17;for(let c=0;c<6;++c)for(let u=0;u<3;++u){const h=i.get(l);l--,n.setBoolean(c,n.getHeight()-11+u,h),n.setBoolean(n.getHeight()-11+u,c,h)}}static embedDataBits(e,n,i){let l=0,c=-1,u=i.getWidth()-1,h=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);h>=0&&h<i.getHeight();){for(let x=0;x<2;++x){const v=u-x;if(!qe.isEmpty(i.get(v,h)))continue;let I;l<e.getSize()?(I=e.get(l),++l):I=!1,n!==255&&zt.getDataMaskBit(n,v,h)&&(I=!I),i.setBoolean(v,h,I)}h+=c}c=-c,h+=c,u-=2}if(l!==e.getSize())throw new Ot("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-Y.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new A("0 polynomial");const i=qe.findMSBSet(n);for(e<<=i-1;qe.findMSBSet(e)>=i;)e^=n<<qe.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!ks.isValidMaskPattern(n))throw new Ot("Invalid mask pattern");const l=e.getBits()<<3|n;i.appendBits(l,5);const c=qe.calculateBCHCode(l,qe.TYPE_INFO_POLY);i.appendBits(c,10);const u=new ie;if(u.appendBits(qe.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Ot("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=qe.calculateBCHCode(e.getVersionNumber(),qe.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new Ot("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;qe.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),qe.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ot;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let l=0;l<8;++l){if(!qe.isEmpty(i.get(e+l,n)))throw new Ot;i.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let l=0;l<7;++l){if(!qe.isEmpty(i.get(e,n+l)))throw new Ot;i.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let l=0;l<5;++l){const c=qe.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPattern(e,n,i){for(let l=0;l<7;++l){const c=qe.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPatternsAndSeparators(e){const n=qe.POSITION_DETECTION_PATTERN[0].length;qe.embedPositionDetectionPattern(0,0,e),qe.embedPositionDetectionPattern(e.getWidth()-n,0,e),qe.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;qe.embedHorizontalSeparationPattern(0,i-1,e),qe.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),qe.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const l=7;qe.embedVerticalSeparationPattern(l,0,e),qe.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),qe.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,l=qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let c=0,u=l.length;c!==u;c++){const h=l[c];if(h>=0)for(let x=0;x!==u;x++){const v=l[x];v>=0&&qe.isEmpty(n.get(v,h))&&qe.embedPositionAdjustmentPattern(v-2,h-2,n)}}}}qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),qe.VERSION_INFO_POLY=7973,qe.TYPE_INFO_POLY=1335,qe.TYPE_INFO_MASK_PATTERN=21522;class lu{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pt{constructor(){}static calculateMaskPenalty(e){return zt.applyMaskPenaltyRule1(e)+zt.applyMaskPenaltyRule2(e)+zt.applyMaskPenaltyRule3(e)+zt.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let l=Pt.DEFAULT_BYTE_MODE_ENCODING;const c=i!==null&&i.get(gn.CHARACTER_SET)!==void 0;c&&(l=i.get(gn.CHARACTER_SET).toString());const u=this.chooseMode(e,l),h=new ie;if(u===Ke.BYTE&&(c||Pt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Te=K.getCharacterSetECIByName(l);Te!==void 0&&this.appendECI(Te,h)}this.appendModeInfo(u,h);const x=new ie;this.appendBytes(e,u,x,l);let v;if(i!==null&&i.get(gn.QR_VERSION)!==void 0){const Te=Number.parseInt(i.get(gn.QR_VERSION).toString(),10);v=Xe.getVersionForNumber(Te);const ye=this.calculateBitsNeeded(u,h,x,v);if(!this.willFit(ye,v,n))throw new Ot("Data too big for requested version")}else v=this.recommendVersion(n,u,h,x);const I=new ie;I.appendBitArray(h);const R=u===Ke.BYTE?x.getSizeInBytes():e.length;this.appendLengthInfo(R,v,u,I),I.appendBitArray(x);const O=v.getECBlocksForLevel(n),L=v.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(L,I);const H=this.interleaveWithECBytes(I,v.getTotalCodewords(),L,O.getNumBlocks()),X=new ks;X.setECLevel(n),X.setMode(u),X.setVersion(v);const Q=v.getDimensionForVersion(),ae=new uo(Q,Q),Ne=this.chooseMaskPattern(H,n,v,ae);return X.setMaskPattern(Ne),qe.buildMatrix(H,n,v,Ne,ae),X.setMatrix(ae),X}static recommendVersion(e,n,i,l){const c=this.calculateBitsNeeded(n,i,l,Xe.getVersionForNumber(1)),u=this.chooseVersion(c,e),h=this.calculateBitsNeeded(n,i,l,u);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,n,i,l){return n.getSize()+e.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(e){return e<Pt.ALPHANUMERIC_TABLE.length?Pt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(K.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Ke.KANJI;let i=!1,l=!1;for(let c=0,u=e.length;c<u;++c){const h=e.charAt(c);if(Pt.isDigit(h))i=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Ke.BYTE}return l?Ke.ALPHANUMERIC:i?Ke.NUMERIC:Ke.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Pe.encode(e,K.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const c=n[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,n,i,l){let c=Number.MAX_SAFE_INTEGER,u=-1;for(let h=0;h<ks.NUM_MASK_PATTERNS;h++){qe.buildMatrix(e,n,i,h,l);let x=this.calculateMaskPenalty(l);x<c&&(c=x,u=h)}return u}static chooseVersion(e,n){for(let i=1;i<=40;i++){const l=Xe.getVersionForNumber(i);if(Pt.willFit(e,l,n))return l}throw new Ot("Data too big")}static willFit(e,n,i){const l=n.getTotalCodewords(),u=n.getECBlocksForLevel(i).getTotalECCodewords(),h=l-u,x=(e+7)/8;return h>=x}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new Ot("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let u=0;u<4&&n.getSize()<i;++u)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let u=l;u<8;u++)n.appendBit(!1);const c=e-n.getSizeInBytes();for(let u=0;u<c;++u)n.appendBits((u&1)===0?236:17,8);if(n.getSize()!==i)throw new Ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,l,c,u){if(l>=i)throw new Ot("Block ID too large");const h=e%i,x=i-h,v=Math.floor(e/i),I=v+1,R=Math.floor(n/i),O=R+1,L=v-R,H=I-O;if(L!==H)throw new Ot("EC bytes mismatch");if(i!==x+h)throw new Ot("RS blocks mismatch");if(e!==(R+L)*x+(O+H)*h)throw new Ot("Total bytes mismatch");l<x?(c[0]=R,u[0]=L):(c[0]=O,u[0]=H)}static interleaveWithECBytes(e,n,i,l){if(e.getSizeInBytes()!==i)throw new Ot("Number of bits and data bytes does not match");let c=0,u=0,h=0;const x=new Array;for(let I=0;I<l;++I){const R=new Int32Array(1),O=new Int32Array(1);Pt.getNumDataBytesAndNumECBytesForBlockID(n,i,l,I,R,O);const L=R[0],H=new Uint8Array(L);e.toBytes(8*c,H,0,L);const X=Pt.generateECBytes(H,O[0]);x.push(new lu(H,X)),u=Math.max(u,L),h=Math.max(h,X.length),c+=R[0]}if(i!==c)throw new Ot("Data bytes does not match offset");const v=new ie;for(let I=0;I<u;++I)for(const R of x){const O=R.getDataBytes();I<O.length&&v.appendBits(O[I],8)}for(let I=0;I<h;++I)for(const R of x){const O=R.getErrorCorrectionBytes();I<O.length&&v.appendBits(O[I],8)}if(n!==v.getSizeInBytes())throw new Ot("Interleaving error: "+n+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(e,n){const i=e.length,l=new Int32Array(i+n);for(let u=0;u<i;u++)l[u]=e[u]&255;new da(ht.QR_CODE_FIELD_256).encode(l,n);const c=new Uint8Array(n);for(let u=0;u<n;u++)c[u]=l[i+u];return c}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,l){const c=i.getCharacterCountBits(n);if(e>=1<<c)throw new Ot(e+" is bigger than "+((1<<c)-1));l.appendBits(e,c)}static appendBytes(e,n,i,l){switch(n){case Ke.NUMERIC:Pt.appendNumericBytes(e,i);break;case Ke.ALPHANUMERIC:Pt.appendAlphanumericBytes(e,i);break;case Ke.BYTE:Pt.append8BitBytes(e,i,l);break;case Ke.KANJI:Pt.appendKanjiBytes(e,i);break;default:throw new Ot("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Pt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Pt.getDigit(e.charAt(l));if(l+2<i){const u=Pt.getDigit(e.charAt(l+1)),h=Pt.getDigit(e.charAt(l+2));n.appendBits(c*100+u*10+h,10),l+=3}else if(l+1<i){const u=Pt.getDigit(e.charAt(l+1));n.appendBits(c*10+u,7),l+=2}else n.appendBits(c,4),l++}}static appendAlphanumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Pt.getAlphanumericCode(e.charCodeAt(l));if(c===-1)throw new Ot;if(l+1<i){const u=Pt.getAlphanumericCode(e.charCodeAt(l+1));if(u===-1)throw new Ot;n.appendBits(c*45+u,11),l+=2}else n.appendBits(c,6),l++}}static append8BitBytes(e,n,i){let l;try{l=Pe.encode(e,i)}catch(c){throw new Ot(c)}for(let c=0,u=l.length;c!==u;c++){const h=l[c];n.appendBits(h,8)}}static appendKanjiBytes(e,n){let i;try{i=Pe.encode(e,K.SJIS)}catch(c){throw new Ot(c)}const l=i.length;for(let c=0;c<l;c+=2){const u=i[c]&255,h=i[c+1]&255,x=u<<8&4294967295|h;let v=-1;if(x>=33088&&x<=40956?v=x-33088:x>=57408&&x<=60351&&(v=x-49472),v===-1)throw new Ot("Invalid byte sequence");const I=(v>>8)*192+(v&255);n.appendBits(I,13)}}static appendECI(e,n){n.appendBits(Ke.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Pt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pt.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class Rs{write(e,n,i,l=null){if(e.length===0)throw new A("Found empty contents");if(n<0||i<0)throw new A("Requested dimensions are too small: "+n+"x"+i);let c=kt.L,u=Rs.QUIET_ZONE_SIZE;l!==null&&(l.get(gn.ERROR_CORRECTION)!==void 0&&(c=kt.fromString(l.get(gn.ERROR_CORRECTION).toString())),l.get(gn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(gn.MARGIN).toString(),10)));const h=Pt.encode(e,c,l);return this.renderResult(h,n,i,u)}writeToDom(e,n,i,l,c=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(n,i,l,c);e&&e.appendChild(u)}renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new ir;const u=c.getWidth(),h=c.getHeight(),x=u+l*2,v=h+l*2,I=Math.max(n,x),R=Math.max(i,v),O=Math.min(Math.floor(I/x),Math.floor(R/v)),L=Math.floor((I-u*O)/2),H=Math.floor((R-h*O)/2),X=this.createSVGElement(I,R);for(let Q=0,ae=H;Q<h;Q++,ae+=O)for(let Ne=0,Te=L;Ne<u;Ne++,Te+=O)if(c.get(Ne,Q)===1){const ye=this.createSvgRectElement(Te,ae,O,O);X.appendChild(ye)}return X}createSVGElement(e,n){const i=document.createElementNS(Rs.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,l){const c=document.createElementNS(Rs.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Rs.QUIET_ZONE_SIZE=4,Rs.SVG_NS="http://www.w3.org/2000/svg";class ni{encode(e,n,i,l,c){if(e.length===0)throw new A("Found empty contents");if(n!==ve.QR_CODE)throw new A("Can only encode QR_CODE, but got "+n);if(i<0||l<0)throw new A(`Requested dimensions are too small: ${i}x${l}`);let u=kt.L,h=ni.QUIET_ZONE_SIZE;c!==null&&(c.get(gn.ERROR_CORRECTION)!==void 0&&(u=kt.fromString(c.get(gn.ERROR_CORRECTION).toString())),c.get(gn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(gn.MARGIN).toString(),10)));const x=Pt.encode(e,u,c);return ni.renderResult(x,i,l,h)}static renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new ir;const u=c.getWidth(),h=c.getHeight(),x=u+l*2,v=h+l*2,I=Math.max(n,x),R=Math.max(i,v),O=Math.min(Math.floor(I/x),Math.floor(R/v)),L=Math.floor((I-u*O)/2),H=Math.floor((R-h*O)/2),X=new me(I,R);for(let Q=0,ae=H;Q<h;Q++,ae+=O)for(let Ne=0,Te=L;Ne<u;Ne++,Te+=O)c.get(Ne,Q)===1&&X.setRegion(Te,ae,O,O);return X}}ni.QUIET_ZONE_SIZE=4;class cu{encode(e,n,i,l,c){let u;switch(n){case ve.QR_CODE:u=new ni;break;default:throw new A("No encoder available for format "+n)}return u.encode(e,n,i,l,c)}}class zr extends ee{constructor(e,n,i,l,c,u,h,x){if(super(u,h),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=l,this.top=c,l+u>n||c+h>i)throw new A("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(u,h)}getRow(e,n){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.yuvData,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;j.arraycopy(this.yuvData,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new zr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,l,!1)}renderThumbnail(){const e=this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let u=0;u<n;u++){const h=u*e;for(let x=0;x<e;x++){const v=l[c+x*zr.THUMBNAIL_SCALE_FACTOR]&255;i[h+x]=4278190080|v*65793}c+=this.dataWidth*zr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<n;l++,c+=this.dataWidth){const u=c+e/2;for(let h=c,x=c+e-1;h<u;h++,x--){const v=i[h];i[h]=i[x],i[x]=v}}}invert(){return new Ce(this)}}zr.THUMBNAIL_SCALE_FACTOR=2;class Mi extends ee{constructor(e,n,i,l,c,u,h){if(super(n,i),this.dataWidth=l,this.dataHeight=c,this.left=u,this.top=h,e.BYTES_PER_ELEMENT===4){const x=n*i,v=new Uint8ClampedArray(x);for(let I=0;I<x;I++){const R=e[I],O=R>>16&255,L=R>>7&510,H=R&255;v[I]=(O+L+H)/4&255}this.luminances=v}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),c===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.luminances,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;j.arraycopy(this.luminances,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new Mi(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Ce(this)}}class El extends K{static forName(e){return this.getCharacterSetECIByName(e)}}class fa{}fa.ISO_8859_1=K.ISO8859_1;class bl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ha{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class uu{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ri extends uu{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new ri(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ri(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Y.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ma extends ri{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new ma(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function du(k,e,n){return new ma(k,e,n)}function Pi(k,e,n){return new ri(k,e,n)}const fu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ps=0,si=1,Mn=2,Al=3,_r=4,Sl=new ri(null,0,0),fo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Nl(k){for(let e of k)ne.fill(e,-1);return k[ps][_r]=0,k[si][_r]=0,k[si][ps]=28,k[Al][_r]=0,k[Mn][_r]=0,k[Mn][ps]=15,k}const ga=Nl(ne.createInt32Array(6,6));class Hn{constructor(e,n,i,l){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,l=this.token;if(e!==this.mode){let u=fo[this.mode][e];l=Pi(l,u&65535,u>>16),i+=u>>16}let c=e===Mn?4:5;return l=Pi(l,n,c),new Hn(l,e,0,i+c)}shiftAndAppend(e,n){let i=this.token,l=this.mode===Mn?4:5;return i=Pi(i,ga[this.mode][e],l),i=Pi(i,n,5),new Hn(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,l=this.bitCount;if(this.mode===_r||this.mode===Mn){let h=fo[i][ps];n=Pi(n,h&65535,h>>16),l+=h>>16,i=ps}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Hn(n,i,this.binaryShiftByteCount+1,l+c);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=du(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Hn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(fo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Hn.calculateBinaryShiftCost(e)-Hn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let i=new ie;for(const l of n)l.appendTo(i,e);return i}toString(){return Ee.format("%s bits=%d bytes=%d",fu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Hn.INITIAL_STATE=new Hn(Sl,ps,0,0);function hu(k){const e=Ee.getCharCode(" "),n=Ee.getCharCode("."),i=Ee.getCharCode(",");k[ps][e]=1;const l=Ee.getCharCode("Z"),c=Ee.getCharCode("A");for(let O=c;O<=l;O++)k[ps][O]=O-c+2;k[si][e]=1;const u=Ee.getCharCode("z"),h=Ee.getCharCode("a");for(let O=h;O<=u;O++)k[si][O]=O-h+2;k[Mn][e]=1;const x=Ee.getCharCode("9"),v=Ee.getCharCode("0");for(let O=v;O<=x;O++)k[Mn][O]=O-v+2;k[Mn][i]=12,k[Mn][n]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<I.length;O++)k[Al][Ee.getCharCode(I[O])]=O;const R=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<R.length;O++)Ee.getCharCode(R[O])>0&&(k[_r][Ee.getCharCode(R[O])]=O);return k}const pa=hu(ne.createInt32Array(5,256));class Li{constructor(e){this.text=e}encode(){const e=Ee.getCharCode(" "),n=Ee.getCharCode(`
`);let i=ha.singletonList(Hn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let u,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case Ee.getCharCode("\r"):u=h===n?2:0;break;case Ee.getCharCode("."):u=h===e?3:0;break;case Ee.getCharCode(","):u=h===e?4:0;break;case Ee.getCharCode(":"):u=h===e?5:0;break;default:u=0}u>0?(i=Li.updateStateListForPair(i,c,u),c++):i=this.updateStateListForChar(i,c)}return ha.min(i,(c,u)=>c.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let l of e)this.updateStateForChar(l,n,i);return Li.simplifyStates(i)}updateStateForChar(e,n,i){let l=this.text[n]&255,c=pa[e.getMode()][l]>0,u=null;for(let h=0;h<=_r;h++){let x=pa[h][l];if(x>0){if(u==null&&(u=e.endBinaryShift(n)),!c||h===e.getMode()||h===Mn){const v=u.latchAndAppend(h,x);i.push(v)}if(!c&&ga[e.getMode()][h]>=0){const v=u.shiftAndAppend(h,x);i.push(v)}}}if(e.getBinaryShiftByteCount()>0||pa[e.getMode()][l]===0){let h=e.addBinaryShiftChar(n);i.push(h)}}static updateStateListForPair(e,n,i){const l=[];for(let c of e)this.updateStateForPair(c,n,i,l);return this.simplifyStates(l)}static updateStateForPair(e,n,i,l){let c=e.endBinaryShift(n);if(l.push(c.latchAndAppend(_r,i)),e.getMode()!==_r&&l.push(c.shiftAndAppend(_r,i)),i===3||i===4){let u=c.latchAndAppend(Mn,16-i).latchAndAppend(Mn,1);l.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(u)}}static simplifyStates(e){let n=[];for(const i of e){let l=!0;for(const c of n){if(c.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(c)&&(n=n.filter(u=>u!==c))}l&&n.push(i)}return n}}class yt{constructor(){}static encodeBytes(e){return yt.encode(e,yt.DEFAULT_EC_PERCENT,yt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let l=new Li(e).encode(),c=Y.truncDivision(l.getSize()*n,100)+11,u=l.getSize()+c,h,x,v,I,R;if(i!==yt.DEFAULT_AZTEC_LAYERS){if(h=i<0,x=Math.abs(i),x>(h?yt.MAX_NB_BITS_COMPACT:yt.MAX_NB_BITS))throw new A(Ee.format("Illegal value %s for layers",i));v=yt.totalBitsInLayer(x,h),I=yt.WORD_SIZE[x];let ye=v-v%I;if(R=yt.stuffBits(l,I),R.getSize()+c>ye)throw new A("Data to large for user specified layer");if(h&&R.getSize()>I*64)throw new A("Data to large for user specified layer")}else{I=0,R=null;for(let ye=0;;ye++){if(ye>yt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(h=ye<=3,x=h?ye+1:ye,v=yt.totalBitsInLayer(x,h),u>v)continue;(R==null||I!==yt.WORD_SIZE[x])&&(I=yt.WORD_SIZE[x],R=yt.stuffBits(l,I));let dt=v-v%I;if(!(h&&R.getSize()>I*64)&&R.getSize()+c<=dt)break}}let O=yt.generateCheckWords(R,v,I),L=R.getSize()/I,H=yt.generateModeMessage(h,x,L),X=(h?11:14)+x*4,Q=new Int32Array(X),ae;if(h){ae=X;for(let ye=0;ye<Q.length;ye++)Q[ye]=ye}else{ae=X+1+2*Y.truncDivision(Y.truncDivision(X,2)-1,15);let ye=Y.truncDivision(X,2),dt=Y.truncDivision(ae,2);for(let it=0;it<ye;it++){let Jn=it+Y.truncDivision(it,15);Q[ye-it-1]=dt-Jn-1,Q[ye+it]=dt+Jn+1}}let Ne=new me(ae);for(let ye=0,dt=0;ye<x;ye++){let it=(x-ye)*4+(h?9:12);for(let Jn=0;Jn<it;Jn++){let Or=Jn*2;for(let pn=0;pn<2;pn++)O.get(dt+Or+pn)&&Ne.set(Q[ye*2+pn],Q[ye*2+Jn]),O.get(dt+it*2+Or+pn)&&Ne.set(Q[ye*2+Jn],Q[X-1-ye*2-pn]),O.get(dt+it*4+Or+pn)&&Ne.set(Q[X-1-ye*2-pn],Q[X-1-ye*2-Jn]),O.get(dt+it*6+Or+pn)&&Ne.set(Q[X-1-ye*2-Jn],Q[ye*2+pn])}dt+=it*8}if(yt.drawModeMessage(Ne,h,ae,H),h)yt.drawBullsEye(Ne,Y.truncDivision(ae,2),5);else{yt.drawBullsEye(Ne,Y.truncDivision(ae,2),7);for(let ye=0,dt=0;ye<Y.truncDivision(X,2)-1;ye+=15,dt+=16)for(let it=Y.truncDivision(ae,2)&1;it<ae;it+=2)Ne.set(Y.truncDivision(ae,2)-dt,it),Ne.set(Y.truncDivision(ae,2)+dt,it),Ne.set(it,Y.truncDivision(ae,2)-dt),Ne.set(it,Y.truncDivision(ae,2)+dt)}let Te=new bl;return Te.setCompact(h),Te.setSize(ae),Te.setLayers(x),Te.setCodeWords(L),Te.setMatrix(Ne),Te}static drawBullsEye(e,n,i){for(let l=0;l<i;l+=2)for(let c=n-l;c<=n+l;c++)e.set(c,n-l),e.set(c,n+l),e.set(n-l,c),e.set(n+l,c);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let l=new ie;return e?(l.appendBits(n-1,2),l.appendBits(i-1,6),l=yt.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(i-1,11),l=yt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,i,l){let c=Y.truncDivision(i,2);if(n)for(let u=0;u<7;u++){let h=c-3+u;l.get(u)&&e.set(h,c-5),l.get(u+7)&&e.set(c+5,h),l.get(20-u)&&e.set(h,c+5),l.get(27-u)&&e.set(c-5,h)}else for(let u=0;u<10;u++){let h=c-5+u+Y.truncDivision(u,5);l.get(u)&&e.set(h,c-7),l.get(u+10)&&e.set(c+7,h),l.get(29-u)&&e.set(h,c+7),l.get(39-u)&&e.set(c-7,h)}}static generateCheckWords(e,n,i){let l=e.getSize()/i,c=new da(yt.getGF(i)),u=Y.truncDivision(n,i),h=yt.bitsToWords(e,i,u);c.encode(h,u-l);let x=n%i,v=new ie;v.appendBits(0,x);for(const I of Array.from(h))v.appendBits(I,i);return v}static bitsToWords(e,n,i){let l=new Int32Array(i),c,u;for(c=0,u=e.getSize()/n;c<u;c++){let h=0;for(let x=0;x<n;x++)h|=e.get(c*n+x)?1<<n-x-1:0;l[c]=h}return l}static getGF(e){switch(e){case 4:return ht.AZTEC_PARAM;case 6:return ht.AZTEC_DATA_6;case 8:return ht.AZTEC_DATA_8;case 10:return ht.AZTEC_DATA_10;case 12:return ht.AZTEC_DATA_12;default:throw new A("Unsupported word size "+e)}}static stuffBits(e,n){let i=new ie,l=e.getSize(),c=(1<<n)-2;for(let u=0;u<l;u+=n){let h=0;for(let x=0;x<n;x++)(u+x>=l||e.get(u+x))&&(h|=1<<n-1-x);(h&c)===c?(i.appendBits(h&c,n),u--):(h&c)===0?(i.appendBits(h|1,n),u--):i.appendBits(h,n)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}yt.DEFAULT_EC_PERCENT=33,yt.DEFAULT_AZTEC_LAYERS=0,yt.MAX_NB_BITS=32,yt.MAX_NB_BITS_COMPACT=4,yt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Bi{encode(e,n,i,l){return this.encodeWithHints(e,n,i,l,null)}encodeWithHints(e,n,i,l,c){let u=fa.ISO_8859_1,h=yt.DEFAULT_EC_PERCENT,x=yt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(gn.CHARACTER_SET)&&(u=El.forName(c.get(gn.CHARACTER_SET).toString())),c.has(gn.ERROR_CORRECTION)&&(h=Y.parseInt(c.get(gn.ERROR_CORRECTION).toString())),c.has(gn.AZTEC_LAYERS)&&(x=Y.parseInt(c.get(gn.AZTEC_LAYERS).toString()))),Bi.encodeLayers(e,n,i,l,u,h,x)}static encodeLayers(e,n,i,l,c,u,h){if(n!==ve.AZTEC)throw new A("Can only encode AZTEC, but got "+n);let x=yt.encode(Ee.getBytes(e,c),u,h);return Bi.renderResult(x,i,l)}static renderResult(e,n,i){let l=e.getMatrix();if(l==null)throw new ir;let c=l.getWidth(),u=l.getHeight(),h=Math.max(n,c),x=Math.max(i,u),v=Math.min(h/c,x/u),I=(h-c*v)/2,R=(x-u*v)/2,O=new me(h,x);for(let L=0,H=R;L<u;L++,H+=v)for(let X=0,Q=I;X<c;X++,Q+=v)l.get(X,L)&&O.setRegion(Q,H,v,v);return O}}a.AbstractExpandedDecoder=ta,a.ArgumentException=T,a.ArithmeticException=En,a.AztecCode=bl,a.AztecCodeReader=Sr,a.AztecCodeWriter=Bi,a.AztecDecoder=St,a.AztecDetector=or,a.AztecDetectorResult=jr,a.AztecEncoder=yt,a.AztecHighLevelEncoder=Li,a.AztecPoint=ln,a.BarcodeFormat=ve,a.Binarizer=z,a.BinaryBitmap=D,a.BitArray=ie,a.BitMatrix=me,a.BitSource=sa,a.BrowserAztecCodeReader=fs,a.BrowserBarcodeReader=gl,a.BrowserCodeReader=Ae,a.BrowserDatamatrixCodeReader=au,a.BrowserMultiFormatReader=Di,a.BrowserPDF417Reader=co,a.BrowserQRCodeReader=Cl,a.BrowserQRCodeSvgWriter=Rs,a.CharacterSetECI=K,a.ChecksumException=B,a.Code128Reader=_e,a.Code39Reader=qt,a.DataMatrixDecodedBitStreamParser=Ir,a.DataMatrixReader=kr,a.DecodeHintType=de,a.DecoderResult=at,a.DefaultGridSampler=Xs,a.DetectorResult=an,a.EAN13Reader=Vn,a.EncodeHintType=gn,a.Exception=E,a.FormatException=$,a.GenericGF=ht,a.GenericGFPoly=Dt,a.GlobalHistogramBinarizer=be,a.GridSampler=Gs,a.GridSamplerInstance=Zn,a.HTMLCanvasElementLuminanceSource=pe,a.HybridBinarizer=te,a.ITFReader=vt,a.IllegalArgumentException=A,a.IllegalStateException=ir,a.InvertedLuminanceSource=Ce,a.LuminanceSource=ee,a.MathUtils=tt,a.MultiFormatOneDReader=qs,a.MultiFormatReader=lo,a.MultiFormatWriter=cu,a.NotFoundException=G,a.OneDReader=Wt,a.PDF417DecodedBitStreamParser=le,a.PDF417DecoderErrorCorrection=aa,a.PDF417Reader=Tn,a.PDF417ResultMetadata=oo,a.PerspectiveTransform=bn,a.PlanarYUVLuminanceSource=zr,a.QRCodeByteMatrix=uo,a.QRCodeDataMask=ct,a.QRCodeDecodedBitStreamParser=Ut,a.QRCodeDecoderErrorCorrectionLevel=kt,a.QRCodeDecoderFormatInformation=An,a.QRCodeEncoder=Pt,a.QRCodeEncoderQRCode=ks,a.QRCodeMaskUtil=zt,a.QRCodeMatrixUtil=qe,a.QRCodeMode=Ke,a.QRCodeReader=zn,a.QRCodeVersion=Xe,a.QRCodeWriter=ni,a.RGBLuminanceSource=Mi,a.RSS14Reader=jt,a.RSSExpandedReader=he,a.ReaderException=ti,a.ReedSolomonDecoder=es,a.ReedSolomonEncoder=da,a.ReedSolomonException=mr,a.Result=Ie,a.ResultMetadataType=Oe,a.ResultPoint=Le,a.StringUtils=Ee,a.UnsupportedOperationException=ge,a.VideoInputDevice=Z,a.WhiteRectangleDetector=gr,a.WriterException=Ot,a.ZXingArrays=ne,a.ZXingCharset=El,a.ZXingInteger=Y,a.ZXingStandardCharsets=fa,a.ZXingStringBuilder=De,a.ZXingStringEncoding=Pe,a.ZXingSystem=j,a.createAbstractExpandedDecoder=hl,Object.defineProperty(a,"__esModule",{value:!0})}))})(Ha,Ha.exports)),Ha.exports}var Zt=d4();const f4=Bf(Zt),h4=Ig({__proto__:null,default:f4},[Zt]);var ng=(function(){function r(s,a,f){if(this.formatMap=new Map([[je.QR_CODE,Zt.BarcodeFormat.QR_CODE],[je.AZTEC,Zt.BarcodeFormat.AZTEC],[je.CODABAR,Zt.BarcodeFormat.CODABAR],[je.CODE_39,Zt.BarcodeFormat.CODE_39],[je.CODE_93,Zt.BarcodeFormat.CODE_93],[je.CODE_128,Zt.BarcodeFormat.CODE_128],[je.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[je.MAXICODE,Zt.BarcodeFormat.MAXICODE],[je.ITF,Zt.BarcodeFormat.ITF],[je.EAN_13,Zt.BarcodeFormat.EAN_13],[je.EAN_8,Zt.BarcodeFormat.EAN_8],[je.PDF_417,Zt.BarcodeFormat.PDF_417],[je.RSS_14,Zt.BarcodeFormat.RSS_14],[je.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[je.UPC_A,Zt.BarcodeFormat.UPC_A],[je.UPC_E,Zt.BarcodeFormat.UPC_E],[je.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!h4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=f;var m=this.createZXingFormats(s),g=new Map;g.set(Zt.DecodeHintType.POSSIBLE_FORMATS,m),g.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=g}return r.prototype.decodeAsync=function(s){var a=this;return new Promise(function(f,m){try{f(a.decode(s))}catch(g){m(g)}})},r.prototype.decode=function(s){var a=new Zt.MultiFormatReader(this.verbose,this.hints),f=new Zt.HTMLCanvasElementLuminanceSource(s),m=new Zt.BinaryBitmap(new Zt.HybridBinarizer(f)),g=a.decode(m);return{text:g.text,format:_x.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(a,f,m){s.set(a,f)}),s},r.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},r.prototype.createZXingFormats=function(s){for(var a=[],f=0,m=s;f<m.length;f++){var g=m[f];this.formatMap.has(g)?a.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return a},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r})(),m4=function(r,s,a,f){function m(g){return g instanceof a?g:new a(function(w){w(g)})}return new(a||(a=Promise))(function(g,w){function b(T){try{E(f.next(T))}catch(A){w(A)}}function N(T){try{E(f.throw(T))}catch(A){w(A)}}function E(T){T.done?g(T.value):m(T.value).then(b,N)}E((f=f.apply(r,s||[])).next())})},g4=function(r,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(r,a)}catch(T){E=[6,T],m=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},rg=(function(){function r(s,a,f){if(this.formatMap=new Map([[je.QR_CODE,"qr_code"],[je.AZTEC,"aztec"],[je.CODABAR,"codabar"],[je.CODE_39,"code_39"],[je.CODE_93,"code_93"],[je.CODE_128,"code_128"],[je.DATA_MATRIX,"data_matrix"],[je.ITF,"itf"],[je.EAN_13,"ean_13"],[je.EAN_8,"ean_8"],[je.PDF_417,"pdf417"],[je.UPC_A,"upc_a"],[je.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=f;var m=this.createBarcodeDetectorFormats(s);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var s=new BarcodeDetector({formats:["qr_code"]});return typeof s<"u"},r.prototype.decodeAsync=function(s){return m4(this,void 0,void 0,function(){var a,f;return g4(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(s)];case 1:if(a=m.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(a),[2,{text:f.rawValue,format:_x.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(s){for(var a=null,f=0,m=0,g=s;m<g.length;m++){var w=g[m],b=w.boundingBox.width*w.boundingBox.height;b>f&&(f=b,a=w)}if(!a)throw"No largest barcode found";return a},r.prototype.createBarcodeDetectorFormats=function(s){for(var a=[],f=0,m=s;f<m.length;f++){var g=m[f];this.formatMap.has(g)?a.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},r.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},r.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(a,f,m){s.set(a,f)}),s},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r})(),sg=function(r,s,a,f){function m(g){return g instanceof a?g:new a(function(w){w(g)})}return new(a||(a=Promise))(function(g,w){function b(T){try{E(f.next(T))}catch(A){w(A)}}function N(T){try{E(f.throw(T))}catch(A){w(A)}}function E(T){T.done?g(T.value):m(T.value).then(b,N)}E((f=f.apply(r,s||[])).next())})},ig=function(r,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(r,a)}catch(T){E=[6,T],m=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},p4=(function(){function r(s,a,f,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,a&&rg.isSupported()?(this.primaryDecoder=new rg(s,f,m),this.secondaryDecoder=new ng(s,f,m)):this.primaryDecoder=new ng(s,f,m)}return r.prototype.decodeAsync=function(s){return sg(this,void 0,void 0,function(){var a;return ig(this,function(f){switch(f.label){case 0:a=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(s)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(s){return sg(this,void 0,void 0,function(){var a,f;return ig(this,function(m){switch(m.label){case 0:a=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(s)];case 2:return[2,m.sent()];case 3:if(f=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(s)];throw f;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(s){if(this.verbose){var a=performance.now()-s;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var s=0,a=0,f=this.executionResults;a<f.length;a++){var m=f[a];s+=m}var g=s/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r})(),C0=(function(){var r=function(s,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(f[g]=m[g])},r(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(s,a);function f(){this.constructor=s}s.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}})(),Zc=function(r,s,a,f){function m(g){return g instanceof a?g:new a(function(w){w(g)})}return new(a||(a=Promise))(function(g,w){function b(T){try{E(f.next(T))}catch(A){w(A)}}function N(T){try{E(f.throw(T))}catch(A){w(A)}}function E(T){T.done?g(T.value):m(T.value).then(b,N)}E((f=f.apply(r,s||[])).next())})},qc=function(r,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(r,a)}catch(T){E=[6,T],m=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Dx=(function(){function r(s,a){this.name=s,this.track=a}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(s){var a={};a[this.name]=s;var f={advanced:[a]};return this.track.applyConstraints(f)},r.prototype.value=function(){var s=this.track.getSettings();if(this.name in s){var a=s[this.name];return a}return null},r})(),x4=(function(r){C0(s,r);function s(a,f){return r.call(this,a,f)||this}return s.prototype.min=function(){return this.getCapabilities().min},s.prototype.max=function(){return this.getCapabilities().max},s.prototype.step=function(){return this.getCapabilities().step},s.prototype.apply=function(a){var f={};f[this.name]=a;var m={advanced:[f]};return this.track.applyConstraints(m)},s.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),f=a[this.name];return{min:f.min,max:f.max,step:f.step}},s.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},s})(Dx),y4=(function(r){C0(s,r);function s(a){return r.call(this,"zoom",a)||this}return s})(x4),w4=(function(r){C0(s,r);function s(a){return r.call(this,"torch",a)||this}return s})(Dx),v4=(function(){function r(s){this.track=s}return r.prototype.zoomFeature=function(){return new y4(this.track)},r.prototype.torchFeature=function(){return new w4(this.track)},r})(),C4=(function(){function r(s,a,f){this.isClosed=!1,this.parentElement=s,this.mediaStream=a,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),s.append(this.surface)}return r.prototype.createVideoElement=function(s){var a=document.createElement("video");return a.style.width="".concat(s,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},r.prototype.setupSurface=function(){var s=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var f=s.surface.clientWidth,m=s.surface.clientHeight;s.callbacks.onRenderSurfaceReady(f,m),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(s,a,f,m){return Zc(this,void 0,void 0,function(){var g,w;return qc(this,function(b){switch(b.label){case 0:return g=new r(s,a,m),f.aspectRatio?(w={aspectRatio:f.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(w)]):[3,2];case 1:b.sent(),b.label=2;case 2:return g.setupSurface(),[2,g]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(s){this.failIfClosed();var a=this,f=function(){setTimeout(s,200),a.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(s){return Zc(this,void 0,void 0,function(){return qc(this,function(a){if("aspectRatio"in s)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(s)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var s=this;return new Promise(function(a,f){var m=s.mediaStream.getVideoTracks(),g=m.length,w=0;s.mediaStream.getVideoTracks().forEach(function(b){s.mediaStream.removeTrack(b),b.stop(),++w,w>=g&&(s.isClosed=!0,s.parentElement.removeChild(s.surface),a())})})},r.prototype.getCapabilities=function(){return new v4(this.getFirstTrackOrFail())},r})(),E4=(function(){function r(s){this.mediaStream=s}return r.prototype.render=function(s,a,f){return Zc(this,void 0,void 0,function(){return qc(this,function(m){return[2,C4.create(s,this.mediaStream,a,f)]})})},r.create=function(s){return Zc(this,void 0,void 0,function(){var a,f;return qc(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:s},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return f=m.sent(),[2,new r(f)]}})})},r})(),og=function(r,s,a,f){function m(g){return g instanceof a?g:new a(function(w){w(g)})}return new(a||(a=Promise))(function(g,w){function b(T){try{E(f.next(T))}catch(A){w(A)}}function N(T){try{E(f.throw(T))}catch(A){w(A)}}function E(T){T.done?g(T.value):m(T.value).then(b,N)}E((f=f.apply(r,s||[])).next())})},ag=function(r,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(r,a)}catch(T){E=[6,T],m=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},b4=(function(){function r(){}return r.failIfNotSupported=function(){return og(this,void 0,void 0,function(){return ag(this,function(s){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(s){return og(this,void 0,void 0,function(){return ag(this,function(a){return[2,E4.create(s)]})})},r})(),A4=function(r,s,a,f){function m(g){return g instanceof a?g:new a(function(w){w(g)})}return new(a||(a=Promise))(function(g,w){function b(T){try{E(f.next(T))}catch(A){w(A)}}function N(T){try{E(f.throw(T))}catch(A){w(A)}}function E(T){T.done?g(T.value):m(T.value).then(b,N)}E((f=f.apply(r,s||[])).next())})},S4=function(r,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(r,a)}catch(T){E=[6,T],m=0}finally{f=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},N4=(function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var s=MediaStreamTrack;return MediaStreamTrack&&s.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var s=Vo.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(s=Vo.insecureContextCameraQueryError()),Promise.reject(s)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var s=location.host.split(":")[0];return s==="127.0.0.1"||s==="localhost"},r.getCamerasFromMediaDevices=function(){return A4(this,void 0,void 0,function(){var s,a,f,m,g,w,b;return S4(this,function(N){switch(N.label){case 0:return s=function(E){for(var T=E.getVideoTracks(),A=0,D=T;A<D.length;A++){var B=D[A];B.enabled=!1,B.stop(),E.removeTrack(B)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=N.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=N.sent(),m=[],g=0,w=f;g<w.length;g++)b=w[g],b.kind==="videoinput"&&m.push({id:b.deviceId,label:b.label});return s(a),[2,m]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(s,a){var f=function(g){for(var w=[],b=0,N=g;b<N.length;b++){var E=N[b];E.kind==="video"&&w.push({id:E.id,label:E.label})}s(w)},m=MediaStreamTrack;m.getSources(f)})},r})(),fn;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(fn||(fn={}));var T4=(function(){function r(){this.state=fn.NOT_STARTED,this.onGoingTransactionNewState=fn.UNKNOWN}return r.prototype.directTransition=function(s){this.failIfTransitionOngoing(),this.validateTransition(s),this.state=s},r.prototype.startTransition=function(s){return this.failIfTransitionOngoing(),this.validateTransition(s),this.onGoingTransactionNewState=s,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===fn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var s=this.onGoingTransactionNewState;this.onGoingTransactionNewState=fn.UNKNOWN,this.directTransition(s)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===fn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=fn.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==fn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(s){switch(this.state){case fn.UNKNOWN:throw"Transition from unknown is not allowed";case fn.NOT_STARTED:this.failIfNewStateIs(s,[fn.PAUSED]);break;case fn.SCANNING:break;case fn.PAUSED:break}},r.prototype.failIfNewStateIs=function(s,a){for(var f=0,m=a;f<m.length;f++){var g=m[f];if(s===g)throw"Cannot transition from ".concat(this.state," to ").concat(s)}},r})(),I4=(function(){function r(s){this.stateManager=s}return r.prototype.startTransition=function(s){return this.stateManager.startTransition(s)},r.prototype.directTransition=function(s){this.stateManager.directTransition(s)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===fn.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==fn.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===fn.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===fn.PAUSED},r})(),k4=(function(){function r(){}return r.create=function(){return new I4(new T4)},r})(),R4=(function(){var r=function(s,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(f[g]=m[g])},r(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(s,a);function f(){this.constructor=s}s.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}})(),Lr=(function(r){R4(s,r);function s(){return r!==null&&r.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s})(a4),_4=(function(){function r(s,a){this.logger=a,this.fps=Lr.SCAN_DEFAULT_FPS,s?(s.fps&&(this.fps=s.fps),this.disableFlip=s.disableFlip===!0,this.qrbox=s.qrbox,this.aspectRatio=s.aspectRatio,this.videoConstraints=s.videoConstraints):this.disableFlip=Lr.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ox.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!Us(this.qrbox)},r.create=function(s,a){return new r(s,a)},r})(),O4=(function(){function r(s,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(s))throw"HTML Element with id=".concat(s," not found");this.elementId=s,this.verbose=!1;var f;typeof a=="boolean"?this.verbose=a===!0:a&&(f=a,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new c4(this.verbose),this.qrcode=new p4(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=k4.create()}return r.prototype.start=function(s,a,f,m){var g=this;if(!s)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var w;m?w=m:w=this.verbose?this.logger.log:function(){};var b=_4.create(a,this.logger);this.clearElement();var N=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?N=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=N,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:Lr.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var A=this,D=this.stateManagerProxy.startTransition(fn.SCANNING);return new Promise(function(B,z){var j=E?b.videoConstraints:A.createVideoConstraints(s);if(!j){D.cancel(),z("videoConstraints should be defined");return}var V={};(!E||b.aspectRatio)&&(V.aspectRatio=b.aspectRatio);var U={onRenderSurfaceReady:function(ne,Y){A.setupUi(ne,Y,b),A.isScanning=!0,A.foreverScan(b,f,w)}};b4.failIfNotSupported().then(function(ne){ne.create(j).then(function(Y){return Y.render(g.element,V,U).then(function(ie){A.renderedCamera=ie,D.execute(),B(null)}).catch(function(ie){D.cancel(),z(ie)})}).catch(function(Y){D.cancel(),z(Vo.errorGettingUserMedia(Y))})}).catch(function(ne){D.cancel(),z(Vo.cameraStreamingNotSupported())})})},r.prototype.pause=function(s){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(fn.PAUSED),this.showPausedState(),(Us(s)||s!==!0)&&(s=!1),s&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var s=this,a=function(){s.stateManagerProxy.directTransition(fn.SCANNING),s.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var s=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(fn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(s.element){var g=document.getElementById(Lr.SHADED_REGION_ELEMENT_ID);g&&s.element.removeChild(g)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),f(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),a.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(s,a){return this.scanFileV2(s,a).then(function(f){return f.decodedText})},r.prototype.scanFileV2=function(s,a){var f=this;if(!s||!(s instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Us(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,g){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(s);var w=new Image;w.onload=function(){var b=w.width,N=w.height,E=document.getElementById(f.elementId),T=E.clientWidth?E.clientWidth:Lr.DEFAULT_WIDTH,A=Math.max(E.clientHeight?E.clientHeight:N,Lr.FILE_SCAN_MIN_HEIGHT),D=f.computeCanvasDrawConfig(b,N,T,A);if(a){var B=f.createCanvasElement(T,A,"qr-canvas-visible");B.style.display="inline-block",E.appendChild(B);var z=B.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=T,z.canvas.height=A,z.drawImage(w,0,0,b,N,D.x,D.y,D.width,D.height)}var j=Lr.FILE_SCAN_HIDDEN_CANVAS_PADDING,V=Math.max(w.width,D.width),U=Math.max(w.height,D.height),ne=V+2*j,Y=U+2*j,ie=f.createCanvasElement(ne,Y);E.appendChild(ie);var fe=ie.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=ne,fe.canvas.height=Y,fe.drawImage(w,0,0,b,N,j,j,V,U);try{f.qrcode.decodeRobustlyAsync(ie).then(function(de){m(eg.createFromQrcodeResult(de))}).catch(g)}catch(de){g("QR code parse error, error = ".concat(de))}},w.onerror=g,w.onabort=g,w.onstalled=g,w.onsuspend=g,w.src=URL.createObjectURL(s)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return N4.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(s){if(s){if(!Ox.isMediaStreamConstraintsValid(s,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(s)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(s){var a=[je.QR_CODE,je.AZTEC,je.CODABAR,je.CODE_39,je.CODE_93,je.CODE_128,je.DATA_MATRIX,je.MAXICODE,je.ITF,je.EAN_13,je.EAN_8,je.PDF_417,je.RSS_14,je.RSS_EXPANDED,je.UPC_A,je.UPC_E,je.UPC_EAN_EXTENSION];if(!s||typeof s=="boolean"||!s.formatsToSupport)return a;if(!Array.isArray(s.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(s.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],m=0,g=s.formatsToSupport;m<g.length;m++){var w=g[m];o4(w)?f.push(w):this.logger.warn("Invalid format: ".concat(w," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},r.prototype.getUseBarCodeDetectorIfSupported=function(s){if(Us(s))return!0;if(!Us(s.useBarCodeDetectorIfSupported))return s.useBarCodeDetectorIfSupported!==!1;if(Us(s.experimentalFeatures))return!0;var a=s.experimentalFeatures;return Us(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(s,a,f){var m=this,g=f.qrbox;this.validateQrboxConfig(g);var w=this.toQrdimensions(s,a,g),b=function(E){if(E<Lr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Lr.MIN_QR_BOX_SIZE,"px.")},N=function(E){return E>s&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=s),E};b(w.width),b(w.height),w.width=N(w.width)},r.prototype.validateQrboxConfig=function(s){if(typeof s!="number"&&typeof s!="function"&&(s.width===void 0||s.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(s,a,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(s,a)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return f},r.prototype.setupUi=function(s,a,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(s,a,f);var m=Us(f.qrbox)?{width:s,height:a}:f.qrbox;this.validateQrboxConfig(m);var g=this.toQrdimensions(s,a,m);g.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var w=f.isShadedBoxEnabled()&&g.height<=a,b={x:0,y:0,width:s,height:a},N=w?this.getShadedRegionBounds(s,a,g):b,E=this.createCanvasElement(N.width,N.height),T={willReadFrequently:!0},A=E.getContext("2d",T);A.canvas.width=N.width,A.canvas.height=N.height,this.element.append(E),w&&this.possiblyInsertShadingElement(this.element,s,a,g),this.createScannerPausedUiElement(this.element),this.qrRegion=N,this.context=A,this.canvasElement=E},r.prototype.createScannerPausedUiElement=function(s){var a=document.createElement("div");a.innerText=Vo.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",s.appendChild(a),this.scannerPausedUiElement=a},r.prototype.scanContext=function(s,a){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return s(m.text,eg.createFromQrcodeResult(m)),f.possiblyUpdateShaders(!0),!0}).catch(function(m){f.possiblyUpdateShaders(!1);var g=Vo.codeParseError(m);return a(g,l4.createFrom(g)),!1})},r.prototype.foreverScan=function(s,a,f){var m=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),w=g.videoWidth/g.clientWidth,b=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var N=this.qrRegion.width*w,E=this.qrRegion.height*b,T=this.qrRegion.x*w,A=this.qrRegion.y*b;this.context.drawImage(g,T,A,N,E,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(s,a,f)},m.getTimeoutFps(s.fps))};this.scanContext(a,f).then(function(B){!B&&s.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(a,f).finally(function(){D()})):D()}).catch(function(B){m.logger.logError("Error happend while scanning context",B),D()})}},r.prototype.createVideoConstraints=function(s){if(typeof s=="string")return{deviceId:{exact:s}};if(typeof s=="object"){var a="facingMode",f="deviceId",m={user:!0,environment:!0},g="exact",w=function(z){if(z in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(z,"'")},b=Object.keys(s);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var N=Object.keys(s)[0];if(N!==a&&N!==f)throw"Only '".concat(a,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(N===a){var E=s.facingMode;if(typeof E=="string"){if(w(E))return{facingMode:E}}else if(typeof E=="object")if(g in E){if(w(E["".concat(g)]))return{facingMode:{exact:E["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var T=typeof E;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var A=s.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(g in A)return{deviceId:{exact:A["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var D=typeof A;throw"Invalid type of 'deviceId' = ".concat(D)}}}var B=typeof s;throw"Invalid type of 'cameraIdOrConfig' = ".concat(B)},r.prototype.computeCanvasDrawConfig=function(s,a,f,m){if(s<=f&&a<=m){var g=(f-s)/2,w=(m-a)/2;return{x:g,y:w,width:s,height:a}}else{var b=s,N=a;return s>f&&(a=f/s*a,s=f),a>m&&(s=m/a*s,a=m),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(N)+" to ".concat(s,"X").concat(a,".")),this.computeCanvasDrawConfig(s,a,f,m)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var s=document.getElementById(this.elementId);s&&(s.innerHTML="")},r.prototype.possiblyUpdateShaders=function(s){this.qrMatch!==s&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=s?Lr.BORDER_SHADER_MATCH_COLOR:Lr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=s)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(s,a,f){var m=s,g=a,w=document.createElement("canvas");return w.style.width="".concat(m,"px"),w.style.height="".concat(g,"px"),w.style.display="none",w.id=Us(f)?"qr-canvas":f,w},r.prototype.getShadedRegionBounds=function(s,a,f){if(f.width>s||f.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(s-f.width)/2,y:(a-f.height)/2,width:f.width,height:f.height}},r.prototype.possiblyInsertShadingElement=function(s,a,f,m){if(!(a-m.width<1||f-m.height<1)){var g=document.createElement("div");g.style.position="absolute";var w=(a-m.width)/2,b=(f-m.height)/2;if(g.style.borderLeft="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Lr.SHADED_REGION_ELEMENT_ID),a-m.width<11||f-m.height<11)this.hasBorderShaders=!1;else{var N=5,E=40;this.insertShaderBorders(g,E,N,-N,null,0,!0),this.insertShaderBorders(g,E,N,-N,null,0,!1),this.insertShaderBorders(g,E,N,null,-N,0,!0),this.insertShaderBorders(g,E,N,null,-N,0,!1),this.insertShaderBorders(g,N,E+N,-N,null,-N,!0),this.insertShaderBorders(g,N,E+N,null,-N,-N,!0),this.insertShaderBorders(g,N,E+N,-N,null,-N,!1),this.insertShaderBorders(g,N,E+N,null,-N,-N,!1),this.hasBorderShaders=!0}s.append(g)}},r.prototype.insertShaderBorders=function(s,a,f,m,g,w,b){var N=document.createElement("div");N.style.position="absolute",N.style.backgroundColor=Lr.BORDER_SHADER_DEFAULT_COLOR,N.style.width="".concat(a,"px"),N.style.height="".concat(f,"px"),m!==null&&(N.style.top="".concat(m,"px")),g!==null&&(N.style.bottom="".concat(g,"px")),b?N.style.left="".concat(w,"px"):N.style.right="".concat(w,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(N),s.appendChild(N)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(s){return 1e3/s},r})(),lg;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(lg||(lg={}));var Mx=kg();const Px=Bf(Mx);function D4(r){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}const M4=r=>{switch(r){case"success":return B4;case"info":return F4;case"warning":return j4;case"error":return V4;default:return null}},P4=Array(12).fill(0),L4=({visible:r,className:s})=>Re.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":r},Re.createElement("div",{className:"sonner-spinner"},P4.map((a,f)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${f}`})))),B4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),j4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),V4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U4=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),z4=()=>{const[r,s]=Re.useState(document.hidden);return Re.useEffect(()=>{const a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),r};let Of=1;class H4{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const a=this.subscribers.indexOf(s);this.subscribers.splice(a,1)}),this.publish=s=>{this.subscribers.forEach(a=>a(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var a;const{message:f,...m}=s,g=typeof s?.id=="number"||((a=s.id)==null?void 0:a.length)>0?s.id:Of++,w=this.toasts.find(N=>N.id===g),b=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(g)&&this.dismissedToasts.delete(g),w?this.toasts=this.toasts.map(N=>N.id===g?(this.publish({...N,...s,id:g,title:f}),{...N,...s,id:g,dismissible:b,title:f}):N):this.addToast({title:f,...m,dismissible:b,id:g}),g},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:s,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(f=>f({id:a.id,dismiss:!0}))}),s),this.message=(s,a)=>this.create({...a,message:s}),this.error=(s,a)=>this.create({...a,message:s,type:"error"}),this.success=(s,a)=>this.create({...a,type:"success",message:s}),this.info=(s,a)=>this.create({...a,type:"info",message:s}),this.warning=(s,a)=>this.create({...a,type:"warning",message:s}),this.loading=(s,a)=>this.create({...a,type:"loading",message:s}),this.promise=(s,a)=>{if(!a)return;let f;a.loading!==void 0&&(f=this.create({...a,promise:s,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const m=Promise.resolve(s instanceof Function?s():s);let g=f!==void 0,w;const b=m.then(async E=>{if(w=["resolve",E],Re.isValidElement(E))g=!1,this.create({id:f,type:"default",message:E});else if(G4(E)&&!E.ok){g=!1;const A=typeof a.error=="function"?await a.error(`HTTP error! status: ${E.status}`):a.error,D=typeof a.description=="function"?await a.description(`HTTP error! status: ${E.status}`):a.description,z=typeof A=="object"&&!Re.isValidElement(A)?A:{message:A};this.create({id:f,type:"error",description:D,...z})}else if(E instanceof Error){g=!1;const A=typeof a.error=="function"?await a.error(E):a.error,D=typeof a.description=="function"?await a.description(E):a.description,z=typeof A=="object"&&!Re.isValidElement(A)?A:{message:A};this.create({id:f,type:"error",description:D,...z})}else if(a.success!==void 0){g=!1;const A=typeof a.success=="function"?await a.success(E):a.success,D=typeof a.description=="function"?await a.description(E):a.description,z=typeof A=="object"&&!Re.isValidElement(A)?A:{message:A};this.create({id:f,type:"success",description:D,...z})}}).catch(async E=>{if(w=["reject",E],a.error!==void 0){g=!1;const T=typeof a.error=="function"?await a.error(E):a.error,A=typeof a.description=="function"?await a.description(E):a.description,B=typeof T=="object"&&!Re.isValidElement(T)?T:{message:T};this.create({id:f,type:"error",description:A,...B})}}).finally(()=>{g&&(this.dismiss(f),f=void 0),a.finally==null||a.finally.call(a)}),N=()=>new Promise((E,T)=>b.then(()=>w[0]==="reject"?T(w[1]):E(w[1])).catch(T));return typeof f!="string"&&typeof f!="number"?{unwrap:N}:Object.assign(f,{unwrap:N})},this.custom=(s,a)=>{const f=a?.id||Of++;return this.create({jsx:s(f),id:f,...a}),f},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const br=new H4,W4=(r,s)=>{const a=s?.id||Of++;return br.addToast({title:r,...s,id:a}),a},G4=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",X4=W4,Y4=()=>br.toasts,K4=()=>br.getActiveToasts(),Ze=Object.assign(X4,{success:br.success,info:br.info,warning:br.warning,error:br.error,custom:br.custom,message:br.message,promise:br.promise,dismiss:br.dismiss,loading:br.loading},{getHistory:Y4,getToasts:K4});D4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nc(r){return r.label!==void 0}const Z4=3,q4="24px",$4="16px",cg=4e3,Q4=356,J4=14,eA=45,tA=200;function Cs(...r){return r.filter(Boolean).join(" ")}function nA(r){const[s,a]=r.split("-"),f=[];return s&&f.push(s),a&&f.push(a),f}const rA=r=>{var s,a,f,m,g,w,b,N,E;const{invert:T,toast:A,unstyled:D,interacting:B,setHeights:z,visibleToasts:j,heights:V,index:U,toasts:ne,expanded:Y,removeToast:ie,defaultRichColors:fe,closeButton:de,style:$,cancelButtonStyle:J,actionButtonStyle:K,className:ge="",descriptionClassName:Pe="",duration:Ee,position:De,gap:me,expandByDefault:G,classNames:be,icons:te,closeButtonAriaLabel:ee="Close toast"}=r,[Ce,pe]=Re.useState(null),[Z,ue]=Re.useState(null),[Ae,Ie]=Re.useState(!1),[Ve,ve]=Re.useState(!1),[Ye,Oe]=Re.useState(!1),[at,Rt]=Re.useState(!1),[Dt,En]=Re.useState(!1),[ht,mr]=Re.useState(0),[ir,es]=Re.useState(0),Bt=Re.useRef(A.duration||Ee||cg),St=Re.useRef(null),tt=Re.useRef(null),Br=U===0,Le=U+1<=j,an=A.type,jr=A.dismissible!==!1,gr=A.className||"",Gs=A.descriptionClassName||"",bn=Re.useMemo(()=>V.findIndex(nt=>nt.toastId===A.id)||0,[V,A.id]),Xs=Re.useMemo(()=>{var nt;return(nt=A.closeButton)!=null?nt:de},[A.closeButton,de]),Zn=Re.useMemo(()=>A.duration||Ee||cg,[A.duration,Ee]),ln=Re.useRef(0),or=Re.useRef(0),Sr=Re.useRef(0),fs=Re.useRef(null),[Wt,_e]=De.split("-"),qt=Re.useMemo(()=>V.reduce((nt,Ct,en)=>en>=bn?nt:nt+Ct.height,0),[V,bn]),vt=z4(),Mt=A.invert||T,Nr=an==="loading";or.current=Re.useMemo(()=>bn*me+qt,[bn,qt]),Re.useEffect(()=>{Bt.current=Zn},[Zn]),Re.useEffect(()=>{Ie(!0)},[]),Re.useEffect(()=>{const nt=tt.current;if(nt){const Ct=nt.getBoundingClientRect().height;return es(Ct),z(en=>[{toastId:A.id,height:Ct,position:A.position},...en]),()=>z(en=>en.filter(Et=>Et.toastId!==A.id))}},[z,A.id]),Re.useLayoutEffect(()=>{if(!Ae)return;const nt=tt.current,Ct=nt.style.height;nt.style.height="auto";const en=nt.getBoundingClientRect().height;nt.style.height=Ct,es(en),z(Et=>Et.find(Gt=>Gt.toastId===A.id)?Et.map(Gt=>Gt.toastId===A.id?{...Gt,height:en}:Gt):[{toastId:A.id,height:en,position:A.position},...Et])},[Ae,A.title,A.description,z,A.id,A.jsx,A.action,A.cancel]);const qn=Re.useCallback(()=>{ve(!0),mr(or.current),z(nt=>nt.filter(Ct=>Ct.toastId!==A.id)),setTimeout(()=>{ie(A)},tA)},[A,ie,z,or]);Re.useEffect(()=>{if(A.promise&&an==="loading"||A.duration===1/0||A.type==="loading")return;let nt;return Y||B||vt?(()=>{if(Sr.current<ln.current){const Et=new Date().getTime()-ln.current;Bt.current=Bt.current-Et}Sr.current=new Date().getTime()})():(()=>{Bt.current!==1/0&&(ln.current=new Date().getTime(),nt=setTimeout(()=>{A.onAutoClose==null||A.onAutoClose.call(A,A),qn()},Bt.current))})(),()=>clearTimeout(nt)},[Y,B,A,an,vt,qn]),Re.useEffect(()=>{A.delete&&(qn(),A.onDismiss==null||A.onDismiss.call(A,A))},[qn,A.delete]);function Ys(){var nt;if(te?.loading){var Ct;return Re.createElement("div",{className:Cs(be?.loader,A==null||(Ct=A.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":an==="loading"},te.loading)}return Re.createElement(L4,{className:Cs(be?.loader,A==null||(nt=A.classNames)==null?void 0:nt.loader),visible:an==="loading"})}const ut=A.icon||te?.[an]||M4(an);var Vn,Ks;return Re.createElement("li",{tabIndex:0,ref:tt,className:Cs(ge,gr,be?.toast,A==null||(s=A.classNames)==null?void 0:s.toast,be?.default,be?.[an],A==null||(a=A.classNames)==null?void 0:a[an]),"data-sonner-toast":"","data-rich-colors":(Vn=A.richColors)!=null?Vn:fe,"data-styled":!(A.jsx||A.unstyled||D),"data-mounted":Ae,"data-promise":!!A.promise,"data-swiped":Dt,"data-removed":Ve,"data-visible":Le,"data-y-position":Wt,"data-x-position":_e,"data-index":U,"data-front":Br,"data-swiping":Ye,"data-dismissible":jr,"data-type":an,"data-invert":Mt,"data-swipe-out":at,"data-swipe-direction":Z,"data-expanded":!!(Y||G&&Ae),"data-testid":A.testId,style:{"--index":U,"--toasts-before":U,"--z-index":ne.length-U,"--offset":`${Ve?ht:or.current}px`,"--initial-height":G?"auto":`${ir}px`,...$,...A.style},onDragEnd:()=>{Oe(!1),pe(null),fs.current=null},onPointerDown:nt=>{nt.button!==2&&(Nr||!jr||(St.current=new Date,mr(or.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(Oe(!0),fs.current={x:nt.clientX,y:nt.clientY})))},onPointerUp:()=>{var nt,Ct,en;if(at||!jr)return;fs.current=null;const Et=Number(((nt=tt.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ar=Number(((Ct=tt.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gt=new Date().getTime()-((en=St.current)==null?void 0:en.getTime()),_t=Ce==="x"?Et:ar,hs=Math.abs(_t)/Gt;if(Math.abs(_t)>=eA||hs>.11){mr(or.current),A.onDismiss==null||A.onDismiss.call(A,A),ue(Ce==="x"?Et>0?"right":"left":ar>0?"down":"up"),qn(),Rt(!0);return}else{var Xt,Un;(Xt=tt.current)==null||Xt.style.setProperty("--swipe-amount-x","0px"),(Un=tt.current)==null||Un.style.setProperty("--swipe-amount-y","0px")}En(!1),Oe(!1),pe(null)},onPointerMove:nt=>{var Ct,en,Et;if(!fs.current||!jr||((Ct=window.getSelection())==null?void 0:Ct.toString().length)>0)return;const Gt=nt.clientY-fs.current.y,_t=nt.clientX-fs.current.x;var hs;const Xt=(hs=r.swipeDirections)!=null?hs:nA(De);!Ce&&(Math.abs(_t)>1||Math.abs(Gt)>1)&&pe(Math.abs(_t)>Math.abs(Gt)?"x":"y");let Un={x:0,y:0};const tn=wn=>1/(1.5+Math.abs(wn)/20);if(Ce==="y"){if(Xt.includes("top")||Xt.includes("bottom"))if(Xt.includes("top")&&Gt<0||Xt.includes("bottom")&&Gt>0)Un.y=Gt;else{const wn=Gt*tn(Gt);Un.y=Math.abs(wn)<Math.abs(Gt)?wn:Gt}}else if(Ce==="x"&&(Xt.includes("left")||Xt.includes("right")))if(Xt.includes("left")&&_t<0||Xt.includes("right")&&_t>0)Un.x=_t;else{const wn=_t*tn(_t);Un.x=Math.abs(wn)<Math.abs(_t)?wn:_t}(Math.abs(Un.x)>0||Math.abs(Un.y)>0)&&En(!0),(en=tt.current)==null||en.style.setProperty("--swipe-amount-x",`${Un.x}px`),(Et=tt.current)==null||Et.style.setProperty("--swipe-amount-y",`${Un.y}px`)}},Xs&&!A.jsx&&an!=="loading"?Re.createElement("button",{"aria-label":ee,"data-disabled":Nr,"data-close-button":!0,onClick:Nr||!jr?()=>{}:()=>{qn(),A.onDismiss==null||A.onDismiss.call(A,A)},className:Cs(be?.closeButton,A==null||(f=A.classNames)==null?void 0:f.closeButton)},(Ks=te?.close)!=null?Ks:U4):null,(an||A.icon||A.promise)&&A.icon!==null&&(te?.[an]!==null||A.icon)?Re.createElement("div",{"data-icon":"",className:Cs(be?.icon,A==null||(m=A.classNames)==null?void 0:m.icon)},A.promise||A.type==="loading"&&!A.icon?A.icon||Ys():null,A.type!=="loading"?ut:null):null,Re.createElement("div",{"data-content":"",className:Cs(be?.content,A==null||(g=A.classNames)==null?void 0:g.content)},Re.createElement("div",{"data-title":"",className:Cs(be?.title,A==null||(w=A.classNames)==null?void 0:w.title)},A.jsx?A.jsx:typeof A.title=="function"?A.title():A.title),A.description?Re.createElement("div",{"data-description":"",className:Cs(Pe,Gs,be?.description,A==null||(b=A.classNames)==null?void 0:b.description)},typeof A.description=="function"?A.description():A.description):null),Re.isValidElement(A.cancel)?A.cancel:A.cancel&&Nc(A.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:A.cancelButtonStyle||J,onClick:nt=>{Nc(A.cancel)&&jr&&(A.cancel.onClick==null||A.cancel.onClick.call(A.cancel,nt),qn())},className:Cs(be?.cancelButton,A==null||(N=A.classNames)==null?void 0:N.cancelButton)},A.cancel.label):null,Re.isValidElement(A.action)?A.action:A.action&&Nc(A.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:A.actionButtonStyle||K,onClick:nt=>{Nc(A.action)&&(A.action.onClick==null||A.action.onClick.call(A.action,nt),!nt.defaultPrevented&&qn())},className:Cs(be?.actionButton,A==null||(E=A.classNames)==null?void 0:E.actionButton)},A.action.label):null)};function ug(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function sA(r,s){const a={};return[r,s].forEach((f,m)=>{const g=m===1,w=g?"--mobile-offset":"--offset",b=g?$4:q4;function N(E){["top","right","bottom","left"].forEach(T=>{a[`${w}-${T}`]=typeof E=="number"?`${E}px`:E})}typeof f=="number"||typeof f=="string"?N(f):typeof f=="object"?["top","right","bottom","left"].forEach(E=>{f[E]===void 0?a[`${w}-${E}`]=b:a[`${w}-${E}`]=typeof f[E]=="number"?`${f[E]}px`:f[E]}):N(b)}),a}const iA=Re.forwardRef(function(s,a){const{id:f,invert:m,position:g="bottom-right",hotkey:w=["altKey","KeyT"],expand:b,closeButton:N,className:E,offset:T,mobileOffset:A,theme:D="light",richColors:B,duration:z,style:j,visibleToasts:V=Z4,toastOptions:U,dir:ne=ug(),gap:Y=J4,icons:ie,containerAriaLabel:fe="Notifications"}=s,[de,$]=Re.useState([]),J=Re.useMemo(()=>f?de.filter(Ae=>Ae.toasterId===f):de.filter(Ae=>!Ae.toasterId),[de,f]),K=Re.useMemo(()=>Array.from(new Set([g].concat(J.filter(Ae=>Ae.position).map(Ae=>Ae.position)))),[J,g]),[ge,Pe]=Re.useState([]),[Ee,De]=Re.useState(!1),[me,G]=Re.useState(!1),[be,te]=Re.useState(D!=="system"?D:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Re.useRef(null),Ce=w.join("+").replace(/Key/g,"").replace(/Digit/g,""),pe=Re.useRef(null),Z=Re.useRef(!1),ue=Re.useCallback(Ae=>{$(Ie=>{var Ve;return(Ve=Ie.find(ve=>ve.id===Ae.id))!=null&&Ve.delete||br.dismiss(Ae.id),Ie.filter(({id:ve})=>ve!==Ae.id)})},[]);return Re.useEffect(()=>br.subscribe(Ae=>{if(Ae.dismiss){requestAnimationFrame(()=>{$(Ie=>Ie.map(Ve=>Ve.id===Ae.id?{...Ve,delete:!0}:Ve))});return}setTimeout(()=>{Px.flushSync(()=>{$(Ie=>{const Ve=Ie.findIndex(ve=>ve.id===Ae.id);return Ve!==-1?[...Ie.slice(0,Ve),{...Ie[Ve],...Ae},...Ie.slice(Ve+1)]:[Ae,...Ie]})})})}),[de]),Re.useEffect(()=>{if(D!=="system"){te(D);return}if(D==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const Ae=window.matchMedia("(prefers-color-scheme: dark)");try{Ae.addEventListener("change",({matches:Ie})=>{te(Ie?"dark":"light")})}catch{Ae.addListener(({matches:Ve})=>{try{te(Ve?"dark":"light")}catch(ve){console.error(ve)}})}},[D]),Re.useEffect(()=>{de.length<=1&&De(!1)},[de]),Re.useEffect(()=>{const Ae=Ie=>{var Ve;if(w.every(Oe=>Ie[Oe]||Ie.code===Oe)){var Ye;De(!0),(Ye=ee.current)==null||Ye.focus()}Ie.code==="Escape"&&(document.activeElement===ee.current||(Ve=ee.current)!=null&&Ve.contains(document.activeElement))&&De(!1)};return document.addEventListener("keydown",Ae),()=>document.removeEventListener("keydown",Ae)},[w]),Re.useEffect(()=>{if(ee.current)return()=>{pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null,Z.current=!1)}},[ee.current]),Re.createElement("section",{ref:a,"aria-label":`${fe} ${Ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((Ae,Ie)=>{var Ve;const[ve,Ye]=Ae.split("-");return J.length?Re.createElement("ol",{key:Ae,dir:ne==="auto"?ug():ne,tabIndex:-1,ref:ee,className:E,"data-sonner-toaster":!0,"data-sonner-theme":be,"data-y-position":ve,"data-x-position":Ye,style:{"--front-toast-height":`${((Ve=ge[0])==null?void 0:Ve.height)||0}px`,"--width":`${Q4}px`,"--gap":`${Y}px`,...j,...sA(T,A)},onBlur:Oe=>{Z.current&&!Oe.currentTarget.contains(Oe.relatedTarget)&&(Z.current=!1,pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null))},onFocus:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,pe.current=Oe.relatedTarget)},onMouseEnter:()=>De(!0),onMouseMove:()=>De(!0),onMouseLeave:()=>{me||De(!1)},onDragEnd:()=>De(!1),onPointerDown:Oe=>{Oe.target instanceof HTMLElement&&Oe.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},J.filter(Oe=>!Oe.position&&Ie===0||Oe.position===Ae).map((Oe,at)=>{var Rt,Dt;return Re.createElement(rA,{key:Oe.id,icons:ie,index:at,toast:Oe,defaultRichColors:B,duration:(Rt=U?.duration)!=null?Rt:z,className:U?.className,descriptionClassName:U?.descriptionClassName,invert:m,visibleToasts:V,closeButton:(Dt=U?.closeButton)!=null?Dt:N,interacting:me,position:Ae,style:U?.style,unstyled:U?.unstyled,classNames:U?.classNames,cancelButtonStyle:U?.cancelButtonStyle,actionButtonStyle:U?.actionButtonStyle,closeButtonAriaLabel:U?.closeButtonAriaLabel,removeToast:ue,toasts:J.filter(En=>En.position==Oe.position),heights:ge.filter(En=>En.position==Oe.position),setHeights:Pe,expandByDefault:b,gap:Y,expanded:Ee,swipeDirections:s.swipeDirections})})):null}))}),oA=`
  .zoom-slider::-webkit-slider-thumb {
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #10b981;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  .zoom-slider::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #10b981;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    box-sizing: border-box;
  }
`;function aA(){const[r,s]=M.useState(!1),[a,f]=M.useState(!1),[m,g]=M.useState(0),[w,b]=M.useState(null),[N,E]=M.useState(1),[T,A]=M.useState(!1),D=M.useRef(null),B=M.useRef(!1),z=M.useRef(null);localStorage.getItem("usuario_id");const j=localStorage.getItem("token"),V=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",U=1,ne=4,Y=.5,ie=()=>({"Content-Type":"application/json",Authorization:`Bearer ${j}`}),fe=me=>{try{const G=me.getCapabilities(),be=G.zoom!==void 0;return console.log("Capacidades de la cmara:",G),be}catch{return console.log("No se pudieron verificar las capacidades de zoom"),!1}},de=async me=>{if(!z.current||!T){console.log("Zoom no soportado en este dispositivo"),ge(me);return}try{await z.current.applyConstraints({advanced:[{zoom:me}]}),E(me),console.log(`Zoom aplicado: ${me}x`)}catch(G){console.error("Error al aplicar zoom:",G),ge(me)}},$=async me=>{const G=parseFloat(me.target.value);T?await de(G):ge(G)},J=async()=>{const me=Math.min(N+Y,ne);T?await de(me):ge(me)},K=async()=>{const me=Math.max(N-Y,U);T?await de(me):ge(me)},ge=me=>{const G=document.querySelector("#qr-reader video");if(G){const be=me;G.style.transform=`scale(${be})`,G.style.transformOrigin="center center",G.style.width=`${100*be}%`,G.style.height=`${100*be}%`}E(me)},Pe=async()=>{try{s(!0);const me=new O4("qr-reader");D.current=me,await me.start({facingMode:"environment"},{fps:15,qrbox:{width:250,height:250},aspectRatio:1,videoConstraints:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}},async G=>{De(G)},G=>{}),setTimeout(async()=>{try{const G=document.querySelector("#qr-reader video");if(G&&G.srcObject){const te=G.srcObject.getVideoTracks()[0];z.current=te;const ee=fe(te);A(ee),ee?Ze.success("Cmara activa - Zoom disponible"):Ze.info("Cmara activa - Usando zoom digital")}}catch(G){console.log("No se pudo obtener el stream de video:",G)}},1e3),B.current=!0,b(!0),Ze.success("Cmara activa - Enfoca el QR dentro del recuadro")}catch(me){console.error("Error al iniciar cmara:",me),b(!1),s(!1),D.current=null,B.current=!1,z.current=null,me instanceof Error&&(me.name==="NotAllowedError"?Ze.error("Permiso de cmara denegado"):me.name==="NotFoundError"?Ze.error("No se encontr cmara trasera"):Ze.error("No se pudo acceder a la cmara"))}},Ee=async()=>{const me=document.querySelector("#qr-reader video");if(me&&(me.style.transform="none",me.style.width="100%",me.style.height="100%"),z.current&&(z.current.stop(),z.current=null),D.current&&B.current)try{await D.current.stop(),await D.current.clear(),B.current=!1}catch(G){console.log("Error al detener escner:",G),B.current=!1}D.current=null,s(!1),A(!1)},De=async me=>{if(console.log("QR escaneado:",me),!j){Ze.error("No ests autenticado. Inicia sesin nuevamente.");return}Ee();try{const G=await fetch(`${V}/validarQR`,{method:"POST",headers:ie(),body:JSON.stringify({codigo_qr:me})});if(console.log("Respuesta del servidor:",G),!G.ok){if(G.status===401){Ze.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${G.status}`)}const be=await G.json();console.log("Datos recibidos:",be);const te=be.puntos_obtenidos||0;g(te),f(!0),Ze.success(`${be.mensaje||"Escaneo exitoso"}! Ganaste ${te} ecopoints `)}catch(G){console.error("Error al procesar el QR:",G),g(0),Ze.error("Error al procesar el cdigo QR. Intenta nuevamente.")}setTimeout(()=>{f(!1)},3e3)};return M.useEffect(()=>()=>{Ee()},[]),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsx("style",{children:oA}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-4",children:y.jsx(zc,{className:"w-8 h-8 text-emerald-600"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Escanear QR"}),y.jsx("p",{className:"text-gray-500",children:"Escanea el cdigo QR del punto de reciclaje para ganar ecopoints"})]}),y.jsx(Lt,{className:"overflow-hidden border-2 border-gray-200",children:y.jsxs("div",{className:"relative aspect-square bg-gray-900",children:[!r&&!a&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx(L1,{className:"w-16 h-16 text-gray-400 mx-auto"}),y.jsx("p",{className:"text-gray-400",children:"Toca el botn para iniciar el escaneo"})]})}),y.jsx("div",{id:"qr-reader",className:`w-full h-full ${r?"":"hidden"}`}),r&&y.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-emerald-400 rounded-lg",children:y.jsx(Kn.div,{className:"absolute top-0 left-0 right-0 h-1 bg-emerald-400 rounded-full",animate:{top:["0%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})}),y.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:y.jsxs("div",{className:"text-center space-y-3",children:[y.jsx(Kn.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0},children:y.jsx(zc,{className:"w-16 h-16 text-emerald-400 mx-auto"})}),y.jsx("p",{className:"text-white font-medium",children:"Escaneando cdigo QR..."}),!T&&r&&y.jsx("p",{className:"text-yellow-300 text-sm",children:"Usando zoom digital"})]})})]}),y.jsx(Wp,{children:a&&y.jsx(Kn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-emerald-600 flex items-center justify-center z-20",children:y.jsxs("div",{className:"text-center text-white space-y-4",children:[y.jsx(Kn.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:y.jsx(Zg,{className:"w-20 h-20 mx-auto"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Escaneo exitoso!"}),y.jsx("p",{className:"text-emerald-100 mb-4",children:"Has ganado"}),y.jsxs(Kn.p,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"text-white text-5xl font-bold",children:["+",m]}),y.jsx("p",{className:"text-emerald-100 mt-2",children:"ecopoints"})]})]})})})]})}),r&&y.jsx(Lt,{className:"p-4 bg-blue-50 border-blue-200",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Control de Zoom ",!T&&"(Digital)"]}),y.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[N.toFixed(1),"x"]})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(pt,{size:"sm",onClick:K,disabled:N<=U,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:y.jsx(sv,{className:"w-4 h-4"})}),y.jsx("div",{className:"flex-1",children:y.jsx("input",{type:"range",min:U,max:ne,step:.1,value:N,onChange:$,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer zoom-slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(N-U)/(ne-U)*100}%, #e5e7eb ${(N-U)/(ne-U)*100}%, #e5e7eb 100%)`}})}),y.jsx(pt,{size:"sm",onClick:J,disabled:N>=ne,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:y.jsx(dv,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex justify-between text-xs text-blue-600",children:[y.jsxs("span",{children:[U,"x"]}),y.jsx("span",{className:"font-medium",children:T?"Zoom ptico":"Zoom digital"}),y.jsxs("span",{children:[ne,"x"]})]})]})}),y.jsx("div",{className:"space-y-3",children:r?y.jsxs(pt,{className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 text-lg font-semibold",onClick:Ee,children:[y.jsx($o,{className:"w-6 h-6 mr-3"}),"Detener escaneo"]}):y.jsxs(pt,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 text-lg font-semibold",onClick:Pe,disabled:a,children:[y.jsx(L1,{className:"w-6 h-6 mr-3"}),"Iniciar escaneo con cmara"]})}),y.jsx(Lt,{className:"p-4 bg-emerald-50 border-emerald-200",children:y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-emerald-900 font-semibold",children:"Consejos:"}),y.jsxs("ul",{className:"text-emerald-700 space-y-1 ml-4",children:[y.jsx("li",{children:" Usa la barra de zoom para acercar o alejar la imagen"}),y.jsx("li",{children:" Mantn el QR dentro del cuadro verde"}),y.jsx("li",{children:" Asegrate de tener buena iluminacin"}),y.jsx("li",{children:" El zoom digital funciona en todos los dispositivos"})]})]})})]})}function lA(){const r="https://ecopoints.hvd.lat/api",s=localStorage.getItem("usuario_id"),[a,f]=M.useState([]),[m,g]=M.useState(!0);return M.useEffect(()=>{if(!s)return;(async()=>{try{const b=await fetch(`${r}/obtenerHistorial?usuario_id=${s}`);if(!b.ok)throw new Error("Error al obtener historial");const N=await b.json();f(N)}catch(b){console.error("Error al cargar historial:",b)}finally{g(!1)}})()},[s]),m?y.jsx("div",{className:"text-center text-gray-500 mt-10",children:"Cargando historial..."}):y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Historial de actividad"}),a.length===0?y.jsx("p",{className:"text-gray-500",children:"No hay actividades registradas an."}):a.map(w=>y.jsx(Kn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:y.jsxs(Lt,{className:"p-4 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:w.type==="scan"?y.jsx(bi,{className:"w-5 h-5 text-emerald-600"}):y.jsx($a,{className:"w-5 h-5 text-orange-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900",children:w.description}),y.jsx("p",{className:"text-gray-500 text-sm",children:w.location})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:`${w.type==="scan"?"text-emerald-600":"text-orange-600"}`,children:[w.type==="scan"?"+":"-",w.points]}),y.jsx("p",{className:"text-gray-500 text-sm",children:new Date(w.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})},w.id))]})}var cA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_n=cA.reduce((r,s)=>{const a=qa(`Primitive.${s}`),f=M.forwardRef((m,g)=>{const{asChild:w,...b}=m,N=w?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(N,{...b,ref:g})});return f.displayName=`Primitive.${s}`,{...r,[s]:f}},{});function uA(r,s){r&&Mx.flushSync(()=>r.dispatchEvent(s))}var dA="Separator",dg="horizontal",fA=["horizontal","vertical"],Lx=M.forwardRef((r,s)=>{const{decorative:a,orientation:f=dg,...m}=r,g=hA(f)?f:dg,b=a?{role:"none"}:{"aria-orientation":g==="vertical"?g:void 0,role:"separator"};return y.jsx(_n.div,{"data-orientation":g,...b,...m,ref:s})});Lx.displayName=dA;function hA(r){return fA.includes(r)}var mA=Lx;function fr({className:r,orientation:s="horizontal",decorative:a=!0,...f}){return y.jsx(mA,{"data-slot":"separator-root",decorative:a,orientation:s,className:Fn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...f})}const gA=Gg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Fc({className:r,variant:s,asChild:a=!1,...f}){const m=a?Wg:"span";return y.jsx(m,{"data-slot":"badge",className:Fn(gA({variant:s}),r),...f})}function jn(r,s,{checkForDefaultPrevented:a=!0}={}){return function(m){if(r?.(m),a===!1||!m.defaultPrevented)return s?.(m)}}function pA(r,s){const a=M.createContext(s),f=g=>{const{children:w,...b}=g,N=M.useMemo(()=>b,Object.values(b));return y.jsx(a.Provider,{value:N,children:w})};f.displayName=r+"Provider";function m(g){const w=M.useContext(a);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${r}\``)}return[f,m]}function ll(r,s=[]){let a=[];function f(g,w){const b=M.createContext(w),N=a.length;a=[...a,w];const E=A=>{const{scope:D,children:B,...z}=A,j=D?.[r]?.[N]||b,V=M.useMemo(()=>z,Object.values(z));return y.jsx(j.Provider,{value:V,children:B})};E.displayName=g+"Provider";function T(A,D){const B=D?.[r]?.[N]||b,z=M.useContext(B);if(z)return z;if(w!==void 0)return w;throw new Error(`\`${A}\` must be used within \`${g}\``)}return[E,T]}const m=()=>{const g=a.map(w=>M.createContext(w));return function(b){const N=b?.[r]||g;return M.useMemo(()=>({[`__scope${r}`]:{...b,[r]:N}}),[b,N])}};return m.scopeName=r,[f,xA(m,...s)]}function xA(...r){const s=r[0];if(r.length===1)return s;const a=()=>{const f=r.map(m=>({useScope:m(),scopeName:m.scopeName}));return function(g){const w=f.reduce((b,{useScope:N,scopeName:E})=>{const A=N(g)[`__scope${E}`];return{...b,...A}},{});return M.useMemo(()=>({[`__scope${s.scopeName}`]:w}),[w])}};return a.scopeName=s.scopeName,a}var Yo=globalThis?.document?M.useLayoutEffect:()=>{},yA=Rg[" useInsertionEffect ".trim().toString()]||Yo;function nu({prop:r,defaultProp:s,onChange:a=()=>{},caller:f}){const[m,g,w]=wA({defaultProp:s,onChange:a}),b=r!==void 0,N=b?r:m;{const T=M.useRef(r!==void 0);M.useEffect(()=>{const A=T.current;A!==b&&console.warn(`${f} is changing from ${A?"controlled":"uncontrolled"} to ${b?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),T.current=b},[b,f])}const E=M.useCallback(T=>{if(b){const A=vA(T)?T(r):T;A!==r&&w.current?.(A)}else g(T)},[b,r,g,w]);return[N,E]}function wA({defaultProp:r,onChange:s}){const[a,f]=M.useState(r),m=M.useRef(a),g=M.useRef(s);return yA(()=>{g.current=s},[s]),M.useEffect(()=>{m.current!==a&&(g.current?.(a),m.current=a)},[a,m]),[a,f,g]}function vA(r){return typeof r=="function"}function CA(r){const s=M.useRef({value:r,previous:r});return M.useMemo(()=>(s.current.value!==r&&(s.current.previous=s.current.value,s.current.value=r),s.current.previous),[r])}function EA(r){const[s,a]=M.useState(void 0);return Yo(()=>{if(r){a({width:r.offsetWidth,height:r.offsetHeight});const f=new ResizeObserver(m=>{if(!Array.isArray(m)||!m.length)return;const g=m[0];let w,b;if("borderBoxSize"in g){const N=g.borderBoxSize,E=Array.isArray(N)?N[0]:N;w=E.inlineSize,b=E.blockSize}else w=r.offsetWidth,b=r.offsetHeight;a({width:w,height:b})});return f.observe(r,{box:"border-box"}),()=>f.unobserve(r)}else a(void 0)},[r]),s}var ru="Switch",[bA]=ll(ru),[AA,SA]=bA(ru),Bx=M.forwardRef((r,s)=>{const{__scopeSwitch:a,name:f,checked:m,defaultChecked:g,required:w,disabled:b,value:N="on",onCheckedChange:E,form:T,...A}=r,[D,B]=M.useState(null),z=Jr(s,Y=>B(Y)),j=M.useRef(!1),V=D?T||!!D.closest("form"):!0,[U,ne]=nu({prop:m,defaultProp:g??!1,onChange:E,caller:ru});return y.jsxs(AA,{scope:a,checked:U,disabled:b,children:[y.jsx(_n.button,{type:"button",role:"switch","aria-checked":U,"aria-required":w,"data-state":Ux(U),"data-disabled":b?"":void 0,disabled:b,value:N,...A,ref:z,onClick:jn(r.onClick,Y=>{ne(ie=>!ie),V&&(j.current=Y.isPropagationStopped(),j.current||Y.stopPropagation())})}),V&&y.jsx(Vx,{control:D,bubbles:!j.current,name:f,value:N,checked:U,required:w,disabled:b,form:T,style:{transform:"translateX(-100%)"}})]})});Bx.displayName=ru;var jx="SwitchThumb",Fx=M.forwardRef((r,s)=>{const{__scopeSwitch:a,...f}=r,m=SA(jx,a);return y.jsx(_n.span,{"data-state":Ux(m.checked),"data-disabled":m.disabled?"":void 0,...f,ref:s})});Fx.displayName=jx;var NA="SwitchBubbleInput",Vx=M.forwardRef(({__scopeSwitch:r,control:s,checked:a,bubbles:f=!0,...m},g)=>{const w=M.useRef(null),b=Jr(w,g),N=CA(a),E=EA(s);return M.useEffect(()=>{const T=w.current;if(!T)return;const A=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(A,"checked").set;if(N!==a&&B){const z=new Event("click",{bubbles:f});B.call(T,a),T.dispatchEvent(z)}},[N,a,f]),y.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...m,tabIndex:-1,ref:b,style:{...m.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vx.displayName=NA;function Ux(r){return r?"checked":"unchecked"}var TA=Bx,IA=Fx;function dr({className:r,...s}){return y.jsx(TA,{"data-slot":"switch",className:Fn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:y.jsx(IA,{"data-slot":"switch-thumb",className:Fn("bg-green-600 data-[state=checked]:bg-blue-700 dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Es({className:r,type:s,...a}){return y.jsx("input",{type:s,"data-slot":"input",className:Fn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...a})}var kA="Label",zx=M.forwardRef((r,s)=>y.jsx(_n.label,{...r,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(r.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));zx.displayName=kA;var RA=zx;function bs({className:r,...s}){return y.jsx(RA,{"data-slot":"label",className:Fn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}function _A({theme:r="light",onToggleTheme:s,onClose:a}){function f(m){a?.()}return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Configuracin"}),y.jsx(pt,{variant:"ghost",size:"icon",onClick:()=>f(),className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx($o,{className:"w-5 h-5"})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Apariencia"}),y.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[r==="dark"?y.jsx(ov,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):y.jsx(Cv,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Modo oscuro"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ahorra batera y reduce el brillo"})]})]}),y.jsx(dr,{checked:r==="dark",onCheckedChange:s})]})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Acerca de"}),y.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Versin 1.0.0"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" 2025 EcoPoints"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-4",children:"Una aplicacin para incentivar el reciclaje y cuidar nuestro planeta."})]})]})]})}function OA({onClose:r}){const[s,a]=M.useState({newRewards:!0,recyclingReminders:!0,achievements:!0,promotions:!1,weeklyReport:!0,emailNotifications:!0,pushNotifications:!0,soundEnabled:!0});return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notificaciones"}),y.jsx(pt,{variant:"ghost",size:"icon",onClick:r,className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx($o,{className:"w-5 h-5"})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Notificaciones Push"}),y.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Yg,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Activar notificaciones"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe alertas en tu dispositivo"})]})]}),y.jsx(dr,{checked:s.pushNotifications,onCheckedChange:f=>{a({...s,pushNotifications:f}),Ze.success(f?"Notificaciones activadas":"Notificaciones desactivadas")}})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Sonido"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Reproducir sonido al recibir notificaciones"})]}),y.jsx(dr,{checked:s.soundEnabled,onCheckedChange:f=>a({...s,soundEnabled:f})})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tipos de notificaciones"}),y.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Nuevas recompensas"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Cuando hay nuevos premios disponibles"})]}),y.jsx(dr,{checked:s.newRewards,onCheckedChange:f=>a({...s,newRewards:f})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recordatorios de reciclaje"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Notificaciones semanales para reciclar"})]}),y.jsx(dr,{checked:s.recyclingReminders,onCheckedChange:f=>a({...s,recyclingReminders:f})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Logros desbloqueados"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Celebra tus nuevos logros"})]}),y.jsx(dr,{checked:s.achievements,onCheckedChange:f=>a({...s,achievements:f})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Promociones"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ofertas especiales y descuentos"})]}),y.jsx(dr,{checked:s.promotions,onCheckedChange:f=>a({...s,promotions:f})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Reporte semanal"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Resumen de tu actividad ecolgica"})]}),y.jsx(dr,{checked:s.weeklyReport,onCheckedChange:f=>a({...s,weeklyReport:f})})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Correo electrnico"}),y.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Mo,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Notificaciones por email"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe resmenes por correo"})]})]}),y.jsx(dr,{checked:s.emailNotifications,onCheckedChange:f=>a({...s,emailNotifications:f})})]})})]}),y.jsx(Lt,{className:"p-4 bg-card-notas border-card-notas dark:bg-card-notas  dark:border-card-notas",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(Kg,{className:"w-5 h-5 text-card-notas dark:text-card-notas mt-0.5"}),y.jsx("div",{children:y.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"Las notificaciones te ayudan a mantener tus hbitos de reciclaje y no perderte ninguna recompensa."})})]})})]})}function DA({onClose:r}){const[s,a]=M.useState(!1),[f,m]=M.useState(!1),[g,w]=M.useState(!1),[b,N]=M.useState(!1),[E,T]=M.useState(!1),[A,D]=M.useState({current:"",new:"",confirm:""}),[B,z]=M.useState({twoFactorAuth:!1,profilePublic:!0,shareStats:!0,showInLeaderboard:!0,location:!0,dataCollection:!0}),j=async()=>{if(!A.current||!A.new||!A.confirm){Ze.error("Todos los campos son obligatorios");return}if(A.new!==A.confirm){Ze.error("Las contraseas no coinciden");return}if(A.new.length<6){Ze.error("La contrasea debe tener al menos 6 caracteres");return}if(A.new===A.current){Ze.error("La nueva contrasea debe ser diferente a la actual");return}T(!0);try{const U=localStorage.getItem("usuario_id")||"2",ne={usuario_id:parseInt(U),contrasena_actual:A.current,nueva_contrasena:A.new},Y=await fetch("https://ecopoints.hvd.lat/api/actualizarContrasena",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),ie=await Y.json();Y.ok?(Ze.success(ie.mensaje||"Contrasea actualizada exitosamente"),a(!1),D({current:"",new:"",confirm:""})):ie.error&&ie.error.includes("incorrecta")?Ze.error("La contrasea actual es incorrecta"):Ze.error(ie.error||"Error al cambiar la contrasea")}catch(U){console.error("Error al cambiar contrasea:",U),Ze.error("Error de conexin. Intenta nuevamente.")}finally{T(!1)}};function V(U){r?.()}return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Privacidad y Seguridad"}),y.jsx(pt,{variant:"ghost",size:"icon",onClick:()=>V(),className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx($o,{className:"w-5 h-5"})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Seguridad de cuenta"}),y.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>a(!s),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(cf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsx("span",{children:"Cambiar contrasea"})]}),y.jsx(zs,{className:"w-5 h-5"})]}),s&&y.jsxs("div",{className:"space-y-4 pt-4 border-t dark:border-gray-700",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"current-password",children:"Contrasea actual"}),y.jsxs("div",{className:"relative",children:[y.jsx(Mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx(Es,{id:"current-password",type:f?"text":"password",className:"pl-10 pr-10",value:A.current,onChange:U=>D({...A,current:U.target.value}),placeholder:"Ingresa tu contrasea actual",disabled:E}),y.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:f?y.jsx(Uo,{className:"w-5 h-5"}):y.jsx(zo,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"new-password",children:"Nueva contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Es,{id:"new-password",type:g?"text":"password",value:A.new,onChange:U=>D({...A,new:U.target.value}),placeholder:"Mnimo 6 caracteres",disabled:E}),y.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:g?y.jsx(Uo,{className:"w-5 h-5"}):y.jsx(zo,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"confirm-password",children:"Confirmar contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Es,{id:"confirm-password",type:b?"text":"password",value:A.confirm,onChange:U=>D({...A,confirm:U.target.value}),placeholder:"Repite tu nueva contrasea",disabled:E}),y.jsx("button",{type:"button",onClick:()=>N(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:b?y.jsx(Uo,{className:"w-5 h-5"}):y.jsx(zo,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(pt,{variant:"outline",onClick:()=>{a(!1),D({current:"",new:"",confirm:""})},className:"flex-1",disabled:E,children:"Cancelar"}),y.jsx(pt,{onClick:j,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:E?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Actualizando..."]}):"Actualizar contrasea"})]})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(wv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Autenticacin de dos factores"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Mayor seguridad para tu cuenta"})]})]}),y.jsx(dr,{checked:B.twoFactorAuth,onCheckedChange:U=>{z({...B,twoFactorAuth:U}),Ze.success(U?"2FA activado":"2FA desactivado")}})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Privacidad de datos"}),y.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Perfil pblico"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Otros usuarios pueden ver tu perfil"})]}),y.jsx(dr,{checked:B.profilePublic,onCheckedChange:U=>z({...B,profilePublic:U})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Compartir estadsticas"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Visible en el ranking global"})]}),y.jsx(dr,{checked:B.shareStats,onCheckedChange:U=>z({...B,shareStats:U})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Mostrar en leaderboard"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aparecer en tablas de posiciones"})]}),y.jsx(dr,{checked:B.showInLeaderboard,onCheckedChange:U=>z({...B,showInLeaderboard:U})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Ubicacin"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para encontrar estaciones cercanas"})]}),y.jsx(dr,{checked:B.location,onCheckedChange:U=>z({...B,location:U})})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recopilacin de datos"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para mejorar la experiencia"})]}),y.jsx(dr,{checked:B.dataCollection,onCheckedChange:U=>z({...B,dataCollection:U})})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Gestin de datos"}),y.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ze.success("Descargando tus datos..."),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ww,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsx("span",{children:"Descargar mis datos"})]}),y.jsx(zs,{className:"w-5 h-5"})]}),y.jsxs(pt,{variant:"outline",className:"w-full justify-between text-red-600 dark:text-red-600 dark:bg-gray-700 dark:border-gray-600",onClick:()=>Ze.error("Para eliminar tu cuenta, contacta a soporte"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Kg,{className:"w-5 h-5"}),y.jsx("span",{children:"Eliminar mi cuenta"})]}),y.jsx(zs,{className:"w-5 h-5"})]})]})]}),y.jsx(Lt,{className:"p-4 bg-card-notas border-card-notas dark:bg-card-notas  dark:border-card-notas",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx($g,{className:"w-5 h-5 text-card-notas dark:text-card-notas mt-0.5"}),y.jsx("div",{children:y.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"Tu privacidad es importante. Protegemos tus datos con encriptacin de grado bancario."})})]})})]})}function MA({onClose:r}){function s(a){r?.()}return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Ayuda y Soporte"}),y.jsx(pt,{variant:"ghost",size:"icon",onClick:()=>s(),className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx($o,{className:"w-5 h-5"})})]}),y.jsxs(Lt,{className:"p-4 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-950 dark:to-green-950 border-emerald-200 dark:border-emerald-800",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx(qg,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),y.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Necesitas ayuda?"})]}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Estamos aqu para ayudarte. Contctanos por cualquiera de estos medios."})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Contacto"}),y.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ze.success("Abriendo chat..."),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(nv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Chat en vivo"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Disponible 24/7"})]})]}),y.jsx(zs,{className:"w-5 h-5"})]}),y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="mailto:soporte@ecopoints.com"},children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Mo,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Email"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"soporte@ecopoints.com"})]})]}),y.jsx(B1,{className:"w-5 h-5"})]}),y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="tel:+51987654321"},children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(cv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Telfono"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"+51 987 654 321"})]})]}),y.jsx(B1,{className:"w-5 h-5"})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Preguntas frecuentes"}),y.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo gano puntos?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Escanea cdigos QR en nuestras estaciones de reciclaje. Cada escaneo te otorga entre 10 y 100 puntos segn el material reciclado."})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo canjeo mis puntos?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Ve a la seccin de Recompensas, elige el premio que desees y presiona "Canjear". Los cdigos se envan a tu email.'})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Dnde encuentro estaciones de reciclaje?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Actualmente tenemos estaciones en Miraflores, San Isidro, Surco y Barranco. Prximamente en ms distritos."})]}),y.jsx(fr,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Los puntos expiran?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No, tus EcoPoints nunca expiran. Acumlalos todo el tiempo que quieras."})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tutoriales"}),y.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ze.success("Abriendo tutorial..."),children:[y.jsx("span",{children:"Cmo escanear cdigos QR"}),y.jsx(zs,{className:"w-5 h-5"})]}),y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ze.success("Abriendo tutorial..."),children:[y.jsx("span",{children:"Gua de reciclaje correcto"}),y.jsx(zs,{className:"w-5 h-5"})]}),y.jsxs(pt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ze.success("Abriendo tutorial..."),children:[y.jsx("span",{children:"Cmo subir de nivel"}),y.jsx(zs,{className:"w-5 h-5"})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Reportar un problema"}),y.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Encontraste un error? Aydanos a mejorar reportndolo."}),y.jsxs(pt,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>Ze.success("Gracias por tu reporte. Nos pondremos en contacto pronto."),children:[y.jsx(mv,{className:"w-4 h-4 mr-2"}),"Enviar reporte"]})]})]}),y.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white mb-3",children:"Sguenos"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx(pt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://instagram.com","_blank"),children:"Instagram"}),y.jsx(pt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://facebook.com","_blank"),children:"Facebook"}),y.jsx(pt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://twitter.com","_blank"),children:"Twitter"}),y.jsx(pt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://tiktok.com","_blank"),children:"TikTok"})]})]})]})}function PA({onViewStation:r,onLogout:s,theme:a="light",onToggleTheme:f}){const m=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",g=localStorage.getItem("usuario_id"),w=localStorage.getItem("token"),[b,N]=M.useState(null),[E,T]=M.useState(null),[A,D]=M.useState([]),[B,z]=M.useState(!0),j=()=>({"Content-Type":"application/json",Authorization:`Bearer ${w}`}),V=async()=>{if(!(!g||!w))try{const me=await fetch(`${m}/obtenerPuntos?usuario_id=${g}`,{headers:j()});if(!me.ok){if(me.status===401){console.error("Token expirado en obtenerPuntos");return}throw new Error(`HTTP error! status: ${me.status}`)}const G=await me.json();T(Number(G.puntos)||0)}catch(me){console.error("Error al obtener puntos:",me),T(0)}},U=async()=>{if(!(!g||!w)){z(!0);try{const me=await fetch(`${m}/obtenerHistorial?usuario_id=${g}`,{headers:j()});if(!me.ok){if(me.status===401){console.error("Token expirado en obtenerHistorial");return}throw new Error(`HTTP error! status: ${me.status}`)}const G=await me.json();console.log("Historial recibido:",G);const be=G.map(te=>({id:te.id?.toString()||Math.random().toString(),type:te.tipo==="canje"?"redeem":"scan",description:te.descripcion||"Transaccin",location:te.ubicacion||"EcoPoints",points:te.puntos||0,date:te.fecha||new Date().toISOString()}));D(be)}catch(me){console.error("Error al obtener historial:",me),D([])}finally{z(!1)}}},ne=async()=>{if(!(!g||!w))try{const me=await fetch(`${m}/obtenerHistorialCanjes?usuario_id=${g}`,{headers:j()});if(me.ok){const G=await me.json();if(console.log("Historial de canjes:",G),Array.isArray(G)&&G.length>0){const be=G.map(te=>({id:`canje-${te.id}`,type:"redeem",description:`Canje: ${te.nombre_convenio||"Recompensa"}`,location:te.ubicacion||"EcoPoints",points:te.puntos_utilizados||0,date:te.fecha_canje||new Date().toISOString()}));D(te=>[...te,...be])}}}catch(me){console.error("Error al obtener historial de canjes:",me)}};M.useEffect(()=>{(async()=>{g&&w?await Promise.all([V(),U(),ne()]):(z(!1),T(0))})()},[g,w]);const ie=A.filter(me=>me.type==="scan").length,fe=[{nivel:1,escaneosRequeridos:0,nombre:"Eco Novice"},{nivel:2,escaneosRequeridos:10,nombre:"Eco Warrior"},{nivel:3,escaneosRequeridos:50,nombre:"Eco Hero"},{nivel:4,escaneosRequeridos:100,nombre:"Eco Champion"},{nivel:5,escaneosRequeridos:500,nombre:"Eco Master"},{nivel:6,escaneosRequeridos:1e3,nombre:"Eco Legend"},{nivel:7,escaneosRequeridos:5e3,nombre:"Eco Guardian"}],$=(me=>{for(let G=fe.length-1;G>=0;G--)if(me>=fe[G].escaneosRequeridos)return fe[G];return fe[0]})(ie),J=$.nivel,K=fe.find(me=>me.nivel===J+1),ge=K?K.escaneosRequeridos-ie:0,Ee=(()=>{if(!K)return 100;const me=fe.find(te=>te.nivel===J),G=ie-(me?.escaneosRequeridos||0),be=K.escaneosRequeridos-(me?.escaneosRequeridos||0);return G/be*100})(),De=()=>`Nivel ${J} - ${$.nombre}`;return b==="configuracion"?y.jsx(_A,{onClose:()=>N(null),theme:a,onToggleTheme:f}):b==="notificaciones"?y.jsx(OA,{onClose:()=>N(null)}):b==="privacidad"?y.jsx(DA,{onClose:()=>N(null)}):b==="ayuda"?y.jsx(MA,{onClose:()=>N(null)}):y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"relative inline-block mb-4",children:[y.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:y.jsx(Vf,{className:"w-12 h-12 text-white"})}),y.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-yellow-400 rounded-full border-4 border-white dark:border-gray-900 flex items-center justify-center",children:y.jsx(P1,{className:"w-4 h-4 text-yellow-800"})})]}),y.jsx("h1",{className:"text-gray-900 dark:text-white mb-1",children:localStorage.getItem("usuario_nombre")}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:localStorage.getItem("usuario_correo")}),y.jsx(Fc,{className:"mt-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-300",children:De()})]}),y.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center dark:bg-gray-800",children:[y.jsx(qd,{icon:y.jsx(bi,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),label:"Puntos",value:E!==null?E.toLocaleString():"...",type:"puntos"}),y.jsx(qd,{icon:y.jsx(bv,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),label:"Escaneos",value:B?"...":ie.toLocaleString(),type:"escaneos"}),y.jsx(qd,{icon:y.jsx(P1,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),label:"Nivel",value:J,type:"nivel"})]})}),y.jsx(Lt,{className:"p-4 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-950 dark:to-blue-950 dark:border-gray-700",children:y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Prximo nivel"}),y.jsx("p",{className:"text-gray-900 dark:text-white",children:B?"...":K?`${ge} escaneo${ge!==1?"s":""} ms`:"Nivel mximo alcanzado!"})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:y.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-2 rounded-full transition-all",style:{width:`${Ee}%`}})}),K&&y.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:["Hacia ",K.nombre]})]})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(fr,{className:"my-2"}),y.jsx(Ua,{icon:y.jsx(zc,{className:"w-5 h-5"}),label:"Puntos de recoleccin",onClick:()=>N("")}),y.jsx(Ua,{icon:y.jsx(pv,{className:"w-5 h-5"}),label:"Configuracin",onClick:()=>N("configuracion")}),y.jsx(Ua,{icon:y.jsx(Yg,{className:"w-5 h-5"}),label:"Notificaciones",onClick:()=>N("notificaciones")}),y.jsx(Ua,{icon:y.jsx($g,{className:"w-5 h-5"}),label:"Privacidad y seguridad",onClick:()=>N("privacidad")}),y.jsx(fr,{className:"my-4"}),y.jsx(Ua,{icon:y.jsx(qg,{className:"w-5 h-5"}),label:"Ayuda y soporte",onClick:()=>N("ayuda")}),y.jsx(LA,{icon:y.jsx(Jw,{className:"w-5 h-5"}),label:"Cerrar sesin",className:"text-red-600",onClick:s})]}),y.jsxs("div",{className:"text-center pt-4",children:[y.jsx("p",{className:"text-gray-400",children:"EcoPoints v1.0.0"}),y.jsx("p",{className:"text-gray-400",children:" 2025 EcoPoints. Todos los derechos reservados."})]})]})}function qd({icon:r,label:s,value:a,type:f}){const m={puntos:"bg-emerald-100 dark:bg-emerald-900",escaneos:"bg-blue-100 dark:bg-blue-900",nivel:"bg-purple-100 dark:bg-purple-900",info:"bg-blue-100 dark:bg-blue-900"},w=`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2 ${m[f]||m.info}`;return y.jsxs("div",{children:[y.jsx("div",{className:w,children:r}),y.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:a}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:s})]})}function Ua({icon:r,label:s,className:a="",onClick:f}){return y.jsxs(pt,{variant:"ghost",className:`w-full justify-between hover:bg-gray-50 dark:hover:bg-gray-800 dark:text-white ${a}`,onClick:f,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[r,y.jsx("span",{children:s})]}),y.jsx(zs,{className:"w-5 h-5"})]})}function LA({icon:r,label:s,className:a="",onClick:f}){return y.jsxs(pt,{variant:"ghost",className:`w-full justify-between hover:bg-gray-50 dark:hover:bg-gray-800 ${a}`,onClick:f,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[r,y.jsx("span",{children:s})]}),y.jsx(zs,{className:"w-5 h-5"})]})}function BA(r){const s=r+"CollectionProvider",[a,f]=ll(s),[m,g]=a(s,{collectionRef:{current:null},itemMap:new Map}),w=j=>{const{scope:V,children:U}=j,ne=Re.useRef(null),Y=Re.useRef(new Map).current;return y.jsx(m,{scope:V,itemMap:Y,collectionRef:ne,children:U})};w.displayName=s;const b=r+"CollectionSlot",N=qa(b),E=Re.forwardRef((j,V)=>{const{scope:U,children:ne}=j,Y=g(b,U),ie=Jr(V,Y.collectionRef);return y.jsx(N,{ref:ie,children:ne})});E.displayName=b;const T=r+"CollectionItemSlot",A="data-radix-collection-item",D=qa(T),B=Re.forwardRef((j,V)=>{const{scope:U,children:ne,...Y}=j,ie=Re.useRef(null),fe=Jr(V,ie),de=g(T,U);return Re.useEffect(()=>(de.itemMap.set(ie,{ref:ie,...Y}),()=>void de.itemMap.delete(ie))),y.jsx(D,{[A]:"",ref:fe,children:ne})});B.displayName=T;function z(j){const V=g(r+"CollectionConsumer",j);return Re.useCallback(()=>{const ne=V.collectionRef.current;if(!ne)return[];const Y=Array.from(ne.querySelectorAll(`[${A}]`));return Array.from(V.itemMap.values()).sort((de,$)=>Y.indexOf(de.ref.current)-Y.indexOf($.ref.current))},[V.collectionRef,V.itemMap])}return[{Provider:w,Slot:E,ItemSlot:B},z,f]}var jA=Rg[" useId ".trim().toString()]||(()=>{}),FA=0;function Za(r){const[s,a]=M.useState(jA());return Yo(()=>{a(f=>f??String(FA++))},[r]),r||(s?`radix-${s}`:"")}function Ko(r){const s=M.useRef(r);return M.useEffect(()=>{s.current=r}),M.useMemo(()=>(...a)=>s.current?.(...a),[])}var VA=M.createContext(void 0);function Hx(r){const s=M.useContext(VA);return r||s||"ltr"}var $d="rovingFocusGroup.onEntryFocus",UA={bubbles:!1,cancelable:!0},cl="RovingFocusGroup",[Df,Wx,zA]=BA(cl),[HA,Gx]=ll(cl,[zA]),[WA,GA]=HA(cl),Xx=M.forwardRef((r,s)=>y.jsx(Df.Provider,{scope:r.__scopeRovingFocusGroup,children:y.jsx(Df.Slot,{scope:r.__scopeRovingFocusGroup,children:y.jsx(XA,{...r,ref:s})})}));Xx.displayName=cl;var XA=M.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:a,orientation:f,loop:m=!1,dir:g,currentTabStopId:w,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:N,onEntryFocus:E,preventScrollOnEntryFocus:T=!1,...A}=r,D=M.useRef(null),B=Jr(s,D),z=Hx(g),[j,V]=nu({prop:w,defaultProp:b??null,onChange:N,caller:cl}),[U,ne]=M.useState(!1),Y=Ko(E),ie=Wx(a),fe=M.useRef(!1),[de,$]=M.useState(0);return M.useEffect(()=>{const J=D.current;if(J)return J.addEventListener($d,Y),()=>J.removeEventListener($d,Y)},[Y]),y.jsx(WA,{scope:a,orientation:f,dir:z,loop:m,currentTabStopId:j,onItemFocus:M.useCallback(J=>V(J),[V]),onItemShiftTab:M.useCallback(()=>ne(!0),[]),onFocusableItemAdd:M.useCallback(()=>$(J=>J+1),[]),onFocusableItemRemove:M.useCallback(()=>$(J=>J-1),[]),children:y.jsx(_n.div,{tabIndex:U||de===0?-1:0,"data-orientation":f,...A,ref:B,style:{outline:"none",...r.style},onMouseDown:jn(r.onMouseDown,()=>{fe.current=!0}),onFocus:jn(r.onFocus,J=>{const K=!fe.current;if(J.target===J.currentTarget&&K&&!U){const ge=new CustomEvent($d,UA);if(J.currentTarget.dispatchEvent(ge),!ge.defaultPrevented){const Pe=ie().filter(be=>be.focusable),Ee=Pe.find(be=>be.active),De=Pe.find(be=>be.id===j),G=[Ee,De,...Pe].filter(Boolean).map(be=>be.ref.current);Zx(G,T)}}fe.current=!1}),onBlur:jn(r.onBlur,()=>ne(!1))})})}),Yx="RovingFocusGroupItem",Kx=M.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:a,focusable:f=!0,active:m=!1,tabStopId:g,children:w,...b}=r,N=Za(),E=g||N,T=GA(Yx,a),A=T.currentTabStopId===E,D=Wx(a),{onFocusableItemAdd:B,onFocusableItemRemove:z,currentTabStopId:j}=T;return M.useEffect(()=>{if(f)return B(),()=>z()},[f,B,z]),y.jsx(Df.ItemSlot,{scope:a,id:E,focusable:f,active:m,children:y.jsx(_n.span,{tabIndex:A?0:-1,"data-orientation":T.orientation,...b,ref:s,onMouseDown:jn(r.onMouseDown,V=>{f?T.onItemFocus(E):V.preventDefault()}),onFocus:jn(r.onFocus,()=>T.onItemFocus(E)),onKeyDown:jn(r.onKeyDown,V=>{if(V.key==="Tab"&&V.shiftKey){T.onItemShiftTab();return}if(V.target!==V.currentTarget)return;const U=ZA(V,T.orientation,T.dir);if(U!==void 0){if(V.metaKey||V.ctrlKey||V.altKey||V.shiftKey)return;V.preventDefault();let Y=D().filter(ie=>ie.focusable).map(ie=>ie.ref.current);if(U==="last")Y.reverse();else if(U==="prev"||U==="next"){U==="prev"&&Y.reverse();const ie=Y.indexOf(V.currentTarget);Y=T.loop?qA(Y,ie+1):Y.slice(ie+1)}setTimeout(()=>Zx(Y))}}),children:typeof w=="function"?w({isCurrentTabStop:A,hasTabStop:j!=null}):w})})});Kx.displayName=Yx;var YA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KA(r,s){return s!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function ZA(r,s,a){const f=KA(r.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(f))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(f)))return YA[f]}function Zx(r,s=!1){const a=document.activeElement;for(const f of r)if(f===a||(f.focus({preventScroll:s}),document.activeElement!==a))return}function qA(r,s){return r.map((a,f)=>r[(s+f)%r.length])}var $A=Xx,QA=Kx;function JA(r,s){return M.useReducer((a,f)=>s[a][f]??a,r)}var ul=r=>{const{present:s,children:a}=r,f=e8(s),m=typeof a=="function"?a({present:f.isPresent}):M.Children.only(a),g=Jr(f.ref,t8(m));return typeof a=="function"||f.isPresent?M.cloneElement(m,{ref:g}):null};ul.displayName="Presence";function e8(r){const[s,a]=M.useState(),f=M.useRef(null),m=M.useRef(r),g=M.useRef("none"),w=r?"mounted":"unmounted",[b,N]=JA(w,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const E=Tc(f.current);g.current=b==="mounted"?E:"none"},[b]),Yo(()=>{const E=f.current,T=m.current;if(T!==r){const D=g.current,B=Tc(E);r?N("MOUNT"):B==="none"||E?.display==="none"?N("UNMOUNT"):N(T&&D!==B?"ANIMATION_OUT":"UNMOUNT"),m.current=r}},[r,N]),Yo(()=>{if(s){let E;const T=s.ownerDocument.defaultView??window,A=B=>{const j=Tc(f.current).includes(CSS.escape(B.animationName));if(B.target===s&&j&&(N("ANIMATION_END"),!m.current)){const V=s.style.animationFillMode;s.style.animationFillMode="forwards",E=T.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=V)})}},D=B=>{B.target===s&&(g.current=Tc(f.current))};return s.addEventListener("animationstart",D),s.addEventListener("animationcancel",A),s.addEventListener("animationend",A),()=>{T.clearTimeout(E),s.removeEventListener("animationstart",D),s.removeEventListener("animationcancel",A),s.removeEventListener("animationend",A)}}else N("ANIMATION_END")},[s,N]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:M.useCallback(E=>{f.current=E?getComputedStyle(E):null,a(E)},[])}}function Tc(r){return r?.animationName||"none"}function t8(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}var su="Tabs",[n8]=ll(su,[Gx]),qx=Gx(),[r8,E0]=n8(su),$x=M.forwardRef((r,s)=>{const{__scopeTabs:a,value:f,onValueChange:m,defaultValue:g,orientation:w="horizontal",dir:b,activationMode:N="automatic",...E}=r,T=Hx(b),[A,D]=nu({prop:f,onChange:m,defaultProp:g??"",caller:su});return y.jsx(r8,{scope:a,baseId:Za(),value:A,onValueChange:D,orientation:w,dir:T,activationMode:N,children:y.jsx(_n.div,{dir:T,"data-orientation":w,...E,ref:s})})});$x.displayName=su;var Qx="TabsList",Jx=M.forwardRef((r,s)=>{const{__scopeTabs:a,loop:f=!0,...m}=r,g=E0(Qx,a),w=qx(a);return y.jsx($A,{asChild:!0,...w,orientation:g.orientation,dir:g.dir,loop:f,children:y.jsx(_n.div,{role:"tablist","aria-orientation":g.orientation,...m,ref:s})})});Jx.displayName=Qx;var e2="TabsTrigger",t2=M.forwardRef((r,s)=>{const{__scopeTabs:a,value:f,disabled:m=!1,...g}=r,w=E0(e2,a),b=qx(a),N=s2(w.baseId,f),E=i2(w.baseId,f),T=f===w.value;return y.jsx(QA,{asChild:!0,...b,focusable:!m,active:T,children:y.jsx(_n.button,{type:"button",role:"tab","aria-selected":T,"aria-controls":E,"data-state":T?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:N,...g,ref:s,onMouseDown:jn(r.onMouseDown,A=>{!m&&A.button===0&&A.ctrlKey===!1?w.onValueChange(f):A.preventDefault()}),onKeyDown:jn(r.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&w.onValueChange(f)}),onFocus:jn(r.onFocus,()=>{const A=w.activationMode!=="manual";!T&&!m&&A&&w.onValueChange(f)})})})});t2.displayName=e2;var n2="TabsContent",r2=M.forwardRef((r,s)=>{const{__scopeTabs:a,value:f,forceMount:m,children:g,...w}=r,b=E0(n2,a),N=s2(b.baseId,f),E=i2(b.baseId,f),T=f===b.value,A=M.useRef(T);return M.useEffect(()=>{const D=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(D)},[]),y.jsx(ul,{present:m||T,children:({present:D})=>y.jsx(_n.div,{"data-state":T?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":N,hidden:!D,id:E,tabIndex:0,...w,ref:s,style:{...r.style,animationDuration:A.current?"0s":void 0},children:D&&g})})});r2.displayName=n2;function s2(r,s){return`${r}-trigger-${s}`}function i2(r,s){return`${r}-content-${s}`}var s8=$x,i8=Jx,o8=t2,a8=r2;function l8({className:r,...s}){return y.jsx(s8,{"data-slot":"tabs",className:Fn("flex flex-col gap-2",r),...s})}function c8({className:r,...s}){return y.jsx(i8,{"data-slot":"tabs-list",className:Fn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...s})}function Ic({className:r,...s}){return y.jsx(o8,{"data-slot":"tabs-trigger",className:Fn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s})}function kc({className:r,...s}){return y.jsx(a8,{"data-slot":"tabs-content",className:Fn("flex-1 outline-none",r),...s})}function u8(r,s=globalThis?.document){const a=Ko(r);M.useEffect(()=>{const f=m=>{m.key==="Escape"&&a(m)};return s.addEventListener("keydown",f,{capture:!0}),()=>s.removeEventListener("keydown",f,{capture:!0})},[a,s])}var d8="DismissableLayer",Mf="dismissableLayer.update",f8="dismissableLayer.pointerDownOutside",h8="dismissableLayer.focusOutside",fg,o2=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),a2=M.forwardRef((r,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:w,onDismiss:b,...N}=r,E=M.useContext(o2),[T,A]=M.useState(null),D=T?.ownerDocument??globalThis?.document,[,B]=M.useState({}),z=Jr(s,$=>A($)),j=Array.from(E.layers),[V]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),U=j.indexOf(V),ne=T?j.indexOf(T):-1,Y=E.layersWithOutsidePointerEventsDisabled.size>0,ie=ne>=U,fe=p8($=>{const J=$.target,K=[...E.branches].some(ge=>ge.contains(J));!ie||K||(m?.($),w?.($),$.defaultPrevented||b?.())},D),de=x8($=>{const J=$.target;[...E.branches].some(ge=>ge.contains(J))||(g?.($),w?.($),$.defaultPrevented||b?.())},D);return u8($=>{ne===E.layers.size-1&&(f?.($),!$.defaultPrevented&&b&&($.preventDefault(),b()))},D),M.useEffect(()=>{if(T)return a&&(E.layersWithOutsidePointerEventsDisabled.size===0&&(fg=D.body.style.pointerEvents,D.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(T)),E.layers.add(T),hg(),()=>{a&&E.layersWithOutsidePointerEventsDisabled.size===1&&(D.body.style.pointerEvents=fg)}},[T,D,a,E]),M.useEffect(()=>()=>{T&&(E.layers.delete(T),E.layersWithOutsidePointerEventsDisabled.delete(T),hg())},[T,E]),M.useEffect(()=>{const $=()=>B({});return document.addEventListener(Mf,$),()=>document.removeEventListener(Mf,$)},[]),y.jsx(_n.div,{...N,ref:z,style:{pointerEvents:Y?ie?"auto":"none":void 0,...r.style},onFocusCapture:jn(r.onFocusCapture,de.onFocusCapture),onBlurCapture:jn(r.onBlurCapture,de.onBlurCapture),onPointerDownCapture:jn(r.onPointerDownCapture,fe.onPointerDownCapture)})});a2.displayName=d8;var m8="DismissableLayerBranch",g8=M.forwardRef((r,s)=>{const a=M.useContext(o2),f=M.useRef(null),m=Jr(s,f);return M.useEffect(()=>{const g=f.current;if(g)return a.branches.add(g),()=>{a.branches.delete(g)}},[a.branches]),y.jsx(_n.div,{...r,ref:m})});g8.displayName=m8;function p8(r,s=globalThis?.document){const a=Ko(r),f=M.useRef(!1),m=M.useRef(()=>{});return M.useEffect(()=>{const g=b=>{if(b.target&&!f.current){let N=function(){l2(f8,a,E,{discrete:!0})};const E={originalEvent:b};b.pointerType==="touch"?(s.removeEventListener("click",m.current),m.current=N,s.addEventListener("click",m.current,{once:!0})):N()}else s.removeEventListener("click",m.current);f.current=!1},w=window.setTimeout(()=>{s.addEventListener("pointerdown",g)},0);return()=>{window.clearTimeout(w),s.removeEventListener("pointerdown",g),s.removeEventListener("click",m.current)}},[s,a]),{onPointerDownCapture:()=>f.current=!0}}function x8(r,s=globalThis?.document){const a=Ko(r),f=M.useRef(!1);return M.useEffect(()=>{const m=g=>{g.target&&!f.current&&l2(h8,a,{originalEvent:g},{discrete:!1})};return s.addEventListener("focusin",m),()=>s.removeEventListener("focusin",m)},[s,a]),{onFocusCapture:()=>f.current=!0,onBlurCapture:()=>f.current=!1}}function hg(){const r=new CustomEvent(Mf);document.dispatchEvent(r)}function l2(r,s,a,{discrete:f}){const m=a.originalEvent.target,g=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:a});s&&m.addEventListener(r,s,{once:!0}),f?uA(m,g):m.dispatchEvent(g)}var Qd="focusScope.autoFocusOnMount",Jd="focusScope.autoFocusOnUnmount",mg={bubbles:!1,cancelable:!0},y8="FocusScope",c2=M.forwardRef((r,s)=>{const{loop:a=!1,trapped:f=!1,onMountAutoFocus:m,onUnmountAutoFocus:g,...w}=r,[b,N]=M.useState(null),E=Ko(m),T=Ko(g),A=M.useRef(null),D=Jr(s,j=>N(j)),B=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(f){let j=function(Y){if(B.paused||!b)return;const ie=Y.target;b.contains(ie)?A.current=ie:Ei(A.current,{select:!0})},V=function(Y){if(B.paused||!b)return;const ie=Y.relatedTarget;ie!==null&&(b.contains(ie)||Ei(A.current,{select:!0}))},U=function(Y){if(document.activeElement===document.body)for(const fe of Y)fe.removedNodes.length>0&&Ei(b)};document.addEventListener("focusin",j),document.addEventListener("focusout",V);const ne=new MutationObserver(U);return b&&ne.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",V),ne.disconnect()}}},[f,b,B.paused]),M.useEffect(()=>{if(b){pg.add(B);const j=document.activeElement;if(!b.contains(j)){const U=new CustomEvent(Qd,mg);b.addEventListener(Qd,E),b.dispatchEvent(U),U.defaultPrevented||(w8(A8(u2(b)),{select:!0}),document.activeElement===j&&Ei(b))}return()=>{b.removeEventListener(Qd,E),setTimeout(()=>{const U=new CustomEvent(Jd,mg);b.addEventListener(Jd,T),b.dispatchEvent(U),U.defaultPrevented||Ei(j??document.body,{select:!0}),b.removeEventListener(Jd,T),pg.remove(B)},0)}}},[b,E,T,B]);const z=M.useCallback(j=>{if(!a&&!f||B.paused)return;const V=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,U=document.activeElement;if(V&&U){const ne=j.currentTarget,[Y,ie]=v8(ne);Y&&ie?!j.shiftKey&&U===ie?(j.preventDefault(),a&&Ei(Y,{select:!0})):j.shiftKey&&U===Y&&(j.preventDefault(),a&&Ei(ie,{select:!0})):U===ne&&j.preventDefault()}},[a,f,B.paused]);return y.jsx(_n.div,{tabIndex:-1,...w,ref:D,onKeyDown:z})});c2.displayName=y8;function w8(r,{select:s=!1}={}){const a=document.activeElement;for(const f of r)if(Ei(f,{select:s}),document.activeElement!==a)return}function v8(r){const s=u2(r),a=gg(s,r),f=gg(s.reverse(),r);return[a,f]}function u2(r){const s=[],a=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:f=>{const m=f.tagName==="INPUT"&&f.type==="hidden";return f.disabled||f.hidden||m?NodeFilter.FILTER_SKIP:f.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function gg(r,s){for(const a of r)if(!C8(a,{upTo:s}))return a}function C8(r,{upTo:s}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(s!==void 0&&r===s)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function E8(r){return r instanceof HTMLInputElement&&"select"in r}function Ei(r,{select:s=!1}={}){if(r&&r.focus){const a=document.activeElement;r.focus({preventScroll:!0}),r!==a&&E8(r)&&s&&r.select()}}var pg=b8();function b8(){let r=[];return{add(s){const a=r[0];s!==a&&a?.pause(),r=xg(r,s),r.unshift(s)},remove(s){r=xg(r,s),r[0]?.resume()}}}function xg(r,s){const a=[...r],f=a.indexOf(s);return f!==-1&&a.splice(f,1),a}function A8(r){return r.filter(s=>s.tagName!=="A")}var S8="Portal",d2=M.forwardRef((r,s)=>{const{container:a,...f}=r,[m,g]=M.useState(!1);Yo(()=>g(!0),[]);const w=a||m&&globalThis?.document?.body;return w?Px.createPortal(y.jsx(_n.div,{...f,ref:s}),w):null});d2.displayName=S8;var ef=0;function N8(){M.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??yg()),document.body.insertAdjacentElement("beforeend",r[1]??yg()),ef++,()=>{ef===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),ef--}},[])}function yg(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var As=function(){return As=Object.assign||function(s){for(var a,f=1,m=arguments.length;f<m;f++){a=arguments[f];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(s[g]=a[g])}return s},As.apply(this,arguments)};function f2(r,s){var a={};for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&s.indexOf(f)<0&&(a[f]=r[f]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,f=Object.getOwnPropertySymbols(r);m<f.length;m++)s.indexOf(f[m])<0&&Object.prototype.propertyIsEnumerable.call(r,f[m])&&(a[f[m]]=r[f[m]]);return a}function T8(r,s,a){if(a||arguments.length===2)for(var f=0,m=s.length,g;f<m;f++)(g||!(f in s))&&(g||(g=Array.prototype.slice.call(s,0,f)),g[f]=s[f]);return r.concat(g||Array.prototype.slice.call(s))}var Vc="right-scroll-bar-position",Uc="width-before-scroll-bar",I8="with-scroll-bars-hidden",k8="--removed-body-scroll-bar-size";function tf(r,s){return typeof r=="function"?r(s):r&&(r.current=s),r}function R8(r,s){var a=M.useState(function(){return{value:r,callback:s,facade:{get current(){return a.value},set current(f){var m=a.value;m!==f&&(a.value=f,a.callback(f,m))}}}})[0];return a.callback=s,a.facade}var _8=typeof window<"u"?M.useLayoutEffect:M.useEffect,wg=new WeakMap;function O8(r,s){var a=R8(null,function(f){return r.forEach(function(m){return tf(m,f)})});return _8(function(){var f=wg.get(a);if(f){var m=new Set(f),g=new Set(r),w=a.current;m.forEach(function(b){g.has(b)||tf(b,null)}),g.forEach(function(b){m.has(b)||tf(b,w)})}wg.set(a,r)},[r]),a}function D8(r){return r}function M8(r,s){s===void 0&&(s=D8);var a=[],f=!1,m={read:function(){if(f)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:r},useMedium:function(g){var w=s(g,f);return a.push(w),function(){a=a.filter(function(b){return b!==w})}},assignSyncMedium:function(g){for(f=!0;a.length;){var w=a;a=[],w.forEach(g)}a={push:function(b){return g(b)},filter:function(){return a}}},assignMedium:function(g){f=!0;var w=[];if(a.length){var b=a;a=[],b.forEach(g),w=a}var N=function(){var T=w;w=[],T.forEach(g)},E=function(){return Promise.resolve().then(N)};E(),a={push:function(T){w.push(T),E()},filter:function(T){return w=w.filter(T),a}}}};return m}function P8(r){r===void 0&&(r={});var s=M8(null);return s.options=As({async:!0,ssr:!1},r),s}var h2=function(r){var s=r.sideCar,a=f2(r,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var f=s.read();if(!f)throw new Error("Sidecar medium not found");return M.createElement(f,As({},a))};h2.isSideCarExport=!0;function L8(r,s){return r.useMedium(s),h2}var m2=P8(),nf=function(){},iu=M.forwardRef(function(r,s){var a=M.useRef(null),f=M.useState({onScrollCapture:nf,onWheelCapture:nf,onTouchMoveCapture:nf}),m=f[0],g=f[1],w=r.forwardProps,b=r.children,N=r.className,E=r.removeScrollBar,T=r.enabled,A=r.shards,D=r.sideCar,B=r.noRelative,z=r.noIsolation,j=r.inert,V=r.allowPinchZoom,U=r.as,ne=U===void 0?"div":U,Y=r.gapMode,ie=f2(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),fe=D,de=O8([a,s]),$=As(As({},ie),m);return M.createElement(M.Fragment,null,T&&M.createElement(fe,{sideCar:m2,removeScrollBar:E,shards:A,noRelative:B,noIsolation:z,inert:j,setCallbacks:g,allowPinchZoom:!!V,lockRef:a,gapMode:Y}),w?M.cloneElement(M.Children.only(b),As(As({},$),{ref:de})):M.createElement(ne,As({},$,{className:N,ref:de}),b))});iu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};iu.classNames={fullWidth:Uc,zeroRight:Vc};var B8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j8(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var s=B8();return s&&r.setAttribute("nonce",s),r}function F8(r,s){r.styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s))}function V8(r){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(r)}var U8=function(){var r=0,s=null;return{add:function(a){r==0&&(s=j8())&&(F8(s,a),V8(s)),r++},remove:function(){r--,!r&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},z8=function(){var r=U8();return function(s,a){M.useEffect(function(){return r.add(s),function(){r.remove()}},[s&&a])}},g2=function(){var r=z8(),s=function(a){var f=a.styles,m=a.dynamic;return r(f,m),null};return s},H8={left:0,top:0,right:0,gap:0},rf=function(r){return parseInt(r||"",10)||0},W8=function(r){var s=window.getComputedStyle(document.body),a=s[r==="padding"?"paddingLeft":"marginLeft"],f=s[r==="padding"?"paddingTop":"marginTop"],m=s[r==="padding"?"paddingRight":"marginRight"];return[rf(a),rf(f),rf(m)]},G8=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return H8;var s=W8(r),a=document.documentElement.clientWidth,f=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,f-a+s[2]-s[0])}},X8=g2(),Wo="data-scroll-locked",Y8=function(r,s,a,f){var m=r.left,g=r.top,w=r.right,b=r.gap;return a===void 0&&(a="margin"),`
  .`.concat(I8,` {
   overflow: hidden `).concat(f,`;
   padding-right: `).concat(b,"px ").concat(f,`;
  }
  body[`).concat(Wo,`] {
    overflow: hidden `).concat(f,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(f,";"),a==="margin"&&`
    padding-left: `.concat(m,`px;
    padding-top: `).concat(g,`px;
    padding-right: `).concat(w,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(b,"px ").concat(f,`;
    `),a==="padding"&&"padding-right: ".concat(b,"px ").concat(f,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vc,` {
    right: `).concat(b,"px ").concat(f,`;
  }
  
  .`).concat(Uc,` {
    margin-right: `).concat(b,"px ").concat(f,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    right: 0 `).concat(f,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    margin-right: 0 `).concat(f,`;
  }
  
  body[`).concat(Wo,`] {
    `).concat(k8,": ").concat(b,`px;
  }
`)},vg=function(){var r=parseInt(document.body.getAttribute(Wo)||"0",10);return isFinite(r)?r:0},K8=function(){M.useEffect(function(){return document.body.setAttribute(Wo,(vg()+1).toString()),function(){var r=vg()-1;r<=0?document.body.removeAttribute(Wo):document.body.setAttribute(Wo,r.toString())}},[])},Z8=function(r){var s=r.noRelative,a=r.noImportant,f=r.gapMode,m=f===void 0?"margin":f;K8();var g=M.useMemo(function(){return G8(m)},[m]);return M.createElement(X8,{styles:Y8(g,!s,m,a?"":"!important")})},Pf=!1;if(typeof window<"u")try{var Rc=Object.defineProperty({},"passive",{get:function(){return Pf=!0,!0}});window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{Pf=!1}var _o=Pf?{passive:!1}:!1,q8=function(r){return r.tagName==="TEXTAREA"},p2=function(r,s){if(!(r instanceof Element))return!1;var a=window.getComputedStyle(r);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!q8(r)&&a[s]==="visible")},$8=function(r){return p2(r,"overflowY")},Q8=function(r){return p2(r,"overflowX")},Cg=function(r,s){var a=s.ownerDocument,f=s;do{typeof ShadowRoot<"u"&&f instanceof ShadowRoot&&(f=f.host);var m=x2(r,f);if(m){var g=y2(r,f),w=g[1],b=g[2];if(w>b)return!0}f=f.parentNode}while(f&&f!==a.body);return!1},J8=function(r){var s=r.scrollTop,a=r.scrollHeight,f=r.clientHeight;return[s,a,f]},eS=function(r){var s=r.scrollLeft,a=r.scrollWidth,f=r.clientWidth;return[s,a,f]},x2=function(r,s){return r==="v"?$8(s):Q8(s)},y2=function(r,s){return r==="v"?J8(s):eS(s)},tS=function(r,s){return r==="h"&&s==="rtl"?-1:1},nS=function(r,s,a,f,m){var g=tS(r,window.getComputedStyle(s).direction),w=g*f,b=a.target,N=s.contains(b),E=!1,T=w>0,A=0,D=0;do{if(!b)break;var B=y2(r,b),z=B[0],j=B[1],V=B[2],U=j-V-g*z;(z||U)&&x2(r,b)&&(A+=U,D+=z);var ne=b.parentNode;b=ne&&ne.nodeType===Node.DOCUMENT_FRAGMENT_NODE?ne.host:ne}while(!N&&b!==document.body||N&&(s.contains(b)||s===b));return(T&&Math.abs(A)<1||!T&&Math.abs(D)<1)&&(E=!0),E},_c=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Eg=function(r){return[r.deltaX,r.deltaY]},bg=function(r){return r&&"current"in r?r.current:r},rS=function(r,s){return r[0]===s[0]&&r[1]===s[1]},sS=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},iS=0,Oo=[];function oS(r){var s=M.useRef([]),a=M.useRef([0,0]),f=M.useRef(),m=M.useState(iS++)[0],g=M.useState(g2)[0],w=M.useRef(r);M.useEffect(function(){w.current=r},[r]),M.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(m));var j=T8([r.lockRef.current],(r.shards||[]).map(bg),!0).filter(Boolean);return j.forEach(function(V){return V.classList.add("allow-interactivity-".concat(m))}),function(){document.body.classList.remove("block-interactivity-".concat(m)),j.forEach(function(V){return V.classList.remove("allow-interactivity-".concat(m))})}}},[r.inert,r.lockRef.current,r.shards]);var b=M.useCallback(function(j,V){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!w.current.allowPinchZoom;var U=_c(j),ne=a.current,Y="deltaX"in j?j.deltaX:ne[0]-U[0],ie="deltaY"in j?j.deltaY:ne[1]-U[1],fe,de=j.target,$=Math.abs(Y)>Math.abs(ie)?"h":"v";if("touches"in j&&$==="h"&&de.type==="range")return!1;var J=Cg($,de);if(!J)return!0;if(J?fe=$:(fe=$==="v"?"h":"v",J=Cg($,de)),!J)return!1;if(!f.current&&"changedTouches"in j&&(Y||ie)&&(f.current=fe),!fe)return!0;var K=f.current||fe;return nS(K,V,j,K==="h"?Y:ie)},[]),N=M.useCallback(function(j){var V=j;if(!(!Oo.length||Oo[Oo.length-1]!==g)){var U="deltaY"in V?Eg(V):_c(V),ne=s.current.filter(function(fe){return fe.name===V.type&&(fe.target===V.target||V.target===fe.shadowParent)&&rS(fe.delta,U)})[0];if(ne&&ne.should){V.cancelable&&V.preventDefault();return}if(!ne){var Y=(w.current.shards||[]).map(bg).filter(Boolean).filter(function(fe){return fe.contains(V.target)}),ie=Y.length>0?b(V,Y[0]):!w.current.noIsolation;ie&&V.cancelable&&V.preventDefault()}}},[]),E=M.useCallback(function(j,V,U,ne){var Y={name:j,delta:V,target:U,should:ne,shadowParent:aS(U)};s.current.push(Y),setTimeout(function(){s.current=s.current.filter(function(ie){return ie!==Y})},1)},[]),T=M.useCallback(function(j){a.current=_c(j),f.current=void 0},[]),A=M.useCallback(function(j){E(j.type,Eg(j),j.target,b(j,r.lockRef.current))},[]),D=M.useCallback(function(j){E(j.type,_c(j),j.target,b(j,r.lockRef.current))},[]);M.useEffect(function(){return Oo.push(g),r.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:D}),document.addEventListener("wheel",N,_o),document.addEventListener("touchmove",N,_o),document.addEventListener("touchstart",T,_o),function(){Oo=Oo.filter(function(j){return j!==g}),document.removeEventListener("wheel",N,_o),document.removeEventListener("touchmove",N,_o),document.removeEventListener("touchstart",T,_o)}},[]);var B=r.removeScrollBar,z=r.inert;return M.createElement(M.Fragment,null,z?M.createElement(g,{styles:sS(m)}):null,B?M.createElement(Z8,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function aS(r){for(var s=null;r!==null;)r instanceof ShadowRoot&&(s=r.host,r=r.host),r=r.parentNode;return s}const lS=L8(m2,oS);var w2=M.forwardRef(function(r,s){return M.createElement(iu,As({},r,{ref:s,sideCar:lS}))});w2.classNames=iu.classNames;var cS=function(r){if(typeof document>"u")return null;var s=Array.isArray(r)?r[0]:r;return s.ownerDocument.body},Do=new WeakMap,Oc=new WeakMap,Dc={},sf=0,v2=function(r){return r&&(r.host||v2(r.parentNode))},uS=function(r,s){return s.map(function(a){if(r.contains(a))return a;var f=v2(a);return f&&r.contains(f)?f:(console.error("aria-hidden",a,"in not contained inside",r,". Doing nothing"),null)}).filter(function(a){return!!a})},dS=function(r,s,a,f){var m=uS(s,Array.isArray(r)?r:[r]);Dc[a]||(Dc[a]=new WeakMap);var g=Dc[a],w=[],b=new Set,N=new Set(m),E=function(A){!A||b.has(A)||(b.add(A),E(A.parentNode))};m.forEach(E);var T=function(A){!A||N.has(A)||Array.prototype.forEach.call(A.children,function(D){if(b.has(D))T(D);else try{var B=D.getAttribute(f),z=B!==null&&B!=="false",j=(Do.get(D)||0)+1,V=(g.get(D)||0)+1;Do.set(D,j),g.set(D,V),w.push(D),j===1&&z&&Oc.set(D,!0),V===1&&D.setAttribute(a,"true"),z||D.setAttribute(f,"true")}catch(U){console.error("aria-hidden: cannot operate on ",D,U)}})};return T(s),b.clear(),sf++,function(){w.forEach(function(A){var D=Do.get(A)-1,B=g.get(A)-1;Do.set(A,D),g.set(A,B),D||(Oc.has(A)||A.removeAttribute(f),Oc.delete(A)),B||A.removeAttribute(a)}),sf--,sf||(Do=new WeakMap,Do=new WeakMap,Oc=new WeakMap,Dc={})}},fS=function(r,s,a){a===void 0&&(a="data-aria-hidden");var f=Array.from(Array.isArray(r)?r:[r]),m=cS(r);return m?(f.push.apply(f,Array.from(m.querySelectorAll("[aria-live], script"))),dS(f,m,a,"aria-hidden")):function(){return null}},ou="Dialog",[C2]=ll(ou),[hS,ds]=C2(ou),E2=r=>{const{__scopeDialog:s,children:a,open:f,defaultOpen:m,onOpenChange:g,modal:w=!0}=r,b=M.useRef(null),N=M.useRef(null),[E,T]=nu({prop:f,defaultProp:m??!1,onChange:g,caller:ou});return y.jsx(hS,{scope:s,triggerRef:b,contentRef:N,contentId:Za(),titleId:Za(),descriptionId:Za(),open:E,onOpenChange:T,onOpenToggle:M.useCallback(()=>T(A=>!A),[T]),modal:w,children:a})};E2.displayName=ou;var b2="DialogTrigger",mS=M.forwardRef((r,s)=>{const{__scopeDialog:a,...f}=r,m=ds(b2,a),g=Jr(s,m.triggerRef);return y.jsx(_n.button,{type:"button","aria-haspopup":"dialog","aria-expanded":m.open,"aria-controls":m.contentId,"data-state":S0(m.open),...f,ref:g,onClick:jn(r.onClick,m.onOpenToggle)})});mS.displayName=b2;var b0="DialogPortal",[gS,A2]=C2(b0,{forceMount:void 0}),S2=r=>{const{__scopeDialog:s,forceMount:a,children:f,container:m}=r,g=ds(b0,s);return y.jsx(gS,{scope:s,forceMount:a,children:M.Children.map(f,w=>y.jsx(ul,{present:a||g.open,children:y.jsx(d2,{asChild:!0,container:m,children:w})}))})};S2.displayName=b0;var $c="DialogOverlay",N2=M.forwardRef((r,s)=>{const a=A2($c,r.__scopeDialog),{forceMount:f=a.forceMount,...m}=r,g=ds($c,r.__scopeDialog);return g.modal?y.jsx(ul,{present:f||g.open,children:y.jsx(xS,{...m,ref:s})}):null});N2.displayName=$c;var pS=qa("DialogOverlay.RemoveScroll"),xS=M.forwardRef((r,s)=>{const{__scopeDialog:a,...f}=r,m=ds($c,a);return y.jsx(w2,{as:pS,allowPinchZoom:!0,shards:[m.contentRef],children:y.jsx(_n.div,{"data-state":S0(m.open),...f,ref:s,style:{pointerEvents:"auto",...f.style}})})}),ro="DialogContent",T2=M.forwardRef((r,s)=>{const a=A2(ro,r.__scopeDialog),{forceMount:f=a.forceMount,...m}=r,g=ds(ro,r.__scopeDialog);return y.jsx(ul,{present:f||g.open,children:g.modal?y.jsx(yS,{...m,ref:s}):y.jsx(wS,{...m,ref:s})})});T2.displayName=ro;var yS=M.forwardRef((r,s)=>{const a=ds(ro,r.__scopeDialog),f=M.useRef(null),m=Jr(s,a.contentRef,f);return M.useEffect(()=>{const g=f.current;if(g)return fS(g)},[]),y.jsx(I2,{...r,ref:m,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jn(r.onCloseAutoFocus,g=>{g.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:jn(r.onPointerDownOutside,g=>{const w=g.detail.originalEvent,b=w.button===0&&w.ctrlKey===!0;(w.button===2||b)&&g.preventDefault()}),onFocusOutside:jn(r.onFocusOutside,g=>g.preventDefault())})}),wS=M.forwardRef((r,s)=>{const a=ds(ro,r.__scopeDialog),f=M.useRef(!1),m=M.useRef(!1);return y.jsx(I2,{...r,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:g=>{r.onCloseAutoFocus?.(g),g.defaultPrevented||(f.current||a.triggerRef.current?.focus(),g.preventDefault()),f.current=!1,m.current=!1},onInteractOutside:g=>{r.onInteractOutside?.(g),g.defaultPrevented||(f.current=!0,g.detail.originalEvent.type==="pointerdown"&&(m.current=!0));const w=g.target;a.triggerRef.current?.contains(w)&&g.preventDefault(),g.detail.originalEvent.type==="focusin"&&m.current&&g.preventDefault()}})}),I2=M.forwardRef((r,s)=>{const{__scopeDialog:a,trapFocus:f,onOpenAutoFocus:m,onCloseAutoFocus:g,...w}=r,b=ds(ro,a),N=M.useRef(null),E=Jr(s,N);return N8(),y.jsxs(y.Fragment,{children:[y.jsx(c2,{asChild:!0,loop:!0,trapped:f,onMountAutoFocus:m,onUnmountAutoFocus:g,children:y.jsx(a2,{role:"dialog",id:b.contentId,"aria-describedby":b.descriptionId,"aria-labelledby":b.titleId,"data-state":S0(b.open),...w,ref:E,onDismiss:()=>b.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(vS,{titleId:b.titleId}),y.jsx(ES,{contentRef:N,descriptionId:b.descriptionId})]})]})}),A0="DialogTitle",k2=M.forwardRef((r,s)=>{const{__scopeDialog:a,...f}=r,m=ds(A0,a);return y.jsx(_n.h2,{id:m.titleId,...f,ref:s})});k2.displayName=A0;var R2="DialogDescription",_2=M.forwardRef((r,s)=>{const{__scopeDialog:a,...f}=r,m=ds(R2,a);return y.jsx(_n.p,{id:m.descriptionId,...f,ref:s})});_2.displayName=R2;var O2="DialogClose",D2=M.forwardRef((r,s)=>{const{__scopeDialog:a,...f}=r,m=ds(O2,a);return y.jsx(_n.button,{type:"button",...f,ref:s,onClick:jn(r.onClick,()=>m.onOpenChange(!1))})});D2.displayName=O2;function S0(r){return r?"open":"closed"}var M2="DialogTitleWarning",[zS,P2]=pA(M2,{contentName:ro,titleName:A0,docsSlug:"dialog"}),vS=({titleId:r})=>{const s=P2(M2),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return M.useEffect(()=>{r&&(document.getElementById(r)||console.error(a))},[a,r]),null},CS="DialogDescriptionWarning",ES=({contentRef:r,descriptionId:s})=>{const f=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P2(CS).contentName}}.`;return M.useEffect(()=>{const m=r.current?.getAttribute("aria-describedby");s&&m&&(document.getElementById(s)||console.warn(f))},[f,r,s]),null},bS=E2,AS=S2,L2=N2,B2=T2,SS=k2,NS=_2,TS=D2;function Ag({...r}){return y.jsx(bS,{"data-slot":"dialog",...r})}function IS({...r}){return y.jsx(AS,{"data-slot":"dialog-portal",...r})}const j2=M.forwardRef(({className:r,...s},a)=>y.jsx(L2,{ref:a,"data-slot":"dialog-overlay",className:Fn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...s}));j2.displayName=L2.displayName;const Lf=M.forwardRef(({className:r,children:s,...a},f)=>y.jsxs(IS,{children:[y.jsx(j2,{}),y.jsxs(B2,{ref:f,"data-slot":"dialog-content",className:Fn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...a,children:[s,y.jsxs(TS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[y.jsx($o,{}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lf.displayName=B2.displayName;function Sg({className:r,...s}){return y.jsx("div",{"data-slot":"dialog-header",className:Fn("flex flex-col gap-2 text-center sm:text-left",r),...s})}function kS({className:r,...s}){return y.jsx("div",{"data-slot":"dialog-footer",className:Fn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...s})}function Ng({className:r,...s}){return y.jsx(SS,{"data-slot":"dialog-title",className:Fn("text-lg leading-none font-semibold",r),...s})}function RS({className:r,...s}){return y.jsx(NS,{"data-slot":"dialog-description",className:Fn("text-muted-foreground text-sm",r),...s})}const _S="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Tg(r){const[s,a]=M.useState(!1),f=()=>{a(!0)},{src:m,alt:g,style:w,className:b,...N}=r;return s?y.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${b??""}`,style:w,children:y.jsx("div",{className:"flex items-center justify-center w-full h-full",children:y.jsx("img",{src:_S,alt:"Error loading image",...N,"data-original-url":m})})}):y.jsx("img",{src:m,alt:g,className:b,style:w,...N,onError:f})}function OS({onRedeem:r}){const s=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",a=localStorage.getItem("usuario_id"),f=localStorage.getItem("token"),[m,g]=M.useState([]),[w,b]=M.useState(!0),[N,E]=M.useState(null),[T,A]=M.useState(!1),[D,B]=M.useState(null),[z,j]=M.useState(0),V=()=>({"Content-Type":"application/json",Authorization:`Bearer ${f}`}),U=K=>{if(!K)return"other";const ge=K.toLowerCase();return ge.includes("bembos")||ge.includes("mcdonald")||ge.includes("burger")||ge.includes("kfc")||ge.includes("pizza")||ge.includes("restaurant")||ge.includes("comida")||ge.includes("hamburguesa")||ge.includes("combo")?"restaurant":ge.includes("caf")||ge.includes("cafe")||ge.includes("starbucks")||ge.includes("coffee")||ge.includes("barista")||ge.includes("tostado")?"cafe":ge.includes("retail")||ge.includes("tienda")||ge.includes("super")||ge.includes("market")||ge.includes("ropa")||ge.includes("zara")||ge.includes("h&m")||ge.includes("moda")||ge.includes("store")?"retail":ge.includes("cine")||ge.includes("movie")||ge.includes("teatro")||ge.includes("entertainment")||ge.includes("diversion")||ge.includes("pelicula")?"entertainment":"other"},ne=async()=>{b(!0);try{const K=await fetch(`${s}/listarConvenios`,{headers:V()});if(!K.ok){if(K.status===401){Ze.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${K.status}`)}const ge=await K.json();console.log("Datos recibidos de convenios:",ge);const Pe=ge.map(Ee=>({id:Ee.id.toString(),name:Ee.titulo||Ee.nombre||"Convenio sin ttulo",brand:Ee.empresa||"Empresa no especificada",description:Ee.descripcion||"Sin descripcin",points:parseInt(Ee.puntos_requeridos)||0,category:U(Ee.empresa),image:Ee.imagen_url||Ee.logo_url||"https://images.unsplash.com/photo-1542831371-29b0f74f9d13?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdG9jayUyMG1lYWx8ZW58MXx8fHwxNzYzMTk2NzU5fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",validity:Ee.vigencia||"30 das",stock:parseInt(Ee.stock)||0}));g(Pe)}catch(K){console.error("Error al obtener convenios:",K),Ze.error("No se pudieron cargar los premios."),g([])}finally{b(!1)}},Y=async()=>{if(!(!a||!f))try{const K=await fetch(`${s}/obtenerPuntos?usuario_id=${a}`,{headers:V()});if(!K.ok){if(K.status===401){Ze.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${K.status}`)}const ge=await K.json();j(ge.puntos||0)}catch(K){console.error("Error al obtener puntos:",K),j(0)}},ie=async K=>{if(!a||!f){Ze.error("Error: Sesin de usuario no encontrada.");return}E(null);try{console.log(" Enviando solicitud de canje:",{usuario_id:parseInt(a),convenio_id:parseInt(K.id)});const ge=await fetch(`${s}/canjearPuntos`,{method:"POST",headers:V(),body:JSON.stringify({usuario_id:parseInt(a),convenio_id:parseInt(K.id)})}),Pe=await ge.json();if(console.log(" Respuesta del canje:",Pe),!ge.ok||Pe.error)throw Pe.error&&Pe.error.includes("puntos insuficientes")?new Error("No tienes suficientes puntos para este canje."):Pe.error&&Pe.error.includes("stock")?new Error("Este premio ya no est disponible."):new Error(Pe.error||"Error al procesar el canje.");if(Pe.mensaje&&(Pe.mensaje.includes("xito")||Pe.mensaje.includes("exito")))r(K),B({...K,codigo_entrega:Pe.codigo_entrega}),A(!0),Pe.puntos_restantes!==void 0?j(Pe.puntos_restantes):await Y(),await ne(),Ze.success(Pe.mensaje||"Canje realizado exitosamente!"),setTimeout(()=>{A(!1),B(null)},15e3);else throw new Error(Pe.mensaje||"Error desconocido al procesar el canje.")}catch(ge){console.error(" Error al registrar el canje:",ge),Ze.error(ge.message||"Error de conexin. Intntalo ms tarde.")}};M.useEffect(()=>{ne(),a&&f&&Y()},[a,f]);const fe=K=>{const ge=z||0,Pe=K.stock>0;ge>=K.points&&Pe?E(K):Pe?Ze.error("No tienes suficientes ecopoints"):Ze.error("Este premio ya no est disponible.")},de=()=>{N&&ie(N)},$=K=>!K||K==="all"?m:m.filter(ge=>ge.category.toLowerCase()===K.toLowerCase()),J=({reward:K})=>{const Pe=(z||0)>=K.points,Ee=K.stock>0,De=Pe&&Ee;return y.jsxs(Lt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:y.jsx(Tg,{src:K.image,alt:K.name,className:"w-full h-full object-cover"})}),y.jsx("div",{className:"absolute top-2 left-2",children:Ee?y.jsxs(Fc,{className:"bg-green-500 text-white flex items-center gap-1",children:[y.jsx(Md,{className:"w-3 h-3"}),"Stock: ",K.stock]}):y.jsxs(Fc,{className:"bg-red-500 text-white flex items-center gap-1",children:[y.jsx(Md,{className:"w-3 h-3"}),"Sin stock"]})})]}),y.jsxs("div",{className:"p-4 space-y-3",children:[y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center gap-2 mb-1",children:y.jsx("span",{className:"text-gray-500 dark:text-white",children:K.brand})}),y.jsx("h3",{className:"text-gray-900 dark:text-blue-700",children:K.name}),y.jsx("p",{className:"text-gray-500 line-clamp-2",children:K.description})]}),y.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(bi,{className:"w-4 h-4 text-emerald-600"}),y.jsx("span",{className:"text-gray-900 dark:text-white",children:K.points}),y.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"pts"})]}),y.jsx(pt,{size:"sm",onClick:()=>fe(K),disabled:!De,className:De?"bg-emerald-600 hover:bg-emerald-700":Ee?"bg-amber-500 hover:bg-amber-600":"bg-gray-400 cursor-not-allowed",children:De?"Canjear":Ee?"Insuficiente":"Sin stock"})]}),K.validity&&y.jsxs("p",{className:"text-gray-400",children:["Vlido por ",K.validity]})]})]})};return y.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-gray-900 mb-2 dark:text-white",children:"Premios"}),y.jsx("p",{className:"text-black dark:text-white/80",children:"Canjea tus ecopoints por premios increbles"})]}),y.jsx(Lt,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-emerald-100 mb-1",children:"Tus ecopoints"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("span",{className:"text-3xl font-semibold",children:z.toLocaleString()}),y.jsx("span",{className:"text-emerald-100",children:"puntos"})]})]}),y.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:y.jsx($a,{className:"w-8 h-8"})})]})}),y.jsxs(l8,{defaultValue:"all",className:"w-full",children:[y.jsxs(c8,{className:"w-full grid grid-cols-4",children:[y.jsx(Ic,{value:"all",children:"Todos"}),y.jsx(Ic,{value:"restaurant",children:"Comida"}),y.jsx(Ic,{value:"cafe",children:"Caf"}),y.jsx(Ic,{value:"retail",children:"Retail"})]}),w?y.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"Cargando premios..."}):m.length===0?y.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"No se encontraron premios disponibles."}):y.jsxs(y.Fragment,{children:[y.jsx(kc,{value:"all",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:$("all").map(K=>y.jsx(J,{reward:K},K.id))})}),y.jsx(kc,{value:"restaurant",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:$("restaurant").map(K=>y.jsx(J,{reward:K},K.id))})}),y.jsx(kc,{value:"cafe",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:$("cafe").map(K=>y.jsx(J,{reward:K},K.id))})}),y.jsx(kc,{value:"retail",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:$("retail").map(K=>y.jsx(J,{reward:K},K.id))})})]})]}),y.jsx(Ag,{open:!!N,onOpenChange:K=>!K&&E(null),children:y.jsxs(Lf,{children:[y.jsxs(Sg,{children:[y.jsx(Ng,{children:"Confirmar canje"}),y.jsx(RS,{children:"Ests seguro de canjear tus ecopoints por este premio?"})]}),N&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg overflow-hidden",children:y.jsx(Tg,{src:N.image,alt:N.name,className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500",children:N.brand}),y.jsx("h3",{className:"text-gray-900",children:N.name}),y.jsx("p",{className:"text-gray-600 mt-2",children:N.description})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[y.jsxs("span",{className:"text-gray-700 flex items-center gap-2",children:[y.jsx(Md,{className:"w-4 h-4"}),"Stock disponible:"]}),y.jsx(Fc,{className:N.stock>0?"bg-green-500":"bg-red-500",children:N.stock>0?`${N.stock} unidades`:"Sin stock"})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Costo:"}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(bi,{className:"w-5 h-5 text-emerald-600"}),y.jsxs("span",{className:"text-gray-900",children:[N.points," puntos"]})]})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Tu saldo despus:"}),y.jsxs("span",{className:"text-gray-900",children:[(z||0)-N.points," puntos"]})]})]}),y.jsxs(kS,{children:[y.jsx(pt,{variant:"outline",onClick:()=>E(null),children:"Cancelar"}),y.jsx(pt,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:de,disabled:N?.stock===0,children:N?.stock===0?"Sin stock":"Confirmar canje"})]})]})}),y.jsx(Ag,{open:T,onOpenChange:A,children:y.jsxs(Lf,{className:"sm:max-w-md",children:[y.jsx(Sg,{children:y.jsx(Ng,{children:"Canje Exitoso"})}),y.jsxs("div",{className:"text-center space-y-4 py-6",children:[y.jsx(Kn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-emerald-100 rounded-full mx-auto",children:y.jsx(Zg,{className:"w-12 h-12 text-emerald-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 mb-2",children:"Canje exitoso!"}),y.jsxs("p",{className:"text-gray-600",children:["Has canjeado ",D?.points," ecopoints"]})]}),D&&y.jsxs(Lt,{className:"p-4 bg-emerald-50 border border-emerald-200",children:[y.jsxs("p",{className:"text-emerald-900 font-semibold mb-1",children:[D.brand," - ",D.name]}),D.codigo_entrega&&y.jsxs("div",{className:"bg-white p-3 rounded-lg mt-2 shadow-inner border border-gray-100",children:[y.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tu cdigo de canje:"}),y.jsx("p",{className:"text-xl font-mono text-emerald-700 break-words font-bold bg-gray-50 p-2 rounded border",children:D.codigo_entrega}),y.jsx(pt,{size:"sm",variant:"outline",className:"mt-3 w-full",onClick:()=>{navigator.clipboard.writeText(D.codigo_entrega||""),Ze.success("Cdigo copiado al portapapeles")},children:" Copiar cdigo"})]}),y.jsx("p",{className:"text-emerald-700 mt-3 text-sm",children:" Presenta este cdigo en el establecimiento para reclamar tu premio"})]}),y.jsx(pt,{className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:()=>A(!1),children:"Entendido"})]})]})})]})}function DS({currentView:r,onNavigate:s}){const a=[{id:"home",icon:Yw,label:"Inicio"},{id:"scan",icon:zc,label:"Escanear"},{id:"rewards",icon:$a,label:"Premios"},{id:"profile",icon:Vf,label:"Perfil"}];return y.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto",children:y.jsx("div",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg",children:y.jsx("div",{className:"grid grid-cols-4 h-16",children:a.map(f=>{const m=f.icon,g=r===f.id;return y.jsxs("button",{onClick:()=>s(f.id),className:`flex flex-col items-center justify-center gap-1 transition-colors ${g?"text-emerald-600 dark:text-emerald-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[y.jsx(m,{className:`w-6 h-6 ${g?"fill-emerald-100 dark:fill-emerald-900":""}`}),y.jsx("span",{className:"text-xs",children:f.label})]},f.id)})})})})}var MS=(r,s,a,f,m,g,w,b)=>{let N=document.documentElement,E=["light","dark"];function T(B){(Array.isArray(r)?r:[r]).forEach(z=>{let j=z==="class",V=j&&g?m.map(U=>g[U]||U):m;j?(N.classList.remove(...V),N.classList.add(g&&g[B]?g[B]:B)):N.setAttribute(z,B)}),A(B)}function A(B){b&&E.includes(B)&&(N.style.colorScheme=B)}function D(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(f)T(f);else try{let B=localStorage.getItem(s)||a,z=w&&B==="system"?D():B;T(z)}catch{}},PS=M.createContext(void 0),LS={setTheme:r=>{},themes:[]},BS=()=>{var r;return(r=M.useContext(PS))!=null?r:LS};M.memo(({forcedTheme:r,storageKey:s,attribute:a,enableSystem:f,enableColorScheme:m,defaultTheme:g,value:w,themes:b,nonce:N,scriptProps:E})=>{let T=JSON.stringify([a,s,g,r,b,w,f,m]).slice(1,-1);return M.createElement("script",{...E,suppressHydrationWarning:!0,nonce:typeof window>"u"?N:"",dangerouslySetInnerHTML:{__html:`(${MS.toString()})(${T})`}})});const jS=({...r})=>{const{theme:s="system"}=BS();return y.jsx(iA,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})};function FS({onLoginSuccess:r}){const[s,a]=M.useState(!0),[f,m]=M.useState({nombre:"",email:"",password:""}),[g,w]=M.useState(!1),[b,N]=M.useState(!1),[E,T]=M.useState("login"),[A,D]=M.useState({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""}),[B,z]=M.useState(!1),[j,V]=M.useState(!1),[U,ne]=M.useState(!1),Y="https://ecopoints.hvd.lat/api",ie=te=>{const{name:ee,value:Ce}=te.target;m(pe=>({...pe,[ee]:Ce}))},fe=te=>{const{name:ee,value:Ce}=te.target;D(pe=>({...pe,[ee]:Ce}))},de=()=>!f.email||!f.password?(Ze.error("El email y la contrasea son obligatorios"),!1):!s&&!f.nombre?(Ze.error("El nombre completo es obligatorio"),!1):f.password.length<6?(Ze.error("La contrasea debe tener al menos 6 caracteres"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)?!0:(Ze.error("Por favor, ingresa un email vlido"),!1),$=te=>{const ee=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;switch(te){case"request":return A.email?ee.test(A.email)?!0:(Ze.error("Por favor, ingresa un email vlido"),!1):(Ze.error("El email es obligatorio"),!1);case"verify":return!A.codigo||A.codigo.length!==6?(Ze.error("El cdigo debe tener 6 dgitos"),!1):!0;case"reset":return!A.nuevaContrasena||!A.confirmarContrasena?(Ze.error("Ambas contraseas son obligatorias"),!1):A.nuevaContrasena.length<6?(Ze.error("La contrasea debe tener al menos 6 caracteres"),!1):A.nuevaContrasena!==A.confirmarContrasena?(Ze.error("Las contraseas no coinciden"),!1):!0;default:return!1}},J=async()=>{if($("request")){w(!0);try{const te=await fetch(`${Y}/solicitarReset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:A.email})});if(!te.ok){const Ce=await te.text();throw new Error(`Error ${te.status}: ${Ce}`)}const ee=await te.json();Ze.success(ee.mensaje||"Cdigo enviado a tu email"),z(!0)}catch(te){console.error("Error al solicitar reset:",te),Ze.error(te.message||"Error al enviar el cdigo de verificacin")}finally{w(!1)}}},K=async()=>{if($("verify")){w(!0);try{const te=await fetch(`${Y}/verificarCodigo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:A.email,codigo:A.codigo})});if(!te.ok){const Ce=await te.text();throw new Error(`Error ${te.status}: ${Ce}`)}const ee=await te.json();Ze.success(ee.mensaje||"Cdigo verificado correctamente"),D(Ce=>({...Ce,tokenTemporal:ee.token_temporal,usuarioId:ee.usuario_id})),T("reset")}catch(te){console.error("Error al verificar cdigo:",te),Ze.error(te.message||"Error al verificar el cdigo")}finally{w(!1)}}},ge=async()=>{if($("reset")){w(!0);try{const te=await fetch(`${Y}/actualizarContrasena`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token_temporal:A.tokenTemporal,nueva_contrasena:A.nuevaContrasena})});if(!te.ok){const Ce=await te.text();throw new Error(`Error ${te.status}: ${Ce}`)}const ee=await te.json();Ze.success(ee.mensaje||"Contrasea actualizada exitosamente"),T("login"),z(!1),D({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""})}catch(te){console.error("Error al actualizar contrasea:",te),Ze.error(te.message||"Error al actualizar la contrasea")}finally{w(!1)}}},Pe=async te=>{if(te.preventDefault(),!de())return;w(!0);const ee=s?"logeoUsuario":"registrarUsuario";try{console.log("Enviando peticin a:",`${Y}/${ee}`);const Ce=await fetch(`${Y}/${ee}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s?{email:f.email,password:f.password}:{nombre:f.nombre,email:f.email,password:f.password})});if(!Ce.ok){const Z=await Ce.text();throw console.error("Error response:",Z),new Error(`Error ${Ce.status}: ${Z}`)}const pe=await Ce.json();if(console.log("Respuesta recibida:",pe),s){const Z=pe;Ze.success(Z.mensaje||"Inicio de sesin exitoso"),localStorage.setItem("usuario_id",Z.usuario.id),localStorage.setItem("usuario_nombre",Z.usuario.nombre),localStorage.setItem("usuario_correo",Z.usuario.correo),localStorage.setItem("token",Z.token),r(Z.usuario.id,Z.token,Z.usuario.nombre)}else{const Z=pe;Ze.success(Z.mensaje||"Registro exitoso. Ahora inicia sesin."),a(!0),m(ue=>({nombre:"",email:ue.email,password:""}))}}catch(Ce){console.error("Error completo:",Ce),Ce.message.includes("Failed to fetch")||Ce.message.includes("CORS")?Ze.error("Error de conexin CORS. Contacta al administrador."):Ze.error(Ce.message||"Error de conexin con el servidor")}finally{w(!1)}},Ee=()=>{N(!b)},De=te=>{g||(a(te),te&&m(ee=>({...ee,nombre:""})))},me=()=>{T("request"),D(te=>({...te,email:f.email})),z(!1)},G=()=>{T("login"),z(!1),D({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""})},be=()=>{switch(E){case"request":return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:G,disabled:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:y.jsx(Fa,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recuperar contrasea"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Te enviaremos un cdigo de verificacin a tu email"})]})]}),B?y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 dark:bg-emerald-900 rounded-full",children:y.jsx(Bw,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-2 text-xl font-semibold",children:"Cdigo enviado!"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Hemos enviado un cdigo de 6 dgitos a:"}),y.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 mt-2 font-medium",children:A.email})]}),y.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:y.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:" Revisa tu bandeja de entrada y busca el cdigo de verificacin."})}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Ya recibiste el cdigo?"}),y.jsxs(pt,{className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",onClick:()=>T("verify"),children:[y.jsx(cf,{className:"w-4 h-4 mr-2"}),"Ingresar cdigo de verificacin"]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recibiste el email?"}),y.jsxs(pt,{variant:"outline",className:"w-full",onClick:()=>z(!1),disabled:g,children:[y.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Reenviar cdigo"]})]}),y.jsxs(pt,{variant:"ghost",className:"w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-950",onClick:G,disabled:g,children:[y.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Volver al inicio de sesin"]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mb-6",children:y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Ingresa tu correo electrnico y te enviaremos un cdigo de 6 dgitos para restablecer tu contrasea."})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"reset-email",className:"text-sm font-medium",children:"Correo electrnico"}),y.jsxs("div",{className:"relative",children:[y.jsx(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Es,{id:"reset-email",name:"email",type:"email",placeholder:"tu@email.com",value:A.email,onChange:fe,className:"pl-10",required:!0,disabled:g})]})]}),y.jsx(Kn.button,{onClick:J,disabled:g,whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-3 rounded-lg hover:from-emerald-600 hover:to-emerald-700 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:g?y.jsxs(y.Fragment,{children:[y.jsx(Cc,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando cdigo..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Enviar cdigo de verificacin"]})}),y.jsx("div",{className:"mt-4",children:y.jsxs(pt,{variant:"ghost",className:"w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-950",onClick:G,disabled:g,children:[y.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Volver al inicio de sesin"]})})]})]});case"verify":return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>T("request"),disabled:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:y.jsx(Fa,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Verificar cdigo"}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Ingresa el cdigo de 6 dgitos que enviamos a ",A.email]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"codigo",className:"text-sm font-medium",children:"Cdigo de verificacin"}),y.jsxs("div",{className:"relative",children:[y.jsx(cf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Es,{id:"codigo",name:"codigo",type:"text",placeholder:"123456",value:A.codigo,onChange:fe,className:"pl-10 text-center text-lg font-mono tracking-widest",required:!0,disabled:g,maxLength:6,pattern:"[0-9]{6}"})]})]}),y.jsx(Kn.button,{onClick:K,disabled:g,whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-3 rounded-lg hover:from-emerald-600 hover:to-emerald-700 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:g?y.jsxs(y.Fragment,{children:[y.jsx(Cc,{className:"w-4 h-4 mr-2 animate-spin"}),"Verificando..."]}):"Verificar cdigo"})]});case"reset":return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>T("verify"),disabled:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:y.jsx(Fa,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Nueva contrasea"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Crea una nueva contrasea para tu cuenta"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"nuevaContrasena",className:"text-sm font-medium",children:"Nueva contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Es,{id:"nuevaContrasena",name:"nuevaContrasena",type:j?"text":"password",placeholder:"",value:A.nuevaContrasena,onChange:fe,className:"pl-10 pr-10",required:!0,disabled:g,minLength:6}),y.jsx("button",{type:"button",onClick:()=>V(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:g,children:j?y.jsx(Uo,{className:"w-4 h-4"}):y.jsx(zo,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"confirmarContrasena",className:"text-sm font-medium",children:"Confirmar contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Es,{id:"confirmarContrasena",name:"confirmarContrasena",type:U?"text":"password",placeholder:"",value:A.confirmarContrasena,onChange:fe,className:"pl-10 pr-10",required:!0,disabled:g,minLength:6}),y.jsx("button",{type:"button",onClick:()=>ne(!U),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:g,children:U?y.jsx(Uo,{className:"w-4 h-4"}):y.jsx(zo,{className:"w-4 h-4"})})]})]}),y.jsx(Kn.button,{onClick:ge,disabled:g,whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-3 rounded-lg hover:from-emerald-600 hover:to-emerald-700 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:g?y.jsxs(y.Fragment,{children:[y.jsx(Cc,{className:"w-4 h-4 mr-2 animate-spin"}),"Actualizando..."]}):"Actualizar contrasea"})]});default:return null}};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full",children:[y.jsxs(Kn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center mb-8",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-white rounded-full shadow-lg mb-4",children:y.jsx(bi,{className:"w-24 h-24 text-emerald-600"})}),y.jsx("h1",{className:"text-white mb-2 text-4xl font-medium",children:"EcoPoints"}),y.jsx("p",{className:"text-emerald-100 font-medium mb-4",children:"Recicla, gana puntos y cambia el mundo"})]}),y.jsx(Kn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:y.jsx(Lt,{className:"p-8 shadow-2xl",children:E==="login"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex gap-2 mb-6 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[y.jsx("button",{onClick:()=>De(!0),disabled:g,className:`flex-1 py-2 rounded-md transition-all ${s?"bg-white dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow font-medium":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"} disabled:opacity-50 disabled:cursor-not-allowed`,type:"button",children:"Iniciar sesin"}),y.jsx("button",{onClick:()=>De(!1),disabled:g,className:`flex-1 py-2 rounded-md transition-all ${s?"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200":"bg-white dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow font-medium"} disabled:opacity-50 disabled:cursor-not-allowed`,type:"button",children:"Registrarse"})]}),y.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[y.jsx(Wp,{mode:"wait",children:!s&&y.jsxs(Kn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"space-y-2 overflow-hidden",children:[y.jsx(bs,{htmlFor:"nombre",className:"text-sm font-medium",children:"Nombre completo"}),y.jsxs("div",{className:"relative",children:[y.jsx(Vf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Es,{id:"nombre",name:"nombre",type:"text",placeholder:"Mara Rodriguez",value:f.nombre,onChange:ie,className:"pl-10",required:!s,disabled:g,minLength:2})]})]},"name-field")}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"email",className:"text-sm font-medium",children:"Correo electrnico"}),y.jsxs("div",{className:"relative",children:[y.jsx(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Es,{id:"email",name:"email",type:"email",placeholder:"tu@email.com",value:f.email,onChange:ie,className:"pl-10",required:!0,disabled:g,autoComplete:"email"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(bs,{htmlFor:"password",className:"text-sm font-medium",children:"Contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Mc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Es,{id:"password",name:"password",type:b?"text":"password",placeholder:"",value:f.password,onChange:ie,className:"pl-10 pr-10",required:!0,disabled:g,autoComplete:s?"current-password":"new-password",minLength:6}),y.jsx("button",{type:"button",onClick:Ee,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:g,children:b?y.jsx(Uo,{className:"w-4 h-4"}):y.jsx(zo,{className:"w-4 h-4"})})]}),y.jsx("p",{className:"text-xs text-gray-500",children:"Mnimo 6 caracteres"})]}),y.jsx(Kn.button,{type:"submit",disabled:g,whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-3 rounded-lg hover:from-emerald-600 hover:to-emerald-700 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:g?y.jsxs(y.Fragment,{children:[y.jsx(Cc,{className:"w-4 h-4 mr-2 animate-spin"}),s?"Iniciando sesin...":"Registrando..."]}):s?"Iniciar sesin":"Crear cuenta"})]}),s&&y.jsx("div",{className:"mt-4 text-center",children:y.jsx("button",{type:"button",onClick:me,className:"text-emerald-600 hover:text-emerald-700 hover:underline transition-colors text-sm",disabled:g,children:"Olvidaste tu contrasea?"})}),y.jsx("div",{className:"mt-6 p-4 bg-emerald-50 dark:bg-emerald-950 rounded-lg border border-emerald-200 dark:border-emerald-800",children:y.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 text-center text-sm",children:[" nete a nuestra comunidad de"," ",y.jsx("span",{className:"font-semibold",children:s?"recicladores":"ms de 1,000 usuarios"})," ","comprometidos con el planeta"]})})]}):be()})}),y.jsx(Kn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mt-6 text-emerald-100",children:y.jsx("p",{className:"text-sm",children:"Al continuar, aceptas nuestros trminos y condiciones"})})]})})}function VS(){const[r,s]=M.useState(!1),[a,f]=M.useState(!0),[m,g]=M.useState("home"),[w,b]=M.useState(0),[N,E]=M.useState("light");M.useEffect(()=>{(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")})();const j=window.matchMedia("(prefers-color-scheme: dark)"),V=U=>{E(U.matches?"dark":"light")};return j.addEventListener("change",V),()=>j.removeEventListener("change",V)},[]),M.useEffect(()=>{N==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[N]);const T=()=>{E(z=>z==="light"?"dark":"light")};M.useEffect(()=>{localStorage.getItem("usuario_id")&&s(!0),f(!1)},[]);const A=()=>{localStorage.removeItem("usuario_id"),s(!1)},D=z=>{b(j=>j-z.points)},B=()=>{switch(m){case"home":return y.jsx($m,{onNavigateToRewards:()=>g("rewards")});case"scan":return y.jsx(aA,{});case"history":return y.jsx(lA,{});case"profile":return y.jsx(PA,{onLogout:A,theme:N,onToggleTheme:T});case"rewards":return y.jsx(OS,{balance:w,onRedeem:D});default:return y.jsx($m,{onNavigateToRewards:()=>g("rewards")})}};return a?y.jsx("div",{className:"flex items-center justify-center h-screen text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-900",children:"Cargando..."}):r?y.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-emerald-50 dark:from-gray-900 dark:to-gray-800",children:[y.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col shadow-xl dark:shadow-gray-900",children:[y.jsx("div",{className:"flex-1 overflow-auto pb-20 bg-humo dark:bg-gray-900",children:B()}),y.jsx(DS,{currentView:m,onNavigate:g})]}),y.jsx(jS,{})]}):y.jsx(FS,{onLoginSuccess:z=>{localStorage.setItem("usuario_id",z),s(!0)}})}By.createRoot(document.getElementById("root")).render(y.jsx(VS,{}));
