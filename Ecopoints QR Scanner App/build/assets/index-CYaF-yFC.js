function Fg(t,s){for(var a=0;a<s.length;a++){const u=s[a];if(typeof u!="string"&&!Array.isArray(u)){for(const m in u)if(m!=="default"&&!(m in t)){const g=Object.getOwnPropertyDescriptor(u,m);g&&Object.defineProperty(t,m,g.get?g:{enumerable:!0,get:()=>u[m]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const g of m)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function a(m){const g={};return m.integrity&&(g.integrity=m.integrity),m.referrerPolicy&&(g.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?g.credentials="include":m.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function u(m){if(m.ep)return;m.ep=!0;const g=a(m);fetch(m.href,g)}})();var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Od={exports:{}},Ua={},Pd={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function Uy(){if(S1)return gt;S1=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function O(K){return K===null||typeof K!="object"?null:(K=S&&K[S]||K["@@iterator"],typeof K=="function"?K:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function F(K,ce,me){this.props=K,this.context=ce,this.refs=j,this.updater=me||L}F.prototype.isReactComponent={},F.prototype.setState=function(K,ce){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ce,"setState")},F.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function Z(){}Z.prototype=F.prototype;function ee(K,ce,me){this.props=K,this.context=ce,this.refs=j,this.updater=me||L}var G=ee.prototype=new Z;G.constructor=ee,U(G,F.prototype),G.isPureReactComponent=!0;var re=Array.isArray,fe=Object.prototype.hasOwnProperty,de={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function Q(K,ce,me){var Ne,Ve={},be=null,Ke=null;if(ce!=null)for(Ne in ce.ref!==void 0&&(Ke=ce.ref),ce.key!==void 0&&(be=""+ce.key),ce)fe.call(ce,Ne)&&!q.hasOwnProperty(Ne)&&(Ve[Ne]=ce[Ne]);var De=arguments.length-2;if(De===1)Ve.children=me;else if(1<De){for(var at=Array(De),Rt=0;Rt<De;Rt++)at[Rt]=arguments[Rt+2];Ve.children=at}if(K&&K.defaultProps)for(Ne in De=K.defaultProps,De)Ve[Ne]===void 0&&(Ve[Ne]=De[Ne]);return{$$typeof:t,type:K,key:be,ref:Ke,props:Ve,_owner:de.current}}function z(K,ce){return{$$typeof:t,type:K.type,key:ce,ref:K.ref,props:K.props,_owner:K._owner}}function xe(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function Oe(K){var ce={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(me){return ce[me]})}var we=/\/+/g;function _e(K,ce){return typeof K=="object"&&K!==null&&K.key!=null?Oe(""+K.key):ce.toString(36)}function Pe(K,ce,me,Ne,Ve){var be=typeof K;(be==="undefined"||be==="boolean")&&(K=null);var Ke=!1;if(K===null)Ke=!0;else switch(be){case"string":case"number":Ke=!0;break;case"object":switch(K.$$typeof){case t:case s:Ke=!0}}if(Ke)return Ke=K,Ve=Ve(Ke),K=Ne===""?"."+_e(Ke,0):Ne,re(Ve)?(me="",K!=null&&(me=K.replace(we,"$&/")+"/"),Pe(Ve,ce,me,"",function(Rt){return Rt})):Ve!=null&&(xe(Ve)&&(Ve=z(Ve,me+(!Ve.key||Ke&&Ke.key===Ve.key?"":(""+Ve.key).replace(we,"$&/")+"/")+K)),ce.push(Ve)),1;if(Ke=0,Ne=Ne===""?".":Ne+":",re(K))for(var De=0;De<K.length;De++){be=K[De];var at=Ne+_e(be,De);Ke+=Pe(be,ce,me,at,Ve)}else if(at=O(K),typeof at=="function")for(K=at.call(K),De=0;!(be=K.next()).done;)be=be.value,at=Ne+_e(be,De++),Ke+=Pe(be,ce,me,at,Ve);else if(be==="object")throw ce=String(K),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return Ke}function W(K,ce,me){if(K==null)return K;var Ne=[],Ve=0;return Pe(K,Ne,"","",function(be){return ce.call(me,be,Ve++)}),Ne}function ge(K){if(K._status===-1){var ce=K._result;ce=ce(),ce.then(function(me){(K._status===0||K._status===-1)&&(K._status=1,K._result=me)},function(me){(K._status===0||K._status===-1)&&(K._status=2,K._result=me)}),K._status===-1&&(K._status=0,K._result=ce)}if(K._status===1)return K._result.default;throw K._result}var ue={current:null},se={transition:null},he={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:se,ReactCurrentOwner:de};function pe(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:W,forEach:function(K,ce,me){W(K,function(){ce.apply(this,arguments)},me)},count:function(K){var ce=0;return W(K,function(){ce++}),ce},toArray:function(K){return W(K,function(ce){return ce})||[]},only:function(K){if(!xe(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},gt.Component=F,gt.Fragment=a,gt.Profiler=m,gt.PureComponent=ee,gt.StrictMode=u,gt.Suspense=A,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,gt.act=pe,gt.cloneElement=function(K,ce,me){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Ne=U({},K.props),Ve=K.key,be=K.ref,Ke=K._owner;if(ce!=null){if(ce.ref!==void 0&&(be=ce.ref,Ke=de.current),ce.key!==void 0&&(Ve=""+ce.key),K.type&&K.type.defaultProps)var De=K.type.defaultProps;for(at in ce)fe.call(ce,at)&&!q.hasOwnProperty(at)&&(Ne[at]=ce[at]===void 0&&De!==void 0?De[at]:ce[at])}var at=arguments.length-2;if(at===1)Ne.children=me;else if(1<at){De=Array(at);for(var Rt=0;Rt<at;Rt++)De[Rt]=arguments[Rt+2];Ne.children=De}return{$$typeof:t,type:K.type,key:Ve,ref:be,props:Ne,_owner:Ke}},gt.createContext=function(K){return K={$$typeof:y,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:g,_context:K},K.Consumer=K},gt.createElement=Q,gt.createFactory=function(K){var ce=Q.bind(null,K);return ce.type=K,ce},gt.createRef=function(){return{current:null}},gt.forwardRef=function(K){return{$$typeof:b,render:K}},gt.isValidElement=xe,gt.lazy=function(K){return{$$typeof:T,_payload:{_status:-1,_result:K},_init:ge}},gt.memo=function(K,ce){return{$$typeof:E,type:K,compare:ce===void 0?null:ce}},gt.startTransition=function(K){var ce=se.transition;se.transition={};try{K()}finally{se.transition=ce}},gt.unstable_act=pe,gt.useCallback=function(K,ce){return ue.current.useCallback(K,ce)},gt.useContext=function(K){return ue.current.useContext(K)},gt.useDebugValue=function(){},gt.useDeferredValue=function(K){return ue.current.useDeferredValue(K)},gt.useEffect=function(K,ce){return ue.current.useEffect(K,ce)},gt.useId=function(){return ue.current.useId()},gt.useImperativeHandle=function(K,ce,me){return ue.current.useImperativeHandle(K,ce,me)},gt.useInsertionEffect=function(K,ce){return ue.current.useInsertionEffect(K,ce)},gt.useLayoutEffect=function(K,ce){return ue.current.useLayoutEffect(K,ce)},gt.useMemo=function(K,ce){return ue.current.useMemo(K,ce)},gt.useReducer=function(K,ce,me){return ue.current.useReducer(K,ce,me)},gt.useRef=function(K){return ue.current.useRef(K)},gt.useState=function(K){return ue.current.useState(K)},gt.useSyncExternalStore=function(K,ce,me){return ue.current.useSyncExternalStore(K,ce,me)},gt.useTransition=function(){return ue.current.useTransition()},gt.version="18.3.1",gt}var N1;function Hf(){return N1||(N1=1,Pd.exports=Uy()),Pd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function zy(){if(T1)return Ua;T1=1;var t=Hf(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,m=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function y(b,A,E){var T,S={},O=null,L=null;E!==void 0&&(O=""+E),A.key!==void 0&&(O=""+A.key),A.ref!==void 0&&(L=A.ref);for(T in A)u.call(A,T)&&!g.hasOwnProperty(T)&&(S[T]=A[T]);if(b&&b.defaultProps)for(T in A=b.defaultProps,A)S[T]===void 0&&(S[T]=A[T]);return{$$typeof:s,type:b,key:O,ref:L,props:S,_owner:m.current}}return Ua.Fragment=a,Ua.jsx=y,Ua.jsxs=y,Ua}var I1;function Hy(){return I1||(I1=1,Od.exports=zy()),Od.exports}var w=Hy(),Ec={},Dd={exports:{}},Cr={},Md={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function Wy(){return k1||(k1=1,(function(t){function s(se,he){var pe=se.length;se.push(he);e:for(;0<pe;){var K=pe-1>>>1,ce=se[K];if(0<m(ce,he))se[K]=he,se[pe]=ce,pe=K;else break e}}function a(se){return se.length===0?null:se[0]}function u(se){if(se.length===0)return null;var he=se[0],pe=se.pop();if(pe!==he){se[0]=pe;e:for(var K=0,ce=se.length,me=ce>>>1;K<me;){var Ne=2*(K+1)-1,Ve=se[Ne],be=Ne+1,Ke=se[be];if(0>m(Ve,pe))be<ce&&0>m(Ke,Ve)?(se[K]=Ke,se[be]=pe,K=be):(se[K]=Ve,se[Ne]=pe,K=Ne);else if(be<ce&&0>m(Ke,pe))se[K]=Ke,se[be]=pe,K=be;else break e}}return he}function m(se,he){var pe=se.sortIndex-he.sortIndex;return pe!==0?pe:se.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;t.unstable_now=function(){return g.now()}}else{var y=Date,b=y.now();t.unstable_now=function(){return y.now()-b}}var A=[],E=[],T=1,S=null,O=3,L=!1,U=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var he=a(E);he!==null;){if(he.callback===null)u(E);else if(he.startTime<=se)u(E),he.sortIndex=he.expirationTime,s(A,he);else break;he=a(E)}}function re(se){if(j=!1,G(se),!U)if(a(A)!==null)U=!0,ge(fe);else{var he=a(E);he!==null&&ue(re,he.startTime-se)}}function fe(se,he){U=!1,j&&(j=!1,Z(Q),Q=-1),L=!0;var pe=O;try{for(G(he),S=a(A);S!==null&&(!(S.expirationTime>he)||se&&!Oe());){var K=S.callback;if(typeof K=="function"){S.callback=null,O=S.priorityLevel;var ce=K(S.expirationTime<=he);he=t.unstable_now(),typeof ce=="function"?S.callback=ce:S===a(A)&&u(A),G(he)}else u(A);S=a(A)}if(S!==null)var me=!0;else{var Ne=a(E);Ne!==null&&ue(re,Ne.startTime-he),me=!1}return me}finally{S=null,O=pe,L=!1}}var de=!1,q=null,Q=-1,z=5,xe=-1;function Oe(){return!(t.unstable_now()-xe<z)}function we(){if(q!==null){var se=t.unstable_now();xe=se;var he=!0;try{he=q(!0,se)}finally{he?_e():(de=!1,q=null)}}else de=!1}var _e;if(typeof ee=="function")_e=function(){ee(we)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,W=Pe.port2;Pe.port1.onmessage=we,_e=function(){W.postMessage(null)}}else _e=function(){F(we,0)};function ge(se){q=se,de||(de=!0,_e())}function ue(se,he){Q=F(function(){se(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){U||L||(U=!0,ge(fe))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return a(A)},t.unstable_next=function(se){switch(O){case 1:case 2:case 3:var he=3;break;default:he=O}var pe=O;O=he;try{return se()}finally{O=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=O;O=se;try{return he()}finally{O=pe}},t.unstable_scheduleCallback=function(se,he,pe){var K=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?K+pe:K):pe=K,se){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=pe+ce,se={id:T++,callback:he,priorityLevel:se,startTime:pe,expirationTime:ce,sortIndex:-1},pe>K?(se.sortIndex=pe,s(E,se),a(A)===null&&se===a(E)&&(j?(Z(Q),Q=-1):j=!0,ue(re,pe-K))):(se.sortIndex=ce,s(A,se),U||L||(U=!0,ge(fe))),se},t.unstable_shouldYield=Oe,t.unstable_wrapCallback=function(se){var he=O;return function(){var pe=O;O=he;try{return se.apply(this,arguments)}finally{O=pe}}}})(Ld)),Ld}var R1;function Gy(){return R1||(R1=1,Md.exports=Wy()),Md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function Xy(){if(_1)return Cr;_1=1;var t=Hf(),s=Gy();function a(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,f=1;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,m={};function g(n,o){y(n,o),y(n+"Capture",o)}function y(n,o){for(m[n]=o,n=0;n<o.length;n++)u.add(o[n])}var b=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},S={};function O(n){return A.call(S,n)?!0:A.call(T,n)?!1:E.test(n)?S[n]=!0:(T[n]=!0,!1)}function L(n,o,f,p){if(f!==null&&f.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:f!==null?!f.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function U(n,o,f,p){if(o===null||typeof o>"u"||L(n,o,f,p))return!0;if(p)return!1;if(f!==null)switch(f.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(n,o,f,p,C,N,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=C,this.mustUseProperty=f,this.propertyName=n,this.type=o,this.sanitizeURL=N,this.removeEmptyString=_}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){F[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];F[o]=new j(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){F[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){F[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){F[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){F[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){F[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){F[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){F[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function ee(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(Z,ee);F[o]=new j(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(Z,ee);F[o]=new j(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(Z,ee);F[o]=new j(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){F[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),F.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){F[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function G(n,o,f,p){var C=F.hasOwnProperty(o)?F[o]:null;(C!==null?C.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(U(o,f,C,p)&&(f=null),p||C===null?O(o)&&(f===null?n.removeAttribute(o):n.setAttribute(o,""+f)):C.mustUseProperty?n[C.propertyName]=f===null?C.type===3?!1:"":f:(o=C.attributeName,p=C.attributeNamespace,f===null?n.removeAttribute(o):(C=C.type,f=C===3||C===4&&f===!0?"":""+f,p?n.setAttributeNS(p,o,f):n.setAttribute(o,f))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),de=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),Oe=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),se=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var pe=Object.assign,K;function ce(n){if(K===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);K=o&&o[1]||""}return`
`+K+n}var me=!1;function Ne(n,o){if(!n||me)return"";me=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(le){var p=le}Reflect.construct(n,[],o)}else{try{o.call()}catch(le){p=le}n.call(o.prototype)}else{try{throw Error()}catch(le){p=le}n()}}catch(le){if(le&&p&&typeof le.stack=="string"){for(var C=le.stack.split(`
`),N=p.stack.split(`
`),_=C.length-1,V=N.length-1;1<=_&&0<=V&&C[_]!==N[V];)V--;for(;1<=_&&0<=V;_--,V--)if(C[_]!==N[V]){if(_!==1||V!==1)do if(_--,V--,0>V||C[_]!==N[V]){var X=`
`+C[_].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=_&&0<=V);break}}}finally{me=!1,Error.prepareStackTrace=f}return(n=n?n.displayName||n.name:"")?ce(n):""}function Ve(n){switch(n.tag){case 5:return ce(n.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return n=Ne(n.type,!1),n;case 11:return n=Ne(n.type.render,!1),n;case 1:return n=Ne(n.type,!0),n;default:return""}}function be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case de:return"Portal";case z:return"Profiler";case Q:return"StrictMode";case _e:return"Suspense";case Pe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Oe:return(n.displayName||"Context")+".Consumer";case xe:return(n._context.displayName||"Context")+".Provider";case we:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return o=n.displayName||null,o!==null?o:be(n.type)||"Memo";case ge:o=n._payload,n=n._init;try{return be(n(o))}catch{}}return null}function Ke(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(o);case 8:return o===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function at(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rt(n){var o=at(n)?"checked":"value",f=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),p=""+n[o];if(!n.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var C=f.get,N=f.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return C.call(this)},set:function(_){p=""+_,N.call(this,_)}}),Object.defineProperty(n,o,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(_){p=""+_},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Pt(n){n._valueTracker||(n._valueTracker=Rt(n))}function En(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var f=o.getValue(),p="";return n&&(p=at(n)?n.checked?"true":"false":n.value),n=p,n!==f?(o.setValue(n),!0):!1}function mt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function hr(n,o){var f=o.checked;return pe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??n._wrapperState.initialChecked})}function sr(n,o){var f=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;f=De(o.value!=null?o.value:f),n._wrapperState={initialChecked:p,initialValue:f,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function es(n,o){o=o.checked,o!=null&&G(n,"checked",o,!1)}function Bt(n,o){es(n,o);var f=De(o.value),p=o.type;if(f!=null)p==="number"?(f===0&&n.value===""||n.value!=f)&&(n.value=""+f):n.value!==""+f&&(n.value=""+f);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?tt(n,o.type,f):o.hasOwnProperty("defaultValue")&&tt(n,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function St(n,o,f){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,f||o===n.value||(n.value=o),n.defaultValue=o}f=n.name,f!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,f!==""&&(n.name=f)}function tt(n,o,f){(o!=="number"||mt(n.ownerDocument)!==n)&&(f==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+f&&(n.defaultValue=""+f))}var Br=Array.isArray;function Le(n,o,f,p){if(n=n.options,o){o={};for(var C=0;C<f.length;C++)o["$"+f[C]]=!0;for(f=0;f<n.length;f++)C=o.hasOwnProperty("$"+n[f].value),n[f].selected!==C&&(n[f].selected=C),C&&p&&(n[f].defaultSelected=!0)}else{for(f=""+De(f),o=null,C=0;C<n.length;C++){if(n[C].value===f){n[C].selected=!0,p&&(n[C].defaultSelected=!0);return}o!==null||n[C].disabled||(o=n[C])}o!==null&&(o.selected=!0)}}function an(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(a(91));return pe({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jr(n,o){var f=o.value;if(f==null){if(f=o.children,o=o.defaultValue,f!=null){if(o!=null)throw Error(a(92));if(Br(f)){if(1<f.length)throw Error(a(93));f=f[0]}o=f}o==null&&(o=""),f=o}n._wrapperState={initialValue:De(f)}}function mr(n,o){var f=De(o.value),p=De(o.defaultValue);f!=null&&(f=""+f,f!==n.value&&(n.value=f),o.defaultValue==null&&n.defaultValue!==f&&(n.defaultValue=f)),p!=null&&(n.defaultValue=""+p)}function Ws(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function bn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gs(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?bn(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kn,ln=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,f,p,C){MSApp.execUnsafeLocalFunction(function(){return n(o,f,p,C)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Kn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function ir(n,o){if(o){var f=n.firstChild;if(f&&f===n.lastChild&&f.nodeType===3){f.nodeValue=o;return}}n.textContent=o}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(n){fs.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Sr[o]=Sr[n]})});function Wt(n,o,f){return o==null||typeof o=="boolean"||o===""?"":f||typeof o!="number"||o===0||Sr.hasOwnProperty(n)&&Sr[n]?(""+o).trim():o+"px"}function Re(n,o){n=n.style;for(var f in o)if(o.hasOwnProperty(f)){var p=f.indexOf("--")===0,C=Wt(f,o[f],p);f==="float"&&(f="cssFloat"),p?n.setProperty(f,C):n[f]=C}}var qt=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(n,o){if(o){if(qt[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(a(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(a(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(a(61))}if(o.style!=null&&typeof o.style!="object")throw Error(a(62))}}function Dt(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function Zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xs=null,ut=null,Vn=null;function Ys(n){if(n=Na(n)){if(typeof Xs!="function")throw Error(a(280));var o=n.stateNode;o&&(o=Ll(o),Xs(n.stateNode,n.type,o))}}function nt(n){ut?Vn?Vn.push(n):Vn=[n]:ut=n}function Ct(){if(ut){var n=ut,o=Vn;if(Vn=ut=null,Ys(n),o)for(n=0;n<o.length;n++)Ys(o[n])}}function en(n,o){return n(o)}function Et(){}var or=!1;function Gt(n,o,f){if(or)return n(o,f);or=!0;try{return en(n,o,f)}finally{or=!1,(ut!==null||Vn!==null)&&(Et(),Ct())}}function _t(n,o){var f=n.stateNode;if(f===null)return null;var p=Ll(f);if(p===null)return null;f=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(f&&typeof f!="function")throw Error(a(231,o,typeof f));return f}var hs=!1;if(b)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{hs=!1}function Un(n,o,f,p,C,N,_,V,X){var le=Array.prototype.slice.call(arguments,3);try{o.apply(f,le)}catch(Ee){this.onError(Ee)}}var tn=!1,wn=null,On=!1,Me=null,Ks={onError:function(n){tn=!0,wn=n}};function ia(n,o,f,p,C,N,_,V,X){tn=!1,wn=null,Un.apply(Ks,arguments)}function qn(n,o,f,p,C,N,_,V,X){if(ia.apply(this,arguments),tn){if(tn){var le=wn;tn=!1,wn=null}else throw Error(a(198));On||(On=!0,Me=le)}}function gr(n){var o=n,f=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(f=o.return),n=o.return;while(n)}return o.tag===3?f:null}function Ti(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Ii(n){if(gr(n)!==n)throw Error(a(188))}function Fr(n){var o=n.alternate;if(!o){if(o=gr(n),o===null)throw Error(a(188));return o!==n?null:n}for(var f=n,p=o;;){var C=f.return;if(C===null)break;var N=C.alternate;if(N===null){if(p=C.return,p!==null){f=p;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===f)return Ii(C),n;if(N===p)return Ii(C),o;N=N.sibling}throw Error(a(188))}if(f.return!==p.return)f=C,p=N;else{for(var _=!1,V=C.child;V;){if(V===f){_=!0,f=C,p=N;break}if(V===p){_=!0,p=C,f=N;break}V=V.sibling}if(!_){for(V=N.child;V;){if(V===f){_=!0,f=N,p=C;break}if(V===p){_=!0,p=N,f=C;break}V=V.sibling}if(!_)throw Error(a(189))}}if(f.alternate!==p)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?n:o}function gl(n){return n=Fr(n),n!==null?pl(n):null}function pl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=pl(n);if(o!==null)return o;n=n.sibling}return null}var Tr=s.unstable_scheduleCallback,Pn=s.unstable_cancelCallback,Vt=s.unstable_shouldYield,xl=s.unstable_requestPaint,It=s.unstable_now,oa=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,yl=s.unstable_UserBlockingPriority,jt=s.unstable_NormalPriority,Zs=s.unstable_LowPriority,wl=s.unstable_IdlePriority,wt=null,lt=null;function pt(n){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(wt,n,void 0,(n.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:mn,aa=Math.log,la=Math.LN2;function mn(n){return n>>>=0,n===0?32:31-(aa(n)/la|0)|0}var Ir=64,so=4194304;function Ft(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function kr(n,o){var f=n.pendingLanes;if(f===0)return 0;var p=0,C=n.suspendedLanes,N=n.pingedLanes,_=f&268435455;if(_!==0){var V=_&~C;V!==0?p=Ft(V):(N&=_,N!==0&&(p=Ft(N)))}else _=f&~C,_!==0?p=Ft(_):N!==0&&(p=Ft(N));if(p===0)return 0;if(o!==0&&o!==p&&(o&C)===0&&(C=p&-p,N=o&-o,C>=N||C===16&&(N&4194240)!==0))return o;if((p&4)!==0&&(p|=f&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=p;0<o;)f=31-ar(o),C=1<<f,p|=n[f],o&=~C;return p}function fu(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(n,o){for(var f=n.suspendedLanes,p=n.pingedLanes,C=n.expirationTimes,N=n.pendingLanes;0<N;){var _=31-ar(N),V=1<<_,X=C[_];X===-1?((V&f)===0||(V&p)!==0)&&(C[_]=fu(V,o)):X<=o&&(n.expiredLanes|=V),N&=~V}}function kt(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function An(){var n=Ir;return Ir<<=1,(Ir&4194240)===0&&(Ir=64),n}function te(n){for(var o=[],f=0;31>f;f++)o.push(n);return o}function M(n,o,f){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-ar(o),n[o]=f}function Xe(n,o){var f=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<f;){var C=31-ar(f),N=1<<C;o[C]=0,p[C]=-1,n[C]=-1,f&=~N}}function cn(n,o){var f=n.entangledLanes|=o;for(n=n.entanglements;f;){var p=31-ar(f),C=1<<p;C&o|n[p]&o&&(n[p]|=o),f&=~C}}var ct=0;function vl(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var io,$n,Ze,Ut,ca,ua=!1,$s=[],Rr=null,Vr=null,ms=null,$t=new Map,ts=new Map,zn=[],Je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cl(n,o){switch(n){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":$t.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(o.pointerId)}}function st(n,o,f,p,C,N){return n===null||n.nativeEvent!==N?(n={blockedOn:o,domEventName:f,eventSystemFlags:p,nativeEvent:N,targetContainers:[C]},o!==null&&(o=Na(o),o!==null&&$n(o)),n):(n.eventSystemFlags|=p,o=n.targetContainers,C!==null&&o.indexOf(C)===-1&&o.push(C),n)}function Sn(n,o,f,p,C){switch(o){case"focusin":return Rr=st(Rr,n,o,f,p,C),!0;case"dragenter":return Vr=st(Vr,n,o,f,p,C),!0;case"mouseover":return ms=st(ms,n,o,f,p,C),!0;case"pointerover":var N=C.pointerId;return $t.set(N,st($t.get(N)||null,n,o,f,p,C)),!0;case"gotpointercapture":return N=C.pointerId,ts.set(N,st(ts.get(N)||null,n,o,f,p,C)),!0}return!1}function El(n){var o=ji(n.target);if(o!==null){var f=gr(o);if(f!==null){if(o=f.tag,o===13){if(o=Ti(f),o!==null){n.blockedOn=o,ca(n.priority,function(){Ze(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){n.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qs(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var f=oo(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(f===null){f=n.nativeEvent;var p=new f.constructor(f.type,f);Nr=p,f.target.dispatchEvent(p),Nr=null}else return o=Na(f),o!==null&&$n(o),n.blockedOn=f,!1;o.shift()}return!0}function da(n,o,f){Qs(n)&&f.delete(o)}function Ts(){ua=!1,Rr!==null&&Qs(Rr)&&(Rr=null),Vr!==null&&Qs(Vr)&&(Vr=null),ms!==null&&Qs(ms)&&(ms=null),$t.forEach(da),ts.forEach(da)}function ki(n,o){n.blockedOn===o&&(n.blockedOn=null,ua||(ua=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ts)))}function ns(n){function o(C){return ki(C,n)}if(0<$s.length){ki($s[0],n);for(var f=1;f<$s.length;f++){var p=$s[f];p.blockedOn===n&&(p.blockedOn=null)}}for(Rr!==null&&ki(Rr,n),Vr!==null&&ki(Vr,n),ms!==null&&ki(ms,n),$t.forEach(o),ts.forEach(o),f=0;f<zn.length;f++)p=zn[f],p.blockedOn===n&&(p.blockedOn=null);for(;0<zn.length&&(f=zn[0],f.blockedOn===null);)El(f),f.blockedOn===null&&zn.shift()}var Ur=re.ReactCurrentBatchConfig,gs=!0;function bl(n,o,f,p){var C=ct,N=Ur.transition;Ur.transition=null;try{ct=1,Is(n,o,f,p)}finally{ct=C,Ur.transition=N}}function Ri(n,o,f,p){var C=ct,N=Ur.transition;Ur.transition=null;try{ct=4,Is(n,o,f,p)}finally{ct=C,Ur.transition=N}}function Is(n,o,f,p){if(gs){var C=oo(n,o,f,p);if(C===null)Eu(n,o,p,Nn,f),Cl(n,p);else if(Sn(C,n,o,f,p))p.stopPropagation();else if(Cl(n,p),o&4&&-1<Je.indexOf(n)){for(;C!==null;){var N=Na(C);if(N!==null&&io(N),N=oo(n,o,f,p),N===null&&Eu(n,o,p,Nn,f),N===C)break;C=N}C!==null&&p.stopPropagation()}else Eu(n,o,p,null,f)}}var Nn=null;function oo(n,o,f,p){if(Nn=null,n=Zn(p),n=ji(n),n!==null)if(o=gr(n),o===null)n=null;else if(f=o.tag,f===13){if(n=Ti(o),n!==null)return n;n=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Nn=n,null}function fa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oa()){case ye:return 1;case yl:return 4;case jt:case Zs:return 16;case wl:return 536870912;default:return 16}default:return 16}}var rs=null,ha=null,ao=null;function Al(){if(ao)return ao;var n,o=ha,f=o.length,p,C="value"in rs?rs.value:rs.textContent,N=C.length;for(n=0;n<f&&o[n]===C[n];n++);var _=f-n;for(p=1;p<=_&&o[f-p]===C[N-p];p++);return ao=C.slice(n,1<p?1-p:void 0)}function bt(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function _i(){return!0}function Oi(){return!1}function un(n){function o(f,p,C,N,_){this._reactName=f,this._targetInst=C,this.type=p,this.nativeEvent=N,this.target=_,this.currentTarget=null;for(var V in n)n.hasOwnProperty(V)&&(f=n[V],this[V]=f?f(N):N[V]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?_i:Oi,this.isPropagationStopped=Oi,this}return pe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),o}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=un(Js),ot=pe({},Js,{view:0,detail:0}),Tn=un(ot),ei,lo,Pi,co=pe({},ot,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pi&&(Pi&&n.type==="mousemove"?(ei=n.screenX-Pi.screenX,lo=n.screenY-Pi.screenY):lo=ei=0,Pi=n),ei)},movementY:function(n){return"movementY"in n?n.movementY:lo}}),Sl=un(co),ma=pe({},co,{dataTransfer:0}),gn=un(ma),ga=pe({},ot,{relatedTarget:0}),zt=un(ga),uo=pe({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=un(uo),Ot=pe({},Js,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qe=un(Ot),hu=pe({},Js,{data:0}),Mt=un(hu),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zr(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=mu[n])?!!o[n]:!1}function Di(){return zr}var Nl=pe({},ot,{key:function(n){if(n.key){var o=Rs[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=bt(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ti[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(n){return n.type==="keypress"?bt(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bt(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pa=un(Nl),Tl=pe({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xa=un(Tl),gu=pe({},ot,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),ni=un(gu),ya=pe({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=un(ya),Mi=pe({},co,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xu=un(Mi),ps=[9,13,27,32],ri=b&&"CompositionEvent"in window,Dn=null;b&&"documentMode"in document&&(Dn=document.documentMode);var Il=b&&"TextEvent"in window&&!Dn,_r=b&&(!ri||Dn&&8<Dn&&11>=Dn),kl=" ",fo=!1;function Rl(n,o){switch(n){case"keyup":return ps.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hn=!1;function yu(n,o){switch(n){case"compositionend":return wa(o);case"keypress":return o.which!==32?null:(fo=!0,kl);case"textInput":return n=o.data,n===kl&&fo?null:n;default:return null}}function va(n,o){if(Hn)return n==="compositionend"||!ri&&Rl(n,o)?(n=Al(),ao=ha=rs=null,Hn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _r&&o.locale!=="ko"?null:o.data;default:return null}}var Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yt(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Li[n.type]:o==="textarea"}function Bi(n,o,f,p){nt(p),o=Pl(o,"onChange"),0<o.length&&(f=new ae("onChange","change",null,f,p),n.push({event:f,listeners:o}))}var k=null,e=null;function r(n){U0(n,0)}function i(n){var o=go(n);if(En(o))return n}function l(n,o){if(n==="change")return o}var c=!1;if(b){var d;if(b){var h="oninput"in document;if(!h){var x=document.createElement("div");x.setAttribute("oninput","return;"),h=typeof x.oninput=="function"}d=h}else d=!1;c=d&&(!document.documentMode||9<document.documentMode)}function v(){k&&(k.detachEvent("onpropertychange",I),e=k=null)}function I(n){if(n.propertyName==="value"&&i(e)){var o=[];Bi(o,e,n,Zn(n)),Gt(r,o)}}function R(n,o,f){n==="focusin"?(v(),k=o,e=f,k.attachEvent("onpropertychange",I)):n==="focusout"&&v()}function P(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return i(e)}function B(n,o){if(n==="click")return i(o)}function H(n,o){if(n==="input"||n==="change")return i(o)}function Y(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var J=typeof Object.is=="function"?Object.is:Y;function oe(n,o){if(J(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var f=Object.keys(n),p=Object.keys(o);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var C=f[p];if(!A.call(o,C)||!J(n[C],o[C]))return!1}return!0}function Se(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Te(n,o){var f=Se(n);n=0;for(var p;f;){if(f.nodeType===3){if(p=n+f.textContent.length,n<=o&&p>=o)return{node:f,offset:o-n};n=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Se(f)}}function Ce(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Ce(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function ft(){for(var n=window,o=mt();o instanceof n.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)n=o.contentWindow;else break;o=mt(n.document)}return o}function it(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function Qn(n){var o=ft(),f=n.focusedElem,p=n.selectionRange;if(o!==f&&f&&f.ownerDocument&&Ce(f.ownerDocument.documentElement,f)){if(p!==null&&it(f)){if(o=p.start,n=p.end,n===void 0&&(n=o),"selectionStart"in f)f.selectionStart=o,f.selectionEnd=Math.min(n,f.value.length);else if(n=(o=f.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var C=f.textContent.length,N=Math.min(p.start,C);p=p.end===void 0?N:Math.min(p.end,C),!n.extend&&N>p&&(C=p,p=N,N=C),C=Te(f,N);var _=Te(f,p);C&&_&&(n.rangeCount!==1||n.anchorNode!==C.node||n.anchorOffset!==C.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(C.node,C.offset),n.removeAllRanges(),N>p?(n.addRange(o),n.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),n.addRange(o)))}}for(o=[],n=f;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<o.length;f++)n=o[f],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Or=b&&"documentMode"in document&&11>=document.documentMode,pn=null,Tt=null,nn=null,Wn=!1;function _s(n,o,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Wn||pn==null||pn!==mt(p)||(p=pn,"selectionStart"in p&&it(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),nn&&oe(nn,p)||(nn=p,p=Pl(Tt,"onSelect"),0<p.length&&(o=new ae("onSelect","select",null,o,f),n.push({event:o,listeners:p}),o.target=pn)))}function ss(n,o){var f={};return f[n.toLowerCase()]=o.toLowerCase(),f["Webkit"+n]="webkit"+o,f["Moz"+n]="moz"+o,f}var si={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},Ca={},P0={};b&&(P0=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function _l(n){if(Ca[n])return Ca[n];if(!si[n])return n;var o=si[n],f;for(f in o)if(o.hasOwnProperty(f)&&f in P0)return Ca[n]=o[f];return n}var D0=_l("animationend"),M0=_l("animationiteration"),L0=_l("animationstart"),B0=_l("transitionend"),j0=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(n,o){j0.set(n,o),g(o,[n])}for(var wu=0;wu<F0.length;wu++){var vu=F0[wu],q2=vu.toLowerCase(),$2=vu[0].toUpperCase()+vu.slice(1);ii(q2,"on"+$2)}ii(D0,"onAnimationEnd"),ii(M0,"onAnimationIteration"),ii(L0,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(B0,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function V0(n,o,f){var p=n.type||"unknown-event";n.currentTarget=f,qn(p,o,void 0,n),n.currentTarget=null}function U0(n,o){o=(o&4)!==0;for(var f=0;f<n.length;f++){var p=n[f],C=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var _=p.length-1;0<=_;_--){var V=p[_],X=V.instance,le=V.currentTarget;if(V=V.listener,X!==N&&C.isPropagationStopped())break e;V0(C,V,le),N=X}else for(_=0;_<p.length;_++){if(V=p[_],X=V.instance,le=V.currentTarget,V=V.listener,X!==N&&C.isPropagationStopped())break e;V0(C,V,le),N=X}}}if(On)throw n=Me,On=!1,Me=null,n}function Yt(n,o){var f=o[Iu];f===void 0&&(f=o[Iu]=new Set);var p=n+"__bubble";f.has(p)||(z0(o,n,2,!1),f.add(p))}function Cu(n,o,f){var p=0;o&&(p|=4),z0(f,n,p,o)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function ba(n){if(!n[Ol]){n[Ol]=!0,u.forEach(function(f){f!=="selectionchange"&&(Q2.has(f)||Cu(f,!1,n),Cu(f,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Ol]||(o[Ol]=!0,Cu("selectionchange",!1,o))}}function z0(n,o,f,p){switch(fa(o)){case 1:var C=bl;break;case 4:C=Ri;break;default:C=Is}f=C.bind(null,o,f,n),C=void 0,!hs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(C=!0),p?C!==void 0?n.addEventListener(o,f,{capture:!0,passive:C}):n.addEventListener(o,f,!0):C!==void 0?n.addEventListener(o,f,{passive:C}):n.addEventListener(o,f,!1)}function Eu(n,o,f,p,C){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var V=p.stateNode.containerInfo;if(V===C||V.nodeType===8&&V.parentNode===C)break;if(_===4)for(_=p.return;_!==null;){var X=_.tag;if((X===3||X===4)&&(X=_.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;_=_.return}for(;V!==null;){if(_=ji(V),_===null)return;if(X=_.tag,X===5||X===6){p=N=_;continue e}V=V.parentNode}}p=p.return}Gt(function(){var le=N,Ee=Zn(f),Ae=[];e:{var ve=j0.get(n);if(ve!==void 0){var Be=ae,Ue=n;switch(n){case"keypress":if(bt(f)===0)break e;case"keydown":case"keyup":Be=pa;break;case"focusin":Ue="focus",Be=zt;break;case"focusout":Ue="blur",Be=zt;break;case"beforeblur":case"afterblur":Be=zt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=ni;break;case D0:case M0:case L0:Be=ks;break;case B0:Be=pu;break;case"scroll":Be=Tn;break;case"wheel":Be=xu;break;case"copy":case"cut":case"paste":Be=qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=xa}var We=(o&4)!==0,xn=!We&&n==="scroll",ne=We?ve!==null?ve+"Capture":null:ve;We=[];for(var $=le,ie;$!==null;){ie=$;var Ie=ie.stateNode;if(ie.tag===5&&Ie!==null&&(ie=Ie,ne!==null&&(Ie=_t($,ne),Ie!=null&&We.push(Aa($,Ie,ie)))),xn)break;$=$.return}0<We.length&&(ve=new Be(ve,Ue,null,f,Ee),Ae.push({event:ve,listeners:We}))}}if((o&7)===0){e:{if(ve=n==="mouseover"||n==="pointerover",Be=n==="mouseout"||n==="pointerout",ve&&f!==Nr&&(Ue=f.relatedTarget||f.fromElement)&&(ji(Ue)||Ue[Os]))break e;if((Be||ve)&&(ve=Ee.window===Ee?Ee:(ve=Ee.ownerDocument)?ve.defaultView||ve.parentWindow:window,Be?(Ue=f.relatedTarget||f.toElement,Be=le,Ue=Ue?ji(Ue):null,Ue!==null&&(xn=gr(Ue),Ue!==xn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Be=null,Ue=le),Be!==Ue)){if(We=Sl,Ie="onMouseLeave",ne="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(We=xa,Ie="onPointerLeave",ne="onPointerEnter",$="pointer"),xn=Be==null?ve:go(Be),ie=Ue==null?ve:go(Ue),ve=new We(Ie,$+"leave",Be,f,Ee),ve.target=xn,ve.relatedTarget=ie,Ie=null,ji(Ee)===le&&(We=new We(ne,$+"enter",Ue,f,Ee),We.target=ie,We.relatedTarget=xn,Ie=We),xn=Ie,Be&&Ue)t:{for(We=Be,ne=Ue,$=0,ie=We;ie;ie=ho(ie))$++;for(ie=0,Ie=ne;Ie;Ie=ho(Ie))ie++;for(;0<$-ie;)We=ho(We),$--;for(;0<ie-$;)ne=ho(ne),ie--;for(;$--;){if(We===ne||ne!==null&&We===ne.alternate)break t;We=ho(We),ne=ho(ne)}We=null}else We=null;Be!==null&&H0(Ae,ve,Be,We,!1),Ue!==null&&xn!==null&&H0(Ae,xn,Ue,We,!0)}}e:{if(ve=le?go(le):window,Be=ve.nodeName&&ve.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ve.type==="file")var Ge=l;else if(yt(ve))if(c)Ge=H;else{Ge=P;var $e=R}else(Be=ve.nodeName)&&Be.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ge=B);if(Ge&&(Ge=Ge(n,le))){Bi(Ae,Ge,f,Ee);break e}$e&&$e(n,ve,le),n==="focusout"&&($e=ve._wrapperState)&&$e.controlled&&ve.type==="number"&&tt(ve,"number",ve.value)}switch($e=le?go(le):window,n){case"focusin":(yt($e)||$e.contentEditable==="true")&&(pn=$e,Tt=le,nn=null);break;case"focusout":nn=Tt=pn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":Wn=!1,_s(Ae,f,Ee);break;case"selectionchange":if(Or)break;case"keydown":case"keyup":_s(Ae,f,Ee)}var Qe;if(ri)e:{switch(n){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Hn?Rl(n,f)&&(rt="onCompositionEnd"):n==="keydown"&&f.keyCode===229&&(rt="onCompositionStart");rt&&(_r&&f.locale!=="ko"&&(Hn||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Hn&&(Qe=Al()):(rs=Ee,ha="value"in rs?rs.value:rs.textContent,Hn=!0)),$e=Pl(le,rt),0<$e.length&&(rt=new Mt(rt,n,null,f,Ee),Ae.push({event:rt,listeners:$e}),Qe?rt.data=Qe:(Qe=wa(f),Qe!==null&&(rt.data=Qe)))),(Qe=Il?yu(n,f):va(n,f))&&(le=Pl(le,"onBeforeInput"),0<le.length&&(Ee=new Mt("onBeforeInput","beforeinput",null,f,Ee),Ae.push({event:Ee,listeners:le}),Ee.data=Qe))}U0(Ae,o)})}function Aa(n,o,f){return{instance:n,listener:o,currentTarget:f}}function Pl(n,o){for(var f=o+"Capture",p=[];n!==null;){var C=n,N=C.stateNode;C.tag===5&&N!==null&&(C=N,N=_t(n,f),N!=null&&p.unshift(Aa(n,N,C)),N=_t(n,o),N!=null&&p.push(Aa(n,N,C))),n=n.return}return p}function ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function H0(n,o,f,p,C){for(var N=o._reactName,_=[];f!==null&&f!==p;){var V=f,X=V.alternate,le=V.stateNode;if(X!==null&&X===p)break;V.tag===5&&le!==null&&(V=le,C?(X=_t(f,N),X!=null&&_.unshift(Aa(f,X,V))):C||(X=_t(f,N),X!=null&&_.push(Aa(f,X,V)))),f=f.return}_.length!==0&&n.push({event:o,listeners:_})}var J2=/\r\n?/g,ey=/\u0000|\uFFFD/g;function W0(n){return(typeof n=="string"?n:""+n).replace(J2,`
`).replace(ey,"")}function Dl(n,o,f){if(o=W0(o),W0(n)!==o&&f)throw Error(a(425))}function Ml(){}var bu=null,Au=null;function Su(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,ty=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,ny=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(n){return G0.resolve(null).then(n).catch(ry)}:Nu;function ry(n){setTimeout(function(){throw n})}function Tu(n,o){var f=o,p=0;do{var C=f.nextSibling;if(n.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(p===0){n.removeChild(C),ns(o);return}p--}else f!=="$"&&f!=="$?"&&f!=="$!"||p++;f=C}while(f);ns(o)}function oi(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function X0(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var f=n.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return n;o--}else f==="/$"&&o++}n=n.previousSibling}return null}var mo=Math.random().toString(36).slice(2),xs="__reactFiber$"+mo,Sa="__reactProps$"+mo,Os="__reactContainer$"+mo,Iu="__reactEvents$"+mo,sy="__reactListeners$"+mo,iy="__reactHandles$"+mo;function ji(n){var o=n[xs];if(o)return o;for(var f=n.parentNode;f;){if(o=f[Os]||f[xs]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(n=X0(n);n!==null;){if(f=n[xs])return f;n=X0(n)}return o}n=f,f=n.parentNode}return null}function Na(n){return n=n[xs]||n[Os],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function go(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(a(33))}function Ll(n){return n[Sa]||null}var ku=[],po=-1;function ai(n){return{current:n}}function Kt(n){0>po||(n.current=ku[po],ku[po]=null,po--)}function Ht(n,o){po++,ku[po]=n.current,n.current=o}var li={},Jn=ai(li),pr=ai(!1),Fi=li;function xo(n,o){var f=n.type.contextTypes;if(!f)return li;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var C={},N;for(N in f)C[N]=o[N];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=C),C}function xr(n){return n=n.childContextTypes,n!=null}function Bl(){Kt(pr),Kt(Jn)}function Y0(n,o,f){if(Jn.current!==li)throw Error(a(168));Ht(Jn,o),Ht(pr,f)}function K0(n,o,f){var p=n.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return f;p=p.getChildContext();for(var C in p)if(!(C in o))throw Error(a(108,Ke(n)||"Unknown",C));return pe({},f,p)}function jl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||li,Fi=Jn.current,Ht(Jn,n),Ht(pr,pr.current),!0}function Z0(n,o,f){var p=n.stateNode;if(!p)throw Error(a(169));f?(n=K0(n,o,Fi),p.__reactInternalMemoizedMergedChildContext=n,Kt(pr),Kt(Jn),Ht(Jn,n)):Kt(pr),Ht(pr,f)}var Ps=null,Fl=!1,Ru=!1;function q0(n){Ps===null?Ps=[n]:Ps.push(n)}function oy(n){Fl=!0,q0(n)}function ci(){if(!Ru&&Ps!==null){Ru=!0;var n=0,o=ct;try{var f=Ps;for(ct=1;n<f.length;n++){var p=f[n];do p=p(!0);while(p!==null)}Ps=null,Fl=!1}catch(C){throw Ps!==null&&(Ps=Ps.slice(n+1)),Tr(ye,ci),C}finally{ct=o,Ru=!1}}return null}var yo=[],wo=0,Vl=null,Ul=0,Hr=[],Wr=0,Vi=null,Ds=1,Ms="";function Ui(n,o){yo[wo++]=Ul,yo[wo++]=Vl,Vl=n,Ul=o}function $0(n,o,f){Hr[Wr++]=Ds,Hr[Wr++]=Ms,Hr[Wr++]=Vi,Vi=n;var p=Ds;n=Ms;var C=32-ar(p)-1;p&=~(1<<C),f+=1;var N=32-ar(o)+C;if(30<N){var _=C-C%5;N=(p&(1<<_)-1).toString(32),p>>=_,C-=_,Ds=1<<32-ar(o)+C|f<<C|p,Ms=N+n}else Ds=1<<N|f<<C|p,Ms=n}function _u(n){n.return!==null&&(Ui(n,1),$0(n,1,0))}function Ou(n){for(;n===Vl;)Vl=yo[--wo],yo[wo]=null,Ul=yo[--wo],yo[wo]=null;for(;n===Vi;)Vi=Hr[--Wr],Hr[Wr]=null,Ms=Hr[--Wr],Hr[Wr]=null,Ds=Hr[--Wr],Hr[Wr]=null}var Pr=null,Dr=null,Qt=!1,is=null;function Q0(n,o){var f=Kr(5,null,null,0);f.elementType="DELETED",f.stateNode=o,f.return=n,o=n.deletions,o===null?(n.deletions=[f],n.flags|=16):o.push(f)}function J0(n,o){switch(n.tag){case 5:var f=n.type;return o=o.nodeType!==1||f.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,Pr=n,Dr=oi(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,Pr=n,Dr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(f=Vi!==null?{id:Ds,overflow:Ms}:null,n.memoizedState={dehydrated:o,treeContext:f,retryLane:1073741824},f=Kr(18,null,null,0),f.stateNode=o,f.return=n,n.child=f,Pr=n,Dr=null,!0):!1;default:return!1}}function Pu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Du(n){if(Qt){var o=Dr;if(o){var f=o;if(!J0(n,o)){if(Pu(n))throw Error(a(418));o=oi(f.nextSibling);var p=Pr;o&&J0(n,o)?Q0(p,f):(n.flags=n.flags&-4097|2,Qt=!1,Pr=n)}}else{if(Pu(n))throw Error(a(418));n.flags=n.flags&-4097|2,Qt=!1,Pr=n}}}function eh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Pr=n}function zl(n){if(n!==Pr)return!1;if(!Qt)return eh(n),Qt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Su(n.type,n.memoizedProps)),o&&(o=Dr)){if(Pu(n))throw th(),Error(a(418));for(;o;)Q0(n,o),o=oi(o.nextSibling)}if(eh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var f=n.data;if(f==="/$"){if(o===0){Dr=oi(n.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++}n=n.nextSibling}Dr=null}}else Dr=Pr?oi(n.stateNode.nextSibling):null;return!0}function th(){for(var n=Dr;n;)n=oi(n.nextSibling)}function vo(){Dr=Pr=null,Qt=!1}function Mu(n){is===null?is=[n]:is.push(n)}var ay=re.ReactCurrentBatchConfig;function Ta(n,o,f){if(n=f.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(a(309));var p=f.stateNode}if(!p)throw Error(a(147,n));var C=p,N=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===N?o.ref:(o=function(_){var V=C.refs;_===null?delete V[N]:V[N]=_},o._stringRef=N,o)}if(typeof n!="string")throw Error(a(284));if(!f._owner)throw Error(a(290,n))}return n}function Hl(n,o){throw n=Object.prototype.toString.call(o),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function nh(n){var o=n._init;return o(n._payload)}function rh(n){function o(ne,$){if(n){var ie=ne.deletions;ie===null?(ne.deletions=[$],ne.flags|=16):ie.push($)}}function f(ne,$){if(!n)return null;for(;$!==null;)o(ne,$),$=$.sibling;return null}function p(ne,$){for(ne=new Map;$!==null;)$.key!==null?ne.set($.key,$):ne.set($.index,$),$=$.sibling;return ne}function C(ne,$){return ne=xi(ne,$),ne.index=0,ne.sibling=null,ne}function N(ne,$,ie){return ne.index=ie,n?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<$?(ne.flags|=2,$):ie):(ne.flags|=2,$)):(ne.flags|=1048576,$)}function _(ne){return n&&ne.alternate===null&&(ne.flags|=2),ne}function V(ne,$,ie,Ie){return $===null||$.tag!==6?($=Nd(ie,ne.mode,Ie),$.return=ne,$):($=C($,ie),$.return=ne,$)}function X(ne,$,ie,Ie){var Ge=ie.type;return Ge===q?Ee(ne,$,ie.props.children,Ie,ie.key):$!==null&&($.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ge&&nh(Ge)===$.type)?(Ie=C($,ie.props),Ie.ref=Ta(ne,$,ie),Ie.return=ne,Ie):(Ie=hc(ie.type,ie.key,ie.props,null,ne.mode,Ie),Ie.ref=Ta(ne,$,ie),Ie.return=ne,Ie)}function le(ne,$,ie,Ie){return $===null||$.tag!==4||$.stateNode.containerInfo!==ie.containerInfo||$.stateNode.implementation!==ie.implementation?($=Td(ie,ne.mode,Ie),$.return=ne,$):($=C($,ie.children||[]),$.return=ne,$)}function Ee(ne,$,ie,Ie,Ge){return $===null||$.tag!==7?($=Zi(ie,ne.mode,Ie,Ge),$.return=ne,$):($=C($,ie),$.return=ne,$)}function Ae(ne,$,ie){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Nd(""+$,ne.mode,ie),$.return=ne,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case fe:return ie=hc($.type,$.key,$.props,null,ne.mode,ie),ie.ref=Ta(ne,null,$),ie.return=ne,ie;case de:return $=Td($,ne.mode,ie),$.return=ne,$;case ge:var Ie=$._init;return Ae(ne,Ie($._payload),ie)}if(Br($)||he($))return $=Zi($,ne.mode,ie,null),$.return=ne,$;Hl(ne,$)}return null}function ve(ne,$,ie,Ie){var Ge=$!==null?$.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ge!==null?null:V(ne,$,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case fe:return ie.key===Ge?X(ne,$,ie,Ie):null;case de:return ie.key===Ge?le(ne,$,ie,Ie):null;case ge:return Ge=ie._init,ve(ne,$,Ge(ie._payload),Ie)}if(Br(ie)||he(ie))return Ge!==null?null:Ee(ne,$,ie,Ie,null);Hl(ne,ie)}return null}function Be(ne,$,ie,Ie,Ge){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ne=ne.get(ie)||null,V($,ne,""+Ie,Ge);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case fe:return ne=ne.get(Ie.key===null?ie:Ie.key)||null,X($,ne,Ie,Ge);case de:return ne=ne.get(Ie.key===null?ie:Ie.key)||null,le($,ne,Ie,Ge);case ge:var $e=Ie._init;return Be(ne,$,ie,$e(Ie._payload),Ge)}if(Br(Ie)||he(Ie))return ne=ne.get(ie)||null,Ee($,ne,Ie,Ge,null);Hl($,Ie)}return null}function Ue(ne,$,ie,Ie){for(var Ge=null,$e=null,Qe=$,rt=$=0,Bn=null;Qe!==null&&rt<ie.length;rt++){Qe.index>rt?(Bn=Qe,Qe=null):Bn=Qe.sibling;var Nt=ve(ne,Qe,ie[rt],Ie);if(Nt===null){Qe===null&&(Qe=Bn);break}n&&Qe&&Nt.alternate===null&&o(ne,Qe),$=N(Nt,$,rt),$e===null?Ge=Nt:$e.sibling=Nt,$e=Nt,Qe=Bn}if(rt===ie.length)return f(ne,Qe),Qt&&Ui(ne,rt),Ge;if(Qe===null){for(;rt<ie.length;rt++)Qe=Ae(ne,ie[rt],Ie),Qe!==null&&($=N(Qe,$,rt),$e===null?Ge=Qe:$e.sibling=Qe,$e=Qe);return Qt&&Ui(ne,rt),Ge}for(Qe=p(ne,Qe);rt<ie.length;rt++)Bn=Be(Qe,ne,rt,ie[rt],Ie),Bn!==null&&(n&&Bn.alternate!==null&&Qe.delete(Bn.key===null?rt:Bn.key),$=N(Bn,$,rt),$e===null?Ge=Bn:$e.sibling=Bn,$e=Bn);return n&&Qe.forEach(function(yi){return o(ne,yi)}),Qt&&Ui(ne,rt),Ge}function We(ne,$,ie,Ie){var Ge=he(ie);if(typeof Ge!="function")throw Error(a(150));if(ie=Ge.call(ie),ie==null)throw Error(a(151));for(var $e=Ge=null,Qe=$,rt=$=0,Bn=null,Nt=ie.next();Qe!==null&&!Nt.done;rt++,Nt=ie.next()){Qe.index>rt?(Bn=Qe,Qe=null):Bn=Qe.sibling;var yi=ve(ne,Qe,Nt.value,Ie);if(yi===null){Qe===null&&(Qe=Bn);break}n&&Qe&&yi.alternate===null&&o(ne,Qe),$=N(yi,$,rt),$e===null?Ge=yi:$e.sibling=yi,$e=yi,Qe=Bn}if(Nt.done)return f(ne,Qe),Qt&&Ui(ne,rt),Ge;if(Qe===null){for(;!Nt.done;rt++,Nt=ie.next())Nt=Ae(ne,Nt.value,Ie),Nt!==null&&($=N(Nt,$,rt),$e===null?Ge=Nt:$e.sibling=Nt,$e=Nt);return Qt&&Ui(ne,rt),Ge}for(Qe=p(ne,Qe);!Nt.done;rt++,Nt=ie.next())Nt=Be(Qe,ne,rt,Nt.value,Ie),Nt!==null&&(n&&Nt.alternate!==null&&Qe.delete(Nt.key===null?rt:Nt.key),$=N(Nt,$,rt),$e===null?Ge=Nt:$e.sibling=Nt,$e=Nt);return n&&Qe.forEach(function(Vy){return o(ne,Vy)}),Qt&&Ui(ne,rt),Ge}function xn(ne,$,ie,Ie){if(typeof ie=="object"&&ie!==null&&ie.type===q&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case fe:e:{for(var Ge=ie.key,$e=$;$e!==null;){if($e.key===Ge){if(Ge=ie.type,Ge===q){if($e.tag===7){f(ne,$e.sibling),$=C($e,ie.props.children),$.return=ne,ne=$;break e}}else if($e.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===ge&&nh(Ge)===$e.type){f(ne,$e.sibling),$=C($e,ie.props),$.ref=Ta(ne,$e,ie),$.return=ne,ne=$;break e}f(ne,$e);break}else o(ne,$e);$e=$e.sibling}ie.type===q?($=Zi(ie.props.children,ne.mode,Ie,ie.key),$.return=ne,ne=$):(Ie=hc(ie.type,ie.key,ie.props,null,ne.mode,Ie),Ie.ref=Ta(ne,$,ie),Ie.return=ne,ne=Ie)}return _(ne);case de:e:{for($e=ie.key;$!==null;){if($.key===$e)if($.tag===4&&$.stateNode.containerInfo===ie.containerInfo&&$.stateNode.implementation===ie.implementation){f(ne,$.sibling),$=C($,ie.children||[]),$.return=ne,ne=$;break e}else{f(ne,$);break}else o(ne,$);$=$.sibling}$=Td(ie,ne.mode,Ie),$.return=ne,ne=$}return _(ne);case ge:return $e=ie._init,xn(ne,$,$e(ie._payload),Ie)}if(Br(ie))return Ue(ne,$,ie,Ie);if(he(ie))return We(ne,$,ie,Ie);Hl(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,$!==null&&$.tag===6?(f(ne,$.sibling),$=C($,ie),$.return=ne,ne=$):(f(ne,$),$=Nd(ie,ne.mode,Ie),$.return=ne,ne=$),_(ne)):f(ne,$)}return xn}var Co=rh(!0),sh=rh(!1),Wl=ai(null),Gl=null,Eo=null,Lu=null;function Bu(){Lu=Eo=Gl=null}function ju(n){var o=Wl.current;Kt(Wl),n._currentValue=o}function Fu(n,o,f){for(;n!==null;){var p=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),n===f)break;n=n.return}}function bo(n,o){Gl=n,Lu=Eo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(yr=!0),n.firstContext=null)}function Gr(n){var o=n._currentValue;if(Lu!==n)if(n={context:n,memoizedValue:o,next:null},Eo===null){if(Gl===null)throw Error(a(308));Eo=n,Gl.dependencies={lanes:0,firstContext:n}}else Eo=Eo.next=n;return o}var zi=null;function Vu(n){zi===null?zi=[n]:zi.push(n)}function ih(n,o,f,p){var C=o.interleaved;return C===null?(f.next=f,Vu(o)):(f.next=C.next,C.next=f),o.interleaved=f,Ls(n,p)}function Ls(n,o){n.lanes|=o;var f=n.alternate;for(f!==null&&(f.lanes|=o),f=n,n=n.return;n!==null;)n.childLanes|=o,f=n.alternate,f!==null&&(f.childLanes|=o),f=n,n=n.return;return f.tag===3?f.stateNode:null}var ui=!1;function Uu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Bs(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function di(n,o,f){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(At&2)!==0){var C=p.pending;return C===null?o.next=o:(o.next=C.next,C.next=o),p.pending=o,Ls(n,f)}return C=p.interleaved,C===null?(o.next=o,Vu(p)):(o.next=C.next,C.next=o),p.interleaved=o,Ls(n,f)}function Xl(n,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194240)!==0)){var p=o.lanes;p&=n.pendingLanes,f|=p,o.lanes=f,cn(n,f)}}function ah(n,o){var f=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var C=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var _={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};N===null?C=N=_:N=N.next=_,f=f.next}while(f!==null);N===null?C=N=o:N=N.next=o}else C=N=o;f={baseState:p.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:p.shared,effects:p.effects},n.updateQueue=f;return}n=f.lastBaseUpdate,n===null?f.firstBaseUpdate=o:n.next=o,f.lastBaseUpdate=o}function Yl(n,o,f,p){var C=n.updateQueue;ui=!1;var N=C.firstBaseUpdate,_=C.lastBaseUpdate,V=C.shared.pending;if(V!==null){C.shared.pending=null;var X=V,le=X.next;X.next=null,_===null?N=le:_.next=le,_=X;var Ee=n.alternate;Ee!==null&&(Ee=Ee.updateQueue,V=Ee.lastBaseUpdate,V!==_&&(V===null?Ee.firstBaseUpdate=le:V.next=le,Ee.lastBaseUpdate=X))}if(N!==null){var Ae=C.baseState;_=0,Ee=le=X=null,V=N;do{var ve=V.lane,Be=V.eventTime;if((p&ve)===ve){Ee!==null&&(Ee=Ee.next={eventTime:Be,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ue=n,We=V;switch(ve=o,Be=f,We.tag){case 1:if(Ue=We.payload,typeof Ue=="function"){Ae=Ue.call(Be,Ae,ve);break e}Ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=We.payload,ve=typeof Ue=="function"?Ue.call(Be,Ae,ve):Ue,ve==null)break e;Ae=pe({},Ae,ve);break e;case 2:ui=!0}}V.callback!==null&&V.lane!==0&&(n.flags|=64,ve=C.effects,ve===null?C.effects=[V]:ve.push(V))}else Be={eventTime:Be,lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ee===null?(le=Ee=Be,X=Ae):Ee=Ee.next=Be,_|=ve;if(V=V.next,V===null){if(V=C.shared.pending,V===null)break;ve=V,V=ve.next,ve.next=null,C.lastBaseUpdate=ve,C.shared.pending=null}}while(!0);if(Ee===null&&(X=Ae),C.baseState=X,C.firstBaseUpdate=le,C.lastBaseUpdate=Ee,o=C.shared.interleaved,o!==null){C=o;do _|=C.lane,C=C.next;while(C!==o)}else N===null&&(C.shared.lanes=0);Gi|=_,n.lanes=_,n.memoizedState=Ae}}function lh(n,o,f){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var p=n[o],C=p.callback;if(C!==null){if(p.callback=null,p=f,typeof C!="function")throw Error(a(191,C));C.call(p)}}}var Ia={},ys=ai(Ia),ka=ai(Ia),Ra=ai(Ia);function Hi(n){if(n===Ia)throw Error(a(174));return n}function zu(n,o){switch(Ht(Ra,o),Ht(ka,n),Ht(ys,Ia),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Gs(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Gs(o,n)}Kt(ys),Ht(ys,o)}function Ao(){Kt(ys),Kt(ka),Kt(Ra)}function ch(n){Hi(Ra.current);var o=Hi(ys.current),f=Gs(o,n.type);o!==f&&(Ht(ka,n),Ht(ys,f))}function Hu(n){ka.current===n&&(Kt(ys),Kt(ka))}var rn=ai(0);function Kl(n){for(var o=n;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wu=[];function Gu(){for(var n=0;n<Wu.length;n++)Wu[n]._workInProgressVersionPrimary=null;Wu.length=0}var Zl=re.ReactCurrentDispatcher,Xu=re.ReactCurrentBatchConfig,Wi=0,sn=null,In=null,Mn=null,ql=!1,_a=!1,Oa=0,ly=0;function er(){throw Error(a(321))}function Yu(n,o){if(o===null)return!1;for(var f=0;f<o.length&&f<n.length;f++)if(!J(n[f],o[f]))return!1;return!0}function Ku(n,o,f,p,C,N){if(Wi=N,sn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Zl.current=n===null||n.memoizedState===null?fy:hy,n=f(p,C),_a){N=0;do{if(_a=!1,Oa=0,25<=N)throw Error(a(301));N+=1,Mn=In=null,o.updateQueue=null,Zl.current=my,n=f(p,C)}while(_a)}if(Zl.current=Jl,o=In!==null&&In.next!==null,Wi=0,Mn=In=sn=null,ql=!1,o)throw Error(a(300));return n}function Zu(){var n=Oa!==0;return Oa=0,n}function ws(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?sn.memoizedState=Mn=n:Mn=Mn.next=n,Mn}function Xr(){if(In===null){var n=sn.alternate;n=n!==null?n.memoizedState:null}else n=In.next;var o=Mn===null?sn.memoizedState:Mn.next;if(o!==null)Mn=o,In=n;else{if(n===null)throw Error(a(310));In=n,n={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Mn===null?sn.memoizedState=Mn=n:Mn=Mn.next=n}return Mn}function Pa(n,o){return typeof o=="function"?o(n):o}function qu(n){var o=Xr(),f=o.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=n;var p=In,C=p.baseQueue,N=f.pending;if(N!==null){if(C!==null){var _=C.next;C.next=N.next,N.next=_}p.baseQueue=C=N,f.pending=null}if(C!==null){N=C.next,p=p.baseState;var V=_=null,X=null,le=N;do{var Ee=le.lane;if((Wi&Ee)===Ee)X!==null&&(X=X.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),p=le.hasEagerState?le.eagerState:n(p,le.action);else{var Ae={lane:Ee,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};X===null?(V=X=Ae,_=p):X=X.next=Ae,sn.lanes|=Ee,Gi|=Ee}le=le.next}while(le!==null&&le!==N);X===null?_=p:X.next=V,J(p,o.memoizedState)||(yr=!0),o.memoizedState=p,o.baseState=_,o.baseQueue=X,f.lastRenderedState=p}if(n=f.interleaved,n!==null){C=n;do N=C.lane,sn.lanes|=N,Gi|=N,C=C.next;while(C!==n)}else C===null&&(f.lanes=0);return[o.memoizedState,f.dispatch]}function $u(n){var o=Xr(),f=o.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=n;var p=f.dispatch,C=f.pending,N=o.memoizedState;if(C!==null){f.pending=null;var _=C=C.next;do N=n(N,_.action),_=_.next;while(_!==C);J(N,o.memoizedState)||(yr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),f.lastRenderedState=N}return[N,p]}function uh(){}function dh(n,o){var f=sn,p=Xr(),C=o(),N=!J(p.memoizedState,C);if(N&&(p.memoizedState=C,yr=!0),p=p.queue,Qu(mh.bind(null,f,p,n),[n]),p.getSnapshot!==o||N||Mn!==null&&Mn.memoizedState.tag&1){if(f.flags|=2048,Da(9,hh.bind(null,f,p,C,o),void 0,null),Ln===null)throw Error(a(349));(Wi&30)!==0||fh(f,o,C)}return C}function fh(n,o,f){n.flags|=16384,n={getSnapshot:o,value:f},o=sn.updateQueue,o===null?(o={lastEffect:null,stores:null},sn.updateQueue=o,o.stores=[n]):(f=o.stores,f===null?o.stores=[n]:f.push(n))}function hh(n,o,f,p){o.value=f,o.getSnapshot=p,gh(o)&&ph(n)}function mh(n,o,f){return f(function(){gh(o)&&ph(n)})}function gh(n){var o=n.getSnapshot;n=n.value;try{var f=o();return!J(n,f)}catch{return!0}}function ph(n){var o=Ls(n,1);o!==null&&cs(o,n,1,-1)}function xh(n){var o=ws();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:n},o.queue=n,n=n.dispatch=dy.bind(null,sn,n),[o.memoizedState,n]}function Da(n,o,f,p){return n={tag:n,create:o,destroy:f,deps:p,next:null},o=sn.updateQueue,o===null?(o={lastEffect:null,stores:null},sn.updateQueue=o,o.lastEffect=n.next=n):(f=o.lastEffect,f===null?o.lastEffect=n.next=n:(p=f.next,f.next=n,n.next=p,o.lastEffect=n)),n}function yh(){return Xr().memoizedState}function $l(n,o,f,p){var C=ws();sn.flags|=n,C.memoizedState=Da(1|o,f,void 0,p===void 0?null:p)}function Ql(n,o,f,p){var C=Xr();p=p===void 0?null:p;var N=void 0;if(In!==null){var _=In.memoizedState;if(N=_.destroy,p!==null&&Yu(p,_.deps)){C.memoizedState=Da(o,f,N,p);return}}sn.flags|=n,C.memoizedState=Da(1|o,f,N,p)}function wh(n,o){return $l(8390656,8,n,o)}function Qu(n,o){return Ql(2048,8,n,o)}function vh(n,o){return Ql(4,2,n,o)}function Ch(n,o){return Ql(4,4,n,o)}function Eh(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function bh(n,o,f){return f=f!=null?f.concat([n]):null,Ql(4,4,Eh.bind(null,o,n),f)}function Ju(){}function Ah(n,o){var f=Xr();o=o===void 0?null:o;var p=f.memoizedState;return p!==null&&o!==null&&Yu(o,p[1])?p[0]:(f.memoizedState=[n,o],n)}function Sh(n,o){var f=Xr();o=o===void 0?null:o;var p=f.memoizedState;return p!==null&&o!==null&&Yu(o,p[1])?p[0]:(n=n(),f.memoizedState=[n,o],n)}function Nh(n,o,f){return(Wi&21)===0?(n.baseState&&(n.baseState=!1,yr=!0),n.memoizedState=f):(J(f,o)||(f=An(),sn.lanes|=f,Gi|=f,n.baseState=!0),o)}function cy(n,o){var f=ct;ct=f!==0&&4>f?f:4,n(!0);var p=Xu.transition;Xu.transition={};try{n(!1),o()}finally{ct=f,Xu.transition=p}}function Th(){return Xr().memoizedState}function uy(n,o,f){var p=gi(n);if(f={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null},Ih(n))kh(o,f);else if(f=ih(n,o,f,p),f!==null){var C=cr();cs(f,n,p,C),Rh(f,o,p)}}function dy(n,o,f){var p=gi(n),C={lane:p,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ih(n))kh(o,C);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var _=o.lastRenderedState,V=N(_,f);if(C.hasEagerState=!0,C.eagerState=V,J(V,_)){var X=o.interleaved;X===null?(C.next=C,Vu(o)):(C.next=X.next,X.next=C),o.interleaved=C;return}}catch{}finally{}f=ih(n,o,C,p),f!==null&&(C=cr(),cs(f,n,p,C),Rh(f,o,p))}}function Ih(n){var o=n.alternate;return n===sn||o!==null&&o===sn}function kh(n,o){_a=ql=!0;var f=n.pending;f===null?o.next=o:(o.next=f.next,f.next=o),n.pending=o}function Rh(n,o,f){if((f&4194240)!==0){var p=o.lanes;p&=n.pendingLanes,f|=p,o.lanes=f,cn(n,f)}}var Jl={readContext:Gr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},fy={readContext:Gr,useCallback:function(n,o){return ws().memoizedState=[n,o===void 0?null:o],n},useContext:Gr,useEffect:wh,useImperativeHandle:function(n,o,f){return f=f!=null?f.concat([n]):null,$l(4194308,4,Eh.bind(null,o,n),f)},useLayoutEffect:function(n,o){return $l(4194308,4,n,o)},useInsertionEffect:function(n,o){return $l(4,2,n,o)},useMemo:function(n,o){var f=ws();return o=o===void 0?null:o,n=n(),f.memoizedState=[n,o],n},useReducer:function(n,o,f){var p=ws();return o=f!==void 0?f(o):o,p.memoizedState=p.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},p.queue=n,n=n.dispatch=uy.bind(null,sn,n),[p.memoizedState,n]},useRef:function(n){var o=ws();return n={current:n},o.memoizedState=n},useState:xh,useDebugValue:Ju,useDeferredValue:function(n){return ws().memoizedState=n},useTransition:function(){var n=xh(!1),o=n[0];return n=cy.bind(null,n[1]),ws().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,f){var p=sn,C=ws();if(Qt){if(f===void 0)throw Error(a(407));f=f()}else{if(f=o(),Ln===null)throw Error(a(349));(Wi&30)!==0||fh(p,o,f)}C.memoizedState=f;var N={value:f,getSnapshot:o};return C.queue=N,wh(mh.bind(null,p,N,n),[n]),p.flags|=2048,Da(9,hh.bind(null,p,N,f,o),void 0,null),f},useId:function(){var n=ws(),o=Ln.identifierPrefix;if(Qt){var f=Ms,p=Ds;f=(p&~(1<<32-ar(p)-1)).toString(32)+f,o=":"+o+"R"+f,f=Oa++,0<f&&(o+="H"+f.toString(32)),o+=":"}else f=ly++,o=":"+o+"r"+f.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},hy={readContext:Gr,useCallback:Ah,useContext:Gr,useEffect:Qu,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:Ch,useMemo:Sh,useReducer:qu,useRef:yh,useState:function(){return qu(Pa)},useDebugValue:Ju,useDeferredValue:function(n){var o=Xr();return Nh(o,In.memoizedState,n)},useTransition:function(){var n=qu(Pa)[0],o=Xr().memoizedState;return[n,o]},useMutableSource:uh,useSyncExternalStore:dh,useId:Th,unstable_isNewReconciler:!1},my={readContext:Gr,useCallback:Ah,useContext:Gr,useEffect:Qu,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:Ch,useMemo:Sh,useReducer:$u,useRef:yh,useState:function(){return $u(Pa)},useDebugValue:Ju,useDeferredValue:function(n){var o=Xr();return In===null?o.memoizedState=n:Nh(o,In.memoizedState,n)},useTransition:function(){var n=$u(Pa)[0],o=Xr().memoizedState;return[n,o]},useMutableSource:uh,useSyncExternalStore:dh,useId:Th,unstable_isNewReconciler:!1};function os(n,o){if(n&&n.defaultProps){o=pe({},o),n=n.defaultProps;for(var f in n)o[f]===void 0&&(o[f]=n[f]);return o}return o}function ed(n,o,f,p){o=n.memoizedState,f=f(p,o),f=f==null?o:pe({},o,f),n.memoizedState=f,n.lanes===0&&(n.updateQueue.baseState=f)}var ec={isMounted:function(n){return(n=n._reactInternals)?gr(n)===n:!1},enqueueSetState:function(n,o,f){n=n._reactInternals;var p=cr(),C=gi(n),N=Bs(p,C);N.payload=o,f!=null&&(N.callback=f),o=di(n,N,C),o!==null&&(cs(o,n,C,p),Xl(o,n,C))},enqueueReplaceState:function(n,o,f){n=n._reactInternals;var p=cr(),C=gi(n),N=Bs(p,C);N.tag=1,N.payload=o,f!=null&&(N.callback=f),o=di(n,N,C),o!==null&&(cs(o,n,C,p),Xl(o,n,C))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var f=cr(),p=gi(n),C=Bs(f,p);C.tag=2,o!=null&&(C.callback=o),o=di(n,C,p),o!==null&&(cs(o,n,p,f),Xl(o,n,p))}};function _h(n,o,f,p,C,N,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,N,_):o.prototype&&o.prototype.isPureReactComponent?!oe(f,p)||!oe(C,N):!0}function Oh(n,o,f){var p=!1,C=li,N=o.contextType;return typeof N=="object"&&N!==null?N=Gr(N):(C=xr(o)?Fi:Jn.current,p=o.contextTypes,N=(p=p!=null)?xo(n,C):li),o=new o(f,N),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ec,n.stateNode=o,o._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=C,n.__reactInternalMemoizedMaskedChildContext=N),o}function Ph(n,o,f,p){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,p),o.state!==n&&ec.enqueueReplaceState(o,o.state,null)}function td(n,o,f,p){var C=n.stateNode;C.props=f,C.state=n.memoizedState,C.refs={},Uu(n);var N=o.contextType;typeof N=="object"&&N!==null?C.context=Gr(N):(N=xr(o)?Fi:Jn.current,C.context=xo(n,N)),C.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(ed(n,o,N,f),C.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(o=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),o!==C.state&&ec.enqueueReplaceState(C,C.state,null),Yl(n,f,C,p),C.state=n.memoizedState),typeof C.componentDidMount=="function"&&(n.flags|=4194308)}function So(n,o){try{var f="",p=o;do f+=Ve(p),p=p.return;while(p);var C=f}catch(N){C=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:o,stack:C,digest:null}}function nd(n,o,f){return{value:n,source:null,stack:f??null,digest:o??null}}function rd(n,o){try{console.error(o.value)}catch(f){setTimeout(function(){throw f})}}var gy=typeof WeakMap=="function"?WeakMap:Map;function Dh(n,o,f){f=Bs(-1,f),f.tag=3,f.payload={element:null};var p=o.value;return f.callback=function(){ac||(ac=!0,yd=p),rd(n,o)},f}function Mh(n,o,f){f=Bs(-1,f),f.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var C=o.value;f.payload=function(){return p(C)},f.callback=function(){rd(n,o)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(f.callback=function(){rd(n,o),typeof p!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),f}function Lh(n,o,f){var p=n.pingCache;if(p===null){p=n.pingCache=new gy;var C=new Set;p.set(o,C)}else C=p.get(o),C===void 0&&(C=new Set,p.set(o,C));C.has(f)||(C.add(f),n=ky.bind(null,n,o,f),o.then(n,n))}function Bh(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function jh(n,o,f,p,C){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(o=Bs(-1,1),o.tag=2,di(f,o,1))),f.lanes|=1),n):(n.flags|=65536,n.lanes=C,n)}var py=re.ReactCurrentOwner,yr=!1;function lr(n,o,f,p){o.child=n===null?sh(o,null,f,p):Co(o,n.child,f,p)}function Fh(n,o,f,p,C){f=f.render;var N=o.ref;return bo(o,C),p=Ku(n,o,f,p,N,C),f=Zu(),n!==null&&!yr?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~C,js(n,o,C)):(Qt&&f&&_u(o),o.flags|=1,lr(n,o,p,C),o.child)}function Vh(n,o,f,p,C){if(n===null){var N=f.type;return typeof N=="function"&&!Sd(N)&&N.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(o.tag=15,o.type=N,Uh(n,o,N,p,C)):(n=hc(f.type,null,p,o,o.mode,C),n.ref=o.ref,n.return=o,o.child=n)}if(N=n.child,(n.lanes&C)===0){var _=N.memoizedProps;if(f=f.compare,f=f!==null?f:oe,f(_,p)&&n.ref===o.ref)return js(n,o,C)}return o.flags|=1,n=xi(N,p),n.ref=o.ref,n.return=o,o.child=n}function Uh(n,o,f,p,C){if(n!==null){var N=n.memoizedProps;if(oe(N,p)&&n.ref===o.ref)if(yr=!1,o.pendingProps=p=N,(n.lanes&C)!==0)(n.flags&131072)!==0&&(yr=!0);else return o.lanes=n.lanes,js(n,o,C)}return sd(n,o,f,p,C)}function zh(n,o,f){var p=o.pendingProps,C=p.children,N=n!==null?n.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(To,Mr),Mr|=f;else{if((f&1073741824)===0)return n=N!==null?N.baseLanes|f:f,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Ht(To,Mr),Mr|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=N!==null?N.baseLanes:f,Ht(To,Mr),Mr|=p}else N!==null?(p=N.baseLanes|f,o.memoizedState=null):p=f,Ht(To,Mr),Mr|=p;return lr(n,o,C,f),o.child}function Hh(n,o){var f=o.ref;(n===null&&f!==null||n!==null&&n.ref!==f)&&(o.flags|=512,o.flags|=2097152)}function sd(n,o,f,p,C){var N=xr(f)?Fi:Jn.current;return N=xo(o,N),bo(o,C),f=Ku(n,o,f,p,N,C),p=Zu(),n!==null&&!yr?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~C,js(n,o,C)):(Qt&&p&&_u(o),o.flags|=1,lr(n,o,f,C),o.child)}function Wh(n,o,f,p,C){if(xr(f)){var N=!0;jl(o)}else N=!1;if(bo(o,C),o.stateNode===null)nc(n,o),Oh(o,f,p),td(o,f,p,C),p=!0;else if(n===null){var _=o.stateNode,V=o.memoizedProps;_.props=V;var X=_.context,le=f.contextType;typeof le=="object"&&le!==null?le=Gr(le):(le=xr(f)?Fi:Jn.current,le=xo(o,le));var Ee=f.getDerivedStateFromProps,Ae=typeof Ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";Ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(V!==p||X!==le)&&Ph(o,_,p,le),ui=!1;var ve=o.memoizedState;_.state=ve,Yl(o,p,_,C),X=o.memoizedState,V!==p||ve!==X||pr.current||ui?(typeof Ee=="function"&&(ed(o,f,Ee,p),X=o.memoizedState),(V=ui||_h(o,f,V,p,ve,X,le))?(Ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=X),_.props=p,_.state=X,_.context=le,p=V):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{_=o.stateNode,oh(n,o),V=o.memoizedProps,le=o.type===o.elementType?V:os(o.type,V),_.props=le,Ae=o.pendingProps,ve=_.context,X=f.contextType,typeof X=="object"&&X!==null?X=Gr(X):(X=xr(f)?Fi:Jn.current,X=xo(o,X));var Be=f.getDerivedStateFromProps;(Ee=typeof Be=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(V!==Ae||ve!==X)&&Ph(o,_,p,X),ui=!1,ve=o.memoizedState,_.state=ve,Yl(o,p,_,C);var Ue=o.memoizedState;V!==Ae||ve!==Ue||pr.current||ui?(typeof Be=="function"&&(ed(o,f,Be,p),Ue=o.memoizedState),(le=ui||_h(o,f,le,p,ve,Ue,X)||!1)?(Ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,Ue,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,Ue,X)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||V===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||V===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ue),_.props=p,_.state=Ue,_.context=X,p=le):(typeof _.componentDidUpdate!="function"||V===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||V===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),p=!1)}return id(n,o,f,p,N,C)}function id(n,o,f,p,C,N){Hh(n,o);var _=(o.flags&128)!==0;if(!p&&!_)return C&&Z0(o,f,!1),js(n,o,N);p=o.stateNode,py.current=o;var V=_&&typeof f.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,n!==null&&_?(o.child=Co(o,n.child,null,N),o.child=Co(o,null,V,N)):lr(n,o,V,N),o.memoizedState=p.state,C&&Z0(o,f,!0),o.child}function Gh(n){var o=n.stateNode;o.pendingContext?Y0(n,o.pendingContext,o.pendingContext!==o.context):o.context&&Y0(n,o.context,!1),zu(n,o.containerInfo)}function Xh(n,o,f,p,C){return vo(),Mu(C),o.flags|=256,lr(n,o,f,p),o.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ad(n){return{baseLanes:n,cachePool:null,transitions:null}}function Yh(n,o,f){var p=o.pendingProps,C=rn.current,N=!1,_=(o.flags&128)!==0,V;if((V=_)||(V=n!==null&&n.memoizedState===null?!1:(C&2)!==0),V?(N=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(C|=1),Ht(rn,C&1),n===null)return Du(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=p.children,n=p.fallback,N?(p=o.mode,N=o.child,_={mode:"hidden",children:_},(p&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=_):N=mc(_,p,0,null),n=Zi(n,p,f,null),N.return=o,n.return=o,N.sibling=n,o.child=N,o.child.memoizedState=ad(f),o.memoizedState=od,n):ld(o,_));if(C=n.memoizedState,C!==null&&(V=C.dehydrated,V!==null))return xy(n,o,_,p,V,C,f);if(N){N=p.fallback,_=o.mode,C=n.child,V=C.sibling;var X={mode:"hidden",children:p.children};return(_&1)===0&&o.child!==C?(p=o.child,p.childLanes=0,p.pendingProps=X,o.deletions=null):(p=xi(C,X),p.subtreeFlags=C.subtreeFlags&14680064),V!==null?N=xi(V,N):(N=Zi(N,_,f,null),N.flags|=2),N.return=o,p.return=o,p.sibling=N,o.child=p,p=N,N=o.child,_=n.child.memoizedState,_=_===null?ad(f):{baseLanes:_.baseLanes|f,cachePool:null,transitions:_.transitions},N.memoizedState=_,N.childLanes=n.childLanes&~f,o.memoizedState=od,p}return N=n.child,n=N.sibling,p=xi(N,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=f),p.return=o,p.sibling=null,n!==null&&(f=o.deletions,f===null?(o.deletions=[n],o.flags|=16):f.push(n)),o.child=p,o.memoizedState=null,p}function ld(n,o){return o=mc({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function tc(n,o,f,p){return p!==null&&Mu(p),Co(o,n.child,null,f),n=ld(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function xy(n,o,f,p,C,N,_){if(f)return o.flags&256?(o.flags&=-257,p=nd(Error(a(422))),tc(n,o,_,p)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(N=p.fallback,C=o.mode,p=mc({mode:"visible",children:p.children},C,0,null),N=Zi(N,C,_,null),N.flags|=2,p.return=o,N.return=o,p.sibling=N,o.child=p,(o.mode&1)!==0&&Co(o,n.child,null,_),o.child.memoizedState=ad(_),o.memoizedState=od,N);if((o.mode&1)===0)return tc(n,o,_,null);if(C.data==="$!"){if(p=C.nextSibling&&C.nextSibling.dataset,p)var V=p.dgst;return p=V,N=Error(a(419)),p=nd(N,p,void 0),tc(n,o,_,p)}if(V=(_&n.childLanes)!==0,yr||V){if(p=Ln,p!==null){switch(_&-_){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(p.suspendedLanes|_))!==0?0:C,C!==0&&C!==N.retryLane&&(N.retryLane=C,Ls(n,C),cs(p,n,C,-1))}return Ad(),p=nd(Error(a(421))),tc(n,o,_,p)}return C.data==="$?"?(o.flags|=128,o.child=n.child,o=Ry.bind(null,n),C._reactRetry=o,null):(n=N.treeContext,Dr=oi(C.nextSibling),Pr=o,Qt=!0,is=null,n!==null&&(Hr[Wr++]=Ds,Hr[Wr++]=Ms,Hr[Wr++]=Vi,Ds=n.id,Ms=n.overflow,Vi=o),o=ld(o,p.children),o.flags|=4096,o)}function Kh(n,o,f){n.lanes|=o;var p=n.alternate;p!==null&&(p.lanes|=o),Fu(n.return,o,f)}function cd(n,o,f,p,C){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:C}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=f,N.tailMode=C)}function Zh(n,o,f){var p=o.pendingProps,C=p.revealOrder,N=p.tail;if(lr(n,o,p.children,f),p=rn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kh(n,f,o);else if(n.tag===19)Kh(n,f,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(Ht(rn,p),(o.mode&1)===0)o.memoizedState=null;else switch(C){case"forwards":for(f=o.child,C=null;f!==null;)n=f.alternate,n!==null&&Kl(n)===null&&(C=f),f=f.sibling;f=C,f===null?(C=o.child,o.child=null):(C=f.sibling,f.sibling=null),cd(o,!1,C,f,N);break;case"backwards":for(f=null,C=o.child,o.child=null;C!==null;){if(n=C.alternate,n!==null&&Kl(n)===null){o.child=C;break}n=C.sibling,C.sibling=f,f=C,C=n}cd(o,!0,f,null,N);break;case"together":cd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function nc(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function js(n,o,f){if(n!==null&&(o.dependencies=n.dependencies),Gi|=o.lanes,(f&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(a(153));if(o.child!==null){for(n=o.child,f=xi(n,n.pendingProps),o.child=f,f.return=o;n.sibling!==null;)n=n.sibling,f=f.sibling=xi(n,n.pendingProps),f.return=o;f.sibling=null}return o.child}function yy(n,o,f){switch(o.tag){case 3:Gh(o),vo();break;case 5:ch(o);break;case 1:xr(o.type)&&jl(o);break;case 4:zu(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,C=o.memoizedProps.value;Ht(Wl,p._currentValue),p._currentValue=C;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ht(rn,rn.current&1),o.flags|=128,null):(f&o.child.childLanes)!==0?Yh(n,o,f):(Ht(rn,rn.current&1),n=js(n,o,f),n!==null?n.sibling:null);Ht(rn,rn.current&1);break;case 19:if(p=(f&o.childLanes)!==0,(n.flags&128)!==0){if(p)return Zh(n,o,f);o.flags|=128}if(C=o.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ht(rn,rn.current),p)break;return null;case 22:case 23:return o.lanes=0,zh(n,o,f)}return js(n,o,f)}var qh,ud,$h,Qh;qh=function(n,o){for(var f=o.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ud=function(){},$h=function(n,o,f,p){var C=n.memoizedProps;if(C!==p){n=o.stateNode,Hi(ys.current);var N=null;switch(f){case"input":C=hr(n,C),p=hr(n,p),N=[];break;case"select":C=pe({},C,{value:void 0}),p=pe({},p,{value:void 0}),N=[];break;case"textarea":C=an(n,C),p=an(n,p),N=[];break;default:typeof C.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=Ml)}vt(f,p);var _;f=null;for(le in C)if(!p.hasOwnProperty(le)&&C.hasOwnProperty(le)&&C[le]!=null)if(le==="style"){var V=C[le];for(_ in V)V.hasOwnProperty(_)&&(f||(f={}),f[_]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(m.hasOwnProperty(le)?N||(N=[]):(N=N||[]).push(le,null));for(le in p){var X=p[le];if(V=C?.[le],p.hasOwnProperty(le)&&X!==V&&(X!=null||V!=null))if(le==="style")if(V){for(_ in V)!V.hasOwnProperty(_)||X&&X.hasOwnProperty(_)||(f||(f={}),f[_]="");for(_ in X)X.hasOwnProperty(_)&&V[_]!==X[_]&&(f||(f={}),f[_]=X[_])}else f||(N||(N=[]),N.push(le,f)),f=X;else le==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,V=V?V.__html:void 0,X!=null&&V!==X&&(N=N||[]).push(le,X)):le==="children"?typeof X!="string"&&typeof X!="number"||(N=N||[]).push(le,""+X):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(m.hasOwnProperty(le)?(X!=null&&le==="onScroll"&&Yt("scroll",n),N||V===X||(N=[])):(N=N||[]).push(le,X))}f&&(N=N||[]).push("style",f);var le=N;(o.updateQueue=le)&&(o.flags|=4)}},Qh=function(n,o,f,p){f!==p&&(o.flags|=4)};function Ma(n,o){if(!Qt)switch(n.tailMode){case"hidden":o=n.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?n.tail=null:f.sibling=null;break;case"collapsed":f=n.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function tr(n){var o=n.alternate!==null&&n.alternate.child===n.child,f=0,p=0;if(o)for(var C=n.child;C!==null;)f|=C.lanes|C.childLanes,p|=C.subtreeFlags&14680064,p|=C.flags&14680064,C.return=n,C=C.sibling;else for(C=n.child;C!==null;)f|=C.lanes|C.childLanes,p|=C.subtreeFlags,p|=C.flags,C.return=n,C=C.sibling;return n.subtreeFlags|=p,n.childLanes=f,o}function wy(n,o,f){var p=o.pendingProps;switch(Ou(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(o),null;case 1:return xr(o.type)&&Bl(),tr(o),null;case 3:return p=o.stateNode,Ao(),Kt(pr),Kt(Jn),Gu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(zl(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,is!==null&&(Cd(is),is=null))),ud(n,o),tr(o),null;case 5:Hu(o);var C=Hi(Ra.current);if(f=o.type,n!==null&&o.stateNode!=null)$h(n,o,f,p,C),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(a(166));return tr(o),null}if(n=Hi(ys.current),zl(o)){p=o.stateNode,f=o.type;var N=o.memoizedProps;switch(p[xs]=o,p[Sa]=N,n=(o.mode&1)!==0,f){case"dialog":Yt("cancel",p),Yt("close",p);break;case"iframe":case"object":case"embed":Yt("load",p);break;case"video":case"audio":for(C=0;C<Ea.length;C++)Yt(Ea[C],p);break;case"source":Yt("error",p);break;case"img":case"image":case"link":Yt("error",p),Yt("load",p);break;case"details":Yt("toggle",p);break;case"input":sr(p,N),Yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!N.multiple},Yt("invalid",p);break;case"textarea":jr(p,N),Yt("invalid",p)}vt(f,N),C=null;for(var _ in N)if(N.hasOwnProperty(_)){var V=N[_];_==="children"?typeof V=="string"?p.textContent!==V&&(N.suppressHydrationWarning!==!0&&Dl(p.textContent,V,n),C=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(N.suppressHydrationWarning!==!0&&Dl(p.textContent,V,n),C=["children",""+V]):m.hasOwnProperty(_)&&V!=null&&_==="onScroll"&&Yt("scroll",p)}switch(f){case"input":Pt(p),St(p,N,!0);break;case"textarea":Pt(p),Ws(p);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(p.onclick=Ml)}p=C,o.updateQueue=p,p!==null&&(o.flags|=4)}else{_=C.nodeType===9?C:C.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=bn(f)),n==="http://www.w3.org/1999/xhtml"?f==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=_.createElement(f,{is:p.is}):(n=_.createElement(f),f==="select"&&(_=n,p.multiple?_.multiple=!0:p.size&&(_.size=p.size))):n=_.createElementNS(n,f),n[xs]=o,n[Sa]=p,qh(n,o,!1,!1),o.stateNode=n;e:{switch(_=Dt(f,p),f){case"dialog":Yt("cancel",n),Yt("close",n),C=p;break;case"iframe":case"object":case"embed":Yt("load",n),C=p;break;case"video":case"audio":for(C=0;C<Ea.length;C++)Yt(Ea[C],n);C=p;break;case"source":Yt("error",n),C=p;break;case"img":case"image":case"link":Yt("error",n),Yt("load",n),C=p;break;case"details":Yt("toggle",n),C=p;break;case"input":sr(n,p),C=hr(n,p),Yt("invalid",n);break;case"option":C=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},C=pe({},p,{value:void 0}),Yt("invalid",n);break;case"textarea":jr(n,p),C=an(n,p),Yt("invalid",n);break;default:C=p}vt(f,C),V=C;for(N in V)if(V.hasOwnProperty(N)){var X=V[N];N==="style"?Re(n,X):N==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&ln(n,X)):N==="children"?typeof X=="string"?(f!=="textarea"||X!=="")&&ir(n,X):typeof X=="number"&&ir(n,""+X):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(m.hasOwnProperty(N)?X!=null&&N==="onScroll"&&Yt("scroll",n):X!=null&&G(n,N,X,_))}switch(f){case"input":Pt(n),St(n,p,!1);break;case"textarea":Pt(n),Ws(n);break;case"option":p.value!=null&&n.setAttribute("value",""+De(p.value));break;case"select":n.multiple=!!p.multiple,N=p.value,N!=null?Le(n,!!p.multiple,N,!1):p.defaultValue!=null&&Le(n,!!p.multiple,p.defaultValue,!0);break;default:typeof C.onClick=="function"&&(n.onclick=Ml)}switch(f){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tr(o),null;case 6:if(n&&o.stateNode!=null)Qh(n,o,n.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(a(166));if(f=Hi(Ra.current),Hi(ys.current),zl(o)){if(p=o.stateNode,f=o.memoizedProps,p[xs]=o,(N=p.nodeValue!==f)&&(n=Pr,n!==null))switch(n.tag){case 3:Dl(p.nodeValue,f,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Dl(p.nodeValue,f,(n.mode&1)!==0)}N&&(o.flags|=4)}else p=(f.nodeType===9?f:f.ownerDocument).createTextNode(p),p[xs]=o,o.stateNode=p}return tr(o),null;case 13:if(Kt(rn),p=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qt&&Dr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)th(),vo(),o.flags|=98560,N=!1;else if(N=zl(o),p!==null&&p.dehydrated!==null){if(n===null){if(!N)throw Error(a(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(a(317));N[xs]=o}else vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tr(o),N=!1}else is!==null&&(Cd(is),is=null),N=!0;if(!N)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=f,o):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(rn.current&1)!==0?kn===0&&(kn=3):Ad())),o.updateQueue!==null&&(o.flags|=4),tr(o),null);case 4:return Ao(),ud(n,o),n===null&&ba(o.stateNode.containerInfo),tr(o),null;case 10:return ju(o.type._context),tr(o),null;case 17:return xr(o.type)&&Bl(),tr(o),null;case 19:if(Kt(rn),N=o.memoizedState,N===null)return tr(o),null;if(p=(o.flags&128)!==0,_=N.rendering,_===null)if(p)Ma(N,!1);else{if(kn!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(_=Kl(n),_!==null){for(o.flags|=128,Ma(N,!1),p=_.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=f,f=o.child;f!==null;)N=f,n=p,N.flags&=14680066,_=N.alternate,_===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=_.childLanes,N.lanes=_.lanes,N.child=_.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=_.memoizedProps,N.memoizedState=_.memoizedState,N.updateQueue=_.updateQueue,N.type=_.type,n=_.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),f=f.sibling;return Ht(rn,rn.current&1|2),o.child}n=n.sibling}N.tail!==null&&It()>Io&&(o.flags|=128,p=!0,Ma(N,!1),o.lanes=4194304)}else{if(!p)if(n=Kl(_),n!==null){if(o.flags|=128,p=!0,f=n.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),Ma(N,!0),N.tail===null&&N.tailMode==="hidden"&&!_.alternate&&!Qt)return tr(o),null}else 2*It()-N.renderingStartTime>Io&&f!==1073741824&&(o.flags|=128,p=!0,Ma(N,!1),o.lanes=4194304);N.isBackwards?(_.sibling=o.child,o.child=_):(f=N.last,f!==null?f.sibling=_:o.child=_,N.last=_)}return N.tail!==null?(o=N.tail,N.rendering=o,N.tail=o.sibling,N.renderingStartTime=It(),o.sibling=null,f=rn.current,Ht(rn,p?f&1|2:f&1),o):(tr(o),null);case 22:case 23:return bd(),p=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Mr&1073741824)!==0&&(tr(o),o.subtreeFlags&6&&(o.flags|=8192)):tr(o),null;case 24:return null;case 25:return null}throw Error(a(156,o.tag))}function vy(n,o){switch(Ou(o),o.tag){case 1:return xr(o.type)&&Bl(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Ao(),Kt(pr),Kt(Jn),Gu(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return Hu(o),null;case 13:if(Kt(rn),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(a(340));vo()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Kt(rn),null;case 4:return Ao(),null;case 10:return ju(o.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var rc=!1,nr=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function No(n,o){var f=n.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(p){dn(n,o,p)}else f.current=null}function dd(n,o,f){try{f()}catch(p){dn(n,o,p)}}var Jh=!1;function Ey(n,o){if(bu=gs,n=ft(),it(n)){if("selectionStart"in n)var f={start:n.selectionStart,end:n.selectionEnd};else e:{f=(f=n.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var C=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var _=0,V=-1,X=-1,le=0,Ee=0,Ae=n,ve=null;t:for(;;){for(var Be;Ae!==f||C!==0&&Ae.nodeType!==3||(V=_+C),Ae!==N||p!==0&&Ae.nodeType!==3||(X=_+p),Ae.nodeType===3&&(_+=Ae.nodeValue.length),(Be=Ae.firstChild)!==null;)ve=Ae,Ae=Be;for(;;){if(Ae===n)break t;if(ve===f&&++le===C&&(V=_),ve===N&&++Ee===p&&(X=_),(Be=Ae.nextSibling)!==null)break;Ae=ve,ve=Ae.parentNode}Ae=Be}f=V===-1||X===-1?null:{start:V,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(Au={focusedElem:n,selectionRange:f},gs=!1,Fe=o;Fe!==null;)if(o=Fe,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,Fe=n;else for(;Fe!==null;){o=Fe;try{var Ue=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var We=Ue.memoizedProps,xn=Ue.memoizedState,ne=o.stateNode,$=ne.getSnapshotBeforeUpdate(o.elementType===o.type?We:os(o.type,We),xn);ne.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var ie=o.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ie){dn(o,o.return,Ie)}if(n=o.sibling,n!==null){n.return=o.return,Fe=n;break}Fe=o.return}return Ue=Jh,Jh=!1,Ue}function La(n,o,f){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var C=p=p.next;do{if((C.tag&n)===n){var N=C.destroy;C.destroy=void 0,N!==void 0&&dd(o,f,N)}C=C.next}while(C!==p)}}function sc(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var f=o=o.next;do{if((f.tag&n)===n){var p=f.create;f.destroy=p()}f=f.next}while(f!==o)}}function fd(n){var o=n.ref;if(o!==null){var f=n.stateNode;switch(n.tag){case 5:n=f;break;default:n=f}typeof o=="function"?o(n):o.current=n}}function e1(n){var o=n.alternate;o!==null&&(n.alternate=null,e1(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[xs],delete o[Sa],delete o[Iu],delete o[sy],delete o[iy])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function t1(n){return n.tag===5||n.tag===3||n.tag===4}function n1(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||t1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hd(n,o,f){var p=n.tag;if(p===5||p===6)n=n.stateNode,o?f.nodeType===8?f.parentNode.insertBefore(n,o):f.insertBefore(n,o):(f.nodeType===8?(o=f.parentNode,o.insertBefore(n,f)):(o=f,o.appendChild(n)),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Ml));else if(p!==4&&(n=n.child,n!==null))for(hd(n,o,f),n=n.sibling;n!==null;)hd(n,o,f),n=n.sibling}function md(n,o,f){var p=n.tag;if(p===5||p===6)n=n.stateNode,o?f.insertBefore(n,o):f.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(md(n,o,f),n=n.sibling;n!==null;)md(n,o,f),n=n.sibling}var Gn=null,as=!1;function fi(n,o,f){for(f=f.child;f!==null;)r1(n,o,f),f=f.sibling}function r1(n,o,f){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(wt,f)}catch{}switch(f.tag){case 5:nr||No(f,o);case 6:var p=Gn,C=as;Gn=null,fi(n,o,f),Gn=p,as=C,Gn!==null&&(as?(n=Gn,f=f.stateNode,n.nodeType===8?n.parentNode.removeChild(f):n.removeChild(f)):Gn.removeChild(f.stateNode));break;case 18:Gn!==null&&(as?(n=Gn,f=f.stateNode,n.nodeType===8?Tu(n.parentNode,f):n.nodeType===1&&Tu(n,f),ns(n)):Tu(Gn,f.stateNode));break;case 4:p=Gn,C=as,Gn=f.stateNode.containerInfo,as=!0,fi(n,o,f),Gn=p,as=C;break;case 0:case 11:case 14:case 15:if(!nr&&(p=f.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){C=p=p.next;do{var N=C,_=N.destroy;N=N.tag,_!==void 0&&((N&2)!==0||(N&4)!==0)&&dd(f,o,_),C=C.next}while(C!==p)}fi(n,o,f);break;case 1:if(!nr&&(No(f,o),p=f.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=f.memoizedProps,p.state=f.memoizedState,p.componentWillUnmount()}catch(V){dn(f,o,V)}fi(n,o,f);break;case 21:fi(n,o,f);break;case 22:f.mode&1?(nr=(p=nr)||f.memoizedState!==null,fi(n,o,f),nr=p):fi(n,o,f);break;default:fi(n,o,f)}}function s1(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var f=n.stateNode;f===null&&(f=n.stateNode=new Cy),o.forEach(function(p){var C=_y.bind(null,n,p);f.has(p)||(f.add(p),p.then(C,C))})}}function ls(n,o){var f=o.deletions;if(f!==null)for(var p=0;p<f.length;p++){var C=f[p];try{var N=n,_=o,V=_;e:for(;V!==null;){switch(V.tag){case 5:Gn=V.stateNode,as=!1;break e;case 3:Gn=V.stateNode.containerInfo,as=!0;break e;case 4:Gn=V.stateNode.containerInfo,as=!0;break e}V=V.return}if(Gn===null)throw Error(a(160));r1(N,_,C),Gn=null,as=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(le){dn(C,o,le)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)i1(o,n),o=o.sibling}function i1(n,o){var f=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ls(o,n),vs(n),p&4){try{La(3,n,n.return),sc(3,n)}catch(We){dn(n,n.return,We)}try{La(5,n,n.return)}catch(We){dn(n,n.return,We)}}break;case 1:ls(o,n),vs(n),p&512&&f!==null&&No(f,f.return);break;case 5:if(ls(o,n),vs(n),p&512&&f!==null&&No(f,f.return),n.flags&32){var C=n.stateNode;try{ir(C,"")}catch(We){dn(n,n.return,We)}}if(p&4&&(C=n.stateNode,C!=null)){var N=n.memoizedProps,_=f!==null?f.memoizedProps:N,V=n.type,X=n.updateQueue;if(n.updateQueue=null,X!==null)try{V==="input"&&N.type==="radio"&&N.name!=null&&es(C,N),Dt(V,_);var le=Dt(V,N);for(_=0;_<X.length;_+=2){var Ee=X[_],Ae=X[_+1];Ee==="style"?Re(C,Ae):Ee==="dangerouslySetInnerHTML"?ln(C,Ae):Ee==="children"?ir(C,Ae):G(C,Ee,Ae,le)}switch(V){case"input":Bt(C,N);break;case"textarea":mr(C,N);break;case"select":var ve=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!N.multiple;var Be=N.value;Be!=null?Le(C,!!N.multiple,Be,!1):ve!==!!N.multiple&&(N.defaultValue!=null?Le(C,!!N.multiple,N.defaultValue,!0):Le(C,!!N.multiple,N.multiple?[]:"",!1))}C[Sa]=N}catch(We){dn(n,n.return,We)}}break;case 6:if(ls(o,n),vs(n),p&4){if(n.stateNode===null)throw Error(a(162));C=n.stateNode,N=n.memoizedProps;try{C.nodeValue=N}catch(We){dn(n,n.return,We)}}break;case 3:if(ls(o,n),vs(n),p&4&&f!==null&&f.memoizedState.isDehydrated)try{ns(o.containerInfo)}catch(We){dn(n,n.return,We)}break;case 4:ls(o,n),vs(n);break;case 13:ls(o,n),vs(n),C=n.child,C.flags&8192&&(N=C.memoizedState!==null,C.stateNode.isHidden=N,!N||C.alternate!==null&&C.alternate.memoizedState!==null||(xd=It())),p&4&&s1(n);break;case 22:if(Ee=f!==null&&f.memoizedState!==null,n.mode&1?(nr=(le=nr)||Ee,ls(o,n),nr=le):ls(o,n),vs(n),p&8192){if(le=n.memoizedState!==null,(n.stateNode.isHidden=le)&&!Ee&&(n.mode&1)!==0)for(Fe=n,Ee=n.child;Ee!==null;){for(Ae=Fe=Ee;Fe!==null;){switch(ve=Fe,Be=ve.child,ve.tag){case 0:case 11:case 14:case 15:La(4,ve,ve.return);break;case 1:No(ve,ve.return);var Ue=ve.stateNode;if(typeof Ue.componentWillUnmount=="function"){p=ve,f=ve.return;try{o=p,Ue.props=o.memoizedProps,Ue.state=o.memoizedState,Ue.componentWillUnmount()}catch(We){dn(p,f,We)}}break;case 5:No(ve,ve.return);break;case 22:if(ve.memoizedState!==null){l1(Ae);continue}}Be!==null?(Be.return=ve,Fe=Be):l1(Ae)}Ee=Ee.sibling}e:for(Ee=null,Ae=n;;){if(Ae.tag===5){if(Ee===null){Ee=Ae;try{C=Ae.stateNode,le?(N=C.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(V=Ae.stateNode,X=Ae.memoizedProps.style,_=X!=null&&X.hasOwnProperty("display")?X.display:null,V.style.display=Wt("display",_))}catch(We){dn(n,n.return,We)}}}else if(Ae.tag===6){if(Ee===null)try{Ae.stateNode.nodeValue=le?"":Ae.memoizedProps}catch(We){dn(n,n.return,We)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===n)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===n)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===n)break e;Ee===Ae&&(Ee=null),Ae=Ae.return}Ee===Ae&&(Ee=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:ls(o,n),vs(n),p&4&&s1(n);break;case 21:break;default:ls(o,n),vs(n)}}function vs(n){var o=n.flags;if(o&2){try{e:{for(var f=n.return;f!==null;){if(t1(f)){var p=f;break e}f=f.return}throw Error(a(160))}switch(p.tag){case 5:var C=p.stateNode;p.flags&32&&(ir(C,""),p.flags&=-33);var N=n1(n);md(n,N,C);break;case 3:case 4:var _=p.stateNode.containerInfo,V=n1(n);hd(n,V,_);break;default:throw Error(a(161))}}catch(X){dn(n,n.return,X)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function by(n,o,f){Fe=n,o1(n)}function o1(n,o,f){for(var p=(n.mode&1)!==0;Fe!==null;){var C=Fe,N=C.child;if(C.tag===22&&p){var _=C.memoizedState!==null||rc;if(!_){var V=C.alternate,X=V!==null&&V.memoizedState!==null||nr;V=rc;var le=nr;if(rc=_,(nr=X)&&!le)for(Fe=C;Fe!==null;)_=Fe,X=_.child,_.tag===22&&_.memoizedState!==null?c1(C):X!==null?(X.return=_,Fe=X):c1(C);for(;N!==null;)Fe=N,o1(N),N=N.sibling;Fe=C,rc=V,nr=le}a1(n)}else(C.subtreeFlags&8772)!==0&&N!==null?(N.return=C,Fe=N):a1(n)}}function a1(n){for(;Fe!==null;){var o=Fe;if((o.flags&8772)!==0){var f=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nr||sc(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!nr)if(f===null)p.componentDidMount();else{var C=o.elementType===o.type?f.memoizedProps:os(o.type,f.memoizedProps);p.componentDidUpdate(C,f.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var N=o.updateQueue;N!==null&&lh(o,N,p);break;case 3:var _=o.updateQueue;if(_!==null){if(f=null,o.child!==null)switch(o.child.tag){case 5:f=o.child.stateNode;break;case 1:f=o.child.stateNode}lh(o,_,f)}break;case 5:var V=o.stateNode;if(f===null&&o.flags&4){f=V;var X=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&f.focus();break;case"img":X.src&&(f.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var le=o.alternate;if(le!==null){var Ee=le.memoizedState;if(Ee!==null){var Ae=Ee.dehydrated;Ae!==null&&ns(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}nr||o.flags&512&&fd(o)}catch(ve){dn(o,o.return,ve)}}if(o===n){Fe=null;break}if(f=o.sibling,f!==null){f.return=o.return,Fe=f;break}Fe=o.return}}function l1(n){for(;Fe!==null;){var o=Fe;if(o===n){Fe=null;break}var f=o.sibling;if(f!==null){f.return=o.return,Fe=f;break}Fe=o.return}}function c1(n){for(;Fe!==null;){var o=Fe;try{switch(o.tag){case 0:case 11:case 15:var f=o.return;try{sc(4,o)}catch(X){dn(o,f,X)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var C=o.return;try{p.componentDidMount()}catch(X){dn(o,C,X)}}var N=o.return;try{fd(o)}catch(X){dn(o,N,X)}break;case 5:var _=o.return;try{fd(o)}catch(X){dn(o,_,X)}}}catch(X){dn(o,o.return,X)}if(o===n){Fe=null;break}var V=o.sibling;if(V!==null){V.return=o.return,Fe=V;break}Fe=o.return}}var Ay=Math.ceil,ic=re.ReactCurrentDispatcher,gd=re.ReactCurrentOwner,Yr=re.ReactCurrentBatchConfig,At=0,Ln=null,vn=null,Xn=0,Mr=0,To=ai(0),kn=0,Ba=null,Gi=0,oc=0,pd=0,ja=null,wr=null,xd=0,Io=1/0,Fs=null,ac=!1,yd=null,hi=null,lc=!1,mi=null,cc=0,Fa=0,wd=null,uc=-1,dc=0;function cr(){return(At&6)!==0?It():uc!==-1?uc:uc=It()}function gi(n){return(n.mode&1)===0?1:(At&2)!==0&&Xn!==0?Xn&-Xn:ay.transition!==null?(dc===0&&(dc=An()),dc):(n=ct,n!==0||(n=window.event,n=n===void 0?16:fa(n.type)),n)}function cs(n,o,f,p){if(50<Fa)throw Fa=0,wd=null,Error(a(185));M(n,f,p),((At&2)===0||n!==Ln)&&(n===Ln&&((At&2)===0&&(oc|=f),kn===4&&pi(n,Xn)),vr(n,p),f===1&&At===0&&(o.mode&1)===0&&(Io=It()+500,Fl&&ci()))}function vr(n,o){var f=n.callbackNode;qs(n,o);var p=kr(n,n===Ln?Xn:0);if(p===0)f!==null&&Pn(f),n.callbackNode=null,n.callbackPriority=0;else if(o=p&-p,n.callbackPriority!==o){if(f!=null&&Pn(f),o===1)n.tag===0?oy(d1.bind(null,n)):q0(d1.bind(null,n)),ny(function(){(At&6)===0&&ci()}),f=null;else{switch(vl(p)){case 1:f=ye;break;case 4:f=yl;break;case 16:f=jt;break;case 536870912:f=wl;break;default:f=jt}f=w1(f,u1.bind(null,n))}n.callbackPriority=o,n.callbackNode=f}}function u1(n,o){if(uc=-1,dc=0,(At&6)!==0)throw Error(a(327));var f=n.callbackNode;if(ko()&&n.callbackNode!==f)return null;var p=kr(n,n===Ln?Xn:0);if(p===0)return null;if((p&30)!==0||(p&n.expiredLanes)!==0||o)o=fc(n,p);else{o=p;var C=At;At|=2;var N=h1();(Ln!==n||Xn!==o)&&(Fs=null,Io=It()+500,Yi(n,o));do try{Ty();break}catch(V){f1(n,V)}while(!0);Bu(),ic.current=N,At=C,vn!==null?o=0:(Ln=null,Xn=0,o=kn)}if(o!==0){if(o===2&&(C=kt(n),C!==0&&(p=C,o=vd(n,C))),o===1)throw f=Ba,Yi(n,0),pi(n,p),vr(n,It()),f;if(o===6)pi(n,p);else{if(C=n.current.alternate,(p&30)===0&&!Sy(C)&&(o=fc(n,p),o===2&&(N=kt(n),N!==0&&(p=N,o=vd(n,N))),o===1))throw f=Ba,Yi(n,0),pi(n,p),vr(n,It()),f;switch(n.finishedWork=C,n.finishedLanes=p,o){case 0:case 1:throw Error(a(345));case 2:Ki(n,wr,Fs);break;case 3:if(pi(n,p),(p&130023424)===p&&(o=xd+500-It(),10<o)){if(kr(n,0)!==0)break;if(C=n.suspendedLanes,(C&p)!==p){cr(),n.pingedLanes|=n.suspendedLanes&C;break}n.timeoutHandle=Nu(Ki.bind(null,n,wr,Fs),o);break}Ki(n,wr,Fs);break;case 4:if(pi(n,p),(p&4194240)===p)break;for(o=n.eventTimes,C=-1;0<p;){var _=31-ar(p);N=1<<_,_=o[_],_>C&&(C=_),p&=~N}if(p=C,p=It()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Ay(p/1960))-p,10<p){n.timeoutHandle=Nu(Ki.bind(null,n,wr,Fs),p);break}Ki(n,wr,Fs);break;case 5:Ki(n,wr,Fs);break;default:throw Error(a(329))}}}return vr(n,It()),n.callbackNode===f?u1.bind(null,n):null}function vd(n,o){var f=ja;return n.current.memoizedState.isDehydrated&&(Yi(n,o).flags|=256),n=fc(n,o),n!==2&&(o=wr,wr=f,o!==null&&Cd(o)),n}function Cd(n){wr===null?wr=n:wr.push.apply(wr,n)}function Sy(n){for(var o=n;;){if(o.flags&16384){var f=o.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var p=0;p<f.length;p++){var C=f[p],N=C.getSnapshot;C=C.value;try{if(!J(N(),C))return!1}catch{return!1}}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function pi(n,o){for(o&=~pd,o&=~oc,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var f=31-ar(o),p=1<<f;n[f]=-1,o&=~p}}function d1(n){if((At&6)!==0)throw Error(a(327));ko();var o=kr(n,0);if((o&1)===0)return vr(n,It()),null;var f=fc(n,o);if(n.tag!==0&&f===2){var p=kt(n);p!==0&&(o=p,f=vd(n,p))}if(f===1)throw f=Ba,Yi(n,0),pi(n,o),vr(n,It()),f;if(f===6)throw Error(a(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Ki(n,wr,Fs),vr(n,It()),null}function Ed(n,o){var f=At;At|=1;try{return n(o)}finally{At=f,At===0&&(Io=It()+500,Fl&&ci())}}function Xi(n){mi!==null&&mi.tag===0&&(At&6)===0&&ko();var o=At;At|=1;var f=Yr.transition,p=ct;try{if(Yr.transition=null,ct=1,n)return n()}finally{ct=p,Yr.transition=f,At=o,(At&6)===0&&ci()}}function bd(){Mr=To.current,Kt(To)}function Yi(n,o){n.finishedWork=null,n.finishedLanes=0;var f=n.timeoutHandle;if(f!==-1&&(n.timeoutHandle=-1,ty(f)),vn!==null)for(f=vn.return;f!==null;){var p=f;switch(Ou(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Bl();break;case 3:Ao(),Kt(pr),Kt(Jn),Gu();break;case 5:Hu(p);break;case 4:Ao();break;case 13:Kt(rn);break;case 19:Kt(rn);break;case 10:ju(p.type._context);break;case 22:case 23:bd()}f=f.return}if(Ln=n,vn=n=xi(n.current,null),Xn=Mr=o,kn=0,Ba=null,pd=oc=Gi=0,wr=ja=null,zi!==null){for(o=0;o<zi.length;o++)if(f=zi[o],p=f.interleaved,p!==null){f.interleaved=null;var C=p.next,N=f.pending;if(N!==null){var _=N.next;N.next=C,p.next=_}f.pending=p}zi=null}return n}function f1(n,o){do{var f=vn;try{if(Bu(),Zl.current=Jl,ql){for(var p=sn.memoizedState;p!==null;){var C=p.queue;C!==null&&(C.pending=null),p=p.next}ql=!1}if(Wi=0,Mn=In=sn=null,_a=!1,Oa=0,gd.current=null,f===null||f.return===null){kn=1,Ba=o,vn=null;break}e:{var N=n,_=f.return,V=f,X=o;if(o=Xn,V.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var le=X,Ee=V,Ae=Ee.tag;if((Ee.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var ve=Ee.alternate;ve?(Ee.updateQueue=ve.updateQueue,Ee.memoizedState=ve.memoizedState,Ee.lanes=ve.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var Be=Bh(_);if(Be!==null){Be.flags&=-257,jh(Be,_,V,N,o),Be.mode&1&&Lh(N,le,o),o=Be,X=le;var Ue=o.updateQueue;if(Ue===null){var We=new Set;We.add(X),o.updateQueue=We}else Ue.add(X);break e}else{if((o&1)===0){Lh(N,le,o),Ad();break e}X=Error(a(426))}}else if(Qt&&V.mode&1){var xn=Bh(_);if(xn!==null){(xn.flags&65536)===0&&(xn.flags|=256),jh(xn,_,V,N,o),Mu(So(X,V));break e}}N=X=So(X,V),kn!==4&&(kn=2),ja===null?ja=[N]:ja.push(N),N=_;do{switch(N.tag){case 3:N.flags|=65536,o&=-o,N.lanes|=o;var ne=Dh(N,X,o);ah(N,ne);break e;case 1:V=X;var $=N.type,ie=N.stateNode;if((N.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(hi===null||!hi.has(ie)))){N.flags|=65536,o&=-o,N.lanes|=o;var Ie=Mh(N,V,o);ah(N,Ie);break e}}N=N.return}while(N!==null)}g1(f)}catch(Ge){o=Ge,vn===f&&f!==null&&(vn=f=f.return);continue}break}while(!0)}function h1(){var n=ic.current;return ic.current=Jl,n===null?Jl:n}function Ad(){(kn===0||kn===3||kn===2)&&(kn=4),Ln===null||(Gi&268435455)===0&&(oc&268435455)===0||pi(Ln,Xn)}function fc(n,o){var f=At;At|=2;var p=h1();(Ln!==n||Xn!==o)&&(Fs=null,Yi(n,o));do try{Ny();break}catch(C){f1(n,C)}while(!0);if(Bu(),At=f,ic.current=p,vn!==null)throw Error(a(261));return Ln=null,Xn=0,kn}function Ny(){for(;vn!==null;)m1(vn)}function Ty(){for(;vn!==null&&!Vt();)m1(vn)}function m1(n){var o=y1(n.alternate,n,Mr);n.memoizedProps=n.pendingProps,o===null?g1(n):vn=o,gd.current=null}function g1(n){var o=n;do{var f=o.alternate;if(n=o.return,(o.flags&32768)===0){if(f=wy(f,o,Mr),f!==null){vn=f;return}}else{if(f=vy(f,o),f!==null){f.flags&=32767,vn=f;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kn=6,vn=null;return}}if(o=o.sibling,o!==null){vn=o;return}vn=o=n}while(o!==null);kn===0&&(kn=5)}function Ki(n,o,f){var p=ct,C=Yr.transition;try{Yr.transition=null,ct=1,Iy(n,o,f,p)}finally{Yr.transition=C,ct=p}return null}function Iy(n,o,f,p){do ko();while(mi!==null);if((At&6)!==0)throw Error(a(327));f=n.finishedWork;var C=n.finishedLanes;if(f===null)return null;if(n.finishedWork=null,n.finishedLanes=0,f===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0;var N=f.lanes|f.childLanes;if(Xe(n,N),n===Ln&&(vn=Ln=null,Xn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||lc||(lc=!0,w1(jt,function(){return ko(),null})),N=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||N){N=Yr.transition,Yr.transition=null;var _=ct;ct=1;var V=At;At|=4,gd.current=null,Ey(n,f),i1(f,n),Qn(Au),gs=!!bu,Au=bu=null,n.current=f,by(f),xl(),At=V,ct=_,Yr.transition=N}else n.current=f;if(lc&&(lc=!1,mi=n,cc=C),N=n.pendingLanes,N===0&&(hi=null),pt(f.stateNode),vr(n,It()),o!==null)for(p=n.onRecoverableError,f=0;f<o.length;f++)C=o[f],p(C.value,{componentStack:C.stack,digest:C.digest});if(ac)throw ac=!1,n=yd,yd=null,n;return(cc&1)!==0&&n.tag!==0&&ko(),N=n.pendingLanes,(N&1)!==0?n===wd?Fa++:(Fa=0,wd=n):Fa=0,ci(),null}function ko(){if(mi!==null){var n=vl(cc),o=Yr.transition,f=ct;try{if(Yr.transition=null,ct=16>n?16:n,mi===null)var p=!1;else{if(n=mi,mi=null,cc=0,(At&6)!==0)throw Error(a(331));var C=At;for(At|=4,Fe=n.current;Fe!==null;){var N=Fe,_=N.child;if((Fe.flags&16)!==0){var V=N.deletions;if(V!==null){for(var X=0;X<V.length;X++){var le=V[X];for(Fe=le;Fe!==null;){var Ee=Fe;switch(Ee.tag){case 0:case 11:case 15:La(8,Ee,N)}var Ae=Ee.child;if(Ae!==null)Ae.return=Ee,Fe=Ae;else for(;Fe!==null;){Ee=Fe;var ve=Ee.sibling,Be=Ee.return;if(e1(Ee),Ee===le){Fe=null;break}if(ve!==null){ve.return=Be,Fe=ve;break}Fe=Be}}}var Ue=N.alternate;if(Ue!==null){var We=Ue.child;if(We!==null){Ue.child=null;do{var xn=We.sibling;We.sibling=null,We=xn}while(We!==null)}}Fe=N}}if((N.subtreeFlags&2064)!==0&&_!==null)_.return=N,Fe=_;else e:for(;Fe!==null;){if(N=Fe,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:La(9,N,N.return)}var ne=N.sibling;if(ne!==null){ne.return=N.return,Fe=ne;break e}Fe=N.return}}var $=n.current;for(Fe=$;Fe!==null;){_=Fe;var ie=_.child;if((_.subtreeFlags&2064)!==0&&ie!==null)ie.return=_,Fe=ie;else e:for(_=$;Fe!==null;){if(V=Fe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:sc(9,V)}}catch(Ge){dn(V,V.return,Ge)}if(V===_){Fe=null;break e}var Ie=V.sibling;if(Ie!==null){Ie.return=V.return,Fe=Ie;break e}Fe=V.return}}if(At=C,ci(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(wt,n)}catch{}p=!0}return p}finally{ct=f,Yr.transition=o}}return!1}function p1(n,o,f){o=So(f,o),o=Dh(n,o,1),n=di(n,o,1),o=cr(),n!==null&&(M(n,1,o),vr(n,o))}function dn(n,o,f){if(n.tag===3)p1(n,n,f);else for(;o!==null;){if(o.tag===3){p1(o,n,f);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(hi===null||!hi.has(p))){n=So(f,n),n=Mh(o,n,1),o=di(o,n,1),n=cr(),o!==null&&(M(o,1,n),vr(o,n));break}}o=o.return}}function ky(n,o,f){var p=n.pingCache;p!==null&&p.delete(o),o=cr(),n.pingedLanes|=n.suspendedLanes&f,Ln===n&&(Xn&f)===f&&(kn===4||kn===3&&(Xn&130023424)===Xn&&500>It()-xd?Yi(n,0):pd|=f),vr(n,o)}function x1(n,o){o===0&&((n.mode&1)===0?o=1:(o=so,so<<=1,(so&130023424)===0&&(so=4194304)));var f=cr();n=Ls(n,o),n!==null&&(M(n,o,f),vr(n,f))}function Ry(n){var o=n.memoizedState,f=0;o!==null&&(f=o.retryLane),x1(n,f)}function _y(n,o){var f=0;switch(n.tag){case 13:var p=n.stateNode,C=n.memoizedState;C!==null&&(f=C.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(a(314))}p!==null&&p.delete(o),x1(n,f)}var y1;y1=function(n,o,f){if(n!==null)if(n.memoizedProps!==o.pendingProps||pr.current)yr=!0;else{if((n.lanes&f)===0&&(o.flags&128)===0)return yr=!1,yy(n,o,f);yr=(n.flags&131072)!==0}else yr=!1,Qt&&(o.flags&1048576)!==0&&$0(o,Ul,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;nc(n,o),n=o.pendingProps;var C=xo(o,Jn.current);bo(o,f),C=Ku(null,o,p,n,C,f);var N=Zu();return o.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,xr(p)?(N=!0,jl(o)):N=!1,o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Uu(o),C.updater=ec,o.stateNode=C,C._reactInternals=o,td(o,p,n,f),o=id(null,o,p,!0,N,f)):(o.tag=0,Qt&&N&&_u(o),lr(null,o,C,f),o=o.child),o;case 16:p=o.elementType;e:{switch(nc(n,o),n=o.pendingProps,C=p._init,p=C(p._payload),o.type=p,C=o.tag=Py(p),n=os(p,n),C){case 0:o=sd(null,o,p,n,f);break e;case 1:o=Wh(null,o,p,n,f);break e;case 11:o=Fh(null,o,p,n,f);break e;case 14:o=Vh(null,o,p,os(p.type,n),f);break e}throw Error(a(306,p,""))}return o;case 0:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),sd(n,o,p,C,f);case 1:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),Wh(n,o,p,C,f);case 3:e:{if(Gh(o),n===null)throw Error(a(387));p=o.pendingProps,N=o.memoizedState,C=N.element,oh(n,o),Yl(o,p,null,f);var _=o.memoizedState;if(p=_.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){C=So(Error(a(423)),o),o=Xh(n,o,p,f,C);break e}else if(p!==C){C=So(Error(a(424)),o),o=Xh(n,o,p,f,C);break e}else for(Dr=oi(o.stateNode.containerInfo.firstChild),Pr=o,Qt=!0,is=null,f=sh(o,null,p,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(vo(),p===C){o=js(n,o,f);break e}lr(n,o,p,f)}o=o.child}return o;case 5:return ch(o),n===null&&Du(o),p=o.type,C=o.pendingProps,N=n!==null?n.memoizedProps:null,_=C.children,Su(p,C)?_=null:N!==null&&Su(p,N)&&(o.flags|=32),Hh(n,o),lr(n,o,_,f),o.child;case 6:return n===null&&Du(o),null;case 13:return Yh(n,o,f);case 4:return zu(o,o.stateNode.containerInfo),p=o.pendingProps,n===null?o.child=Co(o,null,p,f):lr(n,o,p,f),o.child;case 11:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),Fh(n,o,p,C,f);case 7:return lr(n,o,o.pendingProps,f),o.child;case 8:return lr(n,o,o.pendingProps.children,f),o.child;case 12:return lr(n,o,o.pendingProps.children,f),o.child;case 10:e:{if(p=o.type._context,C=o.pendingProps,N=o.memoizedProps,_=C.value,Ht(Wl,p._currentValue),p._currentValue=_,N!==null)if(J(N.value,_)){if(N.children===C.children&&!pr.current){o=js(n,o,f);break e}}else for(N=o.child,N!==null&&(N.return=o);N!==null;){var V=N.dependencies;if(V!==null){_=N.child;for(var X=V.firstContext;X!==null;){if(X.context===p){if(N.tag===1){X=Bs(-1,f&-f),X.tag=2;var le=N.updateQueue;if(le!==null){le=le.shared;var Ee=le.pending;Ee===null?X.next=X:(X.next=Ee.next,Ee.next=X),le.pending=X}}N.lanes|=f,X=N.alternate,X!==null&&(X.lanes|=f),Fu(N.return,f,o),V.lanes|=f;break}X=X.next}}else if(N.tag===10)_=N.type===o.type?null:N.child;else if(N.tag===18){if(_=N.return,_===null)throw Error(a(341));_.lanes|=f,V=_.alternate,V!==null&&(V.lanes|=f),Fu(_,f,o),_=N.sibling}else _=N.child;if(_!==null)_.return=N;else for(_=N;_!==null;){if(_===o){_=null;break}if(N=_.sibling,N!==null){N.return=_.return,_=N;break}_=_.return}N=_}lr(n,o,C.children,f),o=o.child}return o;case 9:return C=o.type,p=o.pendingProps.children,bo(o,f),C=Gr(C),p=p(C),o.flags|=1,lr(n,o,p,f),o.child;case 14:return p=o.type,C=os(p,o.pendingProps),C=os(p.type,C),Vh(n,o,p,C,f);case 15:return Uh(n,o,o.type,o.pendingProps,f);case 17:return p=o.type,C=o.pendingProps,C=o.elementType===p?C:os(p,C),nc(n,o),o.tag=1,xr(p)?(n=!0,jl(o)):n=!1,bo(o,f),Oh(o,p,C),td(o,p,C,f),id(null,o,p,!0,n,f);case 19:return Zh(n,o,f);case 22:return zh(n,o,f)}throw Error(a(156,o.tag))};function w1(n,o){return Tr(n,o)}function Oy(n,o,f,p){this.tag=n,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(n,o,f,p){return new Oy(n,o,f,p)}function Sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Py(n){if(typeof n=="function")return Sd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===we)return 11;if(n===W)return 14}return 2}function xi(n,o){var f=n.alternate;return f===null?(f=Kr(n.tag,o,n.key,n.mode),f.elementType=n.elementType,f.type=n.type,f.stateNode=n.stateNode,f.alternate=n,n.alternate=f):(f.pendingProps=o,f.type=n.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=n.flags&14680064,f.childLanes=n.childLanes,f.lanes=n.lanes,f.child=n.child,f.memoizedProps=n.memoizedProps,f.memoizedState=n.memoizedState,f.updateQueue=n.updateQueue,o=n.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=n.sibling,f.index=n.index,f.ref=n.ref,f}function hc(n,o,f,p,C,N){var _=2;if(p=n,typeof n=="function")Sd(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case q:return Zi(f.children,C,N,o);case Q:_=8,C|=8;break;case z:return n=Kr(12,f,o,C|2),n.elementType=z,n.lanes=N,n;case _e:return n=Kr(13,f,o,C),n.elementType=_e,n.lanes=N,n;case Pe:return n=Kr(19,f,o,C),n.elementType=Pe,n.lanes=N,n;case ue:return mc(f,C,N,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case xe:_=10;break e;case Oe:_=9;break e;case we:_=11;break e;case W:_=14;break e;case ge:_=16,p=null;break e}throw Error(a(130,n==null?n:typeof n,""))}return o=Kr(_,f,o,C),o.elementType=n,o.type=p,o.lanes=N,o}function Zi(n,o,f,p){return n=Kr(7,n,p,o),n.lanes=f,n}function mc(n,o,f,p){return n=Kr(22,n,p,o),n.elementType=ue,n.lanes=f,n.stateNode={isHidden:!1},n}function Nd(n,o,f){return n=Kr(6,n,null,o),n.lanes=f,n}function Td(n,o,f){return o=Kr(4,n.children!==null?n.children:[],n.key,o),o.lanes=f,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function Dy(n,o,f,p,C){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=te(0),this.expirationTimes=te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.identifierPrefix=p,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Id(n,o,f,p,C,N,_,V,X){return n=new Dy(n,o,f,V,X),o===1?(o=1,N===!0&&(o|=8)):o=0,N=Kr(3,null,null,o),n.current=N,N.stateNode=n,N.memoizedState={element:p,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(N),n}function My(n,o,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:p==null?null:""+p,children:n,containerInfo:o,implementation:f}}function v1(n){if(!n)return li;n=n._reactInternals;e:{if(gr(n)!==n||n.tag!==1)throw Error(a(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(xr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(a(171))}if(n.tag===1){var f=n.type;if(xr(f))return K0(n,f,o)}return o}function C1(n,o,f,p,C,N,_,V,X){return n=Id(f,p,!0,n,C,N,_,V,X),n.context=v1(null),f=n.current,p=cr(),C=gi(f),N=Bs(p,C),N.callback=o??null,di(f,N,C),n.current.lanes=C,M(n,C,p),vr(n,p),n}function gc(n,o,f,p){var C=o.current,N=cr(),_=gi(C);return f=v1(f),o.context===null?o.context=f:o.pendingContext=f,o=Bs(N,_),o.payload={element:n},p=p===void 0?null:p,p!==null&&(o.callback=p),n=di(C,o,_),n!==null&&(cs(n,C,_,N),Xl(n,C,_)),_}function pc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function E1(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var f=n.retryLane;n.retryLane=f!==0&&f<o?f:o}}function kd(n,o){E1(n,o),(n=n.alternate)&&E1(n,o)}function Ly(){return null}var b1=typeof reportError=="function"?reportError:function(n){console.error(n)};function Rd(n){this._internalRoot=n}xc.prototype.render=Rd.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(a(409));gc(n,o,null,null)},xc.prototype.unmount=Rd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Xi(function(){gc(null,n,null,null)}),o[Os]=null}};function xc(n){this._internalRoot=n}xc.prototype.unstable_scheduleHydration=function(n){if(n){var o=Ut();n={blockedOn:null,target:n,priority:o};for(var f=0;f<zn.length&&o!==0&&o<zn[f].priority;f++);zn.splice(f,0,n),f===0&&El(n)}};function _d(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function A1(){}function By(n,o,f,p,C){if(C){if(typeof p=="function"){var N=p;p=function(){var le=pc(_);N.call(le)}}var _=C1(o,p,n,0,null,!1,!1,"",A1);return n._reactRootContainer=_,n[Os]=_.current,ba(n.nodeType===8?n.parentNode:n),Xi(),_}for(;C=n.lastChild;)n.removeChild(C);if(typeof p=="function"){var V=p;p=function(){var le=pc(X);V.call(le)}}var X=Id(n,0,!1,null,null,!1,!1,"",A1);return n._reactRootContainer=X,n[Os]=X.current,ba(n.nodeType===8?n.parentNode:n),Xi(function(){gc(o,X,f,p)}),X}function wc(n,o,f,p,C){var N=f._reactRootContainer;if(N){var _=N;if(typeof C=="function"){var V=C;C=function(){var X=pc(_);V.call(X)}}gc(o,_,n,C)}else _=By(f,o,n,C,p);return pc(_)}io=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var f=Ft(o.pendingLanes);f!==0&&(cn(o,f|1),vr(o,It()),(At&6)===0&&(Io=It()+500,ci()))}break;case 13:Xi(function(){var p=Ls(n,1);if(p!==null){var C=cr();cs(p,n,1,C)}}),kd(n,1)}},$n=function(n){if(n.tag===13){var o=Ls(n,134217728);if(o!==null){var f=cr();cs(o,n,134217728,f)}kd(n,134217728)}},Ze=function(n){if(n.tag===13){var o=gi(n),f=Ls(n,o);if(f!==null){var p=cr();cs(f,n,o,p)}kd(n,o)}},Ut=function(){return ct},ca=function(n,o){var f=ct;try{return ct=n,o()}finally{ct=f}},Xs=function(n,o,f){switch(o){case"input":if(Bt(n,f),o=f.name,f.type==="radio"&&o!=null){for(f=n;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<f.length;o++){var p=f[o];if(p!==n&&p.form===n.form){var C=Ll(p);if(!C)throw Error(a(90));En(p),Bt(p,C)}}}break;case"textarea":mr(n,f);break;case"select":o=f.value,o!=null&&Le(n,!!f.multiple,o,!1)}},en=Ed,Et=Xi;var jy={usingClientEntryPoint:!1,Events:[Na,go,Ll,nt,Ct,Ed]},Va={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fy={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gl(n),n===null?null:n.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{wt=vc.inject(Fy),lt=vc}catch{}}return Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jy,Cr.createPortal=function(n,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(o))throw Error(a(200));return My(n,o,null,f)},Cr.createRoot=function(n,o){if(!_d(n))throw Error(a(299));var f=!1,p="",C=b1;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=Id(n,1,!1,null,null,f,!1,p,C),n[Os]=o.current,ba(n.nodeType===8?n.parentNode:n),new Rd(o)},Cr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=gl(o),n=n===null?null:n.stateNode,n},Cr.flushSync=function(n){return Xi(n)},Cr.hydrate=function(n,o,f){if(!yc(o))throw Error(a(200));return wc(null,n,o,!0,f)},Cr.hydrateRoot=function(n,o,f){if(!_d(n))throw Error(a(405));var p=f!=null&&f.hydratedSources||null,C=!1,N="",_=b1;if(f!=null&&(f.unstable_strictMode===!0&&(C=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onRecoverableError!==void 0&&(_=f.onRecoverableError)),o=C1(o,null,n,1,f??null,C,!1,N,_),n[Os]=o.current,ba(n),p)for(n=0;n<p.length;n++)f=p[n],C=f._getVersion,C=C(f._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[f,C]:o.mutableSourceEagerHydrationData.push(f,C);return new xc(o)},Cr.render=function(n,o,f){if(!yc(o))throw Error(a(200));return wc(null,n,o,!1,f)},Cr.unmountComponentAtNode=function(n){if(!yc(n))throw Error(a(40));return n._reactRootContainer?(Xi(function(){wc(null,null,n,!1,function(){n._reactRootContainer=null,n[Os]=null})}),!0):!1},Cr.unstable_batchedUpdates=Ed,Cr.unstable_renderSubtreeIntoContainer=function(n,o,f,p){if(!yc(f))throw Error(a(200));if(n==null||n._reactInternals===void 0)throw Error(a(38));return wc(n,o,f,!1,p)},Cr.version="18.3.1-next-f1338f8080-20240426",Cr}var O1;function Vg(){if(O1)return Dd.exports;O1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Dd.exports=Xy(),Dd.exports}var P1;function Yy(){if(P1)return Ec;P1=1;var t=Vg();return Ec.createRoot=t.createRoot,Ec.hydrateRoot=t.hydrateRoot,Ec}var Ky=Yy(),D=Hf();const ke=zf(D),Ug=Fg({__proto__:null,default:ke},[D]);function zg(t){var s,a,u="";if(typeof t=="string"||typeof t=="number")u+=t;else if(typeof t=="object")if(Array.isArray(t)){var m=t.length;for(s=0;s<m;s++)t[s]&&(a=zg(t[s]))&&(u&&(u+=" "),u+=a)}else for(a in t)t[a]&&(u&&(u+=" "),u+=a);return u}function Hg(){for(var t,s,a=0,u="",m=arguments.length;a<m;a++)(t=arguments[a])&&(s=zg(t))&&(u&&(u+=" "),u+=s);return u}const Wf="-",Zy=t=>{const s=$y(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:u}=t;return{getClassGroupId:y=>{const b=y.split(Wf);return b[0]===""&&b.length!==1&&b.shift(),Wg(b,s)||qy(y)},getConflictingClassGroupIds:(y,b)=>{const A=a[y]||[];return b&&u[y]?[...A,...u[y]]:A}}},Wg=(t,s)=>{if(t.length===0)return s.classGroupId;const a=t[0],u=s.nextPart.get(a),m=u?Wg(t.slice(1),u):void 0;if(m)return m;if(s.validators.length===0)return;const g=t.join(Wf);return s.validators.find(({validator:y})=>y(g))?.classGroupId},D1=/^\[(.+)\]$/,qy=t=>{if(D1.test(t)){const s=D1.exec(t)[1],a=s?.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},$y=t=>{const{theme:s,classGroups:a}=t,u={nextPart:new Map,validators:[]};for(const m in a)df(a[m],u,m,s);return u},df=(t,s,a,u)=>{t.forEach(m=>{if(typeof m=="string"){const g=m===""?s:M1(s,m);g.classGroupId=a;return}if(typeof m=="function"){if(Qy(m)){df(m(u),s,a,u);return}s.validators.push({validator:m,classGroupId:a});return}Object.entries(m).forEach(([g,y])=>{df(y,M1(s,g),a,u)})})},M1=(t,s)=>{let a=t;return s.split(Wf).forEach(u=>{a.nextPart.has(u)||a.nextPart.set(u,{nextPart:new Map,validators:[]}),a=a.nextPart.get(u)}),a},Qy=t=>t.isThemeGetter,Jy=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,u=new Map;const m=(g,y)=>{a.set(g,y),s++,s>t&&(s=0,u=a,a=new Map)};return{get(g){let y=a.get(g);if(y!==void 0)return y;if((y=u.get(g))!==void 0)return m(g,y),y},set(g,y){a.has(g)?a.set(g,y):m(g,y)}}},ff="!",hf=":",ew=hf.length,tw=t=>{const{prefix:s,experimentalParseClassName:a}=t;let u=m=>{const g=[];let y=0,b=0,A=0,E;for(let U=0;U<m.length;U++){let j=m[U];if(y===0&&b===0){if(j===hf){g.push(m.slice(A,U)),A=U+ew;continue}if(j==="/"){E=U;continue}}j==="["?y++:j==="]"?y--:j==="("?b++:j===")"&&b--}const T=g.length===0?m:m.substring(A),S=nw(T),O=S!==T,L=E&&E>A?E-A:void 0;return{modifiers:g,hasImportantModifier:O,baseClassName:S,maybePostfixModifierPosition:L}};if(s){const m=s+hf,g=u;u=y=>y.startsWith(m)?g(y.substring(m.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:y,maybePostfixModifierPosition:void 0}}if(a){const m=u;u=g=>a({className:g,parseClassName:m})}return u},nw=t=>t.endsWith(ff)?t.substring(0,t.length-1):t.startsWith(ff)?t.substring(1):t,rw=t=>{const s=Object.fromEntries(t.orderSensitiveModifiers.map(u=>[u,!0]));return u=>{if(u.length<=1)return u;const m=[];let g=[];return u.forEach(y=>{y[0]==="["||s[y]?(m.push(...g.sort(),y),g=[]):g.push(y)}),m.push(...g.sort()),m}},sw=t=>({cache:Jy(t.cacheSize),parseClassName:tw(t),sortModifiers:rw(t),...Zy(t)}),iw=/\s+/,ow=(t,s)=>{const{parseClassName:a,getClassGroupId:u,getConflictingClassGroupIds:m,sortModifiers:g}=s,y=[],b=t.trim().split(iw);let A="";for(let E=b.length-1;E>=0;E-=1){const T=b[E],{isExternal:S,modifiers:O,hasImportantModifier:L,baseClassName:U,maybePostfixModifierPosition:j}=a(T);if(S){A=T+(A.length>0?" "+A:A);continue}let F=!!j,Z=u(F?U.substring(0,j):U);if(!Z){if(!F){A=T+(A.length>0?" "+A:A);continue}if(Z=u(U),!Z){A=T+(A.length>0?" "+A:A);continue}F=!1}const ee=g(O).join(":"),G=L?ee+ff:ee,re=G+Z;if(y.includes(re))continue;y.push(re);const fe=m(Z,F);for(let de=0;de<fe.length;++de){const q=fe[de];y.push(G+q)}A=T+(A.length>0?" "+A:A)}return A};function aw(){let t=0,s,a,u="";for(;t<arguments.length;)(s=arguments[t++])&&(a=Gg(s))&&(u&&(u+=" "),u+=a);return u}const Gg=t=>{if(typeof t=="string")return t;let s,a="";for(let u=0;u<t.length;u++)t[u]&&(s=Gg(t[u]))&&(a&&(a+=" "),a+=s);return a};function lw(t,...s){let a,u,m,g=y;function y(A){const E=s.reduce((T,S)=>S(T),t());return a=sw(E),u=a.cache.get,m=a.cache.set,g=b,b(A)}function b(A){const E=u(A);if(E)return E;const T=ow(A,a);return m(A,T),T}return function(){return g(aw.apply(null,arguments))}}const Rn=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},Xg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Yg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cw=/^\d+\/\d+$/,uw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ro=t=>cw.test(t),ht=t=>!!t&&!Number.isNaN(Number(t)),wi=t=>!!t&&Number.isInteger(Number(t)),Bd=t=>t.endsWith("%")&&ht(t.slice(0,-1)),Vs=t=>uw.test(t),gw=()=>!0,pw=t=>dw.test(t)&&!fw.test(t),Kg=()=>!1,xw=t=>hw.test(t),yw=t=>mw.test(t),ww=t=>!ze(t)&&!He(t),vw=t=>Jo(t,$g,Kg),ze=t=>Xg.test(t),qi=t=>Jo(t,Qg,pw),jd=t=>Jo(t,Sw,ht),L1=t=>Jo(t,Zg,Kg),Cw=t=>Jo(t,qg,yw),bc=t=>Jo(t,Jg,xw),He=t=>Yg.test(t),za=t=>ea(t,Qg),Ew=t=>ea(t,Nw),B1=t=>ea(t,Zg),bw=t=>ea(t,$g),Aw=t=>ea(t,qg),Ac=t=>ea(t,Jg,!0),Jo=(t,s,a)=>{const u=Xg.exec(t);return u?u[1]?s(u[1]):a(u[2]):!1},ea=(t,s,a=!1)=>{const u=Yg.exec(t);return u?u[1]?s(u[1]):a:!1},Zg=t=>t==="position"||t==="percentage",qg=t=>t==="image"||t==="url",$g=t=>t==="length"||t==="size"||t==="bg-size",Qg=t=>t==="length",Sw=t=>t==="number",Nw=t=>t==="family-name",Jg=t=>t==="shadow",Tw=()=>{const t=Rn("color"),s=Rn("font"),a=Rn("text"),u=Rn("font-weight"),m=Rn("tracking"),g=Rn("leading"),y=Rn("breakpoint"),b=Rn("container"),A=Rn("spacing"),E=Rn("radius"),T=Rn("shadow"),S=Rn("inset-shadow"),O=Rn("text-shadow"),L=Rn("drop-shadow"),U=Rn("blur"),j=Rn("perspective"),F=Rn("aspect"),Z=Rn("ease"),ee=Rn("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],fe=()=>[...re(),He,ze],de=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],Q=()=>[He,ze,A],z=()=>[Ro,"full","auto",...Q()],xe=()=>[wi,"none","subgrid",He,ze],Oe=()=>["auto",{span:["full",wi,He,ze]},wi,He,ze],we=()=>[wi,"auto",He,ze],_e=()=>["auto","min","max","fr",He,ze],Pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...Q()],ue=()=>[Ro,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Q()],se=()=>[t,He,ze],he=()=>[...re(),B1,L1,{position:[He,ze]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",bw,vw,{size:[He,ze]}],ce=()=>[Bd,za,qi],me=()=>["","none","full",E,He,ze],Ne=()=>["",ht,za,qi],Ve=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ke=()=>[ht,Bd,B1,L1],De=()=>["","none",U,He,ze],at=()=>["none",ht,He,ze],Rt=()=>["none",ht,He,ze],Pt=()=>[ht,He,ze],En=()=>[Ro,"full",...Q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[gw],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[ww],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",ht],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ro,ze,He,F]}],container:["container"],columns:[{columns:[ht,ze,He,b]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:fe()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",He,ze]}],basis:[{basis:[Ro,"full","auto",b,...Q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ht,Ro,"auto","initial","none",ze]}],grow:[{grow:["",ht,He,ze]}],shrink:[{shrink:["",ht,He,ze]}],order:[{order:[wi,"first","last","none",He,ze]}],"grid-cols":[{"grid-cols":xe()}],"col-start-end":[{col:Oe()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":xe()}],"row-start-end":[{row:Oe()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_e()}],"auto-rows":[{"auto-rows":_e()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...Pe(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...Pe()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":Pe()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:Q()}],px:[{px:Q()}],py:[{py:Q()}],ps:[{ps:Q()}],pe:[{pe:Q()}],pt:[{pt:Q()}],pr:[{pr:Q()}],pb:[{pb:Q()}],pl:[{pl:Q()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[b,"screen",...ue()]}],"min-w":[{"min-w":[b,"screen","none",...ue()]}],"max-w":[{"max-w":[b,"screen","none","prose",{screen:[y]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",a,za,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[u,He,jd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Bd,ze]}],"font-family":[{font:[Ew,ze,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[m,He,ze]}],"line-clamp":[{"line-clamp":[ht,"none",He,jd]}],leading:[{leading:[g,...Q()]}],"list-image":[{"list-image":["none",He,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[ht,"from-font","auto",He,qi]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[ht,"auto",He,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,He,ze],radial:["",He,ze],conic:[wi,He,ze]},Aw,Cw]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ht,He,ze]}],"outline-w":[{outline:["",ht,za,qi]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",T,Ac,bc]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",S,Ac,bc]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[ht,qi]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",O,Ac,bc]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[ht,He,ze]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ke()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":Ke()}],"mask-image-t-to-pos":[{"mask-t-to":Ke()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":Ke()}],"mask-image-r-to-pos":[{"mask-r-to":Ke()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":Ke()}],"mask-image-b-to-pos":[{"mask-b-to":Ke()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":Ke()}],"mask-image-l-to-pos":[{"mask-l-to":Ke()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":Ke()}],"mask-image-x-to-pos":[{"mask-x-to":Ke()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":Ke()}],"mask-image-y-to-pos":[{"mask-y-to":Ke()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[He,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ke()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":re()}],"mask-image-conic-pos":[{"mask-conic":[ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ke()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",He,ze]}],filter:[{filter:["","none",He,ze]}],blur:[{blur:De()}],brightness:[{brightness:[ht,He,ze]}],contrast:[{contrast:[ht,He,ze]}],"drop-shadow":[{"drop-shadow":["","none",L,Ac,bc]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",ht,He,ze]}],"hue-rotate":[{"hue-rotate":[ht,He,ze]}],invert:[{invert:["",ht,He,ze]}],saturate:[{saturate:[ht,He,ze]}],sepia:[{sepia:["",ht,He,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",He,ze]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[ht,He,ze]}],"backdrop-contrast":[{"backdrop-contrast":[ht,He,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ht,He,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ht,He,ze]}],"backdrop-invert":[{"backdrop-invert":["",ht,He,ze]}],"backdrop-opacity":[{"backdrop-opacity":[ht,He,ze]}],"backdrop-saturate":[{"backdrop-saturate":[ht,He,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",ht,He,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ht,"initial",He,ze]}],ease:[{ease:["linear","initial",Z,He,ze]}],delay:[{delay:[ht,He,ze]}],animate:[{animate:["none",ee,He,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,He,ze]}],"perspective-origin":[{"perspective-origin":fe()}],rotate:[{rotate:at()}],"rotate-x":[{"rotate-x":at()}],"rotate-y":[{"rotate-y":at()}],"rotate-z":[{"rotate-z":at()}],scale:[{scale:Rt()}],"scale-x":[{"scale-x":Rt()}],"scale-y":[{"scale-y":Rt()}],"scale-z":[{"scale-z":Rt()}],"scale-3d":["scale-3d"],skew:[{skew:Pt()}],"skew-x":[{"skew-x":Pt()}],"skew-y":[{"skew-y":Pt()}],transform:[{transform:[He,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:En()}],"translate-x":[{"translate-x":En()}],"translate-y":[{"translate-y":En()}],"translate-z":[{"translate-z":En()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,ze]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[ht,za,qi,jd]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Iw=lw(Tw);function Fn(...t){return Iw(Hg(t))}function Lt({className:t,...s}){return w.jsx("div",{"data-slot":"card",className:Fn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...s})}function j1(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function ep(...t){return s=>{let a=!1;const u=t.map(m=>{const g=j1(m,s);return!a&&typeof g=="function"&&(a=!0),g});if(a)return()=>{for(let m=0;m<u.length;m++){const g=u[m];typeof g=="function"?g():j1(t[m],null)}}}}function Jr(...t){return D.useCallback(ep(...t),t)}function el(t){const s=kw(t),a=D.forwardRef((u,m)=>{const{children:g,...y}=u,b=D.Children.toArray(g),A=b.find(_w);if(A){const E=A.props.children,T=b.map(S=>S===A?D.Children.count(E)>1?D.Children.only(null):D.isValidElement(E)?E.props.children:null:S);return w.jsx(s,{...y,ref:m,children:D.isValidElement(E)?D.cloneElement(E,void 0,T):null})}return w.jsx(s,{...y,ref:m,children:g})});return a.displayName=`${t}.Slot`,a}var tp=el("Slot");function kw(t){const s=D.forwardRef((a,u)=>{const{children:m,...g}=a;if(D.isValidElement(m)){const y=Pw(m),b=Ow(g,m.props);return m.type!==D.Fragment&&(b.ref=u?ep(u,y):y),D.cloneElement(m,b)}return D.Children.count(m)>1?D.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Rw=Symbol("radix.slottable");function _w(t){return D.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rw}function Ow(t,s){const a={...s};for(const u in s){const m=t[u],g=s[u];/^on[A-Z]/.test(u)?m&&g?a[u]=(...b)=>{const A=g(...b);return m(...b),A}:m&&(a[u]=m):u==="style"?a[u]={...m,...g}:u==="className"&&(a[u]=[m,g].filter(Boolean).join(" "))}return{...t,...a}}function Pw(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const F1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,V1=Hg,np=(t,s)=>a=>{var u;if(s?.variants==null)return V1(t,a?.class,a?.className);const{variants:m,defaultVariants:g}=s,y=Object.keys(m).map(E=>{const T=a?.[E],S=g?.[E];if(T===null)return null;const O=F1(T)||F1(S);return m[E][O]}),b=a&&Object.entries(a).reduce((E,T)=>{let[S,O]=T;return O===void 0||(E[S]=O),E},{}),A=s==null||(u=s.compoundVariants)===null||u===void 0?void 0:u.reduce((E,T)=>{let{class:S,className:O,...L}=T;return Object.entries(L).every(U=>{let[j,F]=U;return Array.isArray(F)?F.includes({...g,...b}[j]):{...g,...b}[j]===F})?[...E,S,O]:E},[]);return V1(t,y,A,a?.class,a?.className)},Dw=np("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function dt({className:t,variant:s,size:a,asChild:u=!1,...m}){const g=u?tp:"button";return w.jsx(g,{"data-slot":"button",className:Fn(Dw({variant:s,size:a,className:t})),...m})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lw=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,u)=>u?u.toUpperCase():a.toLowerCase()),U1=t=>{const s=Lw(t);return s.charAt(0).toUpperCase()+s.slice(1)},rp=(...t)=>t.filter((s,a,u)=>!!s&&s.trim()!==""&&u.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=D.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:m="",children:g,iconNode:y,...b},A)=>D.createElement("svg",{ref:A,...Bw,width:s,height:s,stroke:t,strokeWidth:u?Number(a)*24/Number(s):a,className:rp("lucide",m),...b},[...y.map(([E,T])=>D.createElement(E,T)),...Array.isArray(g)?g:[g]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(t,s)=>{const a=D.forwardRef(({className:u,...m},g)=>D.createElement(jw,{ref:g,iconNode:s,className:rp(`lucide-${Mw(U1(t))}`,`lucide-${t}`,u),...m}));return a.displayName=U1(t),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ha=xt("arrow-left",Fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Uw=xt("arrow-up-right",Vw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],z1=xt("award",zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sp=xt("bell",Hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],H1=xt("camera",Ww);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ei=xt("chevron-right",Gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ip=xt("circle-alert",Xw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kw=xt("circle-check-big",Yw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],op=xt("circle-check",Zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ap=xt("circle-help",qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],W1=xt("external-link",$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ho=xt("eye-off",Qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wo=xt("eye",Jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tv=xt("file-text",ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],tl=xt("gift",nv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sv=xt("house",rv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mf=xt("key",iv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],bi=xt("leaf",ov);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sc=xt("loader-circle",av);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jc=xt("lock",lv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],uv=xt("log-out",cv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mo=xt("mail",dv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],hv=xt("message-square",fv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M5 12h14",key:"1ays0h"}]],gv=xt("minus",mv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],xv=xt("moon",pv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fd=xt("package",yv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],vv=xt("phone",wv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ev=xt("plus",Cv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Xc=xt("qr-code",bv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sv=xt("send",Av);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tv=xt("settings",Nv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lp=xt("shield",Iv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Rv=xt("smartphone",kv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ov=xt("sun",_v);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Dv=xt("trending-up",Pv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gf=xt("user",Mv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ta=xt("x",Lv),Xf=D.createContext({});function Yf(t){const s=D.useRef(null);return s.current===null&&(s.current=t()),s.current}const Kf=typeof window<"u",cp=Kf?D.useLayoutEffect:D.useEffect,ru=D.createContext(null);function Zf(t,s){t.indexOf(s)===-1&&t.push(s)}function qf(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}const zs=(t,s,a)=>a>s?s:a<t?t:a;let $f=()=>{};const Hs={},up=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dp(t){return typeof t=="object"&&t!==null}const fp=t=>/^0[^.\s]+$/u.test(t);function Qf(t){let s;return()=>(s===void 0&&(s=t()),s)}const Qr=t=>t,Bv=(t,s)=>a=>s(t(a)),ll=(...t)=>t.reduce(Bv),nl=(t,s,a)=>{const u=s-t;return u===0?1:(a-t)/u};class Jf{constructor(){this.subscriptions=[]}add(s){return Zf(this.subscriptions,s),()=>qf(this.subscriptions,s)}notify(s,a,u){const m=this.subscriptions.length;if(m)if(m===1)this.subscriptions[0](s,a,u);else for(let g=0;g<m;g++){const y=this.subscriptions[g];y&&y(s,a,u)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ss=t=>t*1e3,$r=t=>t/1e3;function hp(t,s){return s?t*(1e3/s):0}const mp=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,jv=1e-7,Fv=12;function Vv(t,s,a,u,m){let g,y,b=0;do y=s+(a-s)/2,g=mp(y,u,m)-t,g>0?a=y:s=y;while(Math.abs(g)>jv&&++b<Fv);return y}function cl(t,s,a,u){if(t===s&&a===u)return Qr;const m=g=>Vv(g,0,1,t,a);return g=>g===0||g===1?g:mp(m(g),s,u)}const gp=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,pp=t=>s=>1-t(1-s),xp=cl(.33,1.53,.69,.99),e0=pp(xp),yp=gp(e0),wp=t=>(t*=2)<1?.5*e0(t):.5*(2-Math.pow(2,-10*(t-1))),t0=t=>1-Math.sin(Math.acos(t)),vp=pp(t0),Cp=gp(t0),Uv=cl(.42,0,1,1),zv=cl(0,0,.58,1),Ep=cl(.42,0,.58,1),Hv=t=>Array.isArray(t)&&typeof t[0]!="number",bp=t=>Array.isArray(t)&&typeof t[0]=="number",Wv={linear:Qr,easeIn:Uv,easeInOut:Ep,easeOut:zv,circIn:t0,circInOut:Cp,circOut:vp,backIn:e0,backInOut:yp,backOut:xp,anticipate:wp},Gv=t=>typeof t=="string",G1=t=>{if(bp(t)){$f(t.length===4);const[s,a,u,m]=t;return cl(s,a,u,m)}else if(Gv(t))return Wv[t];return t},Nc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Xv(t,s){let a=new Set,u=new Set,m=!1,g=!1;const y=new WeakSet;let b={delta:0,timestamp:0,isProcessing:!1};function A(T){y.has(T)&&(E.schedule(T),t()),T(b)}const E={schedule:(T,S=!1,O=!1)=>{const U=O&&m?a:u;return S&&y.add(T),U.has(T)||U.add(T),T},cancel:T=>{u.delete(T),y.delete(T)},process:T=>{if(b=T,m){g=!0;return}m=!0,[a,u]=[u,a],a.forEach(A),a.clear(),m=!1,g&&(g=!1,E.process(T))}};return E}const Yv=40;function Ap(t,s){let a=!1,u=!0;const m={delta:0,timestamp:0,isProcessing:!1},g=()=>a=!0,y=Nc.reduce((G,re)=>(G[re]=Xv(g),G),{}),{setup:b,read:A,resolveKeyframes:E,preUpdate:T,update:S,preRender:O,render:L,postRender:U}=y,j=()=>{const G=Hs.useManualTiming?m.timestamp:performance.now();a=!1,Hs.useManualTiming||(m.delta=u?1e3/60:Math.max(Math.min(G-m.timestamp,Yv),1)),m.timestamp=G,m.isProcessing=!0,b.process(m),A.process(m),E.process(m),T.process(m),S.process(m),O.process(m),L.process(m),U.process(m),m.isProcessing=!1,a&&s&&(u=!1,t(j))},F=()=>{a=!0,u=!0,m.isProcessing||t(j)};return{schedule:Nc.reduce((G,re)=>{const fe=y[re];return G[re]=(de,q=!1,Q=!1)=>(a||F(),fe.schedule(de,q,Q)),G},{}),cancel:G=>{for(let re=0;re<Nc.length;re++)y[Nc[re]].cancel(G)},state:m,steps:y}}const{schedule:Jt,cancel:Ai,state:Yn,steps:Vd}=Ap(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0);let Fc;function Kv(){Fc=void 0}const Ar={now:()=>(Fc===void 0&&Ar.set(Yn.isProcessing||Hs.useManualTiming?Yn.timestamp:performance.now()),Fc),set:t=>{Fc=t,queueMicrotask(Kv)}},Sp=t=>s=>typeof s=="string"&&s.startsWith(t),n0=Sp("--"),Zv=Sp("var(--"),r0=t=>Zv(t)?qv.test(t.split("/*")[0].trim()):!1,qv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,na={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...na,transform:t=>zs(0,1,t)},Tc={...na,default:1},Ya=t=>Math.round(t*1e5)/1e5,s0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $v(t){return t==null}const Qv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i0=(t,s)=>a=>!!(typeof a=="string"&&Qv.test(a)&&a.startsWith(t)||s&&!$v(a)&&Object.prototype.hasOwnProperty.call(a,s)),Np=(t,s,a)=>u=>{if(typeof u!="string")return u;const[m,g,y,b]=u.match(s0);return{[t]:parseFloat(m),[s]:parseFloat(g),[a]:parseFloat(y),alpha:b!==void 0?parseFloat(b):1}},Jv=t=>zs(0,255,t),Ud={...na,transform:t=>Math.round(Jv(t))},Ji={test:i0("rgb","red"),parse:Np("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:u=1})=>"rgba("+Ud.transform(t)+", "+Ud.transform(s)+", "+Ud.transform(a)+", "+Ya(rl.transform(u))+")"};function e3(t){let s="",a="",u="",m="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),u=t.substring(5,7),m=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),u=t.substring(3,4),m=t.substring(4,5),s+=s,a+=a,u+=u,m+=m),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(u,16),alpha:m?parseInt(m,16)/255:1}}const gf={test:i0("#"),parse:e3,transform:Ji.transform},ul=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),vi=ul("deg"),Ns=ul("%"),et=ul("px"),t3=ul("vh"),n3=ul("vw"),X1={...Ns,parse:t=>Ns.parse(t)/100,transform:t=>Ns.transform(t*100)},Lo={test:i0("hsl","hue"),parse:Np("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:u=1})=>"hsla("+Math.round(t)+", "+Ns.transform(Ya(s))+", "+Ns.transform(Ya(a))+", "+Ya(rl.transform(u))+")"},Cn={test:t=>Ji.test(t)||gf.test(t)||Lo.test(t),parse:t=>Ji.test(t)?Ji.parse(t):Lo.test(t)?Lo.parse(t):gf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ji.transform(t):Lo.transform(t),getAnimatableNone:t=>{const s=Cn.parse(t);return s.alpha=0,Cn.transform(s)}},r3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s3(t){return isNaN(t)&&typeof t=="string"&&(t.match(s0)?.length||0)+(t.match(r3)?.length||0)>0}const Tp="number",Ip="color",i3="var",o3="var(",Y1="${}",a3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sl(t){const s=t.toString(),a=[],u={color:[],number:[],var:[]},m=[];let g=0;const b=s.replace(a3,A=>(Cn.test(A)?(u.color.push(g),m.push(Ip),a.push(Cn.parse(A))):A.startsWith(o3)?(u.var.push(g),m.push(i3),a.push(A)):(u.number.push(g),m.push(Tp),a.push(parseFloat(A))),++g,Y1)).split(Y1);return{values:a,split:b,indexes:u,types:m}}function kp(t){return sl(t).values}function Rp(t){const{split:s,types:a}=sl(t),u=s.length;return m=>{let g="";for(let y=0;y<u;y++)if(g+=s[y],m[y]!==void 0){const b=a[y];b===Tp?g+=Ya(m[y]):b===Ip?g+=Cn.transform(m[y]):g+=m[y]}return g}}const l3=t=>typeof t=="number"?0:Cn.test(t)?Cn.getAnimatableNone(t):t;function c3(t){const s=kp(t);return Rp(t)(s.map(l3))}const Si={test:s3,parse:kp,createTransformer:Rp,getAnimatableNone:c3};function zd(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function u3({hue:t,saturation:s,lightness:a,alpha:u}){t/=360,s/=100,a/=100;let m=0,g=0,y=0;if(!s)m=g=y=a;else{const b=a<.5?a*(1+s):a+s-a*s,A=2*a-b;m=zd(A,b,t+1/3),g=zd(A,b,t),y=zd(A,b,t-1/3)}return{red:Math.round(m*255),green:Math.round(g*255),blue:Math.round(y*255),alpha:u}}function Yc(t,s){return a=>a>0?s:t}const on=(t,s,a)=>t+(s-t)*a,Hd=(t,s,a)=>{const u=t*t,m=a*(s*s-u)+u;return m<0?0:Math.sqrt(m)},d3=[gf,Ji,Lo],f3=t=>d3.find(s=>s.test(t));function K1(t){const s=f3(t);if(!s)return!1;let a=s.parse(t);return s===Lo&&(a=u3(a)),a}const Z1=(t,s)=>{const a=K1(t),u=K1(s);if(!a||!u)return Yc(t,s);const m={...a};return g=>(m.red=Hd(a.red,u.red,g),m.green=Hd(a.green,u.green,g),m.blue=Hd(a.blue,u.blue,g),m.alpha=on(a.alpha,u.alpha,g),Ji.transform(m))},pf=new Set(["none","hidden"]);function h3(t,s){return pf.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function m3(t,s){return a=>on(t,s,a)}function o0(t){return typeof t=="number"?m3:typeof t=="string"?r0(t)?Yc:Cn.test(t)?Z1:x3:Array.isArray(t)?_p:typeof t=="object"?Cn.test(t)?Z1:g3:Yc}function _p(t,s){const a=[...t],u=a.length,m=t.map((g,y)=>o0(g)(g,s[y]));return g=>{for(let y=0;y<u;y++)a[y]=m[y](g);return a}}function g3(t,s){const a={...t,...s},u={};for(const m in a)t[m]!==void 0&&s[m]!==void 0&&(u[m]=o0(t[m])(t[m],s[m]));return m=>{for(const g in u)a[g]=u[g](m);return a}}function p3(t,s){const a=[],u={color:0,var:0,number:0};for(let m=0;m<s.values.length;m++){const g=s.types[m],y=t.indexes[g][u[g]],b=t.values[y]??0;a[m]=b,u[g]++}return a}const x3=(t,s)=>{const a=Si.createTransformer(s),u=sl(t),m=sl(s);return u.indexes.var.length===m.indexes.var.length&&u.indexes.color.length===m.indexes.color.length&&u.indexes.number.length>=m.indexes.number.length?pf.has(t)&&!m.values.length||pf.has(s)&&!u.values.length?h3(t,s):ll(_p(p3(u,m),m.values),a):Yc(t,s)};function Op(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?on(t,s,a):o0(t)(t,s)}const y3=t=>{const s=({timestamp:a})=>t(a);return{start:(a=!0)=>Jt.update(s,a),stop:()=>Ai(s),now:()=>Yn.isProcessing?Yn.timestamp:Ar.now()}},Pp=(t,s,a=10)=>{let u="";const m=Math.max(Math.round(s/a),2);for(let g=0;g<m;g++)u+=Math.round(t(g/(m-1))*1e4)/1e4+", ";return`linear(${u.substring(0,u.length-2)})`},Kc=2e4;function a0(t){let s=0;const a=50;let u=t.next(s);for(;!u.done&&s<Kc;)s+=a,u=t.next(s);return s>=Kc?1/0:s}function w3(t,s=100,a){const u=a({...t,keyframes:[0,s]}),m=Math.min(a0(u),Kc);return{type:"keyframes",ease:g=>u.next(m*g).value/s,duration:$r(m)}}const v3=5;function Dp(t,s,a){const u=Math.max(s-v3,0);return hp(a-t(u),s-u)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wd=.001;function C3({duration:t=hn.duration,bounce:s=hn.bounce,velocity:a=hn.velocity,mass:u=hn.mass}){let m,g,y=1-s;y=zs(hn.minDamping,hn.maxDamping,y),t=zs(hn.minDuration,hn.maxDuration,$r(t)),y<1?(m=E=>{const T=E*y,S=T*t,O=T-a,L=xf(E,y),U=Math.exp(-S);return Wd-O/L*U},g=E=>{const S=E*y*t,O=S*a+a,L=Math.pow(y,2)*Math.pow(E,2)*t,U=Math.exp(-S),j=xf(Math.pow(E,2),y);return(-m(E)+Wd>0?-1:1)*((O-L)*U)/j}):(m=E=>{const T=Math.exp(-E*t),S=(E-a)*t+1;return-Wd+T*S},g=E=>{const T=Math.exp(-E*t),S=(a-E)*(t*t);return T*S});const b=5/t,A=b3(m,g,b);if(t=Ss(t),isNaN(A))return{stiffness:hn.stiffness,damping:hn.damping,duration:t};{const E=Math.pow(A,2)*u;return{stiffness:E,damping:y*2*Math.sqrt(u*E),duration:t}}}const E3=12;function b3(t,s,a){let u=a;for(let m=1;m<E3;m++)u=u-t(u)/s(u);return u}function xf(t,s){return t*Math.sqrt(1-s*s)}const A3=["duration","bounce"],S3=["stiffness","damping","mass"];function q1(t,s){return s.some(a=>t[a]!==void 0)}function N3(t){let s={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...t};if(!q1(t,S3)&&q1(t,A3))if(t.visualDuration){const a=t.visualDuration,u=2*Math.PI/(a*1.2),m=u*u,g=2*zs(.05,1,1-(t.bounce||0))*Math.sqrt(m);s={...s,mass:hn.mass,stiffness:m,damping:g}}else{const a=C3(t);s={...s,...a,mass:hn.mass},s.isResolvedFromDuration=!0}return s}function Zc(t=hn.visualDuration,s=hn.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:u,restDelta:m}=a;const g=a.keyframes[0],y=a.keyframes[a.keyframes.length-1],b={done:!1,value:g},{stiffness:A,damping:E,mass:T,duration:S,velocity:O,isResolvedFromDuration:L}=N3({...a,velocity:-$r(a.velocity||0)}),U=O||0,j=E/(2*Math.sqrt(A*T)),F=y-g,Z=$r(Math.sqrt(A/T)),ee=Math.abs(F)<5;u||(u=ee?hn.restSpeed.granular:hn.restSpeed.default),m||(m=ee?hn.restDelta.granular:hn.restDelta.default);let G;if(j<1){const fe=xf(Z,j);G=de=>{const q=Math.exp(-j*Z*de);return y-q*((U+j*Z*F)/fe*Math.sin(fe*de)+F*Math.cos(fe*de))}}else if(j===1)G=fe=>y-Math.exp(-Z*fe)*(F+(U+Z*F)*fe);else{const fe=Z*Math.sqrt(j*j-1);G=de=>{const q=Math.exp(-j*Z*de),Q=Math.min(fe*de,300);return y-q*((U+j*Z*F)*Math.sinh(Q)+fe*F*Math.cosh(Q))/fe}}const re={calculatedDuration:L&&S||null,next:fe=>{const de=G(fe);if(L)b.done=fe>=S;else{let q=fe===0?U:0;j<1&&(q=fe===0?Ss(U):Dp(G,fe,de));const Q=Math.abs(q)<=u,z=Math.abs(y-de)<=m;b.done=Q&&z}return b.value=b.done?y:de,b},toString:()=>{const fe=Math.min(a0(re),Kc),de=Pp(q=>re.next(fe*q).value,fe,30);return fe+"ms "+de},toTransition:()=>{}};return re}Zc.applyToOptions=t=>{const s=w3(t,100,Zc);return t.ease=s.ease,t.duration=Ss(s.duration),t.type="keyframes",t};function yf({keyframes:t,velocity:s=0,power:a=.8,timeConstant:u=325,bounceDamping:m=10,bounceStiffness:g=500,modifyTarget:y,min:b,max:A,restDelta:E=.5,restSpeed:T}){const S=t[0],O={done:!1,value:S},L=Q=>b!==void 0&&Q<b||A!==void 0&&Q>A,U=Q=>b===void 0?A:A===void 0||Math.abs(b-Q)<Math.abs(A-Q)?b:A;let j=a*s;const F=S+j,Z=y===void 0?F:y(F);Z!==F&&(j=Z-S);const ee=Q=>-j*Math.exp(-Q/u),G=Q=>Z+ee(Q),re=Q=>{const z=ee(Q),xe=G(Q);O.done=Math.abs(z)<=E,O.value=O.done?Z:xe};let fe,de;const q=Q=>{L(O.value)&&(fe=Q,de=Zc({keyframes:[O.value,U(O.value)],velocity:Dp(G,Q,O.value),damping:m,stiffness:g,restDelta:E,restSpeed:T}))};return q(0),{calculatedDuration:null,next:Q=>{let z=!1;return!de&&fe===void 0&&(z=!0,re(Q),q(Q)),fe!==void 0&&Q>=fe?de.next(Q-fe):(!z&&re(Q),O)}}}function T3(t,s,a){const u=[],m=a||Hs.mix||Op,g=t.length-1;for(let y=0;y<g;y++){let b=m(t[y],t[y+1]);if(s){const A=Array.isArray(s)?s[y]||Qr:s;b=ll(A,b)}u.push(b)}return u}function I3(t,s,{clamp:a=!0,ease:u,mixer:m}={}){const g=t.length;if($f(g===s.length),g===1)return()=>s[0];if(g===2&&s[0]===s[1])return()=>s[1];const y=t[0]===t[1];t[0]>t[g-1]&&(t=[...t].reverse(),s=[...s].reverse());const b=T3(s,u,m),A=b.length,E=T=>{if(y&&T<t[0])return s[0];let S=0;if(A>1)for(;S<t.length-2&&!(T<t[S+1]);S++);const O=nl(t[S],t[S+1],T);return b[S](O)};return a?T=>E(zs(t[0],t[g-1],T)):E}function k3(t,s){const a=t[t.length-1];for(let u=1;u<=s;u++){const m=nl(0,s,u);t.push(on(a,1,m))}}function R3(t){const s=[0];return k3(s,t.length-1),s}function _3(t,s){return t.map(a=>a*s)}function O3(t,s){return t.map(()=>s||Ep).splice(0,t.length-1)}function Ka({duration:t=300,keyframes:s,times:a,ease:u="easeInOut"}){const m=Hv(u)?u.map(G1):G1(u),g={done:!1,value:s[0]},y=_3(a&&a.length===s.length?a:R3(s),t),b=I3(y,s,{ease:Array.isArray(m)?m:O3(s,m)});return{calculatedDuration:t,next:A=>(g.value=b(A),g.done=A>=t,g)}}const P3=t=>t!==null;function l0(t,{repeat:s,repeatType:a="loop"},u,m=1){const g=t.filter(P3),b=m<0||s&&a!=="loop"&&s%2===1?0:g.length-1;return!b||u===void 0?g[b]:u}const D3={decay:yf,inertia:yf,tween:Ka,keyframes:Ka,spring:Zc};function Mp(t){typeof t.type=="string"&&(t.type=D3[t.type])}class c0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const M3=t=>t/100;class u0 extends c0{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Ar.now()&&this.tick(Ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;Mp(s);const{type:a=Ka,repeat:u=0,repeatDelay:m=0,repeatType:g,velocity:y=0}=s;let{keyframes:b}=s;const A=a||Ka;A!==Ka&&typeof b[0]!="number"&&(this.mixKeyframes=ll(M3,Op(b[0],b[1])),b=[0,100]);const E=A({...s,keyframes:b});g==="mirror"&&(this.mirroredGenerator=A({...s,keyframes:[...b].reverse(),velocity:-y})),E.calculatedDuration===null&&(E.calculatedDuration=a0(E));const{calculatedDuration:T}=E;this.calculatedDuration=T,this.resolvedDuration=T+m,this.totalDuration=this.resolvedDuration*(u+1)-m,this.generator=E}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:u,totalDuration:m,mixKeyframes:g,mirroredGenerator:y,resolvedDuration:b,calculatedDuration:A}=this;if(this.startTime===null)return u.next(0);const{delay:E=0,keyframes:T,repeat:S,repeatType:O,repeatDelay:L,type:U,onUpdate:j,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-m/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const Z=this.currentTime-E*(this.playbackSpeed>=0?1:-1),ee=this.playbackSpeed>=0?Z<0:Z>m;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let G=this.currentTime,re=u;if(S){const Q=Math.min(this.currentTime,m)/b;let z=Math.floor(Q),xe=Q%1;!xe&&Q>=1&&(xe=1),xe===1&&z--,z=Math.min(z,S+1),!!(z%2)&&(O==="reverse"?(xe=1-xe,L&&(xe-=L/b)):O==="mirror"&&(re=y)),G=zs(0,1,xe)*b}const fe=ee?{done:!1,value:T[0]}:re.next(G);g&&(fe.value=g(fe.value));let{done:de}=fe;!ee&&A!==null&&(de=this.playbackSpeed>=0?this.currentTime>=m:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return q&&U!==yf&&(fe.value=l0(T,this.options,F,this.speed)),j&&j(fe.value),q&&this.finish(),fe}then(s,a){return this.finished.then(s,a)}get duration(){return $r(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+$r(s)}get time(){return $r(this.currentTime)}set time(s){s=Ss(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Ar.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=$r(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=y3,startTime:a}=this.options;this.driver||(this.driver=s(m=>this.tick(m))),this.options.onPlay?.();const u=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=u):this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime||(this.startTime=a??u),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function L3(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const eo=t=>t*180/Math.PI,wf=t=>{const s=eo(Math.atan2(t[1],t[0]));return vf(s)},B3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wf,rotateZ:wf,skewX:t=>eo(Math.atan(t[1])),skewY:t=>eo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vf=t=>(t=t%360,t<0&&(t+=360),t),$1=wf,Q1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),J1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),j3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Q1,scaleY:J1,scale:t=>(Q1(t)+J1(t))/2,rotateX:t=>vf(eo(Math.atan2(t[6],t[5]))),rotateY:t=>vf(eo(Math.atan2(-t[2],t[0]))),rotateZ:$1,rotate:$1,skewX:t=>eo(Math.atan(t[4])),skewY:t=>eo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cf(t){return t.includes("scale")?1:0}function Ef(t,s){if(!t||t==="none")return Cf(s);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let u,m;if(a)u=j3,m=a;else{const b=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);u=B3,m=b}if(!m)return Cf(s);const g=u[s],y=m[1].split(",").map(V3);return typeof g=="function"?g(y):y[g]}const F3=(t,s)=>{const{transform:a="none"}=getComputedStyle(t);return Ef(a,s)};function V3(t){return parseFloat(t.trim())}const ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sa=new Set(ra),em=t=>t===na||t===et,U3=new Set(["x","y","z"]),z3=ra.filter(t=>!U3.has(t));function H3(t){const s=[];return z3.forEach(a=>{const u=t.getValue(a);u!==void 0&&(s.push([a,u.get()]),u.set(a.startsWith("scale")?1:0))}),s}const to={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Ef(s,"x"),y:(t,{transform:s})=>Ef(s,"y")};to.translateX=to.x;to.translateY=to.y;const no=new Set;let bf=!1,Af=!1,Sf=!1;function Lp(){if(Af){const t=Array.from(no).filter(u=>u.needsMeasurement),s=new Set(t.map(u=>u.element)),a=new Map;s.forEach(u=>{const m=H3(u);m.length&&(a.set(u,m),u.render())}),t.forEach(u=>u.measureInitialState()),s.forEach(u=>{u.render();const m=a.get(u);m&&m.forEach(([g,y])=>{u.getValue(g)?.set(y)})}),t.forEach(u=>u.measureEndState()),t.forEach(u=>{u.suspendedScrollY!==void 0&&window.scrollTo(0,u.suspendedScrollY)})}Af=!1,bf=!1,no.forEach(t=>t.complete(Sf)),no.clear()}function Bp(){no.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Af=!0)})}function W3(){Sf=!0,Bp(),Lp(),Sf=!1}class d0{constructor(s,a,u,m,g,y=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=u,this.motionValue=m,this.element=g,this.isAsync=y}scheduleResolve(){this.state="scheduled",this.isAsync?(no.add(this),bf||(bf=!0,Jt.read(Bp),Jt.resolveKeyframes(Lp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:u,motionValue:m}=this;if(s[0]===null){const g=m?.get(),y=s[s.length-1];if(g!==void 0)s[0]=g;else if(u&&a){const b=u.readValue(a,y);b!=null&&(s[0]=b)}s[0]===void 0&&(s[0]=y),m&&g===void 0&&m.set(s[0])}L3(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),no.delete(this)}cancel(){this.state==="scheduled"&&(no.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G3=t=>t.startsWith("--");function X3(t,s,a){G3(s)?t.style.setProperty(s,a):t.style[s]=a}const Y3=Qf(()=>window.ScrollTimeline!==void 0),K3={};function Z3(t,s){const a=Qf(t);return()=>K3[s]??a()}const jp=Z3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ga=([t,s,a,u])=>`cubic-bezier(${t}, ${s}, ${a}, ${u})`,tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ga([0,.65,.55,1]),circOut:Ga([.55,0,1,.45]),backIn:Ga([.31,.01,.66,-.59]),backOut:Ga([.33,1.53,.69,.99])};function Fp(t,s){if(t)return typeof t=="function"?jp()?Pp(t,s):"ease-out":bp(t)?Ga(t):Array.isArray(t)?t.map(a=>Fp(a,s)||tm.easeOut):tm[t]}function q3(t,s,a,{delay:u=0,duration:m=300,repeat:g=0,repeatType:y="loop",ease:b="easeOut",times:A}={},E=void 0){const T={[s]:a};A&&(T.offset=A);const S=Fp(b,m);Array.isArray(S)&&(T.easing=S);const O={delay:u,duration:m,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:g+1,direction:y==="reverse"?"alternate":"normal"};return E&&(O.pseudoElement=E),t.animate(T,O)}function Vp(t){return typeof t=="function"&&"applyToOptions"in t}function $3({type:t,...s}){return Vp(t)&&jp()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class Q3 extends c0{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:u,keyframes:m,pseudoElement:g,allowFlatten:y=!1,finalKeyframe:b,onComplete:A}=s;this.isPseudoElement=!!g,this.allowFlatten=y,this.options=s,$f(typeof s.type!="string");const E=$3(s);this.animation=q3(a,u,m,E,g),E.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!g){const T=l0(m,this.options,b,this.speed);this.updateMotionValue?this.updateMotionValue(T):X3(a,u,T),this.animation.cancel()}A?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return $r(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+$r(s)}get time(){return $r(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Ss(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&Y3()?(this.animation.timeline=s,Qr):a(this)}}const Up={anticipate:wp,backInOut:yp,circInOut:Cp};function J3(t){return t in Up}function eC(t){typeof t.ease=="string"&&J3(t.ease)&&(t.ease=Up[t.ease])}const nm=10;class tC extends Q3{constructor(s){eC(s),Mp(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:u,onComplete:m,element:g,...y}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const b=new u0({...y,autoplay:!1}),A=Ss(this.finishedTime??this.time);a.setWithVelocity(b.sample(A-nm).value,b.sample(A).value,nm),b.stop()}}const rm=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Si.test(t)||t==="0")&&!t.startsWith("url("));function nC(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function rC(t,s,a,u){const m=t[0];if(m===null)return!1;if(s==="display"||s==="visibility")return!0;const g=t[t.length-1],y=rm(m,s),b=rm(g,s);return!y||!b?!1:nC(t)||(a==="spring"||Vp(a))&&u}function Nf(t){t.duration=0,t.type="keyframes"}const sC=new Set(["opacity","clipPath","filter","transform"]),iC=Qf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oC(t){const{motionValue:s,name:a,repeatDelay:u,repeatType:m,damping:g,type:y}=t;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:A,transformTemplate:E}=s.owner.getProps();return iC()&&a&&sC.has(a)&&(a!=="transform"||!E)&&!A&&!u&&m!=="mirror"&&g!==0&&y!=="inertia"}const aC=40;class lC extends c0{constructor({autoplay:s=!0,delay:a=0,type:u="keyframes",repeat:m=0,repeatDelay:g=0,repeatType:y="loop",keyframes:b,name:A,motionValue:E,element:T,...S}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ar.now();const O={autoplay:s,delay:a,type:u,repeat:m,repeatDelay:g,repeatType:y,name:A,motionValue:E,element:T,...S},L=T?.KeyframeResolver||d0;this.keyframeResolver=new L(b,(U,j,F)=>this.onKeyframesResolved(U,j,O,!F),A,E,T),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,a,u,m){this.keyframeResolver=void 0;const{name:g,type:y,velocity:b,delay:A,isHandoff:E,onUpdate:T}=u;this.resolvedAt=Ar.now(),rC(s,g,y,b)||((Hs.instantAnimations||!A)&&T?.(l0(s,u,a)),s[0]=s[s.length-1],Nf(u),u.repeat=0);const O={startTime:m?this.resolvedAt?this.resolvedAt-this.createdAt>aC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...u,keyframes:s},L=!E&&oC(O)?new tC({...O,element:O.motionValue.owner.current}):new u0(O);L.finished.then(()=>this.notifyFinished()).catch(Qr),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),W3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const cC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uC(t){const s=cC.exec(t);if(!s)return[,];const[,a,u,m]=s;return[`--${a??u}`,m]}function zp(t,s,a=1){const[u,m]=uC(t);if(!u)return;const g=window.getComputedStyle(s).getPropertyValue(u);if(g){const y=g.trim();return up(y)?parseFloat(y):y}return r0(m)?zp(m,s,a+1):m}function f0(t,s){return t?.[s]??t?.default??t}const Hp=new Set(["width","height","top","left","right","bottom",...ra]),dC={test:t=>t==="auto",parse:t=>t},Wp=t=>s=>s.test(t),Gp=[na,et,Ns,vi,n3,t3,dC],sm=t=>Gp.find(Wp(t));function fC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fp(t):!0}const hC=new Set(["brightness","contrast","saturate","opacity"]);function mC(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[u]=a.match(s0)||[];if(!u)return t;const m=a.replace(u,"");let g=hC.has(s)?1:0;return u!==a&&(g*=100),s+"("+g+m+")"}const gC=/\b([a-z-]*)\(.*?\)/gu,Tf={...Si,getAnimatableNone:t=>{const s=t.match(gC);return s?s.map(mC).join(" "):t}},im={...na,transform:Math.round},pC={rotate:vi,rotateX:vi,rotateY:vi,rotateZ:vi,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:vi,skewX:vi,skewY:vi,distance:et,translateX:et,translateY:et,translateZ:et,x:et,y:et,z:et,perspective:et,transformPerspective:et,opacity:rl,originX:X1,originY:X1,originZ:et},h0={borderWidth:et,borderTopWidth:et,borderRightWidth:et,borderBottomWidth:et,borderLeftWidth:et,borderRadius:et,radius:et,borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomRightRadius:et,borderBottomLeftRadius:et,width:et,maxWidth:et,height:et,maxHeight:et,top:et,right:et,bottom:et,left:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,backgroundPositionX:et,backgroundPositionY:et,...pC,zIndex:im,fillOpacity:rl,strokeOpacity:rl,numOctaves:im},xC={...h0,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:Tf,WebkitFilter:Tf},Xp=t=>xC[t];function Yp(t,s){let a=Xp(t);return a!==Tf&&(a=Si),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const yC=new Set(["auto","none","0"]);function wC(t,s,a){let u=0,m;for(;u<t.length&&!m;){const g=t[u];typeof g=="string"&&!yC.has(g)&&sl(g).values.length&&(m=t[u]),u++}if(m&&a)for(const g of s)t[g]=Yp(a,m)}class vC extends d0{constructor(s,a,u,m,g){super(s,a,u,m,g,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:u}=this;if(!a||!a.current)return;super.readKeyframes();for(let A=0;A<s.length;A++){let E=s[A];if(typeof E=="string"&&(E=E.trim(),r0(E))){const T=zp(E,a.current);T!==void 0&&(s[A]=T),A===s.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Hp.has(u)||s.length!==2)return;const[m,g]=s,y=sm(m),b=sm(g);if(y!==b)if(em(y)&&em(b))for(let A=0;A<s.length;A++){const E=s[A];typeof E=="string"&&(s[A]=parseFloat(E))}else to[u]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,u=[];for(let m=0;m<s.length;m++)(s[m]===null||fC(s[m]))&&u.push(m);u.length&&wC(s,u,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:u}=this;if(!s||!s.current)return;u==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[u](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const m=a[a.length-1];m!==void 0&&s.getValue(u,m).jump(m,!1)}measureEndState(){const{element:s,name:a,unresolvedKeyframes:u}=this;if(!s||!s.current)return;const m=s.getValue(a);m&&m.jump(this.measuredOrigin,!1);const g=u.length-1,y=u[g];u[g]=to[a](s.measureViewportBox(),window.getComputedStyle(s.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),this.removedTransforms?.length&&this.removedTransforms.forEach(([b,A])=>{s.getValue(b).set(A)}),this.resolveNoneKeyframes()}}function CC(t,s,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let u=document;const m=a?.[t]??u.querySelectorAll(t);return m?Array.from(m):[]}return Array.from(t)}const Kp=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function Zp(t){return dp(t)&&"offsetHeight"in t}const om=30,EC=t=>!isNaN(parseFloat(t));class bC{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=u=>{const m=Ar.now();if(this.updatedAt!==m&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(u),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const g of this.dependents)g.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=EC(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Jf);const u=this.events[s].add(a);return s==="change"?()=>{u(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:u}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,a,u){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-u}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>om)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,om);return hp(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ko(t,s){return new bC(t,s)}const{schedule:m0}=Ap(queueMicrotask,!1),us={x:!1,y:!1};function qp(){return us.x||us.y}function AC(t){return t==="x"||t==="y"?us[t]?null:(us[t]=!0,()=>{us[t]=!1}):us.x||us.y?null:(us.x=us.y=!0,()=>{us.x=us.y=!1})}function $p(t,s){const a=CC(t),u=new AbortController,m={passive:!0,...s,signal:u.signal};return[a,m,()=>u.abort()]}function am(t){return!(t.pointerType==="touch"||qp())}function SC(t,s,a={}){const[u,m,g]=$p(t,a),y=b=>{if(!am(b))return;const{target:A}=b,E=s(A,b);if(typeof E!="function"||!A)return;const T=S=>{am(S)&&(E(S),A.removeEventListener("pointerleave",T))};A.addEventListener("pointerleave",T,m)};return u.forEach(b=>{b.addEventListener("pointerenter",y,m)}),g}const Qp=(t,s)=>s?t===s?!0:Qp(t,s.parentElement):!1,g0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TC(t){return NC.has(t.tagName)||t.tabIndex!==-1}const Vc=new WeakSet;function lm(t){return s=>{s.key==="Enter"&&t(s)}}function Gd(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const IC=(t,s)=>{const a=t.currentTarget;if(!a)return;const u=lm(()=>{if(Vc.has(a))return;Gd(a,"down");const m=lm(()=>{Gd(a,"up")}),g=()=>Gd(a,"cancel");a.addEventListener("keyup",m,s),a.addEventListener("blur",g,s)});a.addEventListener("keydown",u,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",u),s)};function cm(t){return g0(t)&&!qp()}function kC(t,s,a={}){const[u,m,g]=$p(t,a),y=b=>{const A=b.currentTarget;if(!cm(b))return;Vc.add(A);const E=s(A,b),T=(L,U)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",O),Vc.has(A)&&Vc.delete(A),cm(L)&&typeof E=="function"&&E(L,{success:U})},S=L=>{T(L,A===window||A===document||a.useGlobalTarget||Qp(A,L.target))},O=L=>{T(L,!1)};window.addEventListener("pointerup",S,m),window.addEventListener("pointercancel",O,m)};return u.forEach(b=>{(a.useGlobalTarget?window:b).addEventListener("pointerdown",y,m),Zp(b)&&(b.addEventListener("focus",E=>IC(E,m)),!TC(b)&&!b.hasAttribute("tabindex")&&(b.tabIndex=0))}),g}function Jp(t){return dp(t)&&"ownerSVGElement"in t}function RC(t){return Jp(t)&&t.tagName==="svg"}const rr=t=>!!(t&&t.getVelocity),_C=[...Gp,Cn,Si],OC=t=>_C.find(Wp(t)),p0=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function um(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function PC(...t){return s=>{let a=!1;const u=t.map(m=>{const g=um(m,s);return!a&&typeof g=="function"&&(a=!0),g});if(a)return()=>{for(let m=0;m<u.length;m++){const g=u[m];typeof g=="function"?g():um(t[m],null)}}}}function DC(...t){return D.useCallback(PC(...t),t)}class MC extends D.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const u=a.offsetParent,m=Zp(u)&&u.offsetWidth||0,g=this.props.sizeRef.current;g.height=a.offsetHeight||0,g.width=a.offsetWidth||0,g.top=a.offsetTop,g.left=a.offsetLeft,g.right=m-g.width-g.left}return null}componentDidUpdate(){}render(){return this.props.children}}function LC({children:t,isPresent:s,anchorX:a,root:u}){const m=D.useId(),g=D.useRef(null),y=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:b}=D.useContext(p0),A=DC(g,t?.ref);return D.useInsertionEffect(()=>{const{width:E,height:T,top:S,left:O,right:L}=y.current;if(s||!g.current||!E||!T)return;const U=a==="left"?`left: ${O}`:`right: ${L}`;g.current.dataset.motionPopId=m;const j=document.createElement("style");b&&(j.nonce=b);const F=u??document.head;return F.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${T}px !important;
            ${U}px !important;
            top: ${S}px !important;
          }
        `),()=>{F.contains(j)&&F.removeChild(j)}},[s]),w.jsx(MC,{isPresent:s,childRef:g,sizeRef:y,children:D.cloneElement(t,{ref:A})})}const BC=({children:t,initial:s,isPresent:a,onExitComplete:u,custom:m,presenceAffectsLayout:g,mode:y,anchorX:b,root:A})=>{const E=Yf(jC),T=D.useId();let S=!0,O=D.useMemo(()=>(S=!1,{id:T,initial:s,isPresent:a,custom:m,onExitComplete:L=>{E.set(L,!0);for(const U of E.values())if(!U)return;u&&u()},register:L=>(E.set(L,!1),()=>E.delete(L))}),[a,E,u]);return g&&S&&(O={...O}),D.useMemo(()=>{E.forEach((L,U)=>E.set(U,!1))},[a]),D.useEffect(()=>{!a&&!E.size&&u&&u()},[a]),y==="popLayout"&&(t=w.jsx(LC,{isPresent:a,anchorX:b,root:A,children:t})),w.jsx(ru.Provider,{value:O,children:t})};function jC(){return new Map}function ex(t=!0){const s=D.useContext(ru);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:u,register:m}=s,g=D.useId();D.useEffect(()=>{if(t)return m(g)},[t]);const y=D.useCallback(()=>t&&u&&u(g),[g,u,t]);return!a&&u?[!1,y]:[!0]}const Ic=t=>t.key||"";function dm(t){const s=[];return D.Children.forEach(t,a=>{D.isValidElement(a)&&s.push(a)}),s}const tx=({children:t,custom:s,initial:a=!0,onExitComplete:u,presenceAffectsLayout:m=!0,mode:g="sync",propagate:y=!1,anchorX:b="left",root:A})=>{const[E,T]=ex(y),S=D.useMemo(()=>dm(t),[t]),O=y&&!E?[]:S.map(Ic),L=D.useRef(!0),U=D.useRef(S),j=Yf(()=>new Map),[F,Z]=D.useState(S),[ee,G]=D.useState(S);cp(()=>{L.current=!1,U.current=S;for(let de=0;de<ee.length;de++){const q=Ic(ee[de]);O.includes(q)?j.delete(q):j.get(q)!==!0&&j.set(q,!1)}},[ee,O.length,O.join("-")]);const re=[];if(S!==F){let de=[...S];for(let q=0;q<ee.length;q++){const Q=ee[q],z=Ic(Q);O.includes(z)||(de.splice(q,0,Q),re.push(Q))}return g==="wait"&&re.length&&(de=re),G(dm(de)),Z(S),null}const{forceRender:fe}=D.useContext(Xf);return w.jsx(w.Fragment,{children:ee.map(de=>{const q=Ic(de),Q=y&&!E?!1:S===ee||O.includes(q),z=()=>{if(j.has(q))j.set(q,!0);else return;let xe=!0;j.forEach(Oe=>{Oe||(xe=!1)}),xe&&(fe?.(),G(U.current),y&&T?.(),u&&u())};return w.jsx(BC,{isPresent:Q,initial:!L.current||a?void 0:!1,custom:s,presenceAffectsLayout:m,mode:g,root:A,onExitComplete:Q?void 0:z,anchorX:b,children:de},q)})})},nx=D.createContext({strict:!1}),fm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const t in fm)Zo[t]={isEnabled:s=>fm[t].some(a=>!!s[a])};function FC(t){for(const s in t)Zo[s]={...Zo[s],...t[s]}}const VC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VC.has(t)}let rx=t=>!qc(t);function UC(t){typeof t=="function"&&(rx=s=>s.startsWith("on")?!qc(s):t(s))}try{UC(require("@emotion/is-prop-valid").default)}catch{}function zC(t,s,a){const u={};for(const m in t)m==="values"&&typeof t.values=="object"||(rx(m)||a===!0&&qc(m)||!s&&!qc(m)||t.draggable&&m.startsWith("onDrag"))&&(u[m]=t[m]);return u}const su=D.createContext({});function iu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function il(t){return typeof t=="string"||Array.isArray(t)}const x0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y0=["initial",...x0];function ou(t){return iu(t.animate)||y0.some(s=>il(t[s]))}function sx(t){return!!(ou(t)||t.variants)}function HC(t,s){if(ou(t)){const{initial:a,animate:u}=t;return{initial:a===!1||il(a)?a:void 0,animate:il(u)?u:void 0}}return t.inherit!==!1?s:{}}function WC(t){const{initial:s,animate:a}=HC(t,D.useContext(su));return D.useMemo(()=>({initial:s,animate:a}),[hm(s),hm(a)])}function hm(t){return Array.isArray(t)?t.join(" "):t}const ol={};function GC(t){for(const s in t)ol[s]=t[s],n0(s)&&(ol[s].isCSSVariable=!0)}function ix(t,{layout:s,layoutId:a}){return sa.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!ol[t]||t==="opacity")}const XC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YC=ra.length;function KC(t,s,a){let u="",m=!0;for(let g=0;g<YC;g++){const y=ra[g],b=t[y];if(b===void 0)continue;let A=!0;if(typeof b=="number"?A=b===(y.startsWith("scale")?1:0):A=parseFloat(b)===0,!A||a){const E=Kp(b,h0[y]);if(!A){m=!1;const T=XC[y]||y;u+=`${T}(${E}) `}a&&(s[y]=E)}}return u=u.trim(),a?u=a(s,m?"":u):m&&(u="none"),u}function w0(t,s,a){const{style:u,vars:m,transformOrigin:g}=t;let y=!1,b=!1;for(const A in s){const E=s[A];if(sa.has(A)){y=!0;continue}else if(n0(A)){m[A]=E;continue}else{const T=Kp(E,h0[A]);A.startsWith("origin")?(b=!0,g[A]=T):u[A]=T}}if(s.transform||(y||a?u.transform=KC(s,t.transform,a):u.transform&&(u.transform="none")),b){const{originX:A="50%",originY:E="50%",originZ:T=0}=g;u.transformOrigin=`${A} ${E} ${T}`}}const v0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ox(t,s,a){for(const u in s)!rr(s[u])&&!ix(u,a)&&(t[u]=s[u])}function ZC({transformTemplate:t},s){return D.useMemo(()=>{const a=v0();return w0(a,s,t),Object.assign({},a.vars,a.style)},[s])}function qC(t,s){const a=t.style||{},u={};return ox(u,a,t),Object.assign(u,ZC(t,s)),u}function $C(t,s){const a={},u=qC(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,u.userSelect=u.WebkitUserSelect=u.WebkitTouchCallout="none",u.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=u,a}const QC={offset:"stroke-dashoffset",array:"stroke-dasharray"},JC={offset:"strokeDashoffset",array:"strokeDasharray"};function eE(t,s,a=1,u=0,m=!0){t.pathLength=1;const g=m?QC:JC;t[g.offset]=et.transform(-u);const y=et.transform(s),b=et.transform(a);t[g.array]=`${y} ${b}`}function ax(t,{attrX:s,attrY:a,attrScale:u,pathLength:m,pathSpacing:g=1,pathOffset:y=0,...b},A,E,T){if(w0(t,b,E),A){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:O}=t;S.transform&&(O.transform=S.transform,delete S.transform),(O.transform||S.transformOrigin)&&(O.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),O.transform&&(O.transformBox=T?.transformBox??"fill-box",delete S.transformBox),s!==void 0&&(S.x=s),a!==void 0&&(S.y=a),u!==void 0&&(S.scale=u),m!==void 0&&eE(S,m,g,y,!1)}const lx=()=>({...v0(),attrs:{}}),cx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tE(t,s,a,u){const m=D.useMemo(()=>{const g=lx();return ax(g,s,cx(u),t.transformTemplate,t.style),{...g.attrs,style:{...g.style}}},[s]);if(t.style){const g={};ox(g,t.style,t),m.style={...g,...m.style}}return m}const nE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function C0(t){return typeof t!="string"||t.includes("-")?!1:!!(nE.indexOf(t)>-1||/[A-Z]/u.test(t))}function rE(t,s,a,{latestValues:u},m,g=!1){const b=(C0(t)?tE:$C)(s,u,m,t),A=zC(s,typeof t=="string",g),E=t!==D.Fragment?{...A,...b,ref:a}:{},{children:T}=s,S=D.useMemo(()=>rr(T)?T.get():T,[T]);return D.createElement(t,{...E,children:S})}function mm(t){const s=[{},{}];return t?.values.forEach((a,u)=>{s[0][u]=a.get(),s[1][u]=a.getVelocity()}),s}function E0(t,s,a,u){if(typeof s=="function"){const[m,g]=mm(u);s=s(a!==void 0?a:t.custom,m,g)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[m,g]=mm(u);s=s(a!==void 0?a:t.custom,m,g)}return s}function Uc(t){return rr(t)?t.get():t}function sE({scrapeMotionValuesFromProps:t,createRenderState:s},a,u,m){return{latestValues:iE(a,u,m,t),renderState:s()}}function iE(t,s,a,u){const m={},g=u(t,{});for(const O in g)m[O]=Uc(g[O]);let{initial:y,animate:b}=t;const A=ou(t),E=sx(t);s&&E&&!A&&t.inherit!==!1&&(y===void 0&&(y=s.initial),b===void 0&&(b=s.animate));let T=a?a.initial===!1:!1;T=T||y===!1;const S=T?b:y;if(S&&typeof S!="boolean"&&!iu(S)){const O=Array.isArray(S)?S:[S];for(let L=0;L<O.length;L++){const U=E0(t,O[L]);if(U){const{transitionEnd:j,transition:F,...Z}=U;for(const ee in Z){let G=Z[ee];if(Array.isArray(G)){const re=T?G.length-1:0;G=G[re]}G!==null&&(m[ee]=G)}for(const ee in j)m[ee]=j[ee]}}}return m}const ux=t=>(s,a)=>{const u=D.useContext(su),m=D.useContext(ru),g=()=>sE(t,s,u,m);return a?g():Yf(g)};function b0(t,s,a){const{style:u}=t,m={};for(const g in u)(rr(u[g])||s.style&&rr(s.style[g])||ix(g,t)||a?.getValue(g)?.liveStyle!==void 0)&&(m[g]=u[g]);return m}const oE=ux({scrapeMotionValuesFromProps:b0,createRenderState:v0});function dx(t,s,a){const u=b0(t,s,a);for(const m in t)if(rr(t[m])||rr(s[m])){const g=ra.indexOf(m)!==-1?"attr"+m.charAt(0).toUpperCase()+m.substring(1):m;u[g]=t[m]}return u}const aE=ux({scrapeMotionValuesFromProps:dx,createRenderState:lx}),lE=Symbol.for("motionComponentSymbol");function Bo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cE(t,s,a){return D.useCallback(u=>{u&&t.onMount&&t.onMount(u),s&&(u?s.mount(u):s.unmount()),a&&(typeof a=="function"?a(u):Bo(a)&&(a.current=u))},[s])}const A0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uE="framerAppearId",fx="data-"+A0(uE),hx=D.createContext({});function dE(t,s,a,u,m){const{visualElement:g}=D.useContext(su),y=D.useContext(nx),b=D.useContext(ru),A=D.useContext(p0).reducedMotion,E=D.useRef(null);u=u||y.renderer,!E.current&&u&&(E.current=u(t,{visualState:s,parent:g,props:a,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:A}));const T=E.current,S=D.useContext(hx);T&&!T.projection&&m&&(T.type==="html"||T.type==="svg")&&fE(E.current,a,m,S);const O=D.useRef(!1);D.useInsertionEffect(()=>{T&&O.current&&T.update(a,b)});const L=a[fx],U=D.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return cp(()=>{T&&(O.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),U.current&&T.animationState&&T.animationState.animateChanges())}),D.useEffect(()=>{T&&(!U.current&&T.animationState&&T.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),U.current=!1),T.enteringChildren=void 0)}),T}function fE(t,s,a,u){const{layoutId:m,layout:g,drag:y,dragConstraints:b,layoutScroll:A,layoutRoot:E,layoutCrossfade:T}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:mx(t.parent)),t.projection.setOptions({layoutId:m,layout:g,alwaysMeasureLayout:!!y||b&&Bo(b),visualElement:t,animationType:typeof g=="string"?g:"both",initialPromotionConfig:u,crossfade:T,layoutScroll:A,layoutRoot:E})}function mx(t){if(t)return t.options.allowProjection!==!1?t.projection:mx(t.parent)}function Xd(t,{forwardMotionProps:s=!1}={},a,u){a&&FC(a);const m=C0(t)?aE:oE;function g(b,A){let E;const T={...D.useContext(p0),...b,layoutId:hE(b)},{isStatic:S}=T,O=WC(b),L=m(b,S);if(!S&&Kf){mE();const U=gE(T);E=U.MeasureLayout,O.visualElement=dE(t,L,T,u,U.ProjectionNode)}return w.jsxs(su.Provider,{value:O,children:[E&&O.visualElement?w.jsx(E,{visualElement:O.visualElement,...T}):null,rE(t,b,cE(L,O.visualElement,A),L,S,s)]})}g.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const y=D.forwardRef(g);return y[lE]=t,y}function hE({layoutId:t}){const s=D.useContext(Xf).id;return s&&t!==void 0?s+"-"+t:t}function mE(t,s){D.useContext(nx).strict}function gE(t){const{drag:s,layout:a}=Zo;if(!s&&!a)return{};const u={...s,...a};return{MeasureLayout:s?.isEnabled(t)||a?.isEnabled(t)?u.MeasureLayout:void 0,ProjectionNode:u.ProjectionNode}}function pE(t,s){if(typeof Proxy>"u")return Xd;const a=new Map,u=(g,y)=>Xd(g,y,t,s),m=(g,y)=>u(g,y);return new Proxy(m,{get:(g,y)=>y==="create"?u:(a.has(y)||a.set(y,Xd(y,void 0,t,s)),a.get(y))})}function gx({top:t,left:s,right:a,bottom:u}){return{x:{min:s,max:a},y:{min:t,max:u}}}function xE({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function yE(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),u=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:u.y,right:u.x}}function Yd(t){return t===void 0||t===1}function If({scale:t,scaleX:s,scaleY:a}){return!Yd(t)||!Yd(s)||!Yd(a)}function Qi(t){return If(t)||px(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function px(t){return gm(t.x)||gm(t.y)}function gm(t){return t&&t!=="0%"}function $c(t,s,a){const u=t-a,m=s*u;return a+m}function pm(t,s,a,u,m){return m!==void 0&&(t=$c(t,m,u)),$c(t,a,u)+s}function kf(t,s=0,a=1,u,m){t.min=pm(t.min,s,a,u,m),t.max=pm(t.max,s,a,u,m)}function xx(t,{x:s,y:a}){kf(t.x,s.translate,s.scale,s.originPoint),kf(t.y,a.translate,a.scale,a.originPoint)}const xm=.999999999999,ym=1.0000000000001;function wE(t,s,a,u=!1){const m=a.length;if(!m)return;s.x=s.y=1;let g,y;for(let b=0;b<m;b++){g=a[b],y=g.projectionDelta;const{visualElement:A}=g.options;A&&A.props.style&&A.props.style.display==="contents"||(u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Fo(t,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),y&&(s.x*=y.x.scale,s.y*=y.y.scale,xx(t,y)),u&&Qi(g.latestValues)&&Fo(t,g.latestValues))}s.x<ym&&s.x>xm&&(s.x=1),s.y<ym&&s.y>xm&&(s.y=1)}function jo(t,s){t.min=t.min+s,t.max=t.max+s}function wm(t,s,a,u,m=.5){const g=on(t.min,t.max,m);kf(t,s,a,g,u)}function Fo(t,s){wm(t.x,s.x,s.scaleX,s.scale,s.originX),wm(t.y,s.y,s.scaleY,s.scale,s.originY)}function yx(t,s){return gx(yE(t.getBoundingClientRect(),s))}function vE(t,s,a){const u=yx(t,a),{scroll:m}=s;return m&&(jo(u.x,m.offset.x),jo(u.y,m.offset.y)),u}const vm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:vm(),y:vm()}),Cm=()=>({min:0,max:0}),yn=()=>({x:Cm(),y:Cm()}),Rf={current:null},wx={current:!1};function CE(){if(wx.current=!0,!!Kf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>Rf.current=t.matches;t.addEventListener("change",s),s()}else Rf.current=!1}const EE=new WeakMap;function bE(t,s,a){for(const u in s){const m=s[u],g=a[u];if(rr(m))t.addValue(u,m);else if(rr(g))t.addValue(u,Ko(m,{owner:t}));else if(g!==m)if(t.hasValue(u)){const y=t.getValue(u);y.liveStyle===!0?y.jump(m):y.hasAnimated||y.set(m)}else{const y=t.getStaticValue(u);t.addValue(u,Ko(y!==void 0?y:m,{owner:t}))}}for(const u in a)s[u]===void 0&&t.removeValue(u);return s}const Em=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AE{scrapeMotionValuesFromProps(s,a,u){return{}}constructor({parent:s,props:a,presenceContext:u,reducedMotionConfig:m,blockInitialAnimation:g,visualState:y},b={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=Ar.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,Jt.render(this.render,!1,!0))};const{latestValues:A,renderState:E}=y;this.latestValues=A,this.baseTarget={...A},this.initialValues=a.initial?{...A}:{},this.renderState=E,this.parent=s,this.props=a,this.presenceContext=u,this.depth=s?s.depth+1:0,this.reducedMotionConfig=m,this.options=b,this.blockInitialAnimation=!!g,this.isControllingVariants=ou(a),this.isVariantNode=sx(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:T,...S}=this.scrapeMotionValuesFromProps(a,{},this);for(const O in S){const L=S[O];A[O]!==void 0&&rr(L)&&L.set(A[O])}}mount(s){this.current=s,EE.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,u)=>this.bindToMotionValue(u,a)),wx.current||CE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ai(this.notifyUpdate),Ai(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const u=sa.has(s);u&&this.onBindTransform&&this.onBindTransform();const m=a.on("change",y=>{this.latestValues[s]=y,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),u&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let g;window.MotionCheckAppearSync&&(g=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{m(),g&&g(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Zo){const a=Zo[s];if(!a)continue;const{isEnabled:u,Feature:m}=a;if(!this.features[s]&&m&&u(this.props)&&(this.features[s]=new m(this)),this.features[s]){const g=this.features[s];g.isMounted?g.update():(g.mount(),g.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let u=0;u<Em.length;u++){const m=Em[u];this.propEventSubscriptions[m]&&(this.propEventSubscriptions[m](),delete this.propEventSubscriptions[m]);const g="on"+m,y=s[g];y&&(this.propEventSubscriptions[m]=this.on(m,y))}this.prevMotionValues=bE(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const u=this.values.get(s);a!==u&&(u&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let u=this.values.get(s);return u===void 0&&a!==void 0&&(u=Ko(a===null?void 0:a,{owner:this}),this.addValue(s,u)),u}readValue(s,a){let u=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return u!=null&&(typeof u=="string"&&(up(u)||fp(u))?u=parseFloat(u):!OC(u)&&Si.test(a)&&(u=Yp(s,a)),this.setBaseTarget(s,rr(u)?u.get():u)),rr(u)?u.get():u}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){const{initial:a}=this.props;let u;if(typeof a=="string"||typeof a=="object"){const g=E0(this.props,a,this.presenceContext?.custom);g&&(u=g[s])}if(a&&u!==void 0)return u;const m=this.getBaseTargetFromProps(this.props,s);return m!==void 0&&!rr(m)?m:this.initialValues[s]!==void 0&&u===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Jf),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}scheduleRenderMicrotask(){m0.render(this.render)}}class vx extends AE{constructor(){super(...arguments),this.KeyframeResolver=vC}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:u}){delete a[s],delete u[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;rr(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function Cx(t,{style:s,vars:a},u,m){const g=t.style;let y;for(y in s)g[y]=s[y];m?.applyProjectionStyles(g,u);for(y in a)g.setProperty(y,a[y])}function SE(t){return window.getComputedStyle(t)}class NE extends vx{constructor(){super(...arguments),this.type="html",this.renderInstance=Cx}readValueFromInstance(s,a){if(sa.has(a))return this.projection?.isProjecting?Cf(a):F3(s,a);{const u=SE(s),m=(n0(a)?u.getPropertyValue(a):u[a])||0;return typeof m=="string"?m.trim():m}}measureInstanceViewportBox(s,{transformPagePoint:a}){return yx(s,a)}build(s,a,u){w0(s,a,u.transformTemplate)}scrapeMotionValuesFromProps(s,a,u){return b0(s,a,u)}}const Ex=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TE(t,s,a,u){Cx(t,s,void 0,u);for(const m in s.attrs)t.setAttribute(Ex.has(m)?m:A0(m),s.attrs[m])}class IE extends vx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(sa.has(a)){const u=Xp(a);return u&&u.default||0}return a=Ex.has(a)?a:A0(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,u){return dx(s,a,u)}build(s,a,u){ax(s,a,this.isSVGTag,u.transformTemplate,u.style)}renderInstance(s,a,u,m){TE(s,a,u,m)}mount(s){this.isSVGTag=cx(s.tagName),super.mount(s)}}const kE=(t,s)=>C0(t)?new IE(s):new NE(s,{allowProjection:t!==D.Fragment});function Go(t,s,a){const u=t.getProps();return E0(u,s,a!==void 0?a:u.custom,t)}const _f=t=>Array.isArray(t);function RE(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,Ko(a))}function _E(t){return _f(t)?t[t.length-1]||0:t}function OE(t,s){const a=Go(t,s);let{transitionEnd:u={},transition:m={},...g}=a||{};g={...g,...u};for(const y in g){const b=_E(g[y]);RE(t,y,b)}}function PE(t){return!!(rr(t)&&t.add)}function Of(t,s){const a=t.getValue("willChange");if(PE(a))return a.add(s);if(!a&&Hs.WillChange){const u=new Hs.WillChange("auto");t.addValue("willChange",u),u.add(s)}}function bx(t){return t.props[fx]}const DE=t=>t!==null;function ME(t,{repeat:s,repeatType:a="loop"},u){const m=t.filter(DE),g=s&&a!=="loop"&&s%2===1?0:m.length-1;return m[g]}const LE={type:"spring",stiffness:500,damping:25,restSpeed:10},BE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jE={type:"keyframes",duration:.8},FE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VE=(t,{keyframes:s})=>s.length>2?jE:sa.has(t)?t.startsWith("scale")?BE(s[1]):LE:FE;function UE({when:t,delay:s,delayChildren:a,staggerChildren:u,staggerDirection:m,repeat:g,repeatType:y,repeatDelay:b,from:A,elapsed:E,...T}){return!!Object.keys(T).length}const S0=(t,s,a,u={},m,g)=>y=>{const b=f0(u,t)||{},A=b.delay||u.delay||0;let{elapsed:E=0}=u;E=E-Ss(A);const T={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...b,delay:-E,onUpdate:O=>{s.set(O),b.onUpdate&&b.onUpdate(O)},onComplete:()=>{y(),b.onComplete&&b.onComplete()},name:t,motionValue:s,element:g?void 0:m};UE(b)||Object.assign(T,VE(t,T)),T.duration&&(T.duration=Ss(T.duration)),T.repeatDelay&&(T.repeatDelay=Ss(T.repeatDelay)),T.from!==void 0&&(T.keyframes[0]=T.from);let S=!1;if((T.type===!1||T.duration===0&&!T.repeatDelay)&&(Nf(T),T.delay===0&&(S=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(S=!0,Nf(T),T.delay=0),T.allowFlatten=!b.type&&!b.ease,S&&!g&&s.get()!==void 0){const O=ME(T.keyframes,b);if(O!==void 0){Jt.update(()=>{T.onUpdate(O),T.onComplete()});return}}return b.isSync?new u0(T):new lC(T)};function zE({protectedKeys:t,needsAnimating:s},a){const u=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,u}function Ax(t,s,{delay:a=0,transitionOverride:u,type:m}={}){let{transition:g=t.getDefaultTransition(),transitionEnd:y,...b}=s;u&&(g=u);const A=[],E=m&&t.animationState&&t.animationState.getState()[m];for(const T in b){const S=t.getValue(T,t.latestValues[T]??null),O=b[T];if(O===void 0||E&&zE(E,T))continue;const L={delay:a,...f0(g||{},T)},U=S.get();if(U!==void 0&&!S.isAnimating&&!Array.isArray(O)&&O===U&&!L.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const Z=bx(t);if(Z){const ee=window.MotionHandoffAnimation(Z,T,Jt);ee!==null&&(L.startTime=ee,j=!0)}}Of(t,T),S.start(S0(T,S,O,t.shouldReduceMotion&&Hp.has(T)?{type:!1}:L,t,j));const F=S.animation;F&&A.push(F)}return y&&Promise.all(A).then(()=>{Jt.update(()=>{y&&OE(t,y)})}),A}function Sx(t,s,a,u=0,m=1){const g=Array.from(t).sort((E,T)=>E.sortNodePosition(T)).indexOf(s),y=t.size,b=(y-1)*u;return typeof a=="function"?a(g,y):m===1?g*u:b-g*u}function Pf(t,s,a={}){const u=Go(t,s,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:m=t.getDefaultTransition()||{}}=u||{};a.transitionOverride&&(m=a.transitionOverride);const g=u?()=>Promise.all(Ax(t,u,a)):()=>Promise.resolve(),y=t.variantChildren&&t.variantChildren.size?(A=0)=>{const{delayChildren:E=0,staggerChildren:T,staggerDirection:S}=m;return HE(t,s,A,E,T,S,a)}:()=>Promise.resolve(),{when:b}=m;if(b){const[A,E]=b==="beforeChildren"?[g,y]:[y,g];return A().then(()=>E())}else return Promise.all([g(),y(a.delay)])}function HE(t,s,a=0,u=0,m=0,g=1,y){const b=[];for(const A of t.variantChildren)A.notify("AnimationStart",s),b.push(Pf(A,s,{...y,delay:a+(typeof u=="function"?0:u)+Sx(t.variantChildren,A,u,m,g)}).then(()=>A.notify("AnimationComplete",s)));return Promise.all(b)}function WE(t,s,a={}){t.notify("AnimationStart",s);let u;if(Array.isArray(s)){const m=s.map(g=>Pf(t,g,a));u=Promise.all(m)}else if(typeof s=="string")u=Pf(t,s,a);else{const m=typeof s=="function"?Go(t,s,a.custom):s;u=Promise.all(Ax(t,m,a))}return u.then(()=>{t.notify("AnimationComplete",s)})}function Nx(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let u=0;u<a;u++)if(s[u]!==t[u])return!1;return!0}const GE=y0.length;function Tx(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?Tx(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<GE;a++){const u=y0[a],m=t.props[u];(il(m)||m===!1)&&(s[u]=m)}return s}const XE=[...x0].reverse(),YE=x0.length;function KE(t){return s=>Promise.all(s.map(({animation:a,options:u})=>WE(t,a,u)))}function ZE(t){let s=KE(t),a=bm(),u=!0;const m=A=>(E,T)=>{const S=Go(t,T,A==="exit"?t.presenceContext?.custom:void 0);if(S){const{transition:O,transitionEnd:L,...U}=S;E={...E,...U,...L}}return E};function g(A){s=A(t)}function y(A){const{props:E}=t,T=Tx(t.parent)||{},S=[],O=new Set;let L={},U=1/0;for(let F=0;F<YE;F++){const Z=XE[F],ee=a[Z],G=E[Z]!==void 0?E[Z]:T[Z],re=il(G),fe=Z===A?ee.isActive:null;fe===!1&&(U=F);let de=G===T[Z]&&G!==E[Z]&&re;if(de&&u&&t.manuallyAnimateOnMount&&(de=!1),ee.protectedKeys={...L},!ee.isActive&&fe===null||!G&&!ee.prevProp||iu(G)||typeof G=="boolean")continue;const q=qE(ee.prevProp,G);let Q=q||Z===A&&ee.isActive&&!de&&re||F>U&&re,z=!1;const xe=Array.isArray(G)?G:[G];let Oe=xe.reduce(m(Z),{});fe===!1&&(Oe={});const{prevResolvedValues:we={}}=ee,_e={...we,...Oe},Pe=ue=>{Q=!0,O.has(ue)&&(z=!0,O.delete(ue)),ee.needsAnimating[ue]=!0;const se=t.getValue(ue);se&&(se.liveStyle=!1)};for(const ue in _e){const se=Oe[ue],he=we[ue];if(L.hasOwnProperty(ue))continue;let pe=!1;_f(se)&&_f(he)?pe=!Nx(se,he):pe=se!==he,pe?se!=null?Pe(ue):O.add(ue):se!==void 0&&O.has(ue)?Pe(ue):ee.protectedKeys[ue]=!0}ee.prevProp=G,ee.prevResolvedValues=Oe,ee.isActive&&(L={...L,...Oe}),u&&t.blockInitialAnimation&&(Q=!1);const W=de&&q;Q&&(!W||z)&&S.push(...xe.map(ue=>{const se={type:Z};if(typeof ue=="string"&&u&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,pe=Go(he,ue);if(he.enteringChildren&&pe){const{delayChildren:K}=pe.transition||{};se.delay=Sx(he.enteringChildren,t,K)}}return{animation:ue,options:se}}))}if(O.size){const F={};if(typeof E.initial!="boolean"){const Z=Go(t,Array.isArray(E.initial)?E.initial[0]:E.initial);Z&&Z.transition&&(F.transition=Z.transition)}O.forEach(Z=>{const ee=t.getBaseTarget(Z),G=t.getValue(Z);G&&(G.liveStyle=!0),F[Z]=ee??null}),S.push({animation:F})}let j=!!S.length;return u&&(E.initial===!1||E.initial===E.animate)&&!t.manuallyAnimateOnMount&&(j=!1),u=!1,j?s(S):Promise.resolve()}function b(A,E){if(a[A].isActive===E)return Promise.resolve();t.variantChildren?.forEach(S=>S.animationState?.setActive(A,E)),a[A].isActive=E;const T=y(A);for(const S in a)a[S].protectedKeys={};return T}return{animateChanges:y,setActive:b,setAnimateFunction:g,getState:()=>a,reset:()=>{a=bm()}}}function qE(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!Nx(s,t):!1}function $i(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bm(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class Ni{constructor(s){this.isMounted=!1,this.node=s}update(){}}class $E extends Ni{constructor(s){super(s),s.animationState||(s.animationState=ZE(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();iu(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QE=0;class JE extends Ni{constructor(){super(...arguments),this.id=QE++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:u}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===u)return;const m=this.node.animationState.setActive("exit",!s);a&&!s&&m.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const eb={animation:{Feature:$E},exit:{Feature:JE}};function al(t,s,a,u={passive:!0}){return t.addEventListener(s,a,u),()=>t.removeEventListener(s,a)}function dl(t){return{point:{x:t.pageX,y:t.pageY}}}const tb=t=>s=>g0(s)&&t(s,dl(s));function Za(t,s,a,u){return al(t,s,tb(a),u)}const Ix=1e-4,nb=1-Ix,rb=1+Ix,kx=.01,sb=0-kx,ib=0+kx;function fr(t){return t.max-t.min}function ob(t,s,a){return Math.abs(t-s)<=a}function Am(t,s,a,u=.5){t.origin=u,t.originPoint=on(s.min,s.max,t.origin),t.scale=fr(a)/fr(s),t.translate=on(a.min,a.max,t.origin)-t.originPoint,(t.scale>=nb&&t.scale<=rb||isNaN(t.scale))&&(t.scale=1),(t.translate>=sb&&t.translate<=ib||isNaN(t.translate))&&(t.translate=0)}function qa(t,s,a,u){Am(t.x,s.x,a.x,u?u.originX:void 0),Am(t.y,s.y,a.y,u?u.originY:void 0)}function Sm(t,s,a){t.min=a.min+s.min,t.max=t.min+fr(s)}function ab(t,s,a){Sm(t.x,s.x,a.x),Sm(t.y,s.y,a.y)}function Nm(t,s,a){t.min=s.min-a.min,t.max=t.min+fr(s)}function $a(t,s,a){Nm(t.x,s.x,a.x),Nm(t.y,s.y,a.y)}function qr(t){return[t("x"),t("y")]}const Rx=({current:t})=>t?t.ownerDocument.defaultView:null,Tm=(t,s)=>Math.abs(t-s);function lb(t,s){const a=Tm(t.x,s.x),u=Tm(t.y,s.y);return Math.sqrt(a**2+u**2)}class _x{constructor(s,a,{transformPagePoint:u,contextWindow:m=window,dragSnapToOrigin:g=!1,distanceThreshold:y=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Zd(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,U=lb(O.offset,{x:0,y:0})>=this.distanceThreshold;if(!L&&!U)return;const{point:j}=O,{timestamp:F}=Yn;this.history.push({...j,timestamp:F});const{onStart:Z,onMove:ee}=this.handlers;L||(Z&&Z(this.lastMoveEvent,O),this.startEvent=this.lastMoveEvent),ee&&ee(this.lastMoveEvent,O)},this.handlePointerMove=(O,L)=>{this.lastMoveEvent=O,this.lastMoveEventInfo=Kd(L,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(O,L)=>{this.end();const{onEnd:U,onSessionEnd:j,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Zd(O.type==="pointercancel"?this.lastMoveEventInfo:Kd(L,this.transformPagePoint),this.history);this.startEvent&&U&&U(O,Z),j&&j(O,Z)},!g0(s))return;this.dragSnapToOrigin=g,this.handlers=a,this.transformPagePoint=u,this.distanceThreshold=y,this.contextWindow=m||window;const b=dl(s),A=Kd(b,this.transformPagePoint),{point:E}=A,{timestamp:T}=Yn;this.history=[{...E,timestamp:T}];const{onSessionStart:S}=a;S&&S(s,Zd(A,this.history)),this.removeListeners=ll(Za(this.contextWindow,"pointermove",this.handlePointerMove),Za(this.contextWindow,"pointerup",this.handlePointerUp),Za(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Ai(this.updatePoint)}}function Kd(t,s){return s?{point:s(t.point)}:t}function Im(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Zd({point:t},s){return{point:t,delta:Im(t,Ox(s)),offset:Im(t,cb(s)),velocity:ub(s,.1)}}function cb(t){return t[0]}function Ox(t){return t[t.length-1]}function ub(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,u=null;const m=Ox(t);for(;a>=0&&(u=t[a],!(m.timestamp-u.timestamp>Ss(s)));)a--;if(!u)return{x:0,y:0};const g=$r(m.timestamp-u.timestamp);if(g===0)return{x:0,y:0};const y={x:(m.x-u.x)/g,y:(m.y-u.y)/g};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function db(t,{min:s,max:a},u){return s!==void 0&&t<s?t=u?on(s,t,u.min):Math.max(t,s):a!==void 0&&t>a&&(t=u?on(a,t,u.max):Math.min(t,a)),t}function km(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function fb(t,{top:s,left:a,bottom:u,right:m}){return{x:km(t.x,a,m),y:km(t.y,s,u)}}function Rm(t,s){let a=s.min-t.min,u=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,u]=[u,a]),{min:a,max:u}}function hb(t,s){return{x:Rm(t.x,s.x),y:Rm(t.y,s.y)}}function mb(t,s){let a=.5;const u=fr(t),m=fr(s);return m>u?a=nl(s.min,s.max-u,t.min):u>m&&(a=nl(t.min,t.max-m,s.min)),zs(0,1,a)}function gb(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const Df=.35;function pb(t=Df){return t===!1?t=0:t===!0&&(t=Df),{x:_m(t,"left","right"),y:_m(t,"top","bottom")}}function _m(t,s,a){return{min:Om(t,s),max:Om(t,a)}}function Om(t,s){return typeof t=="number"?t:t[s]||0}const xb=new WeakMap;class yb{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:u}={}){const{presenceContext:m}=this.visualElement;if(m&&m.isPresent===!1)return;const g=S=>{const{dragSnapToOrigin:O}=this.getProps();O?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(dl(S).point)},y=(S,O)=>{const{drag:L,dragPropagation:U,onDragStart:j}=this.getProps();if(L&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AC(L),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=O,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(Z=>{let ee=this.getAxisMotionValue(Z).get()||0;if(Ns.test(ee)){const{projection:G}=this.visualElement;if(G&&G.layout){const re=G.layout.layoutBox[Z];re&&(ee=fr(re)*(parseFloat(ee)/100))}}this.originPoint[Z]=ee}),j&&Jt.postRender(()=>j(S,O)),Of(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},b=(S,O)=>{this.latestPointerEvent=S,this.latestPanInfo=O;const{dragPropagation:L,dragDirectionLock:U,onDirectionLock:j,onDrag:F}=this.getProps();if(!L&&!this.openDragLock)return;const{offset:Z}=O;if(U&&this.currentDirection===null){this.currentDirection=wb(Z),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",O.point,Z),this.updateAxis("y",O.point,Z),this.visualElement.render(),F&&F(S,O)},A=(S,O)=>{this.latestPointerEvent=S,this.latestPanInfo=O,this.stop(S,O),this.latestPointerEvent=null,this.latestPanInfo=null},E=()=>qr(S=>this.getAnimationState(S)==="paused"&&this.getAxisMotionValue(S).animation?.play()),{dragSnapToOrigin:T}=this.getProps();this.panSession=new _x(s,{onSessionStart:g,onStart:y,onMove:b,onSessionEnd:A,resumeAnimation:E},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:T,distanceThreshold:u,contextWindow:Rx(this.visualElement)})}stop(s,a){const u=s||this.latestPointerEvent,m=a||this.latestPanInfo,g=this.isDragging;if(this.cancel(),!g||!m||!u)return;const{velocity:y}=m;this.startAnimation(y);const{onDragEnd:b}=this.getProps();b&&Jt.postRender(()=>b(u,m))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:u}=this.getProps();!u&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,u){const{drag:m}=this.getProps();if(!u||!kc(s,m,this.currentDirection))return;const g=this.getAxisMotionValue(s);let y=this.originPoint[s]+u[s];this.constraints&&this.constraints[s]&&(y=db(y,this.constraints[s],this.elastic[s])),g.set(y)}resolveConstraints(){const{dragConstraints:s,dragElastic:a}=this.getProps(),u=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,m=this.constraints;s&&Bo(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&u?this.constraints=fb(u.layoutBox,s):this.constraints=!1,this.elastic=pb(a),m!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&qr(g=>{this.constraints!==!1&&this.getAxisMotionValue(g)&&(this.constraints[g]=gb(u.layoutBox[g],this.constraints[g]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!Bo(s))return!1;const u=s.current,{projection:m}=this.visualElement;if(!m||!m.layout)return!1;const g=vE(u,m.root,this.visualElement.getTransformPagePoint());let y=hb(m.layout.layoutBox,g);if(a){const b=a(xE(y));this.hasMutatedConstraints=!!b,b&&(y=gx(b))}return y}startAnimation(s){const{drag:a,dragMomentum:u,dragElastic:m,dragTransition:g,dragSnapToOrigin:y,onDragTransitionEnd:b}=this.getProps(),A=this.constraints||{},E=qr(T=>{if(!kc(T,a,this.currentDirection))return;let S=A&&A[T]||{};y&&(S={min:0,max:0});const O=m?200:1e6,L=m?40:1e7,U={type:"inertia",velocity:u?s[T]:0,bounceStiffness:O,bounceDamping:L,timeConstant:750,restDelta:1,restSpeed:10,...g,...S};return this.startAxisValueAnimation(T,U)});return Promise.all(E).then(b)}startAxisValueAnimation(s,a){const u=this.getAxisMotionValue(s);return Of(this.visualElement,s),u.start(S0(s,u,0,a,this.visualElement,!1))}stopAnimation(){qr(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){qr(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,u=this.visualElement.getProps(),m=u[a];return m||this.visualElement.getValue(s,(u.initial?u.initial[s]:void 0)||0)}snapToCursor(s){qr(a=>{const{drag:u}=this.getProps();if(!kc(a,u,this.currentDirection))return;const{projection:m}=this.visualElement,g=this.getAxisMotionValue(a);if(m&&m.layout){const{min:y,max:b}=m.layout.layoutBox[a];g.set(s[a]-on(y,b,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:u}=this.visualElement;if(!Bo(a)||!u||!this.constraints)return;this.stopAnimation();const m={x:0,y:0};qr(y=>{const b=this.getAxisMotionValue(y);if(b&&this.constraints!==!1){const A=b.get();m[y]=mb({min:A,max:A},this.constraints[y])}});const{transformTemplate:g}=this.visualElement.getProps();this.visualElement.current.style.transform=g?g({},""):"none",u.root&&u.root.updateScroll(),u.updateLayout(),this.resolveConstraints(),qr(y=>{if(!kc(y,s,null))return;const b=this.getAxisMotionValue(y),{min:A,max:E}=this.constraints[y];b.set(on(A,E,m[y]))})}addListeners(){if(!this.visualElement.current)return;xb.set(this.visualElement,this);const s=this.visualElement.current,a=Za(s,"pointerdown",A=>{const{drag:E,dragListener:T=!0}=this.getProps();E&&T&&this.start(A)}),u=()=>{const{dragConstraints:A}=this.getProps();Bo(A)&&A.current&&(this.constraints=this.resolveRefConstraints())},{projection:m}=this.visualElement,g=m.addEventListener("measure",u);m&&!m.layout&&(m.root&&m.root.updateScroll(),m.updateLayout()),Jt.read(u);const y=al(window,"resize",()=>this.scalePositionWithinConstraints()),b=m.addEventListener("didUpdate",(({delta:A,hasLayoutChanged:E})=>{this.isDragging&&E&&(qr(T=>{const S=this.getAxisMotionValue(T);S&&(this.originPoint[T]+=A[T].translate,S.set(S.get()+A[T].translate))}),this.visualElement.render())}));return()=>{y(),a(),g(),b&&b()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:u=!1,dragPropagation:m=!1,dragConstraints:g=!1,dragElastic:y=Df,dragMomentum:b=!0}=s;return{...s,drag:a,dragDirectionLock:u,dragPropagation:m,dragConstraints:g,dragElastic:y,dragMomentum:b}}}function kc(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function wb(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class vb extends Ni{constructor(s){super(s),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new yb(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pm=t=>(s,a)=>{t&&Jt.postRender(()=>t(s,a))};class Cb extends Ni{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(s){this.session=new _x(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rx(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:u,onPanEnd:m}=this.node.getProps();return{onSessionStart:Pm(s),onStart:Pm(a),onMove:u,onEnd:(g,y)=>{delete this.session,m&&Jt.postRender(()=>m(g,y))}}}mount(){this.removePointerDownListener=Za(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dm(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Wa={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(et.test(t))t=parseFloat(t);else return t;const a=Dm(t,s.target.x),u=Dm(t,s.target.y);return`${a}% ${u}%`}},Eb={correct:(t,{treeScale:s,projectionDelta:a})=>{const u=t,m=Si.parse(t);if(m.length>5)return u;const g=Si.createTransformer(t),y=typeof m[0]!="number"?1:0,b=a.x.scale*s.x,A=a.y.scale*s.y;m[0+y]/=b,m[1+y]/=A;const E=on(b,A,.5);return typeof m[2+y]=="number"&&(m[2+y]/=E),typeof m[3+y]=="number"&&(m[3+y]/=E),g(m)}};let qd=!1;class bb extends D.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:u,layoutId:m}=this.props,{projection:g}=s;GC(Ab),g&&(a.group&&a.group.add(g),u&&u.register&&m&&u.register(g),qd&&g.root.didUpdate(),g.addEventListener("animationComplete",()=>{this.safeToRemove()}),g.setOptions({...g.options,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:u,drag:m,isPresent:g}=this.props,{projection:y}=u;return y&&(y.isPresent=g,qd=!0,m||s.layoutDependency!==a||a===void 0||s.isPresent!==g?y.willUpdate():this.safeToRemove(),s.isPresent!==g&&(g?y.promote():y.relegate()||Jt.postRender(()=>{const b=y.getStack();(!b||!b.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),m0.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:u}=this.props,{projection:m}=s;qd=!0,m&&(m.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(m),u&&u.deregister&&u.deregister(m))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function Px(t){const[s,a]=ex(),u=D.useContext(Xf);return w.jsx(bb,{...t,layoutGroup:u,switchLayoutGroup:D.useContext(hx),isPresent:s,safeToRemove:a})}const Ab={borderRadius:{...Wa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wa,borderTopRightRadius:Wa,borderBottomLeftRadius:Wa,borderBottomRightRadius:Wa,boxShadow:Eb};function Sb(t,s,a){const u=rr(t)?t:Ko(t);return u.start(S0("",u,s,a)),u.animation}const Nb=(t,s)=>t.depth-s.depth;class Tb{constructor(){this.children=[],this.isDirty=!1}add(s){Zf(this.children,s),this.isDirty=!0}remove(s){qf(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(Nb),this.isDirty=!1,this.children.forEach(s)}}function Ib(t,s){const a=Ar.now(),u=({timestamp:m})=>{const g=m-a;g>=s&&(Ai(u),t(g-s))};return Jt.setup(u,!0),()=>Ai(u)}const Dx=["TopLeft","TopRight","BottomLeft","BottomRight"],kb=Dx.length,Mm=t=>typeof t=="string"?parseFloat(t):t,Lm=t=>typeof t=="number"||et.test(t);function Rb(t,s,a,u,m,g){m?(t.opacity=on(0,a.opacity??1,_b(u)),t.opacityExit=on(s.opacity??1,0,Ob(u))):g&&(t.opacity=on(s.opacity??1,a.opacity??1,u));for(let y=0;y<kb;y++){const b=`border${Dx[y]}Radius`;let A=Bm(s,b),E=Bm(a,b);if(A===void 0&&E===void 0)continue;A||(A=0),E||(E=0),A===0||E===0||Lm(A)===Lm(E)?(t[b]=Math.max(on(Mm(A),Mm(E),u),0),(Ns.test(E)||Ns.test(A))&&(t[b]+="%")):t[b]=E}(s.rotate||a.rotate)&&(t.rotate=on(s.rotate||0,a.rotate||0,u))}function Bm(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const _b=Mx(0,.5,vp),Ob=Mx(.5,.95,Qr);function Mx(t,s,a){return u=>u<t?0:u>s?1:a(nl(t,s,u))}function jm(t,s){t.min=s.min,t.max=s.max}function Zr(t,s){jm(t.x,s.x),jm(t.y,s.y)}function Fm(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function Vm(t,s,a,u,m){return t-=s,t=$c(t,1/a,u),m!==void 0&&(t=$c(t,1/m,u)),t}function Pb(t,s=0,a=1,u=.5,m,g=t,y=t){if(Ns.test(s)&&(s=parseFloat(s),s=on(y.min,y.max,s/100)-y.min),typeof s!="number")return;let b=on(g.min,g.max,u);t===g&&(b-=s),t.min=Vm(t.min,s,a,b,m),t.max=Vm(t.max,s,a,b,m)}function Um(t,s,[a,u,m],g,y){Pb(t,s[a],s[u],s[m],s.scale,g,y)}const Db=["x","scaleX","originX"],Mb=["y","scaleY","originY"];function zm(t,s,a,u){Um(t.x,s,Db,a?a.x:void 0,u?u.x:void 0),Um(t.y,s,Mb,a?a.y:void 0,u?u.y:void 0)}function Hm(t){return t.translate===0&&t.scale===1}function Lx(t){return Hm(t.x)&&Hm(t.y)}function Wm(t,s){return t.min===s.min&&t.max===s.max}function Lb(t,s){return Wm(t.x,s.x)&&Wm(t.y,s.y)}function Gm(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function Bx(t,s){return Gm(t.x,s.x)&&Gm(t.y,s.y)}function Xm(t){return fr(t.x)/fr(t.y)}function Ym(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class Bb{constructor(){this.members=[]}add(s){Zf(this.members,s),s.scheduleRender()}remove(s){if(qf(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(m=>s===m);if(a===0)return!1;let u;for(let m=a;m>=0;m--){const g=this.members[m];if(g.isPresent!==!1){u=g;break}}return u?(this.promote(u),!0):!1}promote(s,a){const u=this.lead;if(s!==u&&(this.prevLead=u,this.lead=s,s.show(),u)){u.instance&&u.scheduleRender(),s.scheduleRender(),s.resumeFrom=u,a&&(s.resumeFrom.preserveOpacity=!0),u.snapshot&&(s.snapshot=u.snapshot,s.snapshot.latestValues=u.animationValues||u.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:m}=s.options;m===!1&&u.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:u}=s;a.onExitComplete&&a.onExitComplete(),u&&u.options.onExitComplete&&u.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jb(t,s,a){let u="";const m=t.x.translate/s.x,g=t.y.translate/s.y,y=a?.z||0;if((m||g||y)&&(u=`translate3d(${m}px, ${g}px, ${y}px) `),(s.x!==1||s.y!==1)&&(u+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:E,rotate:T,rotateX:S,rotateY:O,skewX:L,skewY:U}=a;E&&(u=`perspective(${E}px) ${u}`),T&&(u+=`rotate(${T}deg) `),S&&(u+=`rotateX(${S}deg) `),O&&(u+=`rotateY(${O}deg) `),L&&(u+=`skewX(${L}deg) `),U&&(u+=`skewY(${U}deg) `)}const b=t.x.scale*s.x,A=t.y.scale*s.y;return(b!==1||A!==1)&&(u+=`scale(${b}, ${A})`),u||"none"}const $d=["","X","Y","Z"],Fb=1e3;let Vb=0;function Qd(t,s,a,u){const{latestValues:m}=s;m[t]&&(a[t]=m[t],s.setStaticValue(t,0),u&&(u[t]=0))}function jx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=bx(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:m,layoutId:g}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",Jt,!(m||g))}const{parent:u}=t;u&&!u.hasCheckedOptimisedAppear&&jx(u)}function Fx({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:u,resetTransform:m}){return class{constructor(y={},b=s?.()){this.id=Vb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hb),this.nodes.forEach(Yb),this.nodes.forEach(Kb),this.nodes.forEach(Wb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=b?b.root||b:this,this.path=b?[...b.path,b]:[],this.parent=b,this.depth=b?b.depth+1:0;for(let A=0;A<this.path.length;A++)this.path[A].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tb)}addEventListener(y,b){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new Jf),this.eventHandlers.get(y).add(b)}notifyListeners(y,...b){const A=this.eventHandlers.get(y);A&&A.notify(...b)}hasListeners(y){return this.eventHandlers.has(y)}mount(y){if(this.instance)return;this.isSVG=Jp(y)&&!RC(y),this.instance=y;const{layoutId:b,layout:A,visualElement:E}=this.options;if(E&&!E.current&&E.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(A||b)&&(this.isLayoutDirty=!0),t){let T,S=0;const O=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{S=window.innerWidth}),t(y,()=>{const L=window.innerWidth;L!==S&&(S=L,this.root.updateBlockedByResize=!0,T&&T(),T=Ib(O,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(qm)))})}b&&this.root.registerSharedNode(b,this),this.options.animate!==!1&&E&&(b||A)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeLayoutChanged:O,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||E.getDefaultTransition()||Jb,{onLayoutAnimationStart:j,onLayoutAnimationComplete:F}=E.getProps(),Z=!this.targetLayout||!Bx(this.targetLayout,L),ee=!S&&O;if(this.options.layoutRoot||this.resumeFrom||ee||S&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...f0(U,"layout"),onPlay:j,onComplete:F};(E.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(T,ee)}else S||qm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zb),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const S=this.path[T];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:b,layout:A}=this.options;if(b===void 0&&!A)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Km);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Xb),this.nodes.forEach(Ub),this.nodes.forEach(zb)):this.nodes.forEach(Zm),this.clearAllSnapshots();const b=Ar.now();Yn.delta=zs(0,1e3/60,b-Yn.timestamp),Yn.timestamp=b,Yn.isProcessing=!0,Vd.update.process(Yn),Vd.preRender.process(Yn),Vd.render.process(Yn),Yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gb),this.sharedNodes.forEach(qb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fr(this.snapshot.measuredBox.x)&&!fr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let A=0;A<this.path.length;A++)this.path[A].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(b=!1),b&&this.instance){const A=u(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:A,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:A}}}resetTransform(){if(!m)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!Lx(this.projectionDelta),A=this.getTransformTemplate(),E=A?A(this.latestValues,""):void 0,T=E!==this.prevTransformTemplateValue;y&&this.instance&&(b||Qi(this.latestValues)||T)&&(m(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const b=this.measurePageBox();let A=this.removeElementScroll(b);return y&&(A=this.removeTransform(A)),e4(A),{animationId:this.root.animationId,measuredBox:b,layoutBox:A,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:y}=this.options;if(!y)return yn();const b=y.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(t4))){const{scroll:E}=this.root;E&&(jo(b.x,E.offset.x),jo(b.y,E.offset.y))}return b}removeElementScroll(y){const b=yn();if(Zr(b,y),this.scroll?.wasRoot)return b;for(let A=0;A<this.path.length;A++){const E=this.path[A],{scroll:T,options:S}=E;E!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&Zr(b,y),jo(b.x,T.offset.x),jo(b.y,T.offset.y))}return b}applyTransform(y,b=!1){const A=yn();Zr(A,y);for(let E=0;E<this.path.length;E++){const T=this.path[E];!b&&T.options.layoutScroll&&T.scroll&&T!==T.root&&Fo(A,{x:-T.scroll.offset.x,y:-T.scroll.offset.y}),Qi(T.latestValues)&&Fo(A,T.latestValues)}return Qi(this.latestValues)&&Fo(A,this.latestValues),A}removeTransform(y){const b=yn();Zr(b,y);for(let A=0;A<this.path.length;A++){const E=this.path[A];if(!E.instance||!Qi(E.latestValues))continue;If(E.latestValues)&&E.updateSnapshot();const T=yn(),S=E.measurePageBox();Zr(T,S),zm(b,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,T)}return Qi(this.latestValues)&&zm(b,this.latestValues),b}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){const b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);const A=!!this.resumingFrom||this!==b;if(!(y||A&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=Yn.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),$a(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ab(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zr(this.target,this.layout.layoutBox),xx(this.target,this.targetDelta)):Zr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),$a(this.relativeTargetOrigin,this.target,O.target),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||If(this.parent.latestValues)||px(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const y=this.getLead(),b=!!this.resumingFrom||this!==y;let A=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(A=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(A=!1),this.resolvedRelativeTargetAt===Yn.timestamp&&(A=!1),A)return;const{layout:E,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||T))return;Zr(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,O=this.treeScale.y;wE(this.layoutCorrected,this.treeScale,this.path,b),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=yn());const{target:L}=y;if(!L){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fm(this.prevProjectionDelta.x,this.projectionDelta.x),Fm(this.prevProjectionDelta.y,this.projectionDelta.y)),qa(this.projectionDelta,this.layoutCorrected,L,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==O||!Ym(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ym(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){if(this.options.visualElement?.scheduleRender(),y){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(y,b=!1){const A=this.snapshot,E=A?A.latestValues:{},T={...this.latestValues},S=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;const O=yn(),L=A?A.source:void 0,U=this.layout?this.layout.source:void 0,j=L!==U,F=this.getStack(),Z=!F||F.members.length<=1,ee=!!(j&&!Z&&this.options.crossfade===!0&&!this.path.some(Qb));this.animationProgress=0;let G;this.mixTargetDelta=re=>{const fe=re/1e3;$m(S.x,y.x,fe),$m(S.y,y.y,fe),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($a(O,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$b(this.relativeTarget,this.relativeTargetOrigin,O,fe),G&&Lb(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=yn()),Zr(G,this.relativeTarget)),j&&(this.animationValues=T,Rb(T,E,this.latestValues,fe,ee,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=fe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{zc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ko(0)),this.currentAnimation=Sb(this.motionValue,[0,1e3],{...y,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),y.onUpdate&&y.onUpdate(b)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:b,target:A,layout:E,latestValues:T}=y;if(!(!b||!A||!E)){if(this!==y&&this.layout&&E&&Vx(this.options.animationType,this.layout.layoutBox,E.layoutBox)){A=this.target||yn();const S=fr(this.layout.layoutBox.x);A.x.min=y.target.x.min,A.x.max=A.x.min+S;const O=fr(this.layout.layoutBox.y);A.y.min=y.target.y.min,A.y.max=A.y.min+O}Zr(b,A),Fo(b,T),qa(this.projectionDeltaWithTransform,this.layoutCorrected,b,T)}}registerSharedNode(y,b){this.sharedNodes.has(y)||this.sharedNodes.set(y,new Bb),this.sharedNodes.get(y).add(b);const E=b.options.initialPromotionConfig;b.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(b):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){const{layoutId:y}=this.options;return y?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:y}=this.options;return y?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:b,preserveFollowOpacity:A}={}){const E=this.getStack();E&&E.promote(this,A),y&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let b=!1;const{latestValues:A}=y;if((A.z||A.rotate||A.rotateX||A.rotateY||A.rotateZ||A.skewX||A.skewY)&&(b=!0),!b)return;const E={};A.z&&Qd("z",y,E,this.animationValues);for(let T=0;T<$d.length;T++)Qd(`rotate${$d[T]}`,y,E,this.animationValues),Qd(`skew${$d[T]}`,y,E,this.animationValues);y.render();for(const T in E)y.setStaticValue(T,E[T]),this.animationValues&&(this.animationValues[T]=E[T]);y.scheduleRender()}applyProjectionStyles(y,b){if(!this.instance||this.isSVG)return;if(!this.isVisible){y.visibility="hidden";return}const A=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,y.visibility="",y.opacity="",y.pointerEvents=Uc(b?.pointerEvents)||"",y.transform=A?A(this.latestValues,""):"none";return}const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Uc(b?.pointerEvents)||""),this.hasProjected&&!Qi(this.latestValues)&&(y.transform=A?A({},""):"none",this.hasProjected=!1);return}y.visibility="";const T=E.animationValues||E.latestValues;this.applyTransformsToTarget();let S=jb(this.projectionDeltaWithTransform,this.treeScale,T);A&&(S=A(T,S)),y.transform=S;const{x:O,y:L}=this.projectionDelta;y.transformOrigin=`${O.origin*100}% ${L.origin*100}% 0`,E.animationValues?y.opacity=E===this?T.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:y.opacity=E===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const U in ol){if(T[U]===void 0)continue;const{correct:j,applyTo:F,isCSSVariable:Z}=ol[U],ee=S==="none"?T[U]:j(T[U],E);if(F){const G=F.length;for(let re=0;re<G;re++)y[F[re]]=ee}else Z?this.options.visualElement.renderState.vars[U]=ee:y[U]=ee}this.options.layoutId&&(y.pointerEvents=E===this?Uc(b?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>y.currentAnimation?.stop()),this.root.nodes.forEach(Km),this.root.sharedNodes.clear()}}}function Ub(t){t.updateLayout()}function zb(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:u}=t.layout,{animationType:m}=t.options,g=s.source!==t.layout.source;m==="size"?qr(T=>{const S=g?s.measuredBox[T]:s.layoutBox[T],O=fr(S);S.min=a[T].min,S.max=S.min+O}):Vx(m,s.layoutBox,a)&&qr(T=>{const S=g?s.measuredBox[T]:s.layoutBox[T],O=fr(a[T]);S.max=S.min+O,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+O)});const y=Vo();qa(y,a,s.layoutBox);const b=Vo();g?qa(b,t.applyTransform(u,!0),s.measuredBox):qa(b,a,s.layoutBox);const A=!Lx(y);let E=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:O}=T;if(S&&O){const L=yn();$a(L,s.layoutBox,S.layoutBox);const U=yn();$a(U,a,O.layoutBox),Bx(L,U)||(E=!0),T.options.layoutRoot&&(t.relativeTarget=U,t.relativeTargetOrigin=L,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:b,layoutDelta:y,hasLayoutChanged:A,hasRelativeLayoutChanged:E})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function Hb(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Wb(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gb(t){t.clearSnapshot()}function Km(t){t.clearMeasurements()}function Zm(t){t.isLayoutDirty=!1}function Xb(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function qm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yb(t){t.resolveTargetDelta()}function Kb(t){t.calcProjection()}function Zb(t){t.resetSkewAndRotation()}function qb(t){t.removeLeadSnapshot()}function $m(t,s,a){t.translate=on(s.translate,0,a),t.scale=on(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function Qm(t,s,a,u){t.min=on(s.min,a.min,u),t.max=on(s.max,a.max,u)}function $b(t,s,a,u){Qm(t.x,s.x,a.x,u),Qm(t.y,s.y,a.y,u)}function Qb(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Jb={duration:.45,ease:[.4,0,.1,1]},Jm=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eg=Jm("applewebkit/")&&!Jm("chrome/")?Math.round:Qr;function tg(t){t.min=eg(t.min),t.max=eg(t.max)}function e4(t){tg(t.x),tg(t.y)}function Vx(t,s,a){return t==="position"||t==="preserve-aspect"&&!ob(Xm(s),Xm(a),.2)}function t4(t){return t!==t.root&&t.scroll?.wasRoot}const n4=Fx({attachResizeListener:(t,s)=>al(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jd={current:void 0},Ux=Fx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jd.current){const t=new n4({});t.mount(window),t.setOptions({layoutScroll:!0}),Jd.current=t}return Jd.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),r4={pan:{Feature:Cb},drag:{Feature:vb,ProjectionNode:Ux,MeasureLayout:Px}};function ng(t,s,a){const{props:u}=t;t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",a==="Start");const m="onHover"+a,g=u[m];g&&Jt.postRender(()=>g(s,dl(s)))}class s4 extends Ni{mount(){const{current:s}=this.node;s&&(this.unmount=SC(s,(a,u)=>(ng(this.node,u,"Start"),m=>ng(this.node,m,"End"))))}unmount(){}}class i4 extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ll(al(this.node.current,"focus",()=>this.onFocus()),al(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rg(t,s,a){const{props:u}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&u.whileTap&&t.animationState.setActive("whileTap",a==="Start");const m="onTap"+(a==="End"?"":a),g=u[m];g&&Jt.postRender(()=>g(s,dl(s)))}class o4 extends Ni{mount(){const{current:s}=this.node;s&&(this.unmount=kC(s,(a,u)=>(rg(this.node,u,"Start"),(m,{success:g})=>rg(this.node,m,g?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mf=new WeakMap,ef=new WeakMap,a4=t=>{const s=Mf.get(t.target);s&&s(t)},l4=t=>{t.forEach(a4)};function c4({root:t,...s}){const a=t||document;ef.has(a)||ef.set(a,{});const u=ef.get(a),m=JSON.stringify(s);return u[m]||(u[m]=new IntersectionObserver(l4,{root:t,...s})),u[m]}function u4(t,s,a){const u=c4(s);return Mf.set(t,a),u.observe(t),()=>{Mf.delete(t),u.unobserve(t)}}const d4={some:0,all:1};class f4 extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:u,amount:m="some",once:g}=s,y={root:a?a.current:void 0,rootMargin:u,threshold:typeof m=="number"?m:d4[m]},b=A=>{const{isIntersecting:E}=A;if(this.isInView===E||(this.isInView=E,g&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:T,onViewportLeave:S}=this.node.getProps(),O=E?T:S;O&&O(A)};return u4(this.node.current,y,b)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(h4(s,a))&&this.startObserver()}unmount(){}}function h4({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const m4={inView:{Feature:f4},tap:{Feature:o4},focus:{Feature:i4},hover:{Feature:s4}},g4={layout:{ProjectionNode:Ux,MeasureLayout:Px}},p4={...eb,...m4,...r4,...g4},br=pE(p4,kE);function sg({onNavigateToRewards:t}){const s=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",a=localStorage.getItem("usuario_id"),u=localStorage.getItem("token"),[m,g]=D.useState(0),[y,b]=D.useState(!1),[A,E]=D.useState(!0),[T,S]=D.useState([]),O=()=>({"Content-Type":"application/json",Authorization:`Bearer ${u}`}),L=async()=>{if(!(!a||!u))try{const F=await fetch(`${s}/obtenerPuntos?usuario_id=${a}`,{headers:O()});if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const Z=await F.json();g(Z.puntos||0)}catch(F){console.error("Error al obtener puntos:",F)}},U=async()=>{if(!(!a||!u))try{const F=await fetch(`${s}/obtenerHistorial?usuario_id=${a}`,{headers:O()});if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const ee=(await F.json()).sort((G,re)=>new Date(re.date).getTime()-new Date(G.date).getTime());S(ee)}catch(F){console.error("Error al obtener historial:",F)}};D.useEffect(()=>{a&&u?(async()=>{E(!0);try{await Promise.all([L(),U()])}catch(Z){console.error("Error cargando datos:",Z)}finally{E(!1)}})():E(!1)},[a,u]);const j=y?T:T.slice(0,4);return w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Hola,"}),w.jsx("h1",{className:"text-gray-900 dark:text-white",children:localStorage.getItem("usuario_nombre")})]}),w.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:w.jsx(bi,{className:"w-10 h-10 text-white"})})]}),w.jsx(br.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:w.jsx(Lt,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6 border-0",children:w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(bi,{className:"w-5 h-5"}),w.jsx("span",{className:"text-emerald-100",children:"Balance disponible"})]}),w.jsx("div",{className:"space-y-1",children:w.jsx("div",{className:"flex items-baseline gap-1",children:m?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"text-4xl font-semibold",children:m.toLocaleString()}),w.jsx("span",{className:"text-xl text-emerald-100",children:"ecopoints"})]}):w.jsx("span",{className:"text-sm text-emerald-100 italic",children:"Cargando..."})})}),w.jsxs("div",{className:"flex gap-3 pt-2",children:[w.jsxs(dt,{className:"flex-1 bg-white text-emerald-600 hover:bg-emerald-50",onClick:t,children:[w.jsx(tl,{className:"w-4 h-4 mr-2"}),"Canjear"]}),w.jsx(dt,{className:"flex-1 bg-emerald-600 border border-white/30 text-white hover:bg-emerald-800",onClick:t,children:"Ver premios"})]})]})})}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Actividad reciente"}),w.jsxs("button",{onClick:()=>b(!y),className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1",children:[y?"Ver menos":"Ver todo",w.jsx(Uw,{className:"w-4 h-4"})]})]}),w.jsx("div",{className:`space-y-3 ${y?"max-h-[400px] overflow-y-auto pr-2":""}`,children:j.map(F=>w.jsx(br.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2},children:w.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center bg-emerald-100 dark:bg-emerald-900 ${F.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:F.type==="scan"?w.jsx(bi,{className:"lucide lucide-leaf w-5 h-5 text-emerald-600 dark:text-emerald-400"}):w.jsx(tl,{className:"w-5 h-5 text-orange-600"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:F.description}),w.jsx("p",{className:"text-gray-500 text-sm dark:text-gray-400",children:F.location})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:`${F.type==="scan"?"text-emerald-600 dark:text-emerald-400":"text-orange-600"} font-semibold`,children:[F.type==="scan"?"+":"-",F.points]}),w.jsx("p",{className:"text-gray-500 text-sm",children:new Date(F.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})})},F.id))})]})]})}var je;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(je||(je={}));var ig=new Map([[je.QR_CODE,"QR_CODE"],[je.AZTEC,"AZTEC"],[je.CODABAR,"CODABAR"],[je.CODE_39,"CODE_39"],[je.CODE_93,"CODE_93"],[je.CODE_128,"CODE_128"],[je.DATA_MATRIX,"DATA_MATRIX"],[je.MAXICODE,"MAXICODE"],[je.ITF,"ITF"],[je.EAN_13,"EAN_13"],[je.EAN_8,"EAN_8"],[je.PDF_417,"PDF_417"],[je.RSS_14,"RSS_14"],[je.RSS_EXPANDED,"RSS_EXPANDED"],[je.UPC_A,"UPC_A"],[je.UPC_E,"UPC_E"],[je.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),og;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(og||(og={}));function x4(t){return Object.values(je).includes(t)}var Qc;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Qc||(Qc={}));var y4=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Qc.SCAN_TYPE_CAMERA,Qc.SCAN_TYPE_FILE],t})(),zx=(function(){function t(s,a){this.format=s,this.formatName=a}return t.prototype.toString=function(){return this.formatName},t.create=function(s){if(!ig.has(s))throw"".concat(s," not in html5QrcodeSupportedFormatsTextMap");return new t(s,ig.get(s))},t})(),ag=(function(){function t(){}return t.createFromText=function(s){var a={text:s};return{decodedText:s,result:a}},t.createFromQrcodeResult=function(s){return{decodedText:s.text,result:s}},t})(),Lf;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Lf||(Lf={}));var w4=(function(){function t(){}return t.createFrom=function(s){return{errorMessage:s,type:Lf.UNKWOWN_ERROR}},t})(),v4=(function(){function t(s){this.verbose=s}return t.prototype.log=function(s){this.verbose&&console.log(s)},t.prototype.warn=function(s){this.verbose&&console.warn(s)},t.prototype.logError=function(s,a){(this.verbose||a===!0)&&console.error(s)},t.prototype.logErrors=function(s){if(s.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(s)},t})();function Us(t){return typeof t>"u"||t===null}var Uo=(function(){function t(){}return t.codeParseError=function(s){return"QR code parse error, error = ".concat(s)},t.errorGettingUserMedia=function(s){return"Error getting userMedia, error = ".concat(s)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),Hx=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(s,a){if(typeof s!="object"){var u=typeof s;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(m),y=Object.keys(s),b=0,A=y;b<A.length;b++){var E=A[b];if(g.has(E))return a.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},t})(),Xa={exports:{}},C4=Xa.exports,lg;function E4(){return lg||(lg=1,(function(t,s){(function(a,u){u(s)})(C4,(function(a){function u(k){return k==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,e){k.__proto__=e}||function(k,e){for(var r in e)e.hasOwnProperty(r)&&(k[r]=e[r])};function g(k,e){m(k,e);function r(){this.constructor=k}k.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function y(k,e){var r=Object.setPrototypeOf;r?r(k,e):k.__proto__=e}function b(k,e){e===void 0&&(e=k.constructor);var r=Error.captureStackTrace;r&&r(k,e)}var A=(function(k){g(e,k);function e(r){var i=this.constructor,l=k.call(this,r)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),y(l,i.prototype),b(l),l}return e})(Error);class E extends A{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class T extends E{}T.kind="ArgumentException";class S extends E{}S.kind="IllegalArgumentException";class O{constructor(e){if(this.binarizer=e,e===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,i,l){const c=this.binarizer.getLuminanceSource().crop(e,r,i,l);return new O(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends E{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class U{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(e,r,i,l,c){for(;c--;)i[l++]=e[r++]}static currentTimeMillis(){return Date.now()}}class F extends E{}F.kind="IndexOutOfBoundsException";class Z extends F{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}Z.kind="ArrayIndexOutOfBoundsException";class ee{static fill(e,r){for(let i=0,l=e.length;i<l;i++)e[i]=r}static fillWithin(e,r,i,l){ee.rangeCheck(e.length,r,i);for(let c=r;c<i;c++)e[c]=l}static rangeCheck(e,r,i){if(r>i)throw new S("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new Z(r);if(i>e)throw new Z(i)}static asList(...e){return e}static create(e,r,i){return Array.from({length:e}).map(c=>Array.from({length:r}).fill(i))}static createInt32Array(e,r,i){return Array.from({length:e}).map(c=>Int32Array.from({length:r}).fill(i))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let i=0,l=e.length;i<l;i++)if(e[i]!==r[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const i of e)r=31*r+i;return r}static fillUint8Array(e,r){for(let i=0;i!==e.length;i++)e[i]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const i=new Uint8Array(r);return i.set(e),i}return e.slice(0,r)}static copyOfRange(e,r,i){const l=i-r,c=new Int32Array(l);return j.arraycopy(e,r,c,0,l),c}static binarySearch(e,r,i){i===void 0&&(i=ee.numberComparator);let l=0,c=e.length-1;for(;l<=c;){const d=c+l>>1,h=i(r,e[d]);if(h>0)l=d+1;else if(h<0)c=d-1;else return d}return-l-1}static numberComparator(e,r){return e-r}}class G{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let i=31;return r=e<<16,r!==0&&(i-=16,e=r),r=e<<8,r!==0&&(i-=8,e=r),r=e<<4,r!==0&&(i-=4,e=r),r=e<<2,r!==0&&(i-=2,e=r),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}G.MIN_VALUE_32_BITS=-2147483648,G.MAX_VALUE=Number.MAX_SAFE_INTEGER;class re{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=re.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=re.makeArray(e);j.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const i=this.bits;let l=Math.floor(e/32),c=i[l];c&=~((1<<(e&31))-1);const d=i.length;for(;c===0;){if(++l===d)return r;c=i[l]}const h=l*32+G.numberOfTrailingZeros(c);return h>r?r:h}getNextUnset(e){const r=this.size;if(e>=r)return r;const i=this.bits;let l=Math.floor(e/32),c=~i[l];c&=~((1<<(e&31))-1);const d=i.length;for(;c===0;){if(++l===d)return r;c=~i[l]}const h=l*32+G.numberOfTrailingZeros(c);return h>r?r:h}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new S;if(r===e)return;r--;const i=Math.floor(e/32),l=Math.floor(r/32),c=this.bits;for(let d=i;d<=l;d++){const h=d>i?0:e&31,v=(2<<(d<l?31:r&31))-(1<<h);c[d]|=v}}clear(){const e=this.bits.length,r=this.bits;for(let i=0;i<e;i++)r[i]=0}isRange(e,r,i){if(r<e||e<0||r>this.size)throw new S;if(r===e)return!0;r--;const l=Math.floor(e/32),c=Math.floor(r/32),d=this.bits;for(let h=l;h<=c;h++){const x=h>l?0:e&31,I=(2<<(h<c?31:r&31))-(1<<x)&4294967295;if((d[h]&I)!==(i?I:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new S("Sizes don't match");const r=this.bits;for(let i=0,l=r.length;i<l;i++)r[i]^=e.bits[i]}toBytes(e,r,i,l){for(let c=0;c<l;c++){let d=0;for(let h=0;h<8;h++)this.get(e)&&(d|=1<<7-h),e++;r[i+c]=d}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,l=this.bits;for(let c=0;c<i;c++){let d=l[c];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,e[r-c]=d}if(this.size!==i*32){const c=i*32-this.size;let d=e[0]>>>c;for(let h=1;h<i;h++){const x=e[h];d|=x<<32-c,e[h-1]=d,d=x>>>c}e[i-1]=d}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof re))return!1;const r=e;return this.size===r.size&&ee.equals(this.bits,r.bits)}hashCode(){return 31*this.size+ee.hashCode(this.bits)}toString(){let e="";for(let r=0,i=this.size;r<i;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new re(this.size,this.bits.slice())}}var fe;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(fe||(fe={}));var de=fe;class q extends E{static getFormatInstance(){return new q}}q.kind="FormatException";var Q;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class z{constructor(e,r,i,...l){this.valueIdentifier=e,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,z.VALUE_IDENTIFIER_TO_ECI.set(e,this),z.NAME_TO_ECI.set(i,this);const c=this.values;for(let d=0,h=c.length;d!==h;d++){const x=c[d];z.VALUES_TO_ECI.set(x,this)}for(const d of l)z.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new q("incorect value");const r=z.VALUES_TO_ECI.get(e);if(r===void 0)throw new q("incorect value");return r}static getCharacterSetECIByName(e){const r=z.NAME_TO_ECI.get(e);if(r===void 0)throw new q("incorect value");return r}equals(e){if(!(e instanceof z))return!1;const r=e;return this.getName()===r.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(Q.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(Q.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(Q.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(Q.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(Q.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(Q.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(Q.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(Q.Big5,28,"Big5"),z.GB18030=new z(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(Q.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends E{}xe.kind="UnsupportedOperationException";class Oe{static decode(e,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Oe.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof z?e:z.getCharacterSetECIByName(e)}static decodeFallback(e,r){const i=this.encodingCharacterSet(r);if(Oe.isDecodeFallbackSupported(i)){let l="";for(let c=0,d=e.length;c<d;c++){let h=e[c].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(i.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new xe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(z.UTF8)||e.equals(z.ISO8859_1)||e.equals(z.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let c=0;c<i.length;c++)l.push(i[c].charCodeAt(0));return new Uint8Array(l)}}class we{static castAsNonUtf8Char(e,r=null){const i=r?r.getName():this.ISO88591;return Oe.decode(new Uint8Array([e]),i)}static guessEncoding(e,r){if(r!=null&&r.get(de.CHARACTER_SET)!==void 0)return r.get(de.CHARACTER_SET).toString();const i=e.length;let l=!0,c=!0,d=!0,h=0,x=0,v=0,I=0,R=0,P=0,B=0,H=0,Y=0,J=0,oe=0;const Se=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Te=0;Te<i&&(l||c||d);Te++){const Ce=e[Te]&255;d&&(h>0?(Ce&128)===0?d=!1:h--:(Ce&128)!==0&&((Ce&64)===0?d=!1:(h++,(Ce&32)===0?x++:(h++,(Ce&16)===0?v++:(h++,(Ce&8)===0?I++:d=!1))))),l&&(Ce>127&&Ce<160?l=!1:Ce>159&&(Ce<192||Ce===215||Ce===247)&&oe++),c&&(R>0?Ce<64||Ce===127||Ce>252?c=!1:R--:Ce===128||Ce===160||Ce>239?c=!1:Ce>160&&Ce<224?(P++,H=0,B++,B>Y&&(Y=B)):Ce>127?(R++,B=0,H++,H>J&&(J=H)):(B=0,H=0))}return d&&h>0&&(d=!1),c&&R>0&&(c=!1),d&&(Se||x+v+I>0)?we.UTF8:c&&(we.ASSUME_SHIFT_JIS||Y>=3||J>=3)?we.SHIFT_JIS:l&&c?Y===2&&P===2||oe*10>=i?we.SHIFT_JIS:we.ISO88591:l?we.ISO88591:c?we.SHIFT_JIS:d?we.UTF8:we.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let i=-1;function l(d,h,x,v,I,R){if(d==="%%")return"%";if(r[++i]===void 0)return;d=v?parseInt(v.substr(1)):void 0;let P=I?parseInt(I.substr(1)):void 0,B;switch(R){case"s":B=r[i];break;case"c":B=r[i][0];break;case"f":B=parseFloat(r[i]).toFixed(d);break;case"p":B=parseFloat(r[i]).toPrecision(d);break;case"e":B=parseFloat(r[i]).toExponential(d);break;case"x":B=parseInt(r[i]).toString(P||16);break;case"d":B=parseFloat(parseInt(r[i],P||10).toPrecision(d)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(P);let H=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;B.length<H;)B=h!==void 0?B+Y:Y+B;return B}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}static getBytes(e,r){return Oe.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}we.SHIFT_JIS=z.SJIS.getName(),we.GB2312="GB2312",we.ISO88591=z.ISO8859_1.getName(),we.EUC_JP="EUC_JP",we.UTF8=z.UTF8.getName(),we.PLATFORM_DEFAULT_ENCODING=we.UTF8,we.ASSUME_SHIFT_JIS=!1;class _e{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=we.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,i){for(let l=r;r<r+i;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Pe{constructor(e,r,i,l){if(this.width=e,this.height=r,this.rowSize=i,this.bits=l,r==null&&(r=e),this.height=r,e<1||r<1)throw new S("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,i=e[0].length,l=new Pe(i,r);for(let c=0;c<r;c++){const d=e[c];for(let h=0;h<i;h++)d[h]&&l.set(h,c)}return l}static parseFromString(e,r,i){if(e===null)throw new S("stringRepresentation cannot be null");const l=new Array(e.length);let c=0,d=0,h=-1,x=0,v=0;for(;v<e.length;)if(e.charAt(v)===`
`||e.charAt(v)==="\r"){if(c>d){if(h===-1)h=c-d;else if(c-d!==h)throw new S("row lengths do not match");d=c,x++}v++}else if(e.substring(v,v+r.length)===r)v+=r.length,l[c]=!0,c++;else if(e.substring(v,v+i.length)===i)v+=i.length,l[c]=!1,c++;else throw new S("illegal character encountered: "+e.substring(v));if(c>d){if(h===-1)h=c-d;else if(c-d!==h)throw new S("row lengths do not match");x++}const I=new Pe(h,x);for(let R=0;R<c;R++)l[R]&&I.set(Math.floor(R%h),Math.floor(R/h));return I}get(e,r){const i=r*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,r){const i=r*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new S("input matrix dimensions do not match");const r=new re(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let c=0,d=this.height;c<d;c++){const h=c*i,x=e.getRow(c,r).getBitArray();for(let v=0;v<i;v++)l[h+v]^=x[v]}}clear(){const e=this.bits,r=e.length;for(let i=0;i<r;i++)e[i]=0}setRegion(e,r,i,l){if(r<0||e<0)throw new S("Left and top must be nonnegative");if(l<1||i<1)throw new S("Height and width must be at least 1");const c=e+i,d=r+l;if(d>this.height||c>this.width)throw new S("The region must fit inside the matrix");const h=this.rowSize,x=this.bits;for(let v=r;v<d;v++){const I=v*h;for(let R=e;R<c;R++)x[I+Math.floor(R/32)]|=1<<(R&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new re(this.width):r.clear();const i=this.rowSize,l=this.bits,c=e*i;for(let d=0;d<i;d++)r.setBulk(d*32,l[c+d]);return r}setRow(e,r){j.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let i=new re(e),l=new re(e);for(let c=0,d=Math.floor((r+1)/2);c<d;c++)i=this.getRow(c,i),l=this.getRow(r-1-c,l),i.reverse(),l.reverse(),this.setRow(c,l),this.setRow(r-1-c,i)}getEnclosingRectangle(){const e=this.width,r=this.height,i=this.rowSize,l=this.bits;let c=e,d=r,h=-1,x=-1;for(let v=0;v<r;v++)for(let I=0;I<i;I++){const R=l[v*i+I];if(R!==0){if(v<d&&(d=v),v>x&&(x=v),I*32<c){let P=0;for(;(R<<31-P&4294967295)===0;)P++;I*32+P<c&&(c=I*32+P)}if(I*32+31>h){let P=31;for(;!(R>>>P);)P--;I*32+P>h&&(h=I*32+P)}}}return h<c||x<d?null:Int32Array.from([c,d,h-c+1,x-d+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const l=i/e;let c=i%e*32;const d=r[i];let h=0;for(;(d<<31-h&4294967295)===0;)h++;return c+=h,Int32Array.from([c,l])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/e);let c=Math.floor(i%e)*32;const d=r[i];let h=31;for(;!(d>>>h);)h--;return c+=h,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Pe))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ee.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ee.hashCode(this.bits),e}toString(e="X ",r="  ",i=`
`){return this.buildToString(e,r,i)}buildToString(e,r,i){let l=new _e;for(let c=0,d=this.height;c<d;c++){for(let h=0,x=this.width;h<x;h++)l.append(this.get(h,c)?e:r);l.append(i)}return l.toString()}clone(){return new Pe(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends E{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class ge extends U{constructor(e){super(e),this.luminances=ge.EMPTY,this.buckets=new Int32Array(ge.LUMINANCE_BUCKETS)}getBlackRow(e,r){const i=this.getLuminanceSource(),l=i.getWidth();r==null||r.getSize()<l?r=new re(l):r.clear(),this.initArrays(l);const c=i.getRow(e,this.luminances),d=this.buckets;for(let x=0;x<l;x++)d[(c[x]&255)>>ge.LUMINANCE_SHIFT]++;const h=ge.estimateBlackPoint(d);if(l<3)for(let x=0;x<l;x++)(c[x]&255)<h&&r.set(x);else{let x=c[0]&255,v=c[1]&255;for(let I=1;I<l-1;I++){const R=c[I+1]&255;(v*4-x-R)/2<h&&r.set(I),x=v,v=R}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight(),l=new Pe(r,i);this.initArrays(r);const c=this.buckets;for(let x=1;x<5;x++){const v=Math.floor(i*x/5),I=e.getRow(v,this.luminances),R=Math.floor(r*4/5);for(let P=Math.floor(r/5);P<R;P++){const B=I[P]&255;c[B>>ge.LUMINANCE_SHIFT]++}}const d=ge.estimateBlackPoint(c),h=e.getMatrix();for(let x=0;x<i;x++){const v=x*r;for(let I=0;I<r;I++)(h[v+I]&255)<d&&l.set(I,x)}return l}createBinarizer(e){return new ge(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let i=0;i<ge.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(e){const r=e.length;let i=0,l=0,c=0;for(let I=0;I<r;I++)e[I]>c&&(l=I,c=e[I]),e[I]>i&&(i=e[I]);let d=0,h=0;for(let I=0;I<r;I++){const R=I-l,P=e[I]*R*R;P>h&&(d=I,h=P)}if(l>d){const I=l;l=d,d=I}if(d-l<=r/16)throw new W;let x=d-1,v=-1;for(let I=d-1;I>l;I--){const R=I-l,P=R*R*(d-I)*(i-e[I]);P>v&&(x=I,v=P)}return x<<ge.LUMINANCE_SHIFT}}ge.LUMINANCE_BITS=5,ge.LUMINANCE_SHIFT=8-ge.LUMINANCE_BITS,ge.LUMINANCE_BUCKETS=1<<ge.LUMINANCE_BITS,ge.EMPTY=Uint8ClampedArray.from([0]);class ue extends ge{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight();if(r>=ue.MINIMUM_DIMENSION&&i>=ue.MINIMUM_DIMENSION){const l=e.getMatrix();let c=r>>ue.BLOCK_SIZE_POWER;(r&ue.BLOCK_SIZE_MASK)!==0&&c++;let d=i>>ue.BLOCK_SIZE_POWER;(i&ue.BLOCK_SIZE_MASK)!==0&&d++;const h=ue.calculateBlackPoints(l,c,d,r,i),x=new Pe(r,i);ue.calculateThresholdForBlock(l,c,d,r,i,h,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ue(e)}static calculateThresholdForBlock(e,r,i,l,c,d,h){const x=c-ue.BLOCK_SIZE,v=l-ue.BLOCK_SIZE;for(let I=0;I<i;I++){let R=I<<ue.BLOCK_SIZE_POWER;R>x&&(R=x);const P=ue.cap(I,2,i-3);for(let B=0;B<r;B++){let H=B<<ue.BLOCK_SIZE_POWER;H>v&&(H=v);const Y=ue.cap(B,2,r-3);let J=0;for(let Se=-2;Se<=2;Se++){const Te=d[P+Se];J+=Te[Y-2]+Te[Y-1]+Te[Y]+Te[Y+1]+Te[Y+2]}const oe=J/25;ue.thresholdBlock(e,H,R,oe,l,h)}}}static cap(e,r,i){return e<r?r:e>i?i:e}static thresholdBlock(e,r,i,l,c,d){for(let h=0,x=i*c+r;h<ue.BLOCK_SIZE;h++,x+=c)for(let v=0;v<ue.BLOCK_SIZE;v++)(e[x+v]&255)<=l&&d.set(r+v,i+h)}static calculateBlackPoints(e,r,i,l,c){const d=c-ue.BLOCK_SIZE,h=l-ue.BLOCK_SIZE,x=new Array(i);for(let v=0;v<i;v++){x[v]=new Int32Array(r);let I=v<<ue.BLOCK_SIZE_POWER;I>d&&(I=d);for(let R=0;R<r;R++){let P=R<<ue.BLOCK_SIZE_POWER;P>h&&(P=h);let B=0,H=255,Y=0;for(let oe=0,Se=I*l+P;oe<ue.BLOCK_SIZE;oe++,Se+=l){for(let Te=0;Te<ue.BLOCK_SIZE;Te++){const Ce=e[Se+Te]&255;B+=Ce,Ce<H&&(H=Ce),Ce>Y&&(Y=Ce)}if(Y-H>ue.MIN_DYNAMIC_RANGE)for(oe++,Se+=l;oe<ue.BLOCK_SIZE;oe++,Se+=l)for(let Te=0;Te<ue.BLOCK_SIZE;Te++)B+=e[Se+Te]&255}let J=B>>ue.BLOCK_SIZE_POWER*2;if(Y-H<=ue.MIN_DYNAMIC_RANGE&&(J=H/2,v>0&&R>0)){const oe=(x[v-1][R]+2*x[v][R-1]+x[v-1][R-1])/4;H<oe&&(J=oe)}x[v][R]=J}}return x}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class se{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,i,l){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new _e;for(let i=0;i<this.height;i++){const l=this.getRow(i,e);for(let c=0;c<this.width;c++){const d=l[c]&255;let h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",r.append(h)}r.append(`
`)}return r.toString()}}class he extends se{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const i=this.delegate.getRow(e,r),l=this.getWidth();for(let c=0;c<l;c++)i[c]=255-(i[c]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let l=0;l<r;l++)i[l]=255-(e[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,i,l){return new he(this.delegate.crop(e,r,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class pe extends se{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return pe.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,i){const l=new Uint8ClampedArray(r*i);for(let c=0,d=0,h=e.length;c<h;c+=4,d++){let x;if(e[c+3]===0)x=255;else{const I=e[c],R=e[c+1],P=e[c+2];x=306*I+601*R+117*P+512>>10}l[d]=x}return l}getRow(e,r){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const i=this.getWidth(),l=e*i;return r===null?r=this.buffer.slice(l,l+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(l,l+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,i,l){return super.crop(e,r,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),i=r.getContext("2d"),l=e*pe.DEGREE_TO_RADIANS,c=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*d),x=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*d);return r.width=h,r.height=x,i.translate(h/2,x/2),i.rotate(l),i.drawImage(this.canvas,c/-2,d/-2),this.buffer=pe.makeBufferFromCanvasImageData(r),this}invert(){return new he(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class K{constructor(e,r,i){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ce=(globalThis||Cc||self||window||void 0)&&(globalThis||Cc||self||window||void 0).__awaiter||function(k,e,r,i){function l(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function h(I){try{v(i.next(I))}catch(R){d(R)}}function x(I){try{v(i.throw(I))}catch(R){d(R)}}function v(I){I.done?c(I.value):l(I.value).then(h,x)}v((i=i.apply(k,e||[])).next())})};class me{constructor(e,r=500,i){this.reader=e,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ce(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of e){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const c=i.deviceId||i.id,d=i.label||`Video device ${r.length+1}`,h=i.groupId,x={deviceId:c,label:d,kind:l,groupId:h};r.push(x)}return r})}getVideoInputDevices(){return ce(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new K(r.deviceId,r.label))})}findDeviceById(e){return ce(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return ce(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return ce(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(e,r){return ce(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(e,r){return ce(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,r,i){return ce(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,i)})}decodeFromVideoDevice(e,r,i){return ce(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,r,i)})}decodeFromConstraints(e,r,i){return ce(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,r,i)})}decodeFromStream(e,r,i){return ce(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return ce(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((r,i)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ce(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const i=document.getElementById(e);if(!i)throw new T(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new T(`element with id '${e}' must be an ${r} element`);return i}decodeFromImage(e,r){if(!e&&!r)throw new T("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new T("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,i){if(e===void 0&&r===void 0)throw new T("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new T("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(e){if(!e)throw new T("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=e,i}decodeFromVideoUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=e,i}decodeFromVideoUrlContinuously(e,r){if(!e)throw new T("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,r);return i.src=e,l}_decodeOnLoadImage(e){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ce(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return ce(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,i=!0){this._stopAsyncDecode=!1;const l=(c,d)=>{if(this._stopAsyncDecode){d(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);c(h)}catch(h){const x=r&&h instanceof W,I=(h instanceof L||h instanceof q)&&i;if(x||I)return setTimeout(l,this._timeBetweenDecodingAttempts,c,d);d(h)}};return new Promise((c,d)=>l(c,d))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);r(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){r(null,l);const c=l instanceof L||l instanceof q,d=l instanceof W;(c||d)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,i){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),i=new pe(r),l=new ue(i);return new O(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),r.style.width=i+"px",r.style.height=l+"px",r.width=i,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ne{constructor(e,r,i=r==null?0:8*r.length,l,c,d=j.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=i,this.resultPoints=l,this.format=c,this.timestamp=d,this.text=e,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=l,this.format=c,this.resultMetadata=null,d==null?this.timestamp=j.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(r.length+e.length);j.arraycopy(r,0,i,0,r.length),j.arraycopy(e,0,i,r.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var be=Ve,Ke;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ke||(Ke={}));var De=Ke;class at{constructor(e,r,i,l,c=-1,d=-1){this.rawBytes=e,this.text=r,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=d,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Rt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new S;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class Pt{constructor(e,r){if(r.length===0)throw new S;this.field=e;const i=r.length;if(i>1&&r[0]===0){let l=1;for(;l<i&&r[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),j.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(e===1){i=0;for(let d=0,h=r.length;d!==h;d++){const x=r[d];i=Rt.addOrSubtract(i,x)}return i}i=r[0];const l=r.length,c=this.field;for(let d=1;d<l;d++)i=Rt.addOrSubtract(c.multiply(e,i),r[d]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){const d=r;r=i,i=d}let l=new Int32Array(i.length);const c=i.length-r.length;j.arraycopy(i,0,l,0,c);for(let d=c;d<i.length;d++)l[d]=Rt.addOrSubtract(r[d-c],i[d]);return new Pt(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,l=e.coefficients,c=l.length,d=new Int32Array(i+c-1),h=this.field;for(let x=0;x<i;x++){const v=r[x];for(let I=0;I<c;I++)d[x+I]=Rt.addOrSubtract(d[x+I],h.multiply(v,l[I]))}return new Pt(h,d)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,i=this.field,l=new Int32Array(r),c=this.coefficients;for(let d=0;d<r;d++)l[d]=i.multiply(c[d],e);return new Pt(i,l)}multiplyByMonomial(e,r){if(e<0)throw new S;if(r===0)return this.field.getZero();const i=this.coefficients,l=i.length,c=new Int32Array(l+e),d=this.field;for(let h=0;h<l;h++)c[h]=d.multiply(i[h],r);return new Pt(d,c)}divide(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new S("Divide by 0");const r=this.field;let i=r.getZero(),l=this;const c=e.getCoefficient(e.getDegree()),d=r.inverse(c);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const h=l.getDegree()-e.getDegree(),x=r.multiply(l.getCoefficient(l.getDegree()),d),v=e.multiplyByMonomial(h,x),I=r.buildMonomial(h,x);i=i.addOrSubtract(I),l=l.addOrSubtract(v)}return[i,l]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),r===0||i!==1){const l=this.field.log(i);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class En extends E{}En.kind="ArithmeticException";class mt extends Rt{constructor(e,r,i){super(),this.primitive=e,this.size=r,this.generatorBase=i;const l=new Int32Array(r);let c=1;for(let h=0;h<r;h++)l[h]=c,c*=2,c>=r&&(c^=e,c&=r-1);this.expTable=l;const d=new Int32Array(r);for(let h=0;h<r-1;h++)d[l[h]]=h;this.logTable=d,this.zero=new Pt(this,Int32Array.from([0])),this.one=new Pt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new S;if(r===0)return this.zero;const i=new Int32Array(e+1);return i[0]=r,new Pt(this,i)}inverse(e){if(e===0)throw new En;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}mt.AZTEC_DATA_12=new mt(4201,4096,1),mt.AZTEC_DATA_10=new mt(1033,1024,1),mt.AZTEC_DATA_6=new mt(67,64,1),mt.AZTEC_PARAM=new mt(19,16,1),mt.QR_CODE_FIELD_256=new mt(285,256,0),mt.DATA_MATRIX_FIELD_256=new mt(301,256,1),mt.AZTEC_DATA_8=mt.DATA_MATRIX_FIELD_256,mt.MAXICODE_FIELD_64=mt.AZTEC_DATA_6;class hr extends E{}hr.kind="ReedSolomonException";class sr extends E{}sr.kind="IllegalStateException";class es{constructor(e){this.field=e}decode(e,r){const i=this.field,l=new Pt(i,e),c=new Int32Array(r);let d=!0;for(let B=0;B<r;B++){const H=l.evaluateAt(i.exp(B+i.getGeneratorBase()));c[c.length-1-B]=H,H!==0&&(d=!1)}if(d)return;const h=new Pt(i,c),x=this.runEuclideanAlgorithm(i.buildMonomial(r,1),h,r),v=x[0],I=x[1],R=this.findErrorLocations(v),P=this.findErrorMagnitudes(I,R);for(let B=0;B<R.length;B++){const H=e.length-1-i.log(R[B]);if(H<0)throw new hr("Bad error location");e[H]=mt.addOrSubtract(e[H],P[B])}}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){const B=e;e=r,r=B}const l=this.field;let c=e,d=r,h=l.getZero(),x=l.getOne();for(;d.getDegree()>=(i/2|0);){let B=c,H=h;if(c=d,h=x,c.isZero())throw new hr("r_{i-1} was zero");d=B;let Y=l.getZero();const J=c.getCoefficient(c.getDegree()),oe=l.inverse(J);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){const Se=d.getDegree()-c.getDegree(),Te=l.multiply(d.getCoefficient(d.getDegree()),oe);Y=Y.addOrSubtract(l.buildMonomial(Se,Te)),d=d.addOrSubtract(c.multiplyByMonomial(Se,Te))}if(x=Y.multiply(h).addOrSubtract(H),d.getDegree()>=c.getDegree())throw new sr("Division algorithm failed to reduce polynomial?")}const v=x.getCoefficient(0);if(v===0)throw new hr("sigmaTilde(0) was zero");const I=l.inverse(v),R=x.multiplyScalar(I),P=d.multiplyScalar(I);return[R,P]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(r);let l=0;const c=this.field;for(let d=1;d<c.getSize()&&l<r;d++)e.evaluateAt(d)===0&&(i[l]=c.inverse(d),l++);if(l!==r)throw new hr("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,r){const i=r.length,l=new Int32Array(i),c=this.field;for(let d=0;d<i;d++){const h=c.inverse(r[d]);let x=1;for(let v=0;v<i;v++)if(d!==v){const I=c.multiply(r[v],h),R=(I&1)===0?I|1:I&-2;x=c.multiply(x,R)}l[d]=c.multiply(e.evaluateAt(h),c.inverse(x)),c.getGeneratorBase()!==0&&(l[d]=c.multiply(l[d],h))}return l}}var Bt;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Bt||(Bt={}));class St{decode(e){this.ddata=e;let r=e.getBits(),i=this.extractBits(r),l=this.correctBits(i),c=St.convertBoolArrayToByteArray(l),d=St.getEncodedData(l),h=new at(c,d,null,null);return h.setNumBits(l.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,i=Bt.UPPER,l=Bt.UPPER,c="",d=0;for(;d<r;)if(l===Bt.BINARY){if(r-d<5)break;let h=St.readCode(e,d,5);if(d+=5,h===0){if(r-d<11)break;h=St.readCode(e,d,11)+31,d+=11}for(let x=0;x<h;x++){if(r-d<8){d=r;break}const v=St.readCode(e,d,8);c+=we.castAsNonUtf8Char(v),d+=8}l=i}else{let h=l===Bt.DIGIT?4:5;if(r-d<h)break;let x=St.readCode(e,d,h);d+=h;let v=St.getCharacter(l,x);v.startsWith("CTRL_")?(i=l,l=St.getTable(v.charAt(5)),v.charAt(6)==="L"&&(i=l)):(c+=v,l=i)}return c}static getTable(e){switch(e){case"L":return Bt.LOWER;case"P":return Bt.PUNCT;case"M":return Bt.MIXED;case"D":return Bt.DIGIT;case"B":return Bt.BINARY;case"U":default:return Bt.UPPER}}static getCharacter(e,r){switch(e){case Bt.UPPER:return St.UPPER_TABLE[r];case Bt.LOWER:return St.LOWER_TABLE[r];case Bt.MIXED:return St.MIXED_TABLE[r];case Bt.PUNCT:return St.PUNCT_TABLE[r];case Bt.DIGIT:return St.DIGIT_TABLE[r];default:throw new sr("Bad table")}}correctBits(e){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=mt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=mt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=mt.AZTEC_DATA_10):(i=12,r=mt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=e.length/i;if(c<l)throw new q;let d=e.length%i,h=new Int32Array(c);for(let P=0;P<c;P++,d+=i)h[P]=St.readCode(e,d,i);try{new es(r).decode(h,c-l)}catch(P){throw new q(P)}let x=(1<<i)-1,v=0;for(let P=0;P<l;P++){let B=h[P];if(B===0||B===x)throw new q;(B===1||B===x-1)&&v++}let I=new Array(l*i-v),R=0;for(let P=0;P<l;P++){let B=h[P];if(B===1||B===x-1)I.fill(B>1,R,R+i-1),R+=i-1;else for(let H=i-1;H>=0;--H)I[R++]=(B&1<<H)!==0}return I}extractBits(e){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(r?11:14)+i*4,c=new Int32Array(l),d=new Array(this.totalBitsInLayer(i,r));if(r)for(let h=0;h<c.length;h++)c[h]=h;else{let h=l+1+2*G.truncDivision(G.truncDivision(l,2)-1,15),x=l/2,v=G.truncDivision(h,2);for(let I=0;I<x;I++){let R=I+G.truncDivision(I,15);c[x-I-1]=v-R-1,c[x+I]=v+R+1}}for(let h=0,x=0;h<i;h++){let v=(i-h)*4+(r?9:12),I=h*2,R=l-1-I;for(let P=0;P<v;P++){let B=P*2;for(let H=0;H<2;H++)d[x+B+H]=e.get(c[I+H],c[I+P]),d[x+2*v+B+H]=e.get(c[I+P],c[R-H]),d[x+4*v+B+H]=e.get(c[R-H],c[R-P]),d[x+6*v+B+H]=e.get(c[R-P],c[I+H])}x+=v*8}return d}static readCode(e,r,i){let l=0;for(let c=r;c<r+i;c++)l<<=1,e[c]&&(l|=1);return l}static readByte(e,r){let i=e.length-r;return i>=8?St.readCode(e,r,8):St.readCode(e,r,i)<<8-i}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let i=0;i<r.length;i++)r[i]=St.readByte(e,8*i);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class tt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,i,l){const c=e-i,d=r-l;return Math.sqrt(c*c+d*d)}static sum(e){let r=0;for(let i=0,l=e.length;i!==l;i++){const c=e[i];r+=c}return r}}class Br{static floatToIntBits(e){return e}}Br.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Le{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Le){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Br.floatToIntBits(this.x)+Br.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let c,d,h;if(i>=r&&i>=l?(d=e[0],c=e[1],h=e[2]):l>=i&&l>=r?(d=e[1],c=e[0],h=e[2]):(d=e[2],c=e[0],h=e[1]),this.crossProductZ(c,d,h)<0){const x=c;c=h,h=x}e[0]=c,e[1]=d,e[2]=h}static distance(e,r){return tt.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,i){const l=r.x,c=r.y;return(i.x-l)*(e.y-c)-(i.y-c)*(e.x-l)}}class an{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class jr extends an{constructor(e,r,i,l,c){super(e,r),this.compact=i,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mr{constructor(e,r,i,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=mr.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const c=r/2|0;if(this.leftInit=i-c,this.rightInit=i+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let e=this.leftInit,r=this.rightInit,i=this.upInit,l=this.downInit,c=!1,d=!0,h=!1,x=!1,v=!1,I=!1,R=!1;const P=this.width,B=this.height;for(;d;){d=!1;let H=!0;for(;(H||!x)&&r<P;)H=this.containsBlackPoint(i,l,r,!1),H?(r++,d=!0,x=!0):x||r++;if(r>=P){c=!0;break}let Y=!0;for(;(Y||!v)&&l<B;)Y=this.containsBlackPoint(e,r,l,!0),Y?(l++,d=!0,v=!0):v||l++;if(l>=B){c=!0;break}let J=!0;for(;(J||!I)&&e>=0;)J=this.containsBlackPoint(i,l,e,!1),J?(e--,d=!0,I=!0):I||e--;if(e<0){c=!0;break}let oe=!0;for(;(oe||!R)&&i>=0;)oe=this.containsBlackPoint(e,r,i,!0),oe?(i--,d=!0,R=!0):R||i--;if(i<0){c=!0;break}d&&(h=!0)}if(!c&&h){const H=r-e;let Y=null;for(let Te=1;Y===null&&Te<H;Te++)Y=this.getBlackPointOnSegment(e,l-Te,e+Te,l);if(Y==null)throw new W;let J=null;for(let Te=1;J===null&&Te<H;Te++)J=this.getBlackPointOnSegment(e,i+Te,e+Te,i);if(J==null)throw new W;let oe=null;for(let Te=1;oe===null&&Te<H;Te++)oe=this.getBlackPointOnSegment(r,i+Te,r-Te,i);if(oe==null)throw new W;let Se=null;for(let Te=1;Se===null&&Te<H;Te++)Se=this.getBlackPointOnSegment(r,l-Te,r-Te,l);if(Se==null)throw new W;return this.centerEdges(Se,Y,oe,J)}else throw new W}getBlackPointOnSegment(e,r,i,l){const c=tt.round(tt.distance(e,r,i,l)),d=(i-e)/c,h=(l-r)/c,x=this.image;for(let v=0;v<c;v++){const I=tt.round(e+v*d),R=tt.round(r+v*h);if(x.get(I,R))return new Le(I,R)}return null}centerEdges(e,r,i,l){const c=e.getX(),d=e.getY(),h=r.getX(),x=r.getY(),v=i.getX(),I=i.getY(),R=l.getX(),P=l.getY(),B=mr.CORR;return c<this.width/2?[new Le(R-B,P+B),new Le(h+B,x+B),new Le(v-B,I-B),new Le(c+B,d-B)]:[new Le(R+B,P+B),new Le(h+B,x-B),new Le(v-B,I+B),new Le(c-B,d-B)]}containsBlackPoint(e,r,i,l){const c=this.image;if(l){for(let d=e;d<=r;d++)if(c.get(d,i))return!0}else for(let d=e;d<=r;d++)if(c.get(i,d))return!0;return!1}}mr.INIT_SIZE=10,mr.CORR=1;class Ws{static checkAndNudgePoints(e,r){const i=e.getWidth(),l=e.getHeight();let c=!0;for(let d=0;d<r.length&&c;d+=2){const h=Math.floor(r[d]),x=Math.floor(r[d+1]);if(h<-1||h>i||x<-1||x>l)throw new W;c=!1,h===-1?(r[d]=0,c=!0):h===i&&(r[d]=i-1,c=!0),x===-1?(r[d+1]=0,c=!0):x===l&&(r[d+1]=l-1,c=!0)}c=!0;for(let d=r.length-2;d>=0&&c;d-=2){const h=Math.floor(r[d]),x=Math.floor(r[d+1]);if(h<-1||h>i||x<-1||x>l)throw new W;c=!1,h===-1?(r[d]=0,c=!0):h===i&&(r[d]=i-1,c=!0),x===-1?(r[d+1]=0,c=!0):x===l&&(r[d+1]=l-1,c=!0)}}}class bn{constructor(e,r,i,l,c,d,h,x,v){this.a11=e,this.a21=r,this.a31=i,this.a12=l,this.a22=c,this.a32=d,this.a13=h,this.a23=x,this.a33=v}static quadrilateralToQuadrilateral(e,r,i,l,c,d,h,x,v,I,R,P,B,H,Y,J){const oe=bn.quadrilateralToSquare(e,r,i,l,c,d,h,x);return bn.squareToQuadrilateral(v,I,R,P,B,H,Y,J).times(oe)}transformPoints(e){const r=e.length,i=this.a11,l=this.a12,c=this.a13,d=this.a21,h=this.a22,x=this.a23,v=this.a31,I=this.a32,R=this.a33;for(let P=0;P<r;P+=2){const B=e[P],H=e[P+1],Y=c*B+x*H+R;e[P]=(i*B+d*H+v)/Y,e[P+1]=(l*B+h*H+I)/Y}}transformPointsWithValues(e,r){const i=this.a11,l=this.a12,c=this.a13,d=this.a21,h=this.a22,x=this.a23,v=this.a31,I=this.a32,R=this.a33,P=e.length;for(let B=0;B<P;B++){const H=e[B],Y=r[B],J=c*H+x*Y+R;e[B]=(i*H+d*Y+v)/J,r[B]=(l*H+h*Y+I)/J}}static squareToQuadrilateral(e,r,i,l,c,d,h,x){const v=e-i+c-h,I=r-l+d-x;if(v===0&&I===0)return new bn(i-e,c-i,e,l-r,d-l,r,0,0,1);{const R=i-c,P=h-c,B=l-d,H=x-d,Y=R*H-P*B,J=(v*H-P*I)/Y,oe=(R*I-v*B)/Y;return new bn(i-e+J*i,h-e+oe*h,e,l-r+J*l,x-r+oe*x,r,J,oe,1)}}static quadrilateralToSquare(e,r,i,l,c,d,h,x){return bn.squareToQuadrilateral(e,r,i,l,c,d,h,x).buildAdjoint()}buildAdjoint(){return new bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new bn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Gs extends Ws{sampleGrid(e,r,i,l,c,d,h,x,v,I,R,P,B,H,Y,J,oe,Se,Te){const Ce=bn.quadrilateralToQuadrilateral(l,c,d,h,x,v,I,R,P,B,H,Y,J,oe,Se,Te);return this.sampleGridWithTransform(e,r,i,Ce)}sampleGridWithTransform(e,r,i,l){if(r<=0||i<=0)throw new W;const c=new Pe(r,i),d=new Float32Array(2*r);for(let h=0;h<i;h++){const x=d.length,v=h+.5;for(let I=0;I<x;I+=2)d[I]=I/2+.5,d[I+1]=v;l.transformPoints(d),Ws.checkAndNudgePoints(e,d);try{for(let I=0;I<x;I+=2)e.get(Math.floor(d[I]),Math.floor(d[I+1]))&&c.set(I/2,h)}catch{throw new W}}return c}}class Kn{static setGridSampler(e){Kn.gridSampler=e}static getInstance(){return Kn.gridSampler}}Kn.gridSampler=new Gs;class ln{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new Le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ir{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(e){let d=i[0];i[0]=i[2],i[2]=d}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),c=this.getMatrixCornerPoints(i);return new jr(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new W;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(i,r);let l=0;for(let d=0;d<4;d++){let h=i[(this.shift+d)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,r){let i=0;e.forEach((l,c,d)=>{let h=(l>>r-2<<1)+(l&1);i=(i<<3)+h}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(G.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new W}getCorrectedParameterData(e,r){let i,l;r?(i=7,l=2):(i=10,l=4);let c=i-l,d=new Int32Array(i);for(let x=i-1;x>=0;--x)d[x]=e&15,e>>=4;try{new es(mt.AZTEC_PARAM).decode(d,c)}catch{throw new W}let h=0;for(let x=0;x<l;x++)h=(h<<4)+d[x];return h}getBullsEyeCorners(e){let r=e,i=e,l=e,c=e,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let R=this.getFirstDifferent(r,d,1,-1),P=this.getFirstDifferent(i,d,1,1),B=this.getFirstDifferent(l,d,-1,1),H=this.getFirstDifferent(c,d,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(H,R)*this.nbCenterLayers/(this.distancePoint(c,r)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(R,P,B,H))break}r=R,i=P,l=B,c=H,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let h=new Le(r.getX()+.5,r.getY()-.5),x=new Le(i.getX()+.5,i.getY()+.5),v=new Le(l.getX()-.5,l.getY()+.5),I=new Le(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,x,v,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,i,l;try{let h=new mr(this.image).detect();e=h[0],r=h[1],i=h[2],l=h[3]}catch{let x=this.image.getWidth()/2,v=this.image.getHeight()/2;e=this.getFirstDifferent(new ln(x+7,v-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ln(x+7,v+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new ln(x-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ln(x-7,v-7),!1,-1,-1).toResultPoint()}let c=tt.round((e.getX()+l.getX()+r.getX()+i.getX())/4),d=tt.round((e.getY()+l.getY()+r.getY()+i.getY())/4);try{let h=new mr(this.image,15,c,d).detect();e=h[0],r=h[1],i=h[2],l=h[3]}catch{e=this.getFirstDifferent(new ln(c+7,d-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ln(c+7,d+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new ln(c-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ln(c-7,d-7),!1,-1,-1).toResultPoint()}return c=tt.round((e.getX()+l.getX()+r.getX()+i.getX())/4),d=tt.round((e.getY()+l.getY()+r.getY()+i.getY())/4),new ln(c,d)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,i,l,c){let d=Kn.getInstance(),h=this.getDimension(),x=h/2-this.nbCenterLayers,v=h/2+this.nbCenterLayers;return d.sampleGrid(e,h,h,x,x,v,x,v,v,x,v,r.getX(),r.getY(),i.getX(),i.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(e,r,i){let l=0,c=this.distanceResultPoint(e,r),d=c/i,h=e.getX(),x=e.getY(),v=d*(r.getX()-e.getX())/c,I=d*(r.getY()-e.getY())/c;for(let R=0;R<i;R++)this.image.get(tt.round(h+R*v),tt.round(x+R*I))&&(l|=1<<i-R-1);return l}isWhiteOrBlackRectangle(e,r,i,l){let c=3;e=new ln(e.getX()-c,e.getY()+c),r=new ln(r.getX()-c,r.getY()-c),i=new ln(i.getX()+c,i.getY()-c),l=new ln(l.getX()+c,l.getY()+c);let d=this.getColor(l,e);if(d===0)return!1;let h=this.getColor(e,r);return h!==d||(h=this.getColor(r,i),h!==d)?!1:(h=this.getColor(i,l),h===d)}getColor(e,r){let i=this.distancePoint(e,r),l=(r.getX()-e.getX())/i,c=(r.getY()-e.getY())/i,d=0,h=e.getX(),x=e.getY(),v=this.image.get(e.getX(),e.getY()),I=Math.ceil(i);for(let P=0;P<I;P++)h+=l,x+=c,this.image.get(tt.round(h),tt.round(x))!==v&&d++;let R=d/i;return R>.1&&R<.9?0:R<=.1===v?1:-1}getFirstDifferent(e,r,i,l){let c=e.getX()+i,d=e.getY()+l;for(;this.isValid(c,d)&&this.image.get(c,d)===r;)c+=i,d+=l;for(c-=i,d-=l;this.isValid(c,d)&&this.image.get(c,d)===r;)c+=i;for(c-=i;this.isValid(c,d)&&this.image.get(c,d)===r;)d+=l;return d-=l,new ln(c,d)}expandSquare(e,r,i){let l=i/(2*r),c=e[0].getX()-e[2].getX(),d=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,x=(e[0].getY()+e[2].getY())/2,v=new Le(h+l*c,x+l*d),I=new Le(h-l*c,x-l*d);c=e[1].getX()-e[3].getX(),d=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,x=(e[1].getY()+e[3].getY())/2;let R=new Le(h+l*c,x+l*d),P=new Le(h-l*c,x-l*d);return[v,R,I,P]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=tt.round(e.getX()),i=tt.round(e.getY());return this.isValid(r,i)}distancePoint(e,r){return tt.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return tt.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15}}class Sr{decode(e,r=null){let i=null,l=new ir(e.getBlackMatrix()),c=null,d=null;try{let I=l.detectMirror(!1);c=I.getPoints(),this.reportFoundResultPoints(r,c),d=new St().decode(I)}catch(I){i=I}if(d==null)try{let I=l.detectMirror(!0);c=I.getPoints(),this.reportFoundResultPoints(r,c),d=new St().decode(I)}catch(I){throw i??I}let h=new Ne(d.getText(),d.getRawBytes(),d.getNumBits(),c,be.AZTEC,j.currentTimeMillis()),x=d.getByteSegments();x!=null&&h.putMetadata(De.BYTE_SEGMENTS,x);let v=d.getECLevel();return v!=null&&h.putMetadata(De.ERROR_CORRECTION_LEVEL,v),h}reportFoundResultPoints(e,r){if(e!=null){let i=e.get(de.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((l,c,d)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class fs extends me{constructor(e=500){super(new Sr,e)}}class Wt{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(de.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),d=this.doDecode(c,r),h=d.getResultMetadata();let x=270;h!==null&&h.get(De.ORIENTATION)===!0&&(x=x+h.get(De.ORIENTATION)%360),d.putMetadata(De.ORIENTATION,x);const v=d.getResultPoints();if(v!==null){const I=c.getHeight();for(let R=0;R<v.length;R++)v[R]=new Le(I-v[R].getY()-1,v[R].getX())}return d}else throw new W}}reset(){}doDecode(e,r){const i=e.getWidth(),l=e.getHeight();let c=new re(i);const d=r&&r.get(de.TRY_HARDER)===!0,h=Math.max(1,l>>(d?8:5));let x;d?x=l:x=15;const v=Math.trunc(l/2);for(let I=0;I<x;I++){const R=Math.trunc((I+1)/2),P=(I&1)===0,B=v+h*(P?R:-R);if(B<0||B>=l)break;try{c=e.getBlackRow(B,c)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(c.reverse(),r&&r.get(de.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;r.forEach((J,oe)=>Y.set(oe,J)),Y.delete(de.NEED_RESULT_POINT_CALLBACK),r=Y}try{const Y=this.decodeRow(B,c,r);if(H===1){Y.putMetadata(De.ORIENTATION,180);const J=Y.getResultPoints();J!==null&&(J[0]=new Le(i-J[0].getX()-1,J[0].getY()),J[1]=new Le(i-J[1].getX()-1,J[1].getY()))}return Y}catch{}}}throw new W}static recordPattern(e,r,i){const l=i.length;for(let v=0;v<l;v++)i[v]=0;const c=e.getSize();if(r>=c)throw new W;let d=!e.get(r),h=0,x=r;for(;x<c;){if(e.get(x)!==d)i[h]++;else{if(++h===l)break;i[h]=1,d=!d}x++}if(!(h===l||h===l-1&&x===c))throw new W}static recordPatternInReverse(e,r,i){let l=i.length,c=e.get(r);for(;r>0&&l>=0;)e.get(--r)!==c&&(l--,c=!c);if(l>=0)throw new W;Wt.recordPattern(e,r+1,i)}static patternMatchVariance(e,r,i){const l=e.length;let c=0,d=0;for(let v=0;v<l;v++)c+=e[v],d+=r[v];if(c<d)return Number.POSITIVE_INFINITY;const h=c/d;i*=h;let x=0;for(let v=0;v<l;v++){const I=e[v],R=r[v]*h,P=I>R?I-R:R-I;if(P>i)return Number.POSITIVE_INFINITY;x+=P}return x/c}}class Re extends Wt{static findStartPattern(e){const r=e.getSize(),i=e.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),d=i,h=!1;const x=6;for(let v=i;v<r;v++)if(e.get(v)!==h)c[l]++;else{if(l===x-1){let I=Re.MAX_AVG_VARIANCE,R=-1;for(let P=Re.CODE_START_A;P<=Re.CODE_START_C;P++){const B=Wt.patternMatchVariance(c,Re.CODE_PATTERNS[P],Re.MAX_INDIVIDUAL_VARIANCE);B<I&&(I=B,R=P)}if(R>=0&&e.isRange(Math.max(0,d-(v-d)/2),d,!1))return Int32Array.from([d,v,R]);d+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,h=!h}throw new W}static decodeCode(e,r,i){Wt.recordPattern(e,i,r);let l=Re.MAX_AVG_VARIANCE,c=-1;for(let d=0;d<Re.CODE_PATTERNS.length;d++){const h=Re.CODE_PATTERNS[d],x=this.patternMatchVariance(r,h,Re.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,c=d)}if(c>=0)return c;throw new W}decodeRow(e,r,i){const l=i&&i.get(de.ASSUME_GS1)===!0,c=Re.findStartPattern(r),d=c[2];let h=0;const x=new Uint8Array(20);x[h++]=d;let v;switch(d){case Re.CODE_START_A:v=Re.CODE_CODE_A;break;case Re.CODE_START_B:v=Re.CODE_CODE_B;break;case Re.CODE_START_C:v=Re.CODE_CODE_C;break;default:throw new q}let I=!1,R=!1,P="",B=c[0],H=c[1];const Y=Int32Array.from([0,0,0,0,0,0]);let J=0,oe=0,Se=d,Te=0,Ce=!0,ft=!1,it=!1;for(;!I;){const ss=R;switch(R=!1,J=oe,oe=Re.decodeCode(r,Y,H),x[h++]=oe,oe!==Re.CODE_STOP&&(Ce=!0),oe!==Re.CODE_STOP&&(Te++,Se+=Te*oe),B=H,H+=Y.reduce((si,Ca)=>si+Ca,0),oe){case Re.CODE_START_A:case Re.CODE_START_B:case Re.CODE_START_C:throw new q}switch(v){case Re.CODE_CODE_A:if(oe<64)it===ft?P+=String.fromCharCode(32+oe):P+=String.fromCharCode(32+oe+128),it=!1;else if(oe<96)it===ft?P+=String.fromCharCode(oe-64):P+=String.fromCharCode(oe+64),it=!1;else switch(oe!==Re.CODE_STOP&&(Ce=!1),oe){case Re.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case Re.CODE_FNC_2:case Re.CODE_FNC_3:break;case Re.CODE_FNC_4_A:!ft&&it?(ft=!0,it=!1):ft&&it?(ft=!1,it=!1):it=!0;break;case Re.CODE_SHIFT:R=!0,v=Re.CODE_CODE_B;break;case Re.CODE_CODE_B:v=Re.CODE_CODE_B;break;case Re.CODE_CODE_C:v=Re.CODE_CODE_C;break;case Re.CODE_STOP:I=!0;break}break;case Re.CODE_CODE_B:if(oe<96)it===ft?P+=String.fromCharCode(32+oe):P+=String.fromCharCode(32+oe+128),it=!1;else switch(oe!==Re.CODE_STOP&&(Ce=!1),oe){case Re.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case Re.CODE_FNC_2:case Re.CODE_FNC_3:break;case Re.CODE_FNC_4_B:!ft&&it?(ft=!0,it=!1):ft&&it?(ft=!1,it=!1):it=!0;break;case Re.CODE_SHIFT:R=!0,v=Re.CODE_CODE_A;break;case Re.CODE_CODE_A:v=Re.CODE_CODE_A;break;case Re.CODE_CODE_C:v=Re.CODE_CODE_C;break;case Re.CODE_STOP:I=!0;break}break;case Re.CODE_CODE_C:if(oe<100)oe<10&&(P+="0"),P+=oe;else switch(oe!==Re.CODE_STOP&&(Ce=!1),oe){case Re.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case Re.CODE_CODE_A:v=Re.CODE_CODE_A;break;case Re.CODE_CODE_B:v=Re.CODE_CODE_B;break;case Re.CODE_STOP:I=!0;break}break}ss&&(v=v===Re.CODE_CODE_A?Re.CODE_CODE_B:Re.CODE_CODE_A)}const Qn=H-B;if(H=r.getNextUnset(H),!r.isRange(H,Math.min(r.getSize(),H+(H-B)/2),!1))throw new W;if(Se-=Te*J,Se%103!==J)throw new L;const Or=P.length;if(Or===0)throw new W;Or>0&&Ce&&(v===Re.CODE_CODE_C?P=P.substring(0,Or-2):P=P.substring(0,Or-1));const pn=(c[1]+c[0])/2,Tt=B+Qn/2,nn=x.length,Wn=new Uint8Array(nn);for(let ss=0;ss<nn;ss++)Wn[ss]=x[ss];const _s=[new Le(pn,e),new Le(Tt,e)];return new Ne(P,Wn,0,_s,be.CODE_128,new Date().getTime())}}Re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Re.MAX_AVG_VARIANCE=.25,Re.MAX_INDIVIDUAL_VARIANCE=.7,Re.CODE_SHIFT=98,Re.CODE_CODE_C=99,Re.CODE_CODE_B=100,Re.CODE_CODE_A=101,Re.CODE_FNC_1=102,Re.CODE_FNC_2=97,Re.CODE_FNC_3=96,Re.CODE_FNC_4_A=101,Re.CODE_FNC_4_B=100,Re.CODE_START_A=103,Re.CODE_START_B=104,Re.CODE_START_C=105,Re.CODE_STOP=106;class qt extends Wt{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=qt.findAsteriskPattern(r,l),d=r.getNextSet(c[1]),h=r.getSize(),x,v;do{qt.recordPattern(r,d,l);let Y=qt.toNarrowWidePattern(l);if(Y<0)throw new W;x=qt.patternToChar(Y),this.decodeRowResult+=x,v=d;for(let J of l)d+=J;d=r.getNextSet(d)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let Y of l)I+=Y;let R=d-v-I;if(d!==h&&R*2<I)throw new W;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,J=0;for(let oe=0;oe<Y;oe++)J+=qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(oe));if(this.decodeRowResult.charAt(Y)!==qt.ALPHABET_STRING.charAt(J%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new W;let P;this.extendedMode?P=qt.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let B=(c[1]+c[0])/2,H=v+I/2;return new Ne(P,null,0,[new Le(B,e),new Le(H,e)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let i=e.getSize(),l=e.getNextSet(0),c=0,d=l,h=!1,x=r.length;for(let v=l;v<i;v++)if(e.get(v)!==h)r[c]++;else{if(c===x-1){if(this.toNarrowWidePattern(r)===qt.ASTERISK_ENCODING&&e.isRange(Math.max(0,d-Math.floor((v-d)/2)),d,!1))return[d,v];d+=r[0]+r[1],r.copyWithin(0,2,2+c-1),r[c-1]=0,r[c]=0,c--}else c++;r[c]=1,h=!h}throw new W}static toNarrowWidePattern(e){let r=e.length,i=0,l;do{let c=2147483647;for(let x of e)x<c&&x>i&&(c=x);i=c,l=0;let d=0,h=0;for(let x=0;x<r;x++){let v=e[x];v>i&&(h|=1<<r-1-x,l++,d+=v)}if(l===3){for(let x=0;x<r&&l>0;x++){let v=e[x];if(v>i&&(l--,v*2>=d))return-1}return h}}while(l>3);return-1}static patternToChar(e){for(let r=0;r<qt.CHARACTER_ENCODINGS.length;r++)if(qt.CHARACTER_ENCODINGS[r]===e)return qt.ALPHABET_STRING.charAt(r);if(e===qt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(e){let r=e.length,i="";for(let l=0;l<r;l++){let c=e.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let d=e.charAt(l+1),h="\0";switch(c){case"+":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)+32);else throw new q;break;case"$":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)-64);else throw new q;break;case"%":if(d>="A"&&d<="E")h=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")h=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")h=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")h="\0";else if(d==="V")h="@";else if(d==="W")h="`";else if(d==="X"||d==="Y"||d==="Z")h="";else throw new q;break;case"/":if(d>="A"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")h=":";else throw new q;break}i+=h,l++}else i+=c}return i}}qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],qt.ASTERISK_ENCODING=148;class vt extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,i){let l=this.decodeStart(r),c=this.decodeEnd(r),d=new _e;vt.decodeMiddle(r,l[1],c[0],d);let h=d.toString(),x=null;i!=null&&(x=i.get(de.ALLOWED_LENGTHS)),x==null&&(x=vt.DEFAULT_ALLOWED_LENGTHS);let v=h.length,I=!1,R=0;for(let H of x){if(v===H){I=!0;break}H>R&&(R=H)}if(!I&&v>R&&(I=!0),!I)throw new q;const P=[new Le(l[1],e),new Le(c[0],e)];return new Ne(h,null,0,P,be.ITF,new Date().getTime())}static decodeMiddle(e,r,i,l){let c=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),d.fill(0),h.fill(0);r<i;){Wt.recordPattern(e,r,c);for(let v=0;v<5;v++){let I=2*v;d[v]=c[I],h[v]=c[I+1]}let x=vt.decodeDigit(d);l.append(x.toString()),x=this.decodeDigit(h),l.append(x.toString()),c.forEach(function(v){r+=v})}}decodeStart(e){let r=vt.skipWhiteSpace(e),i=vt.findGuardPattern(e,r,vt.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let l=r-1;i>0&&l>=0&&!e.get(l);l--)i--;if(i!==0)throw new W}static skipWhiteSpace(e){const r=e.getSize(),i=e.getNextSet(0);if(i===r)throw new W;return i}decodeEnd(e){e.reverse();try{let r=vt.skipWhiteSpace(e),i;try{i=vt.findGuardPattern(e,r,vt.END_PATTERN_REVERSED[0])}catch(c){c instanceof W&&(i=vt.findGuardPattern(e,r,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let l=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-l,i}finally{e.reverse()}}static findGuardPattern(e,r,i){let l=i.length,c=new Int32Array(l),d=e.getSize(),h=!1,x=0,v=r;c.fill(0);for(let I=r;I<d;I++)if(e.get(I)!==h)c[x]++;else{if(x===l-1){if(Wt.patternMatchVariance(c,i,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[v,I];v+=c[0]+c[1],j.arraycopy(c,2,c,0,x-1),c[x-1]=0,c[x]=0,x--}else x++;c[x]=1,h=!h}throw new W}static decodeDigit(e){let r=vt.MAX_AVG_VARIANCE,i=-1,l=vt.PATTERNS.length;for(let c=0;c<l;c++){let d=vt.PATTERNS[c],h=Wt.patternMatchVariance(e,d,vt.MAX_INDIVIDUAL_VARIANCE);h<r?(r=h,i=c):h===r&&(i=-1)}if(i>=0)return i%10;throw new W}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Dt extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,i,l=0,c=Int32Array.from([0,0,0]);for(;!r;){c=Int32Array.from([0,0,0]),i=Dt.findGuardPattern(e,l,!1,this.START_END_PATTERN,c);let d=i[0];l=i[1];let h=d-(l-d);h>=0&&(r=e.isRange(h,d,!1))}return i}static checkChecksum(e){return Dt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return Dt.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let l=r-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;i+=c}i*=3;for(let l=r-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;i+=c}return(1e3-i)%10}static decodeEnd(e,r){return Dt.findGuardPattern(e,r,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,i,l){return this.findGuardPattern(e,r,i,l,new Int32Array(l.length))}static findGuardPattern(e,r,i,l,c){let d=e.getSize();r=i?e.getNextUnset(r):e.getNextSet(r);let h=0,x=r,v=l.length,I=i;for(let R=r;R<d;R++)if(e.get(R)!==I)c[h]++;else{if(h===v-1){if(Wt.patternMatchVariance(c,l,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return Int32Array.from([x,R]);x+=c[0]+c[1];let P=c.slice(2,c.length-1);for(let B=0;B<h-1;B++)c[B]=P[B];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,I=!I}throw new W}static decodeDigit(e,r,i,l){this.recordPattern(e,i,r);let c=this.MAX_AVG_VARIANCE,d=-1,h=l.length;for(let x=0;x<h;x++){let v=l[x],I=Wt.patternMatchVariance(r,v,Dt.MAX_INDIVIDUAL_VARIANCE);I<c&&(c=I,d=x)}if(d>=0)return d;throw new W}}Dt.MAX_AVG_VARIANCE=.48,Dt.MAX_INDIVIDUAL_VARIANCE=.7,Dt.START_END_PATTERN=Int32Array.from([1,1,1]),Dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(r,i,l),d=l.toString(),h=Nr.parseExtensionString(d),x=[new Le((i[0]+i[1])/2,e),new Le(c,e)],v=new Ne(d,null,0,x,be.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,r,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),d=r[1],h=0;for(let v=0;v<5&&d<c;v++){let I=Dt.decodeDigit(e,l,d,Dt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+I%10);for(let R of l)d+=R;I>=10&&(h|=1<<4-v),v!==4&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(i.length!==5)throw new W;let x=this.determineCheckDigit(h);if(Nr.extensionChecksum(i.toString())!==x)throw new W;return d}static extensionChecksum(e){let r=e.length,i=0;for(let l=r-2;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;i*=3;for(let l=r-1;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(e){if(e.length!==5)return null;let r=Nr.parseExtension5String(e);return r==null?null:new Map([[De.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(e.substring(1)),l=(i/100).toString(),c=i%100,d=c<10?"0"+c:c.toString();return r+l+"."+d}}class Zn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(r,i,l),d=l.toString(),h=Zn.parseExtensionString(d),x=[new Le((i[0]+i[1])/2,e),new Le(c,e)],v=new Ne(d,null,0,x,be.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,r,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),d=r[1],h=0;for(let x=0;x<2&&d<c;x++){let v=Dt.decodeDigit(e,l,d,Dt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let I of l)d+=I;v>=10&&(h|=1<<1-x),x!==1&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(i.length!==2)throw new W;if(parseInt(i.toString())%4!==h)throw new W;return d}static parseExtensionString(e){return e.length!==2?null:new Map([[De.ISSUE_NUMBER,parseInt(e)]])}}class Xs{static decodeRow(e,r,i){let l=Dt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Nr().decodeRow(e,r,l)}catch{return new Zn().decodeRow(e,r,l)}}}Xs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends Dt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=ut.L_PATTERNS[e-10],i=new Int32Array(r.length);for(let l=0;l<r.length;l++)i[l]=r[r.length-l-1];ut.L_AND_G_PATTERNS[e]=i}}decodeRow(e,r,i){let l=ut.findStartGuardPattern(r),c=i==null?null:i.get(de.NEED_RESULT_POINT_CALLBACK);if(c!=null){const Ce=new Le((l[0]+l[1])/2,e);c.foundPossibleResultPoint(Ce)}let d=this.decodeMiddle(r,l,this.decodeRowStringBuffer),h=d.rowOffset,x=d.resultString;if(c!=null){const Ce=new Le(h,e);c.foundPossibleResultPoint(Ce)}let v=this.decodeEnd(r,h);if(c!=null){const Ce=new Le((v[0]+v[1])/2,e);c.foundPossibleResultPoint(Ce)}let I=v[1],R=I+(I-v[0]);if(R>=r.getSize()||!r.isRange(I,R,!1))throw new W;let P=x.toString();if(P.length<8)throw new q;if(!ut.checkChecksum(P))throw new L;let B=(l[1]+l[0])/2,H=(v[1]+v[0])/2,Y=this.getBarcodeFormat(),J=[new Le(B,e),new Le(H,e)],oe=new Ne(P,null,0,J,Y,new Date().getTime()),Se=0;try{let Ce=Xs.decodeRow(e,r,v[1]);oe.putMetadata(De.UPC_EAN_EXTENSION,Ce.getText()),oe.putAllMetadata(Ce.getResultMetadata()),oe.addResultPoints(Ce.getResultPoints()),Se=Ce.getText().length}catch{}let Te=i==null?null:i.get(de.ALLOWED_EAN_EXTENSIONS);if(Te!=null){let Ce=!1;for(let ft in Te)if(Se.toString()===ft){Ce=!0;break}if(!Ce)throw new W}return oe}decodeEnd(e,r){return ut.findGuardPattern(e,r,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ut.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let i=parseInt(e.charAt(r-1),10);return ut.getStandardUPCEANChecksum(e.substring(0,r-1))===i}static getStandardUPCEANChecksum(e){let r=e.length,i=0;for(let l=r-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;i+=c}i*=3;for(let l=r-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new q;i+=c}return(1e3-i)%10}}class Vn extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),d=r[1],h=0;for(let v=0;v<6&&d<c;v++){let I=ut.decodeDigit(e,l,d,ut.L_AND_G_PATTERNS);i+=String.fromCharCode(48+I%10);for(let R of l)d+=R;I>=10&&(h|=1<<5-v)}i=Vn.determineFirstDigit(i,h),d=ut.findGuardPattern(e,d,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&d<c;v++){let I=ut.decodeDigit(e,l,d,ut.L_PATTERNS);i+=String.fromCharCode(48+I);for(let R of l)d+=R}return{rowOffset:d,resultString:i}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(e,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new W}}Vn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ys extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),d=r[1];for(let x=0;x<4&&d<c;x++){let v=ut.decodeDigit(e,l,d,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let I of l)d+=I}d=ut.findGuardPattern(e,d,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&d<c;x++){let v=ut.decodeDigit(e,l,d,ut.L_PATTERNS);i+=String.fromCharCode(48+v);for(let I of l)d+=I}return{rowOffset:d,resultString:i}}getBarcodeFormat(){return be.EAN_8}}class nt extends ut{constructor(){super(...arguments),this.ean13Reader=new Vn}getBarcodeFormat(){return be.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,i))}decodeMiddle(e,r,i){return this.ean13Reader.decodeMiddle(e,r,i)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let i=new Ne(r.substring(1),null,null,e.getResultPoints(),be.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new W}reset(){this.ean13Reader.reset()}}class Ct extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,i){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=e.getSize();let d=r[1],h=0;for(let v=0;v<6&&d<c;v++){const I=Ct.decodeDigit(e,l,d,Ct.L_AND_G_PATTERNS);i+=String.fromCharCode(48+I%10);for(let R of l)d+=R;I>=10&&(h|=1<<5-v)}let x=Ct.determineNumSysAndCheckDigit(i,h);return{rowOffset:d,resultString:x}}decodeEnd(e,r){return Ct.findGuardPatternWithoutCounters(e,r,!0,Ct.MIDDLE_END_PATTERN)}checkChecksum(e){return ut.checkChecksum(Ct.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let c=String.fromCharCode(48+i),d=String.fromCharCode(48+l);return c+e+d}throw W.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),i=new _e;i.append(e.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(l),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(l);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Ct.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class en extends Wt{constructor(e){super();let r=e==null?null:e.get(de.POSSIBLE_FORMATS),i=[];u(r)?(i.push(new Vn),i.push(new nt),i.push(new Ys),i.push(new Ct)):(r.indexOf(be.EAN_13)>-1&&i.push(new Vn),r.indexOf(be.UPC_A)>-1&&i.push(new nt),r.indexOf(be.EAN_8)>-1&&i.push(new Ys),r.indexOf(be.UPC_E)>-1&&i.push(new Ct)),this.readers=i}decodeRow(e,r,i){for(let l of this.readers)try{const c=l.decodeRow(e,r,i),d=c.getBarcodeFormat()===be.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(de.POSSIBLE_FORMATS),x=h==null||h.includes(be.UPC_A);if(d&&x){const v=c.getRawBytes(),I=new Ne(c.getText().substring(1),v,v?v.length:null,c.getResultPoints(),be.UPC_A);return I.putAllMetadata(c.getResultMetadata()),I}return c}catch{}throw new W}reset(){for(let e of this.readers)e.reset()}}class Et extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let i=0;i<r.length;i++)if(Wt.patternMatchVariance(e,r[i],Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return i;throw new W}static count(e){return tt.sum(new Int32Array(e))}static increment(e,r){let i=0,l=r[0];for(let c=1;c<e.length;c++)r[c]>l&&(l=r[c],i=c);e[i]++}static decrement(e,r){let i=0,l=r[0];for(let c=1;c<e.length;c++)r[c]<l&&(l=r[c],i=c);e[i]--}static isFinderPattern(e){let r=e[0]+e[1],i=r+e[2]+e[3],l=r/i;if(l>=Et.MIN_FINDER_PATTERN_RATIO&&l<=Et.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let h of e)h>d&&(d=h),h<c&&(c=h);return d<10*c}return!1}}Et.MAX_AVG_VARIANCE=.2,Et.MAX_INDIVIDUAL_VARIANCE=.45,Et.MIN_FINDER_PATTERN_RATIO=9.5/12,Et.MAX_FINDER_PATTERN_RATIO=12.5/14;class or{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof or))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gt{constructor(e,r,i,l,c){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Le(i,c)),this.resultPoints.push(new Le(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Gt))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class _t{constructor(){}static getRSSvalue(e,r,i){let l=0;for(let x of e)l+=x;let c=0,d=0,h=e.length;for(let x=0;x<h-1;x++){let v;for(v=1,d|=1<<x;v<e[x];v++,d&=~(1<<x)){let I=_t.combins(l-v-1,h-x-2);if(i&&d===0&&l-v-(h-x-1)>=h-x-1&&(I-=_t.combins(l-v-(h-x),h-x-2)),h-x-1>1){let R=0;for(let P=l-v-(h-x-2);P>r;P--)R+=_t.combins(l-v-P-1,h-x-3);I-=R*(h-1-x)}else l-v>r&&I--;c+=I}l-=v}return c}static combins(e,r){let i,l;e-r>r?(l=r,i=e-r):(l=e-r,i=r);let c=1,d=1;for(let h=e;h>i;h--)c*=h,d<=l&&(c/=d,d++);for(;d<=l;)c/=d,d++;return c}}class hs{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let i=12*r,l=new re(i),c=0,h=e[0].getRightChar().getValue();for(let x=11;x>=0;--x)(h&1<<x)!=0&&l.set(c),c++;for(let x=1;x<e.length;++x){let v=e[x],I=v.getLeftChar().getValue();for(let R=11;R>=0;--R)(I&1<<R)!=0&&l.set(c),c++;if(v.getRightChar()!=null){let R=v.getRightChar().getValue();for(let P=11;P>=0;--P)(R&1<<P)!=0&&l.set(c),c++}}return l}}class Xt{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Un{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class tn extends Un{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===tn.FNC1}}tn.FNC1="$";class wn extends Un{constructor(e,r,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class On extends Un{constructor(e,r,i){if(super(e),r<0||r>10||i<0||i>10)throw new q;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===On.FNC1}isSecondDigitFNC1(){return this.secondDigit===On.FNC1}isAnyFNC1(){return this.firstDigit===On.FNC1||this.secondDigit===On.FNC1}}On.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new W;let r=e.substring(0,2);for(let c of Me.TWO_DIGIT_DATA_LENGTH)if(c[0]===r)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,c[2],e):Me.processFixedAI(2,c[1],e);if(e.length<3)throw new W;let i=e.substring(0,3);for(let c of Me.THREE_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,c[2],e):Me.processFixedAI(3,c[1],e);for(let c of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);if(e.length<4)throw new W;let l=e.substring(0,4);for(let c of Me.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);throw new W}static processFixedAI(e,r,i){if(i.length<e)throw new W;let l=i.substring(0,e);if(i.length<e+r)throw new W;let c=i.substring(e,e+r),d=i.substring(e+r),h="("+l+")"+c,x=Me.parseFieldsInGeneralPurpose(d);return x==null?h:h+x}static processVariableAI(e,r,i){let l=i.substring(0,e),c;i.length<e+r?c=i.length:c=e+r;let d=i.substring(e,c),h=i.substring(c),x="("+l+")"+d,v=Me.parseFieldsInGeneralPurpose(h);return v==null?x:x+v}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class Ks{constructor(e){this.buffer=new _e,this.information=e}decodeAllCodes(e,r){let i=r,l=null;do{let c=this.decodeGeneralPurposeField(i,l),d=Me.parseFieldsInGeneralPurpose(c.getNewString());if(d!=null&&e.append(d),c.isRemaining()?l=""+c.getRemainingValue():l=null,i===c.getNewPosition())break;i=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new On(this.information.getSize(),On.FNC1,On.FNC1):new On(this.information.getSize(),c-1,On.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,l=(r-8)%11;return new On(e+7,i,l)}extractNumericValueFromBitArray(e,r){return Ks.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,i){let l=0;for(let c=0;c<i;++c)e.get(r+c)&&(l|=1<<i-c-1);return l}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new wn(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new wn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new wn(this.current.getPosition(),this.buffer.toString()):r=new wn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Xt(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xt(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new tn(e+5,tn.FNC1);if(r>=5&&r<15)return new tn(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new tn(e+7,""+(i+1));if(i>=90&&i<116)return new tn(e+7,""+(i+7));let l=this.extractNumericValueFromBitArray(e,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new q}return new tn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new tn(e+5,tn.FNC1);if(r>=5&&r<15)return new tn(e+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new tn(e+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new sr("Decoding invalid alphanumeric value: "+i)}return new tn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class ia{constructor(e){this.information=e,this.generalDecoder=new Ks(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qn extends ia{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,i)}encodeCompressedGtinWithoutAI(e,r,i){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}qn.appendCheckDigit(e,i)}static appendCheckDigit(e,r){let i=0;for(let l=0;l<13;l++){let c=e.charAt(l+r).charCodeAt(0)-48;i+=(l&1)===0?3*c:c}i=10-i%10,i===10&&(i=0),e.append(i)}}qn.GTIN_SIZE=40;class gr extends qn{constructor(e){super(e)}parseInformation(){let e=new _e;e.append("(01)");let r=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(gr.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,gr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,gr.HEADER_SIZE+44)}}gr.HEADER_SIZE=4;class Ti extends ia{constructor(e){super(e)}parseInformation(){let e=new _e;return this.getGeneralDecoder().decodeAllCodes(e,Ti.HEADER_SIZE)}}Ti.HEADER_SIZE=5;class Ii extends qn{constructor(e){super(e)}encodeCompressedWeight(e,r,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(e,l);let c=this.checkWeight(l),d=1e5;for(let h=0;h<5;++h)c/d===0&&e.append("0"),d/=10;e.append(c)}}class Fr extends Ii{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Fr.HEADER_SIZE+Ii.GTIN_SIZE+Fr.WEIGHT_SIZE)throw new W;let e=new _e;return this.encodeCompressedGtin(e,Fr.HEADER_SIZE),this.encodeCompressedWeight(e,Fr.HEADER_SIZE+Ii.GTIN_SIZE,Fr.WEIGHT_SIZE),e.toString()}}Fr.HEADER_SIZE=5,Fr.WEIGHT_SIZE=15;class gl extends Fr{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class pl extends Fr{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Tr extends qn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Tr.HEADER_SIZE+qn.GTIN_SIZE)throw new W;let e=new _e;this.encodeCompressedGtin(e,Tr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+qn.GTIN_SIZE,Tr.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Tr.HEADER_SIZE+qn.GTIN_SIZE+Tr.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}Tr.HEADER_SIZE=8,Tr.LAST_DIGIT_SIZE=2;class Pn extends qn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Pn.HEADER_SIZE+qn.GTIN_SIZE)throw new W;let e=new _e;this.encodeCompressedGtin(e,Pn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+qn.GTIN_SIZE,Pn.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+qn.GTIN_SIZE+Pn.LAST_DIGIT_SIZE,Pn.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Pn.HEADER_SIZE+qn.GTIN_SIZE+Pn.LAST_DIGIT_SIZE+Pn.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Pn.HEADER_SIZE=8,Pn.LAST_DIGIT_SIZE=2,Pn.FIRST_THREE_DIGITS_SIZE=10;class Vt extends Ii{constructor(e,r,i){super(e),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Vt.HEADER_SIZE+Vt.GTIN_SIZE+Vt.WEIGHT_SIZE+Vt.DATE_SIZE)throw new W;let e=new _e;return this.encodeCompressedGtin(e,Vt.HEADER_SIZE),this.encodeCompressedWeight(e,Vt.HEADER_SIZE+Vt.GTIN_SIZE,Vt.WEIGHT_SIZE),this.encodeCompressedDate(e,Vt.HEADER_SIZE+Vt.GTIN_SIZE+Vt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Vt.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=i%32;i/=32;let c=i%12+1;i/=12;let d=i;d/10==0&&e.append("0"),e.append(d),c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}Vt.HEADER_SIZE=8,Vt.WEIGHT_SIZE=20,Vt.DATE_SIZE=16;function xl(k){try{if(k.get(1))return new gr(k);if(!k.get(2))return new Ti(k);switch(Ks.extractNumericValueFromBitArray(k,1,4)){case 4:return new gl(k);case 5:return new pl(k)}switch(Ks.extractNumericValueFromBitArray(k,1,5)){case 12:return new Tr(k);case 13:return new Pn(k)}switch(Ks.extractNumericValueFromBitArray(k,1,7)){case 56:return new Vt(k,"310","11");case 57:return new Vt(k,"320","11");case 58:return new Vt(k,"310","13");case 59:return new Vt(k,"320","13");case 60:return new Vt(k,"310","15");case 61:return new Vt(k,"320","15");case 62:return new Vt(k,"310","17");case 63:return new Vt(k,"320","17")}}catch(e){throw console.log(e),new sr("unknown decoder: "+k)}}class It{constructor(e,r,i,l){this.leftchar=e,this.rightchar=r,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof It?It.equalsOrNull(e.leftchar,r.leftchar)&&It.equalsOrNull(e.rightchar,r.rightchar)&&It.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:It.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class oa{constructor(e,r,i){this.pairs=e,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof oa?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let i;return e.forEach((l,c)=>{r.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(i=!0)})}),i}}class ye extends Et{constructor(e){super(...arguments),this.pairs=new Array(ye.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,i){this.pairs.length=0,this.startFromEven=!1;try{return ye.constructResult(this.decodeRow2pairs(e,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ye.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(c){if(c instanceof W){if(!this.pairs.length)throw new W;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new W}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let i=r;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let d of e)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!ye.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(l);try{return this.checkRows(c,i+1)}catch(d){this.verbose&&console.log(d)}}throw new W}static isValidSequence(e){for(let r of ye.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let i=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=r[l]){i=!1;break}if(i)return!0}return!1}storeRow(e,r){let i=0,l=!1,c=!1;for(;i<this.rows.length;){let d=this.rows[i];if(d.getRowNumber()>e){c=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),i++}c||l||ye.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new oa(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let i of r)if(i.getPairs().length!==e.length){for(let l of i.getPairs())for(let c of e)if(It.equals(l,c))break}}static isPartialRow(e,r){for(let i of r){let l=!0;for(let c of e){let d=!1;for(let h of i.getPairs())if(c.equals(h)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=hs.buildBitArray(e),l=xl(r).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),d=e[e.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],d[0],d[1]];return new Ne(l,null,null,h,be.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let x=this.pairs.get(h);l+=x.getLeftChar().getChecksumPortion(),c++;let v=x.getRightChar();v!=null&&(l+=v.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==r.getValue()}static getNextSecondBar(e,r){let i;return e.get(r)?(i=e.getNextUnset(r),i=e.getNextSet(i)):(i=e.getNextSet(r),i=e.getNextUnset(i)),i}retrieveNextPair(e,r,i){let l=r.length%2==0;this.startFromEven&&(l=!l);let c,d=!0,h=-1;do this.findNextPair(e,r,h),c=this.parseFoundFinderPattern(e,i,l),c==null?h=ye.getNextSecondBar(e,this.startEnd[0]):d=!1;while(d);let x=this.decodeDataCharacter(e,c,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let v;try{v=this.decodeDataCharacter(e,c,l,!1)}catch(I){v=null,this.verbose&&console.log(I)}return new It(x,v,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),d;i>=0?d=i:this.isEmptyPair(r)?d=0:d=r[r.length-1].getFinderPattern().getStartEnd()[1];let h=r.length%2!=0;this.startFromEven&&(h=!h);let x=!1;for(;d<c&&(x=!e.get(d),!!x);)d++;let v=0,I=d;for(let R=d;R<c;R++)if(e.get(R)!=x)l[v]++;else{if(v==3){if(h&&ye.reverseCounters(l),ye.isFinderPattern(l)){this.startEnd[0]=I,this.startEnd[1]=R;return}h&&ye.reverseCounters(l),I+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,x=!x}throw new W}static reverseCounters(e){let r=e.length;for(let i=0;i<r/2;++i){let l=e[i];e[i]=e[r-i-1],e[r-i-1]=l}}parseFoundFinderPattern(e,r,i){let l,c,d;if(i){let v=this.startEnd[0]-1;for(;v>=0&&!e.get(v);)v--;v++,l=this.startEnd[0]-v,c=v,d=this.startEnd[1]}else c=this.startEnd[0],d=e.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let h=this.getDecodeFinderCounters();j.arraycopy(h,0,h,1,h.length-1),h[0]=l;let x;try{x=this.parseFinderValue(h,ye.FINDER_PATTERNS)}catch{return null}return new Gt(x,[c,d],c,d,r)}decodeDataCharacter(e,r,i,l){let c=this.getDataCharacterCounters();for(let Tt=0;Tt<c.length;Tt++)c[Tt]=0;if(l)ye.recordPatternInReverse(e,r.getStartEnd()[0],c);else{ye.recordPattern(e,r.getStartEnd()[1],c);for(let Tt=0,nn=c.length-1;Tt<nn;Tt++,nn--){let Wn=c[Tt];c[Tt]=c[nn],c[nn]=Wn}}let d=17,h=tt.sum(new Int32Array(c))/d,x=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(h-x)/x>.3)throw new W;let v=this.getOddCounts(),I=this.getEvenCounts(),R=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Tt=0;Tt<c.length;Tt++){let nn=1*c[Tt]/h,Wn=nn+.5;if(Wn<1){if(nn<.3)throw new W;Wn=1}else if(Wn>8){if(nn>8.7)throw new W;Wn=8}let _s=Tt/2;(Tt&1)==0?(v[_s]=Wn,R[_s]=nn-Wn):(I[_s]=Wn,P[_s]=nn-Wn)}this.adjustOddEvenCounts(d);let B=4*r.getValue()+(i?0:2)+(l?0:1)-1,H=0,Y=0;for(let Tt=v.length-1;Tt>=0;Tt--){if(ye.isNotA1left(r,i,l)){let nn=ye.WEIGHTS[B][2*Tt];Y+=v[Tt]*nn}H+=v[Tt]}let J=0;for(let Tt=I.length-1;Tt>=0;Tt--)if(ye.isNotA1left(r,i,l)){let nn=ye.WEIGHTS[B][2*Tt+1];J+=I[Tt]*nn}let oe=Y+J;if((H&1)!=0||H>13||H<4)throw new W;let Se=(13-H)/2,Te=ye.SYMBOL_WIDEST[Se],Ce=9-Te,ft=_t.getRSSvalue(v,Te,!0),it=_t.getRSSvalue(I,Ce,!1),Qn=ye.EVEN_TOTAL_SUBSET[Se],Or=ye.GSUM[Se],pn=ft*Qn+it+Or;return new or(pn,oe)}static isNotA1left(e,r,i){return!(e.getValue()==0&&r&&i)}adjustOddEvenCounts(e){let r=tt.sum(new Int32Array(this.getOddCounts())),i=tt.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;r>13?c=!0:r<4&&(l=!0);let d=!1,h=!1;i>13?h=!0:i<4&&(d=!0);let x=r+i-e,v=(r&1)==1,I=(i&1)==0;if(x==1)if(v){if(I)throw new W;c=!0}else{if(!I)throw new W;h=!0}else if(x==-1)if(v){if(I)throw new W;l=!0}else{if(!I)throw new W;d=!0}else if(x==0){if(v){if(!I)throw new W;r<i?(l=!0,h=!0):(c=!0,d=!0)}else if(I)throw new W}else throw new W;if(l){if(c)throw new W;ye.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&ye.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new W;ye.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ye.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ye.SYMBOL_WIDEST=[7,5,4,3,1],ye.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ye.GSUM=[0,348,1388,2948,3988],ye.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ye.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ye.FINDER_PAT_A=0,ye.FINDER_PAT_B=1,ye.FINDER_PAT_C=2,ye.FINDER_PAT_D=3,ye.FINDER_PAT_E=4,ye.FINDER_PAT_F=5,ye.FINDER_PATTERN_SEQUENCES=[[ye.FINDER_PAT_A,ye.FINDER_PAT_A],[ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B],[ye.FINDER_PAT_A,ye.FINDER_PAT_C,ye.FINDER_PAT_B,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_C],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F]],ye.MAX_PAIRS=11;class yl extends or{constructor(e,r,i){super(e,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class jt extends Et{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,i){const l=this.decodePair(r,!1,e,i);jt.addOrTally(this.possibleLeftPairs,l),r.reverse();let c=this.decodePair(r,!0,e,i);jt.addOrTally(this.possibleRightPairs,c),r.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&jt.checkChecksum(d,h))return jt.constructResult(d,h)}throw new W}static addOrTally(e,r){if(r==null)return;let i=!1;for(let l of e)if(l.getValue()===r.getValue()){l.incrementCount(),i=!0;break}i||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let i=4537077*e.getValue()+r.getValue(),l=new String(i).toString(),c=new _e;for(let v=13-l.length;v>0;v--)c.append("0");c.append(l);let d=0;for(let v=0;v<13;v++){let I=c.charAt(v).charCodeAt(0)-48;d+=(v&1)===0?3*I:I}d=10-d%10,d===10&&(d=0),c.append(d.toString());let h=e.getFinderPattern().getResultPoints(),x=r.getFinderPattern().getResultPoints();return new Ne(c.toString(),null,0,[h[0],h[1],x[0],x[1]],be.RSS_14,new Date().getTime())}static checkChecksum(e,r){let i=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(e,r,i,l){try{let c=this.findFinderPattern(e,r),d=this.parseFoundFinderPattern(e,i,r,c),h=l==null?null:l.get(de.NEED_RESULT_POINT_CALLBACK);if(h!=null){let I=(c[0]+c[1])/2;r&&(I=e.getSize()-1-I),h.foundPossibleResultPoint(new Le(I,i))}let x=this.decodeDataCharacter(e,d,!0),v=this.decodeDataCharacter(e,d,!1);return new yl(1597*x.getValue()+v.getValue(),x.getChecksumPortion()+4*v.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(e,r,i){let l=this.getDataCharacterCounters();for(let J=0;J<l.length;J++)l[J]=0;if(i)Wt.recordPatternInReverse(e,r.getStartEnd()[0],l);else{Wt.recordPattern(e,r.getStartEnd()[1]+1,l);for(let J=0,oe=l.length-1;J<oe;J++,oe--){let Se=l[J];l[J]=l[oe],l[oe]=Se}}let c=i?16:15,d=tt.sum(new Int32Array(l))/c,h=this.getOddCounts(),x=this.getEvenCounts(),v=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let J=0;J<l.length;J++){let oe=l[J]/d,Se=Math.floor(oe+.5);Se<1?Se=1:Se>8&&(Se=8);let Te=Math.floor(J/2);(J&1)===0?(h[Te]=Se,v[Te]=oe-Se):(x[Te]=Se,I[Te]=oe-Se)}this.adjustOddEvenCounts(i,c);let R=0,P=0;for(let J=h.length-1;J>=0;J--)P*=9,P+=h[J],R+=h[J];let B=0,H=0;for(let J=x.length-1;J>=0;J--)B*=9,B+=x[J],H+=x[J];let Y=P+3*B;if(i){if((R&1)!==0||R>12||R<4)throw new W;let J=(12-R)/2,oe=jt.OUTSIDE_ODD_WIDEST[J],Se=9-oe,Te=_t.getRSSvalue(h,oe,!1),Ce=_t.getRSSvalue(x,Se,!0),ft=jt.OUTSIDE_EVEN_TOTAL_SUBSET[J],it=jt.OUTSIDE_GSUM[J];return new or(Te*ft+Ce+it,Y)}else{if((H&1)!==0||H>10||H<4)throw new W;let J=(10-H)/2,oe=jt.INSIDE_ODD_WIDEST[J],Se=9-oe,Te=_t.getRSSvalue(h,oe,!0),Ce=_t.getRSSvalue(x,Se,!1),ft=jt.INSIDE_ODD_TOTAL_SUBSET[J],it=jt.INSIDE_GSUM[J];return new or(Ce*ft+Te+it,Y)}}findFinderPattern(e,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=e.getSize(),c=!1,d=0;for(;d<l&&(c=!e.get(d),r!==c);)d++;let h=0,x=d;for(let v=d;v<l;v++)if(e.get(v)!==c)i[h]++;else{if(h===3){if(Et.isFinderPattern(i))return[x,v];x+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,c=!c}throw new W}parseFoundFinderPattern(e,r,i,l){let c=e.get(l[0]),d=l[0]-1;for(;d>=0&&c!==e.get(d);)d--;d++;const h=l[0]-d,x=this.getDecodeFinderCounters(),v=new Int32Array(x.length);j.arraycopy(x,0,v,1,x.length-1),v[0]=h;const I=this.parseFinderValue(v,jt.FINDER_PATTERNS);let R=d,P=l[1];return i&&(R=e.getSize()-1-R,P=e.getSize()-1-P),new Gt(I,[d,l[1]],R,P,r)}adjustOddEvenCounts(e,r){let i=tt.sum(new Int32Array(this.getOddCounts())),l=tt.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1,h=!1,x=!1;e?(i>12?d=!0:i<4&&(c=!0),l>12?x=!0:l<4&&(h=!0)):(i>11?d=!0:i<5&&(c=!0),l>10?x=!0:l<4&&(h=!0));let v=i+l-r,I=(i&1)===(e?1:0),R=(l&1)===1;if(v===1)if(I){if(R)throw new W;d=!0}else{if(!R)throw new W;x=!0}else if(v===-1)if(I){if(R)throw new W;c=!0}else{if(!R)throw new W;h=!0}else if(v===0){if(I){if(!R)throw new W;i<l?(c=!0,x=!0):(d=!0,h=!0)}else if(R)throw new W}else throw new W;if(c){if(d)throw new W;Et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new W;Et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}jt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],jt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],jt.OUTSIDE_GSUM=[0,161,961,2015,2715],jt.INSIDE_GSUM=[0,336,1036,1516],jt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],jt.INSIDE_ODD_WIDEST=[2,4,6,8],jt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Zs extends Wt{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const i=e?e.get(de.POSSIBLE_FORMATS):null,l=e&&e.get(de.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(be.EAN_13)||i.includes(be.UPC_A)||i.includes(be.EAN_8)||i.includes(be.UPC_E))&&this.readers.push(new en(e)),i.includes(be.CODE_39)&&this.readers.push(new qt(l)),i.includes(be.CODE_128)&&this.readers.push(new Re),i.includes(be.ITF)&&this.readers.push(new vt),i.includes(be.RSS_14)&&this.readers.push(new jt),i.includes(be.RSS_EXPANDED)&&this.readers.push(new ye(this.verbose))):(this.readers.push(new en(e)),this.readers.push(new qt),this.readers.push(new en(e)),this.readers.push(new Re),this.readers.push(new vt),this.readers.push(new jt),this.readers.push(new ye(this.verbose)))}decodeRow(e,r,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,r,i)}catch{}throw new W}reset(){this.readers.forEach(e=>e.reset())}}class wl extends me{constructor(e=500,r){super(new Zs(r),e,r)}}class wt{constructor(e,r,i){this.ecCodewords=e,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class lt{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pt{constructor(e,r,i,l,c,d){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=d;let h=0;const x=d.getECCodewords(),v=d.getECBlocks();for(let I of v)h+=I.getCount()*(I.getDataCodewords()+x);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if((e&1)!==0||(r&1)!==0)throw new q;for(let i of pt.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===r)return i;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new pt(1,10,10,8,8,new wt(5,new lt(1,3))),new pt(2,12,12,10,10,new wt(7,new lt(1,5))),new pt(3,14,14,12,12,new wt(10,new lt(1,8))),new pt(4,16,16,14,14,new wt(12,new lt(1,12))),new pt(5,18,18,16,16,new wt(14,new lt(1,18))),new pt(6,20,20,18,18,new wt(18,new lt(1,22))),new pt(7,22,22,20,20,new wt(20,new lt(1,30))),new pt(8,24,24,22,22,new wt(24,new lt(1,36))),new pt(9,26,26,24,24,new wt(28,new lt(1,44))),new pt(10,32,32,14,14,new wt(36,new lt(1,62))),new pt(11,36,36,16,16,new wt(42,new lt(1,86))),new pt(12,40,40,18,18,new wt(48,new lt(1,114))),new pt(13,44,44,20,20,new wt(56,new lt(1,144))),new pt(14,48,48,22,22,new wt(68,new lt(1,174))),new pt(15,52,52,24,24,new wt(42,new lt(2,102))),new pt(16,64,64,14,14,new wt(56,new lt(2,140))),new pt(17,72,72,16,16,new wt(36,new lt(4,92))),new pt(18,80,80,18,18,new wt(48,new lt(4,114))),new pt(19,88,88,20,20,new wt(56,new lt(4,144))),new pt(20,96,96,22,22,new wt(68,new lt(4,174))),new pt(21,104,104,24,24,new wt(56,new lt(6,136))),new pt(22,120,120,18,18,new wt(68,new lt(6,175))),new pt(23,132,132,20,20,new wt(62,new lt(8,163))),new pt(24,144,144,22,22,new wt(62,new lt(8,156),new lt(2,155))),new pt(25,8,18,6,16,new wt(7,new lt(1,5))),new pt(26,8,32,6,14,new wt(11,new lt(1,10))),new pt(27,12,26,10,24,new wt(14,new lt(1,16))),new pt(28,12,36,10,16,new wt(18,new lt(1,22))),new pt(29,16,36,14,16,new wt(24,new lt(1,32))),new pt(30,16,48,14,22,new wt(28,new lt(1,49)))]}}pt.VERSIONS=pt.buildVersions();class ar{constructor(e){const r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new q;this.version=ar.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Pe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),i=e.getWidth();return pt.getVersionForDimensions(r,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,l=0;const c=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let h=!1,x=!1,v=!1,I=!1;do if(i===c&&l===0&&!h)e[r++]=this.readCorner1(c,d)&255,i-=2,l+=2,h=!0;else if(i===c-2&&l===0&&(d&3)!==0&&!x)e[r++]=this.readCorner2(c,d)&255,i-=2,l+=2,x=!0;else if(i===c+4&&l===2&&(d&7)===0&&!v)e[r++]=this.readCorner3(c,d)&255,i-=2,l+=2,v=!0;else if(i===c-2&&l===0&&(d&7)===4&&!I)e[r++]=this.readCorner4(c,d)&255,i-=2,l+=2,I=!0;else{do i<c&&l>=0&&!this.readMappingMatrix.get(l,i)&&(e[r++]=this.readUtah(i,l,c,d)&255),i-=2,l+=2;while(i>=0&&l<d);i+=1,l+=3;do i>=0&&l<d&&!this.readMappingMatrix.get(l,i)&&(e[r++]=this.readUtah(i,l,c,d)&255),i+=2,l-=2;while(i<c&&l>=0);i+=3,l+=1}while(i<c||l<d);if(r!==this.version.getTotalCodewords())throw new q;return e}readModule(e,r,i,l){return e<0&&(e+=i,r+=4-(i+4&7)),r<0&&(r+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,i,l){let c=0;return this.readModule(e-2,r-2,i,l)&&(c|=1),c<<=1,this.readModule(e-2,r-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,r-2,i,l)&&(c|=1),c<<=1,this.readModule(e-1,r-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,r,i,l)&&(c|=1),c<<=1,this.readModule(e,r-2,i,l)&&(c|=1),c<<=1,this.readModule(e,r-1,i,l)&&(c|=1),c<<=1,this.readModule(e,r,i,l)&&(c|=1),c}readCorner1(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,1,e,r)&&(i|=1),i<<=1,this.readModule(e-1,2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}readCorner2(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-4,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner3(e,r){let i=0;return this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(0,r-3,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-3,e,r)&&(i|=1),i<<=1,this.readModule(1,r-2,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i}readCorner4(e,r){let i=0;return this.readModule(e-3,0,e,r)&&(i|=1),i<<=1,this.readModule(e-2,0,e,r)&&(i|=1),i<<=1,this.readModule(e-1,0,e,r)&&(i|=1),i<<=1,this.readModule(0,r-2,e,r)&&(i|=1),i<<=1,this.readModule(0,r-1,e,r)&&(i|=1),i<<=1,this.readModule(1,r-1,e,r)&&(i|=1),i<<=1,this.readModule(2,r-1,e,r)&&(i|=1),i<<=1,this.readModule(3,r-1,e,r)&&(i|=1),i}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),d=r/l|0,h=i/c|0,x=d*l,v=h*c,I=new Pe(v,x);for(let R=0;R<d;++R){const P=R*l;for(let B=0;B<h;++B){const H=B*c;for(let Y=0;Y<l;++Y){const J=R*(l+2)+1+Y,oe=P+Y;for(let Se=0;Se<c;++Se){const Te=B*(c+2)+1+Se;if(e.get(Te,J)){const Ce=H+Se;I.set(Ce,oe)}}}}}return I}}class aa{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const i=r.getECBlocks();let l=0;const c=i.getECBlocks();for(let Y of c)l+=Y.getCount();const d=new Array(l);let h=0;for(let Y of c)for(let J=0;J<Y.getCount();J++){const oe=Y.getDataCodewords(),Se=i.getECCodewords()+oe;d[h++]=new aa(oe,new Uint8Array(Se))}const v=d[0].codewords.length-i.getECCodewords(),I=v-1;let R=0;for(let Y=0;Y<I;Y++)for(let J=0;J<h;J++)d[J].codewords[Y]=e[R++];const P=r.getVersionNumber()===24,B=P?8:h;for(let Y=0;Y<B;Y++)d[Y].codewords[v-1]=e[R++];const H=d[0].codewords.length;for(let Y=v;Y<H;Y++)for(let J=0;J<h;J++){const oe=P?(J+8)%h:J,Se=P&&oe>7?Y-1:Y;d[oe].codewords[Se]=e[R++]}if(R!==e.length)throw new S;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class la{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new S(""+e);let r=0,i=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(i>0){const d=8-i,h=e<d?e:d,x=d-h,v=255>>8-h<<x;r=(c[l]&v)>>x,e-=h,i+=h,i===8&&(i=0,l++)}if(e>0){for(;e>=8;)r=r<<8|c[l]&255,l++,e-=8;if(e>0){const d=8-e,h=255>>d<<d;r=r<<e|(c[l]&h)>>d,i+=e}}return this.bitOffset=i,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var mn;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(mn||(mn={}));class Ir{static decode(e){const r=new la(e),i=new _e,l=new _e,c=new Array;let d=mn.ASCII_ENCODE;do if(d===mn.ASCII_ENCODE)d=this.decodeAsciiSegment(r,i,l);else{switch(d){case mn.C40_ENCODE:this.decodeC40Segment(r,i);break;case mn.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case mn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case mn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case mn.BASE256_ENCODE:this.decodeBase256Segment(r,i,c);break;default:throw new q}d=mn.ASCII_ENCODE}while(d!==mn.PAD_ENCODE&&r.available()>0);return l.length()>0&&i.append(l.toString()),new at(e,i.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,r,i){let l=!1;do{let c=e.readBits(8);if(c===0)throw new q;if(c<=128)return l&&(c+=128),r.append(String.fromCharCode(c-1)),mn.ASCII_ENCODE;if(c===129)return mn.PAD_ENCODE;if(c<=229){const d=c-130;d<10&&r.append("0"),r.append(""+d)}else switch(c){case 230:return mn.C40_ENCODE;case 231:return mn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return mn.ANSIX12_ENCODE;case 239:return mn.TEXT_ENCODE;case 240:return mn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new q;break}}while(e.available()>0);return mn.ASCII_ENCODE}static decodeC40Segment(e,r){let i=!1;const l=[];let c=0;do{if(e.available()===8)return;const d=e.readBits(8);if(d===254)return;this.parseTwoBytes(d,e.readBits(8),l);for(let h=0;h<3;h++){const x=l[h];switch(c){case 0:if(x<3)c=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[x];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else throw new q;break;case 1:i?(r.append(String.fromCharCode(x+128)),i=!1):r.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[x];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else switch(x){case 27:r.append("");break;case 30:i=!0;break;default:throw new q}c=0;break;case 3:i?(r.append(String.fromCharCode(x+224)),i=!1):r.append(String.fromCharCode(x+96)),c=0;break;default:throw new q}}}while(e.available()>0)}static decodeTextSegment(e,r){let i=!1,l=[],c=0;do{if(e.available()===8)return;const d=e.readBits(8);if(d===254)return;this.parseTwoBytes(d,e.readBits(8),l);for(let h=0;h<3;h++){const x=l[h];switch(c){case 0:if(x<3)c=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[x];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else throw new q;break;case 1:i?(r.append(String.fromCharCode(x+128)),i=!1):r.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[x];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v)}else switch(x){case 27:r.append("");break;case 30:i=!0;break;default:throw new q}c=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[x];i?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):r.append(v),c=0}else throw new q;break;default:throw new q}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const i=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let c=0;c<3;c++){const d=i[c];switch(d){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(d<14)r.append(String.fromCharCode(d+44));else if(d<40)r.append(String.fromCharCode(d+51));else throw new q;break}}}while(e.available()>0)}static parseTwoBytes(e,r,i){let l=(e<<8)+r-1,c=Math.floor(l/1600);i[0]=c,l-=c*1600,c=Math.floor(l/40),i[1]=c,i[2]=l-c*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let l=e.readBits(6);if(l===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}(l&32)===0&&(l|=64),r.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,r,i){let l=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),l++);let d;if(c===0?d=e.available()/8|0:c<250?d=c:d=250*(c-249)+this.unrandomize255State(e.readBits(8),l++),d<0)throw new q;const h=new Uint8Array(d);for(let x=0;x<d;x++){if(e.available()<8)throw new q;h[x]=this.unrandomize255State(e.readBits(8),l++)}i.push(h);try{r.append(Oe.decode(h,we.ISO88591))}catch(x){throw new sr("Platform does not support required encoding: "+x.message)}}static unrandomize255State(e,r){const i=149*r%255+1,l=e-i;return l>=0?l:l+256}}Ir.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ir.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ir.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ir.TEXT_SHIFT2_SET_CHARS=Ir.C40_SHIFT2_SET_CHARS,Ir.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class so{constructor(){this.rsDecoder=new es(mt.DATA_MATRIX_FIELD_256)}decode(e){const r=new ar(e),i=r.getVersion(),l=r.readCodewords(),c=aa.getDataBlocks(l,i);let d=0;for(let v of c)d+=v.getNumDataCodewords();const h=new Uint8Array(d),x=c.length;for(let v=0;v<x;v++){const I=c[v],R=I.getCodewords(),P=I.getNumDataCodewords();this.correctErrors(R,P);for(let B=0;B<P;B++)h[B*x+v]=R[B]}return Ir.decode(h)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new L}for(let l=0;l<r;l++)e[l]=i[l]}}class Ft{constructor(e){this.image=e,this.rectangleDetector=new mr(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const i=r[0],l=r[1],c=r[2],d=r[3];let h=this.transitionsBetween(i,d)+1,x=this.transitionsBetween(c,d)+1;(h&1)===1&&(h+=1),(x&1)===1&&(x+=1),4*h<7*x&&4*x<7*h&&(h=x=Math.max(h,x));let v=Ft.sampleGrid(this.image,i,l,c,d,h,x);return new an(v,[i,l,c,d])}static shiftPoint(e,r,i){let l=(r.getX()-e.getX())/(i+1),c=(r.getY()-e.getY())/(i+1);return new Le(e.getX()+l,e.getY()+c)}static moveAway(e,r,i){let l=e.getX(),c=e.getY();return l<r?l-=1:l+=1,c<i?c-=1:c+=1,new Le(l,c)}detectSolid1(e){let r=e[0],i=e[1],l=e[3],c=e[2],d=this.transitionsBetween(r,i),h=this.transitionsBetween(i,l),x=this.transitionsBetween(l,c),v=this.transitionsBetween(c,r),I=d,R=[c,r,i,l];return I>h&&(I=h,R[0]=r,R[1]=i,R[2]=l,R[3]=c),I>x&&(I=x,R[0]=i,R[1]=l,R[2]=c,R[3]=r),I>v&&(R[0]=l,R[1]=c,R[2]=r,R[3]=i),R}detectSolid2(e){let r=e[0],i=e[1],l=e[2],c=e[3],d=this.transitionsBetween(r,c),h=Ft.shiftPoint(i,l,(d+1)*4),x=Ft.shiftPoint(l,i,(d+1)*4),v=this.transitionsBetween(h,r),I=this.transitionsBetween(x,c);return v<I?(e[0]=r,e[1]=i,e[2]=l,e[3]=c):(e[0]=i,e[1]=l,e[2]=c,e[3]=r),e}correctTopRight(e){let r=e[0],i=e[1],l=e[2],c=e[3],d=this.transitionsBetween(r,c),h=this.transitionsBetween(i,c),x=Ft.shiftPoint(r,i,(h+1)*4),v=Ft.shiftPoint(l,i,(d+1)*4);d=this.transitionsBetween(x,c),h=this.transitionsBetween(v,c);let I=new Le(c.getX()+(l.getX()-i.getX())/(d+1),c.getY()+(l.getY()-i.getY())/(d+1)),R=new Le(c.getX()+(r.getX()-i.getX())/(h+1),c.getY()+(r.getY()-i.getY())/(h+1));if(!this.isValid(I))return this.isValid(R)?R:null;if(!this.isValid(R))return I;let P=this.transitionsBetween(x,I)+this.transitionsBetween(v,I),B=this.transitionsBetween(x,R)+this.transitionsBetween(v,R);return P>B?I:R}shiftToModuleCenter(e){let r=e[0],i=e[1],l=e[2],c=e[3],d=this.transitionsBetween(r,c)+1,h=this.transitionsBetween(l,c)+1,x=Ft.shiftPoint(r,i,h*4),v=Ft.shiftPoint(l,i,d*4);d=this.transitionsBetween(x,c)+1,h=this.transitionsBetween(v,c)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let I=(r.getX()+i.getX()+l.getX()+c.getX())/4,R=(r.getY()+i.getY()+l.getY()+c.getY())/4;r=Ft.moveAway(r,I,R),i=Ft.moveAway(i,I,R),l=Ft.moveAway(l,I,R),c=Ft.moveAway(c,I,R);let P,B;return x=Ft.shiftPoint(r,i,h*4),x=Ft.shiftPoint(x,c,d*4),P=Ft.shiftPoint(i,r,h*4),P=Ft.shiftPoint(P,l,d*4),v=Ft.shiftPoint(l,c,h*4),v=Ft.shiftPoint(v,i,d*4),B=Ft.shiftPoint(c,l,h*4),B=Ft.shiftPoint(B,r,d*4),[x,P,v,B]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,i,l,c,d,h){return Kn.getInstance().sampleGrid(e,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,r.getX(),r.getY(),c.getX(),c.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(e,r){let i=Math.trunc(e.getX()),l=Math.trunc(e.getY()),c=Math.trunc(r.getX()),d=Math.trunc(r.getY()),h=Math.abs(d-l)>Math.abs(c-i);if(h){let Y=i;i=l,l=Y,Y=c,c=d,d=Y}let x=Math.abs(c-i),v=Math.abs(d-l),I=-x/2,R=l<d?1:-1,P=i<c?1:-1,B=0,H=this.image.get(h?l:i,h?i:l);for(let Y=i,J=l;Y!==c;Y+=P){let oe=this.image.get(h?J:Y,h?Y:J);if(oe!==H&&(B++,H=oe),I+=v,I>0){if(J===d)break;J+=R,I-=x}}return B}}class kr{constructor(){this.decoder=new so}decode(e,r=null){let i,l;if(r!=null&&r.has(de.PURE_BARCODE)){const v=kr.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(v),l=kr.NO_POINTS}else{const v=new Ft(e.getBlackMatrix()).detect();i=this.decoder.decode(v.getBits()),l=v.getPoints()}const c=i.getRawBytes(),d=new Ne(i.getText(),c,8*c.length,l,be.DATA_MATRIX,j.currentTimeMillis()),h=i.getByteSegments();h!=null&&d.putMetadata(De.BYTE_SEGMENTS,h);const x=i.getECLevel();return x!=null&&d.putMetadata(De.ERROR_CORRECTION_LEVEL,x),d}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r==null||i==null)throw new W;const l=this.moduleSize(r,e);let c=r[1];const d=i[1];let h=r[0];const v=(i[0]-h+1)/l,I=(d-c+1)/l;if(v<=0||I<=0)throw new W;const R=l/2;c+=R,h+=R;const P=new Pe(v,I);for(let B=0;B<I;B++){const H=c+B*l;for(let Y=0;Y<v;Y++)e.get(h+Y*l,H)&&P.set(Y,B)}return P}static moduleSize(e,r){const i=r.getWidth();let l=e[0];const c=e[1];for(;l<i&&r.get(l,c);)l++;if(l===i)throw new W;const d=l-e[0];if(d===0)throw new W;return d}}kr.NO_POINTS=[];class fu extends me{constructor(e=500){super(new kr,e)}}var qs;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(qs||(qs={}));class kt{constructor(e,r,i){this.value=e,this.stringValue=r,this.bits=i,kt.FOR_BITS.set(i,this),kt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return kt.L;case"M":return kt.M;case"Q":return kt.Q;case"H":return kt.H;default:throw new T(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof kt))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=kt.FOR_BITS.size)throw new S;return kt.FOR_BITS.get(e)}}kt.FOR_BITS=new Map,kt.FOR_VALUE=new Map,kt.L=new kt(qs.L,"L",1),kt.M=new kt(qs.M,"M",0),kt.Q=new kt(qs.Q,"Q",3),kt.H=new kt(qs.H,"H",2);class An{constructor(e){this.errorCorrectionLevel=kt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return G.bitCount(e^r)}static decodeFormatInformation(e,r){const i=An.doDecodeFormatInformation(e,r);return i!==null?i:An.doDecodeFormatInformation(e^An.FORMAT_INFO_MASK_QR,r^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let i=Number.MAX_SAFE_INTEGER,l=0;for(const c of An.FORMAT_INFO_DECODE_LOOKUP){const d=c[0];if(d===e||d===r)return new An(c[1]);let h=An.numBitsDiffering(e,d);h<i&&(l=c[1],i=h),e!==r&&(h=An.numBitsDiffering(r,d),h<i&&(l=c[1],i=h))}return i<=3?new An(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof An))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class te{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const i of r)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xe{constructor(e,r,...i){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;let l=0;const c=i[0].getECCodewordsPerBlock(),d=i[0].getECBlocks();for(const h of d)l+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new q;try{return this.getVersionForNumber((e-17)/4)}catch{throw new q}}static getVersionForNumber(e){if(e<1||e>40)throw new S;return Xe.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<Xe.VERSION_DECODE_INFO.length;l++){const c=Xe.VERSION_DECODE_INFO[l];if(c===e)return Xe.getVersionForNumber(l+7);const d=An.numBitsDiffering(e,c);d<r&&(i=l+7,r=d)}return r<=3?Xe.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Pe(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const c=this.alignmentPatternCenters[l]-2;for(let d=0;d<i;d++)l===0&&(d===0||d===i-1)||l===i-1&&d===0||r.setRegion(this.alignmentPatternCenters[d]-2,c,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}Xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Xe.VERSIONS=[new Xe(1,new Int32Array(0),new te(7,new M(1,19)),new te(10,new M(1,16)),new te(13,new M(1,13)),new te(17,new M(1,9))),new Xe(2,Int32Array.from([6,18]),new te(10,new M(1,34)),new te(16,new M(1,28)),new te(22,new M(1,22)),new te(28,new M(1,16))),new Xe(3,Int32Array.from([6,22]),new te(15,new M(1,55)),new te(26,new M(1,44)),new te(18,new M(2,17)),new te(22,new M(2,13))),new Xe(4,Int32Array.from([6,26]),new te(20,new M(1,80)),new te(18,new M(2,32)),new te(26,new M(2,24)),new te(16,new M(4,9))),new Xe(5,Int32Array.from([6,30]),new te(26,new M(1,108)),new te(24,new M(2,43)),new te(18,new M(2,15),new M(2,16)),new te(22,new M(2,11),new M(2,12))),new Xe(6,Int32Array.from([6,34]),new te(18,new M(2,68)),new te(16,new M(4,27)),new te(24,new M(4,19)),new te(28,new M(4,15))),new Xe(7,Int32Array.from([6,22,38]),new te(20,new M(2,78)),new te(18,new M(4,31)),new te(18,new M(2,14),new M(4,15)),new te(26,new M(4,13),new M(1,14))),new Xe(8,Int32Array.from([6,24,42]),new te(24,new M(2,97)),new te(22,new M(2,38),new M(2,39)),new te(22,new M(4,18),new M(2,19)),new te(26,new M(4,14),new M(2,15))),new Xe(9,Int32Array.from([6,26,46]),new te(30,new M(2,116)),new te(22,new M(3,36),new M(2,37)),new te(20,new M(4,16),new M(4,17)),new te(24,new M(4,12),new M(4,13))),new Xe(10,Int32Array.from([6,28,50]),new te(18,new M(2,68),new M(2,69)),new te(26,new M(4,43),new M(1,44)),new te(24,new M(6,19),new M(2,20)),new te(28,new M(6,15),new M(2,16))),new Xe(11,Int32Array.from([6,30,54]),new te(20,new M(4,81)),new te(30,new M(1,50),new M(4,51)),new te(28,new M(4,22),new M(4,23)),new te(24,new M(3,12),new M(8,13))),new Xe(12,Int32Array.from([6,32,58]),new te(24,new M(2,92),new M(2,93)),new te(22,new M(6,36),new M(2,37)),new te(26,new M(4,20),new M(6,21)),new te(28,new M(7,14),new M(4,15))),new Xe(13,Int32Array.from([6,34,62]),new te(26,new M(4,107)),new te(22,new M(8,37),new M(1,38)),new te(24,new M(8,20),new M(4,21)),new te(22,new M(12,11),new M(4,12))),new Xe(14,Int32Array.from([6,26,46,66]),new te(30,new M(3,115),new M(1,116)),new te(24,new M(4,40),new M(5,41)),new te(20,new M(11,16),new M(5,17)),new te(24,new M(11,12),new M(5,13))),new Xe(15,Int32Array.from([6,26,48,70]),new te(22,new M(5,87),new M(1,88)),new te(24,new M(5,41),new M(5,42)),new te(30,new M(5,24),new M(7,25)),new te(24,new M(11,12),new M(7,13))),new Xe(16,Int32Array.from([6,26,50,74]),new te(24,new M(5,98),new M(1,99)),new te(28,new M(7,45),new M(3,46)),new te(24,new M(15,19),new M(2,20)),new te(30,new M(3,15),new M(13,16))),new Xe(17,Int32Array.from([6,30,54,78]),new te(28,new M(1,107),new M(5,108)),new te(28,new M(10,46),new M(1,47)),new te(28,new M(1,22),new M(15,23)),new te(28,new M(2,14),new M(17,15))),new Xe(18,Int32Array.from([6,30,56,82]),new te(30,new M(5,120),new M(1,121)),new te(26,new M(9,43),new M(4,44)),new te(28,new M(17,22),new M(1,23)),new te(28,new M(2,14),new M(19,15))),new Xe(19,Int32Array.from([6,30,58,86]),new te(28,new M(3,113),new M(4,114)),new te(26,new M(3,44),new M(11,45)),new te(26,new M(17,21),new M(4,22)),new te(26,new M(9,13),new M(16,14))),new Xe(20,Int32Array.from([6,34,62,90]),new te(28,new M(3,107),new M(5,108)),new te(26,new M(3,41),new M(13,42)),new te(30,new M(15,24),new M(5,25)),new te(28,new M(15,15),new M(10,16))),new Xe(21,Int32Array.from([6,28,50,72,94]),new te(28,new M(4,116),new M(4,117)),new te(26,new M(17,42)),new te(28,new M(17,22),new M(6,23)),new te(30,new M(19,16),new M(6,17))),new Xe(22,Int32Array.from([6,26,50,74,98]),new te(28,new M(2,111),new M(7,112)),new te(28,new M(17,46)),new te(30,new M(7,24),new M(16,25)),new te(24,new M(34,13))),new Xe(23,Int32Array.from([6,30,54,78,102]),new te(30,new M(4,121),new M(5,122)),new te(28,new M(4,47),new M(14,48)),new te(30,new M(11,24),new M(14,25)),new te(30,new M(16,15),new M(14,16))),new Xe(24,Int32Array.from([6,28,54,80,106]),new te(30,new M(6,117),new M(4,118)),new te(28,new M(6,45),new M(14,46)),new te(30,new M(11,24),new M(16,25)),new te(30,new M(30,16),new M(2,17))),new Xe(25,Int32Array.from([6,32,58,84,110]),new te(26,new M(8,106),new M(4,107)),new te(28,new M(8,47),new M(13,48)),new te(30,new M(7,24),new M(22,25)),new te(30,new M(22,15),new M(13,16))),new Xe(26,Int32Array.from([6,30,58,86,114]),new te(28,new M(10,114),new M(2,115)),new te(28,new M(19,46),new M(4,47)),new te(28,new M(28,22),new M(6,23)),new te(30,new M(33,16),new M(4,17))),new Xe(27,Int32Array.from([6,34,62,90,118]),new te(30,new M(8,122),new M(4,123)),new te(28,new M(22,45),new M(3,46)),new te(30,new M(8,23),new M(26,24)),new te(30,new M(12,15),new M(28,16))),new Xe(28,Int32Array.from([6,26,50,74,98,122]),new te(30,new M(3,117),new M(10,118)),new te(28,new M(3,45),new M(23,46)),new te(30,new M(4,24),new M(31,25)),new te(30,new M(11,15),new M(31,16))),new Xe(29,Int32Array.from([6,30,54,78,102,126]),new te(30,new M(7,116),new M(7,117)),new te(28,new M(21,45),new M(7,46)),new te(30,new M(1,23),new M(37,24)),new te(30,new M(19,15),new M(26,16))),new Xe(30,Int32Array.from([6,26,52,78,104,130]),new te(30,new M(5,115),new M(10,116)),new te(28,new M(19,47),new M(10,48)),new te(30,new M(15,24),new M(25,25)),new te(30,new M(23,15),new M(25,16))),new Xe(31,Int32Array.from([6,30,56,82,108,134]),new te(30,new M(13,115),new M(3,116)),new te(28,new M(2,46),new M(29,47)),new te(30,new M(42,24),new M(1,25)),new te(30,new M(23,15),new M(28,16))),new Xe(32,Int32Array.from([6,34,60,86,112,138]),new te(30,new M(17,115)),new te(28,new M(10,46),new M(23,47)),new te(30,new M(10,24),new M(35,25)),new te(30,new M(19,15),new M(35,16))),new Xe(33,Int32Array.from([6,30,58,86,114,142]),new te(30,new M(17,115),new M(1,116)),new te(28,new M(14,46),new M(21,47)),new te(30,new M(29,24),new M(19,25)),new te(30,new M(11,15),new M(46,16))),new Xe(34,Int32Array.from([6,34,62,90,118,146]),new te(30,new M(13,115),new M(6,116)),new te(28,new M(14,46),new M(23,47)),new te(30,new M(44,24),new M(7,25)),new te(30,new M(59,16),new M(1,17))),new Xe(35,Int32Array.from([6,30,54,78,102,126,150]),new te(30,new M(12,121),new M(7,122)),new te(28,new M(12,47),new M(26,48)),new te(30,new M(39,24),new M(14,25)),new te(30,new M(22,15),new M(41,16))),new Xe(36,Int32Array.from([6,24,50,76,102,128,154]),new te(30,new M(6,121),new M(14,122)),new te(28,new M(6,47),new M(34,48)),new te(30,new M(46,24),new M(10,25)),new te(30,new M(2,15),new M(64,16))),new Xe(37,Int32Array.from([6,28,54,80,106,132,158]),new te(30,new M(17,122),new M(4,123)),new te(28,new M(29,46),new M(14,47)),new te(30,new M(49,24),new M(10,25)),new te(30,new M(24,15),new M(46,16))),new Xe(38,Int32Array.from([6,32,58,84,110,136,162]),new te(30,new M(4,122),new M(18,123)),new te(28,new M(13,46),new M(32,47)),new te(30,new M(48,24),new M(14,25)),new te(30,new M(42,15),new M(32,16))),new Xe(39,Int32Array.from([6,26,54,82,110,138,166]),new te(30,new M(20,117),new M(4,118)),new te(28,new M(40,47),new M(7,48)),new te(30,new M(43,24),new M(22,25)),new te(30,new M(10,15),new M(67,16))),new Xe(40,Int32Array.from([6,30,58,86,114,142,170]),new te(30,new M(19,118),new M(6,119)),new te(28,new M(18,47),new M(31,48)),new te(30,new M(34,24),new M(34,25)),new te(30,new M(20,15),new M(61,16)))];var cn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(cn||(cn={}));class ct{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let i=0;i<r;i++)for(let l=0;l<r;l++)this.isMasked(i,l)&&e.flip(l,i)}}ct.values=new Map([[cn.DATA_MASK_000,new ct(cn.DATA_MASK_000,(k,e)=>(k+e&1)===0)],[cn.DATA_MASK_001,new ct(cn.DATA_MASK_001,(k,e)=>(k&1)===0)],[cn.DATA_MASK_010,new ct(cn.DATA_MASK_010,(k,e)=>e%3===0)],[cn.DATA_MASK_011,new ct(cn.DATA_MASK_011,(k,e)=>(k+e)%3===0)],[cn.DATA_MASK_100,new ct(cn.DATA_MASK_100,(k,e)=>(Math.floor(k/2)+Math.floor(e/3)&1)===0)],[cn.DATA_MASK_101,new ct(cn.DATA_MASK_101,(k,e)=>k*e%6===0)],[cn.DATA_MASK_110,new ct(cn.DATA_MASK_110,(k,e)=>k*e%6<3)],[cn.DATA_MASK_111,new ct(cn.DATA_MASK_111,(k,e)=>(k+e+k*e%3&1)===0)]]);class vl{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new q;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const r=this.bitMatrix.getHeight();let i=0;const l=r-7;for(let c=r-1;c>=l;c--)i=this.copyBit(8,c,i);for(let c=r-8;c<r;c++)i=this.copyBit(c,8,i);if(this.parsedFormatInfo=An.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Xe.getVersionForNumber(r);let i=0;const l=e-11;for(let d=5;d>=0;d--)for(let h=e-9;h>=l;h--)i=this.copyBit(h,d,i);let c=Xe.decodeVersionInformation(i);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;i=0;for(let d=5;d>=0;d--)for(let h=e-9;h>=l;h--)i=this.copyBit(d,h,i);if(c=Xe.decodeVersionInformation(i),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new q}copyBit(e,r,i){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),i=ct.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const c=r.buildFunctionPattern();let d=!0;const h=new Uint8Array(r.getTotalCodewords());let x=0,v=0,I=0;for(let R=l-1;R>0;R-=2){R===6&&R--;for(let P=0;P<l;P++){const B=d?l-1-P:P;for(let H=0;H<2;H++)c.get(R-H,B)||(I++,v<<=1,this.bitMatrix.get(R-H,B)&&(v|=1),I===8&&(h[x++]=v,I=0,v=0))}d=!d}if(x!==r.getTotalCodewords())throw new q;return h}remask(){if(this.parsedFormatInfo===null)return;const e=ct.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,i=e.getWidth();r<i;r++)for(let l=r+1,c=e.getHeight();l<c;l++)e.get(r,l)!==e.get(l,r)&&(e.flip(l,r),e.flip(r,l))}}class io{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,i){if(e.length!==r.getTotalCodewords())throw new S;const l=r.getECBlocksForLevel(i);let c=0;const d=l.getECBlocks();for(const H of d)c+=H.getCount();const h=new Array(c);let x=0;for(const H of d)for(let Y=0;Y<H.getCount();Y++){const J=H.getDataCodewords(),oe=l.getECCodewordsPerBlock()+J;h[x++]=new io(J,new Uint8Array(oe))}const v=h[0].codewords.length;let I=h.length-1;for(;I>=0&&h[I].codewords.length!==v;)I--;I++;const R=v-l.getECCodewordsPerBlock();let P=0;for(let H=0;H<R;H++)for(let Y=0;Y<x;Y++)h[Y].codewords[H]=e[P++];for(let H=I;H<x;H++)h[H].codewords[R]=e[P++];const B=h[0].codewords.length;for(let H=R;H<B;H++)for(let Y=0;Y<x;Y++){const J=Y<I?H:H+1;h[Y].codewords[J]=e[P++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $n;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})($n||($n={}));class Ze{constructor(e,r,i,l){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=l,Ze.FOR_BITS.set(l,this),Ze.FOR_VALUE.set(e,this)}static forBits(e){const r=Ze.FOR_BITS.get(e);if(r===void 0)throw new S;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ze))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.TERMINATOR=new Ze($n.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ze.NUMERIC=new Ze($n.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ze.ALPHANUMERIC=new Ze($n.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ze.STRUCTURED_APPEND=new Ze($n.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ze.BYTE=new Ze($n.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ze.ECI=new Ze($n.ECI,"ECI",Int32Array.from([0,0,0]),7),Ze.KANJI=new Ze($n.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ze.FNC1_FIRST_POSITION=new Ze($n.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ze.FNC1_SECOND_POSITION=new Ze($n.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ze.HANZI=new Ze($n.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(e,r,i,l){const c=new la(e);let d=new _e;const h=new Array;let x=-1,v=-1;try{let I=null,R=!1,P;do{if(c.available()<4)P=Ze.TERMINATOR;else{const B=c.readBits(4);P=Ze.forBits(B)}switch(P){case Ze.TERMINATOR:break;case Ze.FNC1_FIRST_POSITION:case Ze.FNC1_SECOND_POSITION:R=!0;break;case Ze.STRUCTURED_APPEND:if(c.available()<16)throw new q;x=c.readBits(8),v=c.readBits(8);break;case Ze.ECI:const B=Ut.parseECIValue(c);if(I=z.getCharacterSetECIByValue(B),I===null)throw new q;break;case Ze.HANZI:const H=c.readBits(4),Y=c.readBits(P.getCharacterCountBits(r));H===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(c,d,Y);break;default:const J=c.readBits(P.getCharacterCountBits(r));switch(P){case Ze.NUMERIC:Ut.decodeNumericSegment(c,d,J);break;case Ze.ALPHANUMERIC:Ut.decodeAlphanumericSegment(c,d,J,R);break;case Ze.BYTE:Ut.decodeByteSegment(c,d,J,I,h,l);break;case Ze.KANJI:Ut.decodeKanjiSegment(c,d,J);break;default:throw new q}break}}while(P!==Ze.TERMINATOR)}catch{throw new q}return new at(e,d.toString(),h.length===0?null:h,i===null?null:i.toString(),x,v)}static decodeHanziSegment(e,r,i){if(i*13>e.available())throw new q;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const d=e.readBits(13);let h=d/96<<8&4294967295|d%96;h<959?h+=41377:h+=42657,l[c]=h>>8&255,l[c+1]=h&255,c+=2,i--}try{r.append(Oe.decode(l,we.GB2312))}catch(d){throw new q(d)}}static decodeKanjiSegment(e,r,i){if(i*13>e.available())throw new q;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const d=e.readBits(13);let h=d/192<<8&4294967295|d%192;h<7936?h+=33088:h+=49472,l[c]=h>>8,l[c+1]=h,c+=2,i--}try{r.append(Oe.decode(l,we.SHIFT_JIS))}catch(d){throw new q(d)}}static decodeByteSegment(e,r,i,l,c,d){if(8*i>e.available())throw new q;const h=new Uint8Array(i);for(let v=0;v<i;v++)h[v]=e.readBits(8);let x;l===null?x=we.guessEncoding(h,d):x=l.getName();try{r.append(Oe.decode(h,x))}catch(v){throw new q(v)}c.push(h)}static toAlphaNumericChar(e){if(e>=Ut.ALPHANUMERIC_CHARS.length)throw new q;return Ut.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,i,l){const c=r.length();for(;i>1;){if(e.available()<11)throw new q;const d=e.readBits(11);r.append(Ut.toAlphaNumericChar(Math.floor(d/45))),r.append(Ut.toAlphaNumericChar(d%45)),i-=2}if(i===1){if(e.available()<6)throw new q;r.append(Ut.toAlphaNumericChar(e.readBits(6)))}if(l)for(let d=c;d<r.length();d++)r.charAt(d)==="%"&&(d<r.length()-1&&r.charAt(d+1)==="%"?r.deleteCharAt(d+1):r.setCharAt(d,""))}static decodeNumericSegment(e,r,i){for(;i>=3;){if(e.available()<10)throw new q;const l=e.readBits(10);if(l>=1e3)throw new q;r.append(Ut.toAlphaNumericChar(Math.floor(l/100))),r.append(Ut.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(Ut.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(e.available()<7)throw new q;const l=e.readBits(7);if(l>=100)throw new q;r.append(Ut.toAlphaNumericChar(Math.floor(l/10))),r.append(Ut.toAlphaNumericChar(l%10))}else if(i===1){if(e.available()<4)throw new q;const l=e.readBits(4);if(l>=10)throw new q;r.append(Ut.toAlphaNumericChar(l))}}static parseECIValue(e){const r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const i=e.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new q}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class ca{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class ua{constructor(){this.rsDecoder=new es(mt.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Pe.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const i=new vl(e);let l=null;try{return this.decodeBitMatrixParser(i,r)}catch(c){l=c}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const c=this.decodeBitMatrixParser(i,r);return c.setOther(new ca(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(e,r){const i=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=io.getDataBlocks(c,i,l);let h=0;for(const I of d)h+=I.getNumDataCodewords();const x=new Uint8Array(h);let v=0;for(const I of d){const R=I.getCodewords(),P=I.getNumDataCodewords();this.correctErrors(R,P);for(let B=0;B<P;B++)x[v++]=R[B]}return Ut.decode(x,i,l,r)}correctErrors(e,r){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-r)}catch{throw new L}for(let l=0;l<r;l++)e[l]=i[l]}}class $s extends Le{constructor(e,r,i){super(e,r),this.estimatedModuleSize=i}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const l=(this.getX()+r)/2,c=(this.getY()+e)/2,d=(this.estimatedModuleSize+i)/2;return new $s(l,c,d)}}class Rr{constructor(e,r,i,l,c,d,h){this.image=e,this.startX=r,this.startY=i,this.width=l,this.height=c,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,i=this.width,l=e+i,c=this.startY+r/2,d=new Int32Array(3),h=this.image;for(let x=0;x<r;x++){const v=c+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));d[0]=0,d[1]=0,d[2]=0;let I=e;for(;I<l&&!h.get(I,v);)I++;let R=0;for(;I<l;){if(h.get(I,v))if(R===1)d[1]++;else if(R===2){if(this.foundPatternCross(d)){const P=this.handlePossibleCenter(d,v,I);if(P!==null)return P}d[0]=d[2],d[1]=1,d[2]=0,R=1}else d[++R]++;else R===1&&R++,d[R]++;I++}if(this.foundPatternCross(d)){const P=this.handlePossibleCenter(d,v,l);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,i=r/2;for(let l=0;l<3;l++)if(Math.abs(r-e[l])>=i)return!1;return!0}crossCheckVertical(e,r,i,l){const c=this.image,d=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let x=e;for(;x>=0&&c.get(r,x)&&h[1]<=i;)h[1]++,x--;if(x<0||h[1]>i)return NaN;for(;x>=0&&!c.get(r,x)&&h[0]<=i;)h[0]++,x--;if(h[0]>i)return NaN;for(x=e+1;x<d&&c.get(r,x)&&h[1]<=i;)h[1]++,x++;if(x===d||h[1]>i)return NaN;for(;x<d&&!c.get(r,x)&&h[2]<=i;)h[2]++,x++;if(h[2]>i)return NaN;const v=h[0]+h[1]+h[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(h)?Rr.centerFromEnd(h,x):NaN}handlePossibleCenter(e,r,i){const l=e[0]+e[1]+e[2],c=Rr.centerFromEnd(e,i),d=this.crossCheckVertical(r,c,2*e[1],l);if(!isNaN(d)){const h=(e[0]+e[1]+e[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(h,d,c))return v.combineEstimate(d,c,h);const x=new $s(c,d,h);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Vr extends Le{constructor(e,r,i,l){super(e,r),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,r,i){const l=this.count+1,c=(this.count*this.getX()+r)/l,d=(this.count*this.getY()+e)/l,h=(this.count*this.estimatedModuleSize+i)/l;return new Vr(c,d,h,l)}}class ms{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(de.TRY_HARDER)!==void 0,i=e!=null&&e.get(de.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),d=l.getWidth();let h=Math.floor(3*c/(4*$t.MAX_MODULES));(h<$t.MIN_SKIP||r)&&(h=$t.MIN_SKIP);let x=!1;const v=new Int32Array(5);for(let R=h-1;R<c&&!x;R+=h){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let P=0;for(let B=0;B<d;B++)if(l.get(B,R))(P&1)===1&&P++,v[P]++;else if((P&1)===0)if(P===4)if($t.foundPatternCross(v)){if(this.handlePossibleCenter(v,R,B,i)===!0)if(h=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>v[2]&&(R+=Y-v[2]-h,B=d-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,P=3;continue}P=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,P=3;else v[++P]++;else v[P]++;$t.foundPatternCross(v)&&this.handlePossibleCenter(v,R,d,i)===!0&&(h=v[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return Le.orderBestPatterns(I),new ms(I)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let c=0;c<5;c++){const d=e[c];if(d===0)return!1;r+=d}if(r<7)return!1;const i=r/7,l=i/2;return Math.abs(i-e[0])<l&&Math.abs(i-e[1])<l&&Math.abs(3*i-e[2])<3*l&&Math.abs(i-e[3])<l&&Math.abs(i-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,i,l){const c=this.getCrossCheckStateCount();let d=0;const h=this.image;for(;e>=d&&r>=d&&h.get(r-d,e-d);)c[2]++,d++;if(e<d||r<d)return!1;for(;e>=d&&r>=d&&!h.get(r-d,e-d)&&c[1]<=i;)c[1]++,d++;if(e<d||r<d||c[1]>i)return!1;for(;e>=d&&r>=d&&h.get(r-d,e-d)&&c[0]<=i;)c[0]++,d++;if(c[0]>i)return!1;const x=h.getHeight(),v=h.getWidth();for(d=1;e+d<x&&r+d<v&&h.get(r+d,e+d);)c[2]++,d++;if(e+d>=x||r+d>=v)return!1;for(;e+d<x&&r+d<v&&!h.get(r+d,e+d)&&c[3]<i;)c[3]++,d++;if(e+d>=x||r+d>=v||c[3]>=i)return!1;for(;e+d<x&&r+d<v&&h.get(r+d,e+d)&&c[4]<i;)c[4]++,d++;if(c[4]>=i)return!1;const I=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(I-l)<2*l&&$t.foundPatternCross(c)}crossCheckVertical(e,r,i,l){const c=this.image,d=c.getHeight(),h=this.getCrossCheckStateCount();let x=e;for(;x>=0&&c.get(r,x);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(r,x)&&h[1]<=i;)h[1]++,x--;if(x<0||h[1]>i)return NaN;for(;x>=0&&c.get(r,x)&&h[0]<=i;)h[0]++,x--;if(h[0]>i)return NaN;for(x=e+1;x<d&&c.get(r,x);)h[2]++,x++;if(x===d)return NaN;for(;x<d&&!c.get(r,x)&&h[3]<i;)h[3]++,x++;if(x===d||h[3]>=i)return NaN;for(;x<d&&c.get(r,x)&&h[4]<i;)h[4]++,x++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=2*l?NaN:$t.foundPatternCross(h)?$t.centerFromEnd(h,x):NaN}crossCheckHorizontal(e,r,i,l){const c=this.image,d=c.getWidth(),h=this.getCrossCheckStateCount();let x=e;for(;x>=0&&c.get(x,r);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(x,r)&&h[1]<=i;)h[1]++,x--;if(x<0||h[1]>i)return NaN;for(;x>=0&&c.get(x,r)&&h[0]<=i;)h[0]++,x--;if(h[0]>i)return NaN;for(x=e+1;x<d&&c.get(x,r);)h[2]++,x++;if(x===d)return NaN;for(;x<d&&!c.get(x,r)&&h[3]<i;)h[3]++,x++;if(x===d||h[3]>=i)return NaN;for(;x<d&&c.get(x,r)&&h[4]<i;)h[4]++,x++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=l?NaN:$t.foundPatternCross(h)?$t.centerFromEnd(h,x):NaN}handlePossibleCenter(e,r,i,l){const c=e[0]+e[1]+e[2]+e[3]+e[4];let d=$t.centerFromEnd(e,i),h=this.crossCheckVertical(r,Math.floor(d),e[2],c);if(!isNaN(h)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(h),e[2],c),!isNaN(d)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(d),e[2],c)))){const x=c/7;let v=!1;const I=this.possibleCenters;for(let R=0,P=I.length;R<P;R++){const B=I[R];if(B.aboutEquals(x,h,d)){I[R]=B.combineEstimate(h,d,x),v=!0;break}}if(!v){const R=new Vr(d,h,x);I.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=$t.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const i=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=$t.CENTER_QUORUM&&(e++,r+=d.getEstimatedModuleSize());if(e<3)return!1;const l=r/i;let c=0;for(const d of this.possibleCenters)c+=Math.abs(d.getEstimatedModuleSize()-l);return c<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new W;const r=this.possibleCenters;let i;if(e>3){let l=0,c=0;for(const x of this.possibleCenters){const v=x.getEstimatedModuleSize();l+=v,c+=v*v}i=l/e;let d=Math.sqrt(c/e-i*i);r.sort((x,v)=>{const I=Math.abs(v.getEstimatedModuleSize()-i),R=Math.abs(x.getEstimatedModuleSize()-i);return I<R?-1:I>R?1:0});const h=Math.max(.2*i,d);for(let x=0;x<r.length&&r.length>3;x++){const v=r[x];Math.abs(v.getEstimatedModuleSize()-i)>h&&(r.splice(x,1),x--)}}if(r.length>3){let l=0;for(const c of r)l+=c.getEstimatedModuleSize();i=l/r.length,r.sort((c,d)=>{if(d.getCount()===c.getCount()){const h=Math.abs(d.getEstimatedModuleSize()-i),x=Math.abs(c.getEstimatedModuleSize()-i);return h<x?1:h>x?-1:0}else return d.getCount()-c.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class ts{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(de.NEED_RESULT_POINT_CALLBACK);const i=new $t(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const r=e.getTopLeft(),i=e.getTopRight(),l=e.getBottomLeft(),c=this.calculateModuleSize(r,i,l);if(c<1)throw new W("No pattern found in proccess finder.");const d=ts.computeDimension(r,i,l,c),h=Xe.getProvisionalVersionForDimension(d),x=h.getDimensionForVersion()-7;let v=null;if(h.getAlignmentPatternCenters().length>0){const B=i.getX()-r.getX()+l.getX(),H=i.getY()-r.getY()+l.getY(),Y=1-3/x,J=Math.floor(r.getX()+Y*(B-r.getX())),oe=Math.floor(r.getY()+Y*(H-r.getY()));for(let Se=4;Se<=16;Se<<=1)try{v=this.findAlignmentInRegion(c,J,oe,Se);break}catch(Te){if(!(Te instanceof W))throw Te}}const I=ts.createTransform(r,i,l,v,d),R=ts.sampleGrid(this.image,I,d);let P;return v===null?P=[l,r,i]:P=[l,r,i,v],new an(R,P)}static createTransform(e,r,i,l,c){const d=c-3.5;let h,x,v,I;return l!==null?(h=l.getX(),x=l.getY(),v=d-3,I=v):(h=r.getX()-e.getX()+i.getX(),x=r.getY()-e.getY()+i.getY(),v=d,I=d),bn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,v,I,3.5,d,e.getX(),e.getY(),r.getX(),r.getY(),h,x,i.getX(),i.getY())}static sampleGrid(e,r,i){return Kn.getInstance().sampleGridWithTransform(e,i,i,r)}static computeDimension(e,r,i,l){const c=tt.round(Le.distance(e,r)/l),d=tt.round(Le.distance(e,i)/l);let h=Math.floor((c+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new W("Dimensions could be not found.")}return h}calculateModuleSize(e,r,i){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,i,l){let c=this.sizeOfBlackWhiteBlackRun(e,r,i,l),d=1,h=e-(i-e);h<0?(d=e/(e-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let x=Math.floor(r-(l-r)*d);return d=1,x<0?(d=r/(r-x),x=0):x>=this.image.getHeight()&&(d=(this.image.getHeight()-1-r)/(x-r),x=this.image.getHeight()-1),h=Math.floor(e+(h-e)*d),c+=this.sizeOfBlackWhiteBlackRun(e,r,h,x),c-1}sizeOfBlackWhiteBlackRun(e,r,i,l){const c=Math.abs(l-r)>Math.abs(i-e);if(c){let B=e;e=r,r=B,B=i,i=l,l=B}const d=Math.abs(i-e),h=Math.abs(l-r);let x=-d/2;const v=e<i?1:-1,I=r<l?1:-1;let R=0;const P=i+v;for(let B=e,H=r;B!==P;B+=v){const Y=c?H:B,J=c?B:H;if(R===1===this.image.get(Y,J)){if(R===2)return tt.distance(B,H,e,r);R++}if(x+=h,x>0){if(H===l)break;H+=I,x-=d}}return R===2?tt.distance(i+v,l,e,r):NaN}findAlignmentInRegion(e,r,i,l){const c=Math.floor(l*e),d=Math.max(0,r-c),h=Math.min(this.image.getWidth()-1,r+c);if(h-d<e*3)throw new W("Alignment top exceeds estimated module size.");const x=Math.max(0,i-c),v=Math.min(this.image.getHeight()-1,i+c);if(v-x<e*3)throw new W("Alignment bottom exceeds estimated module size.");return new Rr(this.image,d,x,h-d,v-x,e,this.resultPointCallback).find()}}class zn{constructor(){this.decoder=new ua}getDecoder(){return this.decoder}decode(e,r){let i,l;if(r!=null&&r.get(de.PURE_BARCODE)!==void 0){const x=zn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(x,r),l=zn.NO_POINTS}else{const x=new ts(e.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(x.getBits(),r),l=x.getPoints()}i.getOther()instanceof ca&&i.getOther().applyMirroredCorrection(l);const c=new Ne(i.getText(),i.getRawBytes(),void 0,l,be.QR_CODE,void 0),d=i.getByteSegments();d!==null&&c.putMetadata(De.BYTE_SEGMENTS,d);const h=i.getECLevel();return h!==null&&c.putMetadata(De.ERROR_CORRECTION_LEVEL,h),i.hasStructuredAppend()&&(c.putMetadata(De.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),c.putMetadata(De.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(r===null||i===null)throw new W;const l=this.moduleSize(r,e);let c=r[1],d=i[1],h=r[0],x=i[0];if(h>=x||c>=d)throw new W;if(d-c!==x-h&&(x=h+(d-c),x>=e.getWidth()))throw new W;const v=Math.round((x-h+1)/l),I=Math.round((d-c+1)/l);if(v<=0||I<=0)throw new W;if(I!==v)throw new W;const R=Math.floor(l/2);c+=R,h+=R;const P=h+Math.floor((v-1)*l)-x;if(P>0){if(P>R)throw new W;h-=P}const B=c+Math.floor((I-1)*l)-d;if(B>0){if(B>R)throw new W;c-=B}const H=new Pe(v,I);for(let Y=0;Y<I;Y++){const J=c+Math.floor(Y*l);for(let oe=0;oe<v;oe++)e.get(h+Math.floor(oe*l),J)&&H.set(oe,Y)}return H}static moduleSize(e,r){const i=r.getHeight(),l=r.getWidth();let c=e[0],d=e[1],h=!0,x=0;for(;c<l&&d<i;){if(h!==r.get(c,d)){if(++x===5)break;h=!h}c++,d++}if(c===l||d===i)throw new W;return(c-e[0])/7}}zn.NO_POINTS=new Array;class Je{PDF417Common(){}static getBitCountSum(e){return tt.sum(e)}static toIntArray(e){if(e==null||!e.length)return Je.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let i=0;for(const l of e)r[i++]=l;return r}static getCodeword(e){const r=ee.binarySearch(Je.SYMBOL_TABLE,e&262143);return r<0?-1:(Je.CODEWORD_TABLE[r]-1)%Je.NUMBER_OF_CODEWORDS}}Je.NUMBER_OF_CODEWORDS=929,Je.MAX_CODEWORDS_IN_BARCODE=Je.NUMBER_OF_CODEWORDS-1,Je.MIN_ROWS_IN_BARCODE=3,Je.MAX_ROWS_IN_BARCODE=90,Je.MODULES_IN_CODEWORD=17,Je.MODULES_IN_STOP_PATTERN=18,Je.BARS_IN_MODULE=8,Je.EMPTY_INT_ARRAY=new Int32Array([]),Je.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Je.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Cl{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class st{static detectMultiple(e,r,i){let l=e.getBlackMatrix(),c=st.detect(i,l);return c.length||(l=l.clone(),l.rotate180(),c=st.detect(i,l)),new Cl(l,c)}static detect(e,r){const i=new Array;let l=0,c=0,d=!1;for(;l<r.getHeight();){const h=st.findVertices(r,l,c);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,c=0;for(const x of i)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=st.ROW_STEP;continue}if(d=!0,i.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return i}static findVertices(e,r,i){const l=e.getHeight(),c=e.getWidth(),d=new Array(8);return st.copyToResult(d,st.findRowsWithPattern(e,l,c,r,i,st.START_PATTERN),st.INDEXES_START_PATTERN),d[4]!=null&&(i=Math.trunc(d[4].getX()),r=Math.trunc(d[4].getY())),st.copyToResult(d,st.findRowsWithPattern(e,l,c,r,i,st.STOP_PATTERN),st.INDEXES_STOP_PATTERN),d}static copyToResult(e,r,i){for(let l=0;l<i.length;l++)e[i[l]]=r[l]}static findRowsWithPattern(e,r,i,l,c,d){const h=new Array(4);let x=!1;const v=new Int32Array(d.length);for(;l<r;l+=st.ROW_STEP){let R=st.findGuardPattern(e,c,l,i,!1,d,v);if(R!=null){for(;l>0;){const P=st.findGuardPattern(e,c,--l,i,!1,d,v);if(P!=null)R=P;else{l++;break}}h[0]=new Le(R[0],l),h[1]=new Le(R[1],l),x=!0;break}}let I=l+1;if(x){let R=0,P=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;I<r;I++){const B=st.findGuardPattern(e,P[0],I,i,!1,d,v);if(B!=null&&Math.abs(P[0]-B[0])<st.MAX_PATTERN_DRIFT&&Math.abs(P[1]-B[1])<st.MAX_PATTERN_DRIFT)P=B,R=0;else{if(R>st.SKIPPED_ROW_COUNT_MAX)break;R++}}I-=R+1,h[2]=new Le(P[0],I),h[3]=new Le(P[1],I)}return I-l<st.BARCODE_MIN_HEIGHT&&ee.fill(h,null),h}static findGuardPattern(e,r,i,l,c,d,h){ee.fillWithin(h,0,h.length,0);let x=r,v=0;for(;e.get(x,i)&&x>0&&v++<st.MAX_PIXEL_DRIFT;)x--;let I=x,R=0,P=d.length;for(let B=c;I<l;I++)if(e.get(I,i)!==B)h[R]++;else{if(R===P-1){if(st.patternMatchVariance(h,d,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return new Int32Array([x,I]);x+=h[0]+h[1],j.arraycopy(h,2,h,0,R-1),h[R-1]=0,h[R]=0,R--}else R++;h[R]=1,B=!B}return R===P-1&&st.patternMatchVariance(h,d,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE?new Int32Array([x,I-1]):null}static patternMatchVariance(e,r,i){let l=e.length,c=0,d=0;for(let v=0;v<l;v++)c+=e[v],d+=r[v];if(c<d)return 1/0;let h=c/d;i*=h;let x=0;for(let v=0;v<l;v++){let I=e[v],R=r[v]*h,P=I>R?I-R:R-I;if(P>i)return 1/0;x+=P}return x/c}}st.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),st.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),st.MAX_AVG_VARIANCE=.42,st.MAX_INDIVIDUAL_VARIANCE=.8,st.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),st.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),st.MAX_PIXEL_DRIFT=3,st.MAX_PATTERN_DRIFT=5,st.SKIPPED_ROW_COUNT_MAX=25,st.ROW_STEP=5,st.BARCODE_MIN_HEIGHT=10;class Sn{constructor(e,r){if(r.length===0)throw new S;this.field=e;let i=r.length;if(i>1&&r[0]===0){let l=1;for(;l<i&&r[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),j.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let r=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)r=this.field.add(this.field.multiply(e,r),this.coefficients[l]);return r}add(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,i=e.coefficients;if(r.length>i.length){let d=r;r=i,i=d}let l=new Int32Array(i.length),c=i.length-r.length;j.arraycopy(i,0,l,0,c);for(let d=c;d<i.length;d++)l[d]=this.field.add(r[d-c],i[d]);return new Sn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Sn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Sn(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,l=e.coefficients,c=l.length,d=new Int32Array(i+c-1);for(let h=0;h<i;h++){let x=r[h];for(let v=0;v<c;v++)d[h+v]=this.field.add(d[h+v],this.field.multiply(x,l[v]))}return new Sn(this.field,d)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let i=0;i<e;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new Sn(this.field,r)}multiplyScalar(e){if(e===0)return new Sn(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let l=0;l<r;l++)i[l]=this.field.multiply(this.coefficients[l],e);return new Sn(this.field,i)}multiplyByMonomial(e,r){if(e<0)throw new S;if(r===0)return new Sn(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+e);for(let c=0;c<i;c++)l[c]=this.field.multiply(this.coefficients[c],r);return new Sn(this.field,l)}toString(){let e=new _e;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(r===0||i!==1)&&e.append(i),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class El{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new S;return this.logTable[e]}inverse(e){if(e===0)throw new En;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Qs extends El{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let l=0;l<e;l++)this.expTable[l]=i,i=i*r%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Sn(this,new Int32Array([0])),this.one=new Sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new S;if(r===0)return this.zero;let i=new Int32Array(e+1);return i[0]=r,new Sn(this,i)}}Qs.PDF417_GF=new Qs(Je.NUMBER_OF_CODEWORDS,3);class da{constructor(){this.field=Qs.PDF417_GF}decode(e,r,i){let l=new Sn(this.field,e),c=new Int32Array(r),d=!1;for(let H=r;H>0;H--){let Y=l.evaluateAt(this.field.exp(H));c[r-H]=Y,Y!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(i!=null)for(const H of i){let Y=this.field.exp(e.length-1-H),J=new Sn(this.field,new Int32Array([this.field.subtract(0,Y),1]));h=h.multiply(J)}let x=new Sn(this.field,c),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),I=v[0],R=v[1],P=this.findErrorLocations(I),B=this.findErrorMagnitudes(R,I,P);for(let H=0;H<P.length;H++){let Y=e.length-1-this.field.log(P[H]);if(Y<0)throw L.getChecksumInstance();e[Y]=this.field.subtract(e[Y],B[H])}return P.length}runEuclideanAlgorithm(e,r,i){if(e.getDegree()<r.getDegree()){let P=e;e=r,r=P}let l=e,c=r,d=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(i/2);){let P=l,B=d;if(l=c,d=h,l.isZero())throw L.getChecksumInstance();c=P;let H=this.field.getZero(),Y=l.getCoefficient(l.getDegree()),J=this.field.inverse(Y);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let oe=c.getDegree()-l.getDegree(),Se=this.field.multiply(c.getCoefficient(c.getDegree()),J);H=H.add(this.field.buildMonomial(oe,Se)),c=c.subtract(l.multiplyByMonomial(oe,Se))}h=H.multiply(d).subtract(B).negative()}let x=h.getCoefficient(0);if(x===0)throw L.getChecksumInstance();let v=this.field.inverse(x),I=h.multiply(v),R=c.multiply(v);return[I,R]}findErrorLocations(e){let r=e.getDegree(),i=new Int32Array(r),l=0;for(let c=1;c<this.field.getSize()&&l<r;c++)e.evaluateAt(c)===0&&(i[l]=this.field.inverse(c),l++);if(l!==r)throw L.getChecksumInstance();return i}findErrorMagnitudes(e,r,i){let l=r.getDegree(),c=new Int32Array(l);for(let v=1;v<=l;v++)c[l-v]=this.field.multiply(v,r.getCoefficient(v));let d=new Sn(this.field,c),h=i.length,x=new Int32Array(h);for(let v=0;v<h;v++){let I=this.field.inverse(i[v]),R=this.field.subtract(0,e.evaluateAt(I)),P=this.field.inverse(d.evaluateAt(I));x[v]=this.field.multiply(R,P)}return x}}class Ts{constructor(e,r,i,l,c){e instanceof Ts?this.constructor_2(e):this.constructor_1(e,r,i,l,c)}constructor_1(e,r,i,l,c){const d=r==null||i==null,h=l==null||c==null;if(d&&h)throw new W;d?(r=new Le(0,l.getY()),i=new Le(0,c.getY())):h&&(l=new Le(e.getWidth()-1,r.getY()),c=new Le(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=r,this.bottomLeft=i,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new Ts(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,i){let l=this.topLeft,c=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(e>0){let x=i?this.topLeft:this.topRight,v=Math.trunc(x.getY()-e);v<0&&(v=0);let I=new Le(x.getX(),v);i?l=I:d=I}if(r>0){let x=i?this.bottomLeft:this.bottomRight,v=Math.trunc(x.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let I=new Le(x.getX(),v);i?c=I:h=I}return new Ts(this.image,l,c,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ki{constructor(e,r,i,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ns{constructor(){this.buffer=""}static form(e,r){let i=-1;function l(d,h,x,v,I,R){if(d==="%%")return"%";if(r[++i]===void 0)return;d=v?parseInt(v.substr(1)):void 0;let P=I?parseInt(I.substr(1)):void 0,B;switch(R){case"s":B=r[i];break;case"c":B=r[i][0];break;case"f":B=parseFloat(r[i]).toFixed(d);break;case"p":B=parseFloat(r[i]).toPrecision(d);break;case"e":B=parseFloat(r[i]).toExponential(d);break;case"x":B=parseInt(r[i]).toString(P||16);break;case"d":B=parseFloat(parseInt(r[i],P||10).toPrecision(d)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(P);let H=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;B.length<H;)B=h!==void 0?B+Y:Y+B;return B}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}format(e,...r){this.buffer+=ns.form(e,r)}toString(){return this.buffer}}class Ur{constructor(e){this.boundingBox=new Ts(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let i=1;i<Ur.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(e)-i;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(e)+i,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ns;let r=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return e.toString()}}Ur.MAX_NEARBY_DISTANCE=5;class gs{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[i,l]of this.values.entries()){const c={getKey:()=>i,getValue:()=>l};c.getValue()>e?(e=c.getValue(),r=[],r.push(c.getKey())):c.getValue()===e&&r.push(c.getKey())}return Je.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class bl extends Ur{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=-1,v=1,I=0;for(let R=d;R<h;R++){if(r[R]==null)continue;let P=r[R],B=P.getRowNumber()-x;if(B===0)I++;else if(B===1)v=Math.max(v,I),I=1,x=P.getRowNumber();else if(B<0||P.getRowNumber()>=e.getRowCount()||B>R)r[R]=null;else{let H;v>2?H=(v-2)*B:H=B;let Y=H>=R;for(let J=1;J<=H&&!Y;J++)Y=r[R-J]!=null;Y?r[R]=null:(x=P.getRowNumber(),I=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),x=-1;for(let v=c;v<d;v++){if(h[v]==null)continue;let I=h[v];I.setRowNumberAsRowIndicatorColumn();let R=I.getRowNumber()-x;R===0||(R===1?x=I.getRowNumber():I.getRowNumber()>=e.getRowCount()?h[v]=null:x=I.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new gs,i=new gs,l=new gs,c=new gs;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let x=h.getValue()%30,v=h.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:i.setValue(x*3+1);break;case 1:c.setValue(x/3),l.setValue(x%3);break;case 2:r.setValue(x+1);break}}if(r.getValue().length===0||i.getValue().length===0||l.getValue().length===0||c.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<Je.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>Je.MAX_ROWS_IN_BARCODE)return null;let d=new ki(r.getValue()[0],i.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,d),d}removeIncorrectCodewords(e,r){for(let i=0;i<e.length;i++){let l=e[i];if(e[i]==null)continue;let c=l.getValue()%30,d=l.getRowNumber();if(d>r.getRowCount()){e[i]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:c*3+1!==r.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(c/3)!==r.getErrorCorrectionLevel()||c%3!==r.getRowCountLowerPart())&&(e[i]=null);break;case 2:c+1!==r.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ri{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Je.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&r[i]!=null&&e[i].getRowNumber()===r[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[i];c!=null&&(c.setRowNumber(e[i].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let l=r[i].getRowNumber(),c=0;for(let d=this.barcodeColumnCount+1;d>0&&c<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[i];h!=null&&(c=Ri.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let l=r[i].getRowNumber(),c=0;for(let d=1;d<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[i];h!=null&&(c=Ri.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,i){if(!this.detectionResultColumns[e-1])return;let l=i[r],c=this.detectionResultColumns[e-1].getCodewords(),d=c;this.detectionResultColumns[e+1]!=null&&(d=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=c[r],h[3]=d[r],r>0&&(h[0]=i[r-1],h[4]=c[r-1],h[5]=d[r-1]),r>1&&(h[8]=i[r-2],h[10]=c[r-2],h[11]=d[r-2]),r<i.length-1&&(h[1]=i[r+1],h[6]=c[r+1],h[7]=d[r+1]),r<i.length-2&&(h[9]=i[r+2],h[12]=c[r+2],h[13]=d[r+2]);for(let x of h)if(Ri.adjustRowNumber(l,x))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ns;for(let i=0;i<e.getCodewords().length;i++){r.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[i];if(c==null){r.format("    |   ");continue}r.format(" %3d|%3d",c.getRowNumber(),c.getValue())}r.format("%n")}return r.toString()}}class Is{constructor(e,r,i,l){this.rowNumber=Is.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Is.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Is.BARCODE_ROW_UNKNOWN=-1;class Nn{static initialize(){for(let e=0;e<Je.SYMBOL_TABLE.length;e++){let r=Je.SYMBOL_TABLE[e],i=r&1;for(let l=0;l<Je.BARS_IN_MODULE;l++){let c=0;for(;(r&1)===i;)c+=1,r>>=1;i=r&1,Nn.RATIOS_TABLE[e]||(Nn.RATIOS_TABLE[e]=new Array(Je.BARS_IN_MODULE)),Nn.RATIOS_TABLE[e][Je.BARS_IN_MODULE-l-1]=Math.fround(c/Je.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=Nn.getDecodedCodewordValue(Nn.sampleBitCounts(e));return r!==-1?r:Nn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=tt.sum(e),i=new Int32Array(Je.BARS_IN_MODULE),l=0,c=0;for(let d=0;d<Je.MODULES_IN_CODEWORD;d++){let h=r/(2*Je.MODULES_IN_CODEWORD)+d*r/Je.MODULES_IN_CODEWORD;c+e[l]<=h&&(c+=e[l],l++),i[l]++}return i}static getDecodedCodewordValue(e){let r=Nn.getBitValue(e);return Je.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let i=0;i<e.length;i++)for(let l=0;l<e[i];l++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=tt.sum(e),i=new Array(Je.BARS_IN_MODULE);if(r>1)for(let d=0;d<i.length;d++)i[d]=Math.fround(e[d]/r);let l=Br.MAX_VALUE,c=-1;this.bSymbolTableReady||Nn.initialize();for(let d=0;d<Nn.RATIOS_TABLE.length;d++){let h=0,x=Nn.RATIOS_TABLE[d];for(let v=0;v<Je.BARS_IN_MODULE;v++){let I=Math.fround(x[v]-i[v]);if(h+=Math.fround(I*I),h>=l)break}h<l&&(l=h,c=Je.SYMBOL_TABLE[d])}return c}}Nn.bSymbolTableReady=!1,Nn.RATIOS_TABLE=new Array(Je.SYMBOL_TABLE.length).map(k=>new Array(Je.BARS_IN_MODULE));class oo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class fa{static parseLong(e,r=void 0){return parseInt(e,r)}}class rs extends E{}rs.kind="NullPointerException";class ha{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,i){if(e==null)throw new rs;if(r<0||r>e.length||i<0||r+i>e.length||r+i<0)throw new F;if(i===0)return;for(let l=0;l<i;l++)this.write(e[r+l])}flush(){}close(){}}class ao extends E{}class Al extends ha{constructor(e=32){if(super(),this.count=0,e<0)throw new S("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new ao;i=G.MAX_VALUE}this.buf=ee.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,i){if(r<0||r>e.length||i<0||r+i-e.length>0)throw new F;this.ensureCapacity(this.count+i),j.arraycopy(e,r,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ee.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var bt;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bt||(bt={}));function _i(){if(typeof window<"u")return window.BigInt||null;if(typeof Cc<"u")return Cc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Oi;function un(k){if(typeof Oi>"u"&&(Oi=_i()),Oi===null)throw new Error("BigInt is not supported!");return Oi(k)}function Js(){let k=[];k[0]=un(1);let e=un(900);k[1]=e;for(let r=2;r<16;r++)k[r]=k[r-1]*e;return k}class ae{static decode(e,r){let i=new _e(""),l=z.ISO8859_1;i.enableDecoding(l);let c=1,d=e[c++],h=new oo;for(;c<e[0];){switch(d){case ae.TEXT_COMPACTION_MODE_LATCH:c=ae.textCompaction(e,c,i);break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:c=ae.byteCompaction(d,e,l,c,i);break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c++]);break;case ae.NUMERIC_COMPACTION_MODE_LATCH:c=ae.numericCompaction(e,c,i);break;case ae.ECI_CHARSET:z.getCharacterSetECIByValue(e[c++]);break;case ae.ECI_GENERAL_PURPOSE:c+=2;break;case ae.ECI_USER_DEFINED:c++;break;case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=ae.decodeMacroBlock(e,c,h);break;case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:throw new q;default:c--,c=ae.textCompaction(e,c,i);break}if(c<e.length)d=e[c++];else throw q.getFormatInstance()}if(i.length()===0)throw q.getFormatInstance();let x=new at(null,i.toString(),null,r);return x.setOther(h),x}static decodeMacroBlock(e,r,i){if(r+ae.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw q.getFormatInstance();let l=new Int32Array(ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<ae.NUMBER_OF_SEQUENCE_CODEWORDS;h++,r++)l[h]=e[r];i.setSegmentIndex(G.parseInt(ae.decodeBase900toBase10(l,ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new _e;r=ae.textCompaction(e,r,c),i.setFileId(c.toString());let d=-1;for(e[r]===ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=r+1);r<e[0];)switch(e[r]){case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new _e;r=ae.textCompaction(e,r+1,h),i.setFileName(h.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new _e;r=ae.textCompaction(e,r+1,x),i.setSender(x.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new _e;r=ae.textCompaction(e,r+1,v),i.setAddressee(v.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new _e;r=ae.numericCompaction(e,r+1,I),i.setSegmentCount(G.parseInt(I.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let R=new _e;r=ae.numericCompaction(e,r+1,R),i.setTimestamp(fa.parseLong(R.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new _e;r=ae.numericCompaction(e,r+1,P),i.setChecksum(G.parseInt(P.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new _e;r=ae.numericCompaction(e,r+1,B),i.setFileSize(fa.parseLong(B.toString()));break;default:throw q.getFormatInstance()}break;case ae.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(d!==-1){let h=r-d;i.isLastSegment()&&h--,i.setOptionalData(ee.copyOfRange(e,d,d+h))}return r}static textCompaction(e,r,i){let l=new Int32Array((e[0]-r)*2),c=new Int32Array((e[0]-r)*2),d=0,h=!1;for(;r<e[0]&&!h;){let x=e[r++];if(x<ae.TEXT_COMPACTION_MODE_LATCH)l[d]=x/30,l[d+1]=x%30,d+=2;else switch(x){case ae.TEXT_COMPACTION_MODE_LATCH:l[d++]=ae.TEXT_COMPACTION_MODE_LATCH;break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,h=!0;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=e[r++],c[d]=x,d++;break}}return ae.decodeTextCompaction(l,c,d,i),r}static decodeTextCompaction(e,r,i,l){let c=bt.ALPHA,d=bt.ALPHA,h=0;for(;h<i;){let x=e[h],v="";switch(c){case bt.ALPHA:if(x<26)v=String.fromCharCode(65+x);else switch(x){case 26:v=" ";break;case ae.LL:c=bt.LOWER;break;case ae.ML:c=bt.MIXED;break;case ae.PS:d=c,c=bt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.LOWER:if(x<26)v=String.fromCharCode(97+x);else switch(x){case 26:v=" ";break;case ae.AS:d=c,c=bt.ALPHA_SHIFT;break;case ae.ML:c=bt.MIXED;break;case ae.PS:d=c,c=bt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.MIXED:if(x<ae.PL)v=ae.MIXED_CHARS[x];else switch(x){case ae.PL:c=bt.PUNCT;break;case 26:v=" ";break;case ae.LL:c=bt.LOWER;break;case ae.AL:c=bt.ALPHA;break;case ae.PS:d=c,c=bt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.PUNCT:if(x<ae.PAL)v=ae.PUNCT_CHARS[x];else switch(x){case ae.PAL:c=bt.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.ALPHA_SHIFT:if(c=d,x<26)v=String.fromCharCode(65+x);else switch(x){case 26:v=" ";break;case ae.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break;case bt.PUNCT_SHIFT:if(c=d,x<ae.PAL)v=ae.PUNCT_CHARS[x];else switch(x){case ae.PAL:c=bt.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=bt.ALPHA;break}break}v!==""&&l.append(v),h++}}static byteCompaction(e,r,i,l,c){let d=new Al,h=0,x=0,v=!1;switch(e){case ae.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),R=r[l++];for(;l<r[0]&&!v;)switch(I[h++]=R,x=900*x+R,R=r[l++],R){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(h%5===0&&h>0){for(let P=0;P<6;++P)d.write(Number(un(x)>>un(8*(5-P))));x=0,h=0}break}l===r[0]&&R<ae.TEXT_COMPACTION_MODE_LATCH&&(I[h++]=R);for(let P=0;P<h;P++)d.write(I[P]);break;case ae.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!v;){let P=r[l++];if(P<ae.TEXT_COMPACTION_MODE_LATCH)h++,x=900*x+P;else switch(P){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(h%5===0&&h>0){for(let B=0;B<6;++B)d.write(Number(un(x)>>un(8*(5-B))));x=0,h=0}}break}return c.append(Oe.decode(d.toByteArray(),i)),l}static numericCompaction(e,r,i){let l=0,c=!1,d=new Int32Array(ae.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!c;){let h=e[r++];if(r===e[0]&&(c=!0),h<ae.TEXT_COMPACTION_MODE_LATCH)d[l]=h,l++;else switch(h){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,c=!0;break}(l%ae.MAX_NUMERIC_CODEWORDS===0||h===ae.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(i.append(ae.decodeBase900toBase10(d,l)),l=0)}return r}static decodeBase900toBase10(e,r){let i=un(0);for(let c=0;c<r;c++)i+=ae.EXP900[r-c-1]*un(e[c]);let l=i.toString();if(l.charAt(0)!=="1")throw new q;return l.substring(1)}}ae.TEXT_COMPACTION_MODE_LATCH=900,ae.BYTE_COMPACTION_MODE_LATCH=901,ae.NUMERIC_COMPACTION_MODE_LATCH=902,ae.BYTE_COMPACTION_MODE_LATCH_6=924,ae.ECI_USER_DEFINED=925,ae.ECI_GENERAL_PURPOSE=926,ae.ECI_CHARSET=927,ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ae.MACRO_PDF417_TERMINATOR=922,ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ae.MAX_NUMERIC_CODEWORDS=15,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ae.PL=25,ae.LL=27,ae.AS=27,ae.ML=28,ae.AL=28,ae.PS=29,ae.PAL=29,ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ae.EXP900=_i()?Js():[],ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ot{constructor(){}static decode(e,r,i,l,c,d,h){let x=new Ts(e,r,i,l,c),v=null,I=null,R;for(let H=!0;;H=!1){if(r!=null&&(v=ot.getRowIndicatorColumn(e,x,r,!0,d,h)),l!=null&&(I=ot.getRowIndicatorColumn(e,x,l,!1,d,h)),R=ot.merge(v,I),R==null)throw W.getNotFoundInstance();let Y=R.getBoundingBox();if(H&&Y!=null&&(Y.getMinY()<x.getMinY()||Y.getMaxY()>x.getMaxY()))x=Y;else break}R.setBoundingBox(x);let P=R.getBarcodeColumnCount()+1;R.setDetectionResultColumn(0,v),R.setDetectionResultColumn(P,I);let B=v!=null;for(let H=1;H<=P;H++){let Y=B?H:P-H;if(R.getDetectionResultColumn(Y)!==void 0)continue;let J;Y===0||Y===P?J=new bl(x,Y===0):J=new Ur(x),R.setDetectionResultColumn(Y,J);let oe=-1,Se=oe;for(let Te=x.getMinY();Te<=x.getMaxY();Te++){if(oe=ot.getStartColumn(R,Y,Te,B),oe<0||oe>x.getMaxX()){if(Se===-1)continue;oe=Se}let Ce=ot.detectCodeword(e,x.getMinX(),x.getMaxX(),B,oe,Te,d,h);Ce!=null&&(J.setCodeword(Te,Ce),Se=oe,d=Math.min(d,Ce.getWidth()),h=Math.max(h,Ce.getWidth()))}}return ot.createDecoderResult(R)}static merge(e,r){if(e==null&&r==null)return null;let i=ot.getBarcodeMetadata(e,r);if(i==null)return null;let l=Ts.merge(ot.adjustBoundingBox(e),ot.adjustBoundingBox(r));return new Ri(i,l)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let i=ot.getMax(r),l=0;for(let h of r)if(l+=i-h,h>0)break;let c=e.getCodewords();for(let h=0;l>0&&c[h]==null;h++)l--;let d=0;for(let h=r.length-1;h>=0&&(d+=i-r[h],!(r[h]>0));h--);for(let h=c.length-1;d>0&&c[h]==null;h--)d--;return e.getBoundingBox().addMissingRows(l,d,e.isLeft())}static getMax(e){let r=-1;for(let i of e)r=Math.max(r,i);return r}static getBarcodeMetadata(e,r){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(e,r,i,l,c,d){let h=new bl(r,l);for(let x=0;x<2;x++){let v=x===0?1:-1,I=Math.trunc(Math.trunc(i.getX()));for(let R=Math.trunc(Math.trunc(i.getY()));R<=r.getMaxY()&&R>=r.getMinY();R+=v){let P=ot.detectCodeword(e,0,e.getWidth(),l,I,R,c,d);P!=null&&(h.setCodeword(R,P),l?I=P.getStartX():I=P.getEndX())}}return h}static adjustCodewordCount(e,r){let i=r[0][1],l=i.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-ot.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(c<1||c>Je.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();i.setValue(c)}else l[0]!==c&&i.setValue(c)}static createDecoderResult(e){let r=ot.createBarcodeMatrix(e);ot.adjustCodewordCount(e,r);let i=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],d=new Array;for(let x=0;x<e.getBarcodeRowCount();x++)for(let v=0;v<e.getBarcodeColumnCount();v++){let I=r[x][v+1].getValue(),R=x*e.getBarcodeColumnCount()+v;I.length===0?i.push(R):I.length===1?l[R]=I[0]:(d.push(R),c.push(I))}let h=new Array(c.length);for(let x=0;x<h.length;x++)h[x]=c[x];return ot.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,Je.toIntArray(i),Je.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(e,r,i,l,c){let d=new Int32Array(l.length),h=100;for(;h-- >0;){for(let x=0;x<d.length;x++)r[l[x]]=c[x][d[x]];try{return ot.decodeCodewords(r,e,i)}catch(x){if(!(x instanceof L))throw x}if(d.length===0)throw L.getChecksumInstance();for(let x=0;x<d.length;x++)if(d[x]<c[x].length-1){d[x]++;break}else if(d[x]=0,x===d.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let c=0;c<r[l].length;c++)r[l][c]=new gs;let i=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=0){if(d>=r.length)continue;r[d][i].setValue(c.getValue())}}}i++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,i,l){let c=l?1:-1,d=null;if(ot.isValidBarcodeColumn(e,r-c)&&(d=e.getDetectionResultColumn(r-c).getCodeword(i)),d!=null)return l?d.getEndX():d.getStartX();if(d=e.getDetectionResultColumn(r).getCodewordNearby(i),d!=null)return l?d.getStartX():d.getEndX();if(ot.isValidBarcodeColumn(e,r-c)&&(d=e.getDetectionResultColumn(r-c).getCodewordNearby(i)),d!=null)return l?d.getEndX():d.getStartX();let h=0;for(;ot.isValidBarcodeColumn(e,r-c);){r-=c;for(let x of e.getDetectionResultColumn(r).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+c*h*(x.getEndX()-x.getStartX());h++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,i,l,c,d,h,x){c=ot.adjustCodewordStartColumn(e,r,i,l,c,d);let v=ot.getModuleBitCount(e,r,i,l,c,d);if(v==null)return null;let I,R=tt.sum(v);if(l)I=c+R;else{for(let H=0;H<v.length/2;H++){let Y=v[H];v[H]=v[v.length-1-H],v[v.length-1-H]=Y}I=c,c=I-R}if(!ot.checkCodewordSkew(R,h,x))return null;let P=Nn.getDecodedValue(v),B=Je.getCodeword(P);return B===-1?null:new Is(c,I,ot.getCodewordBucketNumber(P),B)}static getModuleBitCount(e,r,i,l,c,d){let h=c,x=new Int32Array(8),v=0,I=l?1:-1,R=l;for(;(l?h<i:h>=r)&&v<x.length;)e.get(h,d)===R?(x[v]++,h+=I):(v++,R=!R);return v===x.length||h===(l?i:r)&&v===x.length-1?x:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,i,l,c,d){let h=c,x=l?-1:1;for(let v=0;v<2;v++){for(;(l?h>=r:h<i)&&l===e.get(h,d);){if(Math.abs(c-h)>ot.CODEWORD_SKEW_SIZE)return c;h+=x}x=-x,l=!l}return h}static checkCodewordSkew(e,r,i){return r-ot.CODEWORD_SKEW_SIZE<=e&&e<=i+ot.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,i){if(e.length===0)throw q.getFormatInstance();let l=1<<r+1,c=ot.correctErrors(e,i,l);ot.verifyCodewordCount(e,l);let d=ae.decode(e,""+r);return d.setErrorsCorrected(c),d.setErasures(i.length),d}static correctErrors(e,r,i){if(r!=null&&r.length>i/2+ot.MAX_ERRORS||i<0||i>ot.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return ot.errorCorrection.decode(e,i,r)}static verifyCodewordCount(e,r){if(e.length<4)throw q.getFormatInstance();let i=e[0];if(i>e.length)throw q.getFormatInstance();if(i===0)if(r<e.length)e[0]=e.length-r;else throw q.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),i=0,l=r.length-1;for(;!((e&1)!==i&&(i=e&1,l--,l<0));)r[l]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return ot.getCodewordBucketNumber(ot.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new ns;for(let i=0;i<e.length;i++){r.format("Row %2d: ",i);for(let l=0;l<e[i].length;l++){let c=e[i][l];c.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}r.format("%n")}return r.toString()}}ot.CODEWORD_SKEW_SIZE=2,ot.MAX_ERRORS=3,ot.MAX_EC_CODEWORDS=512,ot.errorCorrection=new da;class Tn{decode(e,r=null){let i=Tn.decode(e,r,!1);if(i==null||i.length===0||i[0]==null)throw W.getNotFoundInstance();return i[0]}decodeMultiple(e,r=null){try{return Tn.decode(e,r,!0)}catch(i){throw i instanceof q||i instanceof L?W.getNotFoundInstance():i}}static decode(e,r,i){const l=new Array,c=st.detectMultiple(e,r,i);for(const d of c.getPoints()){const h=ot.decode(c.getBits(),d[4],d[5],d[6],d[7],Tn.getMinCodewordWidth(d),Tn.getMaxCodewordWidth(d)),x=new Ne(h.getText(),h.getRawBytes(),void 0,d,be.PDF_417);x.putMetadata(De.ERROR_CORRECTION_LEVEL,h.getECLevel());const v=h.getOther();v!=null&&x.putMetadata(De.PDF417_EXTRA_METADATA,v),l.push(x)}return l.map(d=>d)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?G.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Tn.getMaxWidth(e[0],e[4]),Tn.getMaxWidth(e[6],e[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.max(Tn.getMaxWidth(e[1],e[5]),Tn.getMaxWidth(e[7],e[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Tn.getMinWidth(e[0],e[4]),Tn.getMinWidth(e[6],e[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.min(Tn.getMinWidth(e[1],e[5]),Tn.getMinWidth(e[7],e[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))}reset(){}}class ei extends E{}ei.kind="ReaderException";class lo{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!u(e)&&e.get(de.TRY_HARDER)===!0,i=u(e)?null:e.get(de.POSSIBLE_FORMATS),l=new Array;if(!u(i)){const c=i.some(d=>d===be.UPC_A||d===be.UPC_E||d===be.EAN_13||d===be.EAN_8||d===be.CODABAR||d===be.CODE_39||d===be.CODE_93||d===be.CODE_128||d===be.ITF||d===be.RSS_14||d===be.RSS_EXPANDED);c&&!r&&l.push(new Zs(e,this.verbose)),i.includes(be.QR_CODE)&&l.push(new zn),i.includes(be.DATA_MATRIX)&&l.push(new kr),i.includes(be.AZTEC)&&l.push(new Sr),i.includes(be.PDF_417)&&l.push(new Tn),c&&r&&l.push(new Zs(e,this.verbose))}l.length===0&&(r||l.push(new Zs(e,this.verbose)),l.push(new zn),l.push(new kr),l.push(new Sr),l.push(new Tn),r&&l.push(new Zs(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ei("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(i){if(i instanceof ei)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Pi extends me{constructor(e=null,r=500){const i=new lo;i.setHints(e),super(i,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class co extends me{constructor(e=500){super(new Tn,e)}}class Sl extends me{constructor(e=500){super(new zn,e)}}var ma;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(ma||(ma={}));var gn=ma;class ga{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Pt(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let i=r[r.length-1];const l=this.field;for(let c=r.length;c<=e;c++){const d=i.multiply(new Pt(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));r.push(d),i=d}}return r[e]}encode(e,r){if(r===0)throw new S("No error correction bytes");const i=e.length-r;if(i<=0)throw new S("No data bytes provided");const l=this.buildGenerator(r),c=new Int32Array(i);j.arraycopy(e,0,c,0,i);let d=new Pt(this.field,c);d=d.multiplyByMonomial(r,1);const x=d.divide(l)[1].getCoefficients(),v=r-x.length;for(let I=0;I<v;I++)e[i+I]=0;j.arraycopy(x,0,e,i+v,x.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(e){return zt.applyMaskPenaltyRule1Internal(e,!0)+zt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let d=0;d<c-1;d++){const h=i[d];for(let x=0;x<l-1;x++){const v=h[x];v===h[x+1]&&v===i[d+1][x]&&v===i[d+1][x+1]&&r++}}return zt.N2*r}static applyMaskPenaltyRule3(e){let r=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let d=0;d<c;d++)for(let h=0;h<l;h++){const x=i[d];h+6<l&&x[h]===1&&x[h+1]===0&&x[h+2]===1&&x[h+3]===1&&x[h+4]===1&&x[h+5]===0&&x[h+6]===1&&(zt.isWhiteHorizontal(x,h-4,h)||zt.isWhiteHorizontal(x,h+7,h+11))&&r++,d+6<c&&i[d][h]===1&&i[d+1][h]===0&&i[d+2][h]===1&&i[d+3][h]===1&&i[d+4][h]===1&&i[d+5][h]===0&&i[d+6][h]===1&&(zt.isWhiteVertical(i,h,d-4,d)||zt.isWhiteVertical(i,h,d+7,d+11))&&r++}return r*zt.N3}static isWhiteHorizontal(e,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let l=r;l<i;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,r,i,l){i=Math.max(i,0),l=Math.min(l,e.length);for(let c=i;c<l;c++)if(e[c][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let x=0;x<c;x++){const v=i[x];for(let I=0;I<l;I++)v[I]===1&&r++}const d=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-d)*10/d)*zt.N4}static getDataMaskBit(e,r,i){let l,c;switch(e){case 0:l=i+r&1;break;case 1:l=i&1;break;case 2:l=r%3;break;case 3:l=(i+r)%3;break;case 4:l=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:c=i*r,l=(c&1)+c%3;break;case 6:c=i*r,l=(c&1)+c%3&1;break;case 7:c=i*r,l=c%3+(i+r&1)&1;break;default:throw new S("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,r){let i=0;const l=r?e.getHeight():e.getWidth(),c=r?e.getWidth():e.getHeight(),d=e.getArray();for(let h=0;h<l;h++){let x=0,v=-1;for(let I=0;I<c;I++){const R=r?d[h][I]:d[I][h];R===v?x++:(x>=5&&(i+=zt.N1+(x-5)),x=1,v=R)}x>=5&&(i+=zt.N1+(x-5))}return i}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class uo{constructor(e,r){this.width=e,this.height=r;const i=new Array(r);for(let l=0;l!==r;l++)i[l]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,i){this.bytes[r][e]=i}setBoolean(e,r,i){this.bytes[r][e]=i?1:0}clear(e){for(const r of this.bytes)ee.fill(r,e)}equals(e){if(!(e instanceof uo))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,l=this.height;i<l;++i){const c=this.bytes[i],d=r.bytes[i];for(let h=0,x=this.width;h<x;++h)if(c[h]!==d[h])return!1}return!0}toString(){const e=new _e;for(let r=0,i=this.height;r<i;++r){const l=this.bytes[r];for(let c=0,d=this.width;c<d;++c)switch(l[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class ks{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new _e;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<ks.NUM_MASK_PATTERNS}}ks.NUM_MASK_PATTERNS=8;class Ot extends E{}Ot.kind="WriterException";class qe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,i,l,c){qe.clearMatrix(c),qe.embedBasicPatterns(i,c),qe.embedTypeInfo(r,l,c),qe.maybeEmbedVersionInfo(i,c),qe.embedDataBits(e,l,c)}static embedBasicPatterns(e,r){qe.embedPositionDetectionPatternsAndSeparators(r),qe.embedDarkDotAtLeftBottomCorner(r),qe.maybeEmbedPositionAdjustmentPatterns(e,r),qe.embedTimingPatterns(r)}static embedTypeInfo(e,r,i){const l=new re;qe.makeTypeInfoBits(e,r,l);for(let c=0,d=l.getSize();c<d;++c){const h=l.get(l.getSize()-1-c),x=qe.TYPE_INFO_COORDINATES[c],v=x[0],I=x[1];if(i.setBoolean(v,I,h),c<8){const R=i.getWidth()-c-1;i.setBoolean(R,8,h)}else{const P=i.getHeight()-7+(c-8);i.setBoolean(8,P,h)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const i=new re;qe.makeVersionInfoBits(e,i);let l=17;for(let c=0;c<6;++c)for(let d=0;d<3;++d){const h=i.get(l);l--,r.setBoolean(c,r.getHeight()-11+d,h),r.setBoolean(r.getHeight()-11+d,c,h)}}static embedDataBits(e,r,i){let l=0,c=-1,d=i.getWidth()-1,h=i.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<i.getHeight();){for(let x=0;x<2;++x){const v=d-x;if(!qe.isEmpty(i.get(v,h)))continue;let I;l<e.getSize()?(I=e.get(l),++l):I=!1,r!==255&&zt.getDataMaskBit(r,v,h)&&(I=!I),i.setBoolean(v,h,I)}h+=c}c=-c,h+=c,d-=2}if(l!==e.getSize())throw new Ot("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-G.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new S("0 polynomial");const i=qe.findMSBSet(r);for(e<<=i-1;qe.findMSBSet(e)>=i;)e^=r<<qe.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,r,i){if(!ks.isValidMaskPattern(r))throw new Ot("Invalid mask pattern");const l=e.getBits()<<3|r;i.appendBits(l,5);const c=qe.calculateBCHCode(l,qe.TYPE_INFO_POLY);i.appendBits(c,10);const d=new re;if(d.appendBits(qe.TYPE_INFO_MASK_PATTERN,15),i.xor(d),i.getSize()!==15)throw new Ot("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const i=qe.calculateBCHCode(e.getVersionNumber(),qe.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new Ot("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const i=(r+1)%2;qe.isEmpty(e.get(r,6))&&e.setNumber(r,6,i),qe.isEmpty(e.get(6,r))&&e.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ot;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,i){for(let l=0;l<8;++l){if(!qe.isEmpty(i.get(e+l,r)))throw new Ot;i.setNumber(e+l,r,0)}}static embedVerticalSeparationPattern(e,r,i){for(let l=0;l<7;++l){if(!qe.isEmpty(i.get(e,r+l)))throw new Ot;i.setNumber(e,r+l,0)}}static embedPositionAdjustmentPattern(e,r,i){for(let l=0;l<5;++l){const c=qe.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)i.setNumber(e+d,r+l,c[d])}}static embedPositionDetectionPattern(e,r,i){for(let l=0;l<7;++l){const c=qe.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)i.setNumber(e+d,r+l,c[d])}}static embedPositionDetectionPatternsAndSeparators(e){const r=qe.POSITION_DETECTION_PATTERN[0].length;qe.embedPositionDetectionPattern(0,0,e),qe.embedPositionDetectionPattern(e.getWidth()-r,0,e),qe.embedPositionDetectionPattern(0,e.getWidth()-r,e);const i=8;qe.embedHorizontalSeparationPattern(0,i-1,e),qe.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),qe.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const l=7;qe.embedVerticalSeparationPattern(l,0,e),qe.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),qe.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,l=qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let c=0,d=l.length;c!==d;c++){const h=l[c];if(h>=0)for(let x=0;x!==d;x++){const v=l[x];v>=0&&qe.isEmpty(r.get(v,h))&&qe.embedPositionAdjustmentPattern(v-2,h-2,r)}}}}qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),qe.VERSION_INFO_POLY=7973,qe.TYPE_INFO_POLY=1335,qe.TYPE_INFO_MASK_PATTERN=21522;class hu{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Mt{constructor(){}static calculateMaskPenalty(e){return zt.applyMaskPenaltyRule1(e)+zt.applyMaskPenaltyRule2(e)+zt.applyMaskPenaltyRule3(e)+zt.applyMaskPenaltyRule4(e)}static encode(e,r,i=null){let l=Mt.DEFAULT_BYTE_MODE_ENCODING;const c=i!==null&&i.get(gn.CHARACTER_SET)!==void 0;c&&(l=i.get(gn.CHARACTER_SET).toString());const d=this.chooseMode(e,l),h=new re;if(d===Ze.BYTE&&(c||Mt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Te=z.getCharacterSetECIByName(l);Te!==void 0&&this.appendECI(Te,h)}this.appendModeInfo(d,h);const x=new re;this.appendBytes(e,d,x,l);let v;if(i!==null&&i.get(gn.QR_VERSION)!==void 0){const Te=Number.parseInt(i.get(gn.QR_VERSION).toString(),10);v=Xe.getVersionForNumber(Te);const Ce=this.calculateBitsNeeded(d,h,x,v);if(!this.willFit(Ce,v,r))throw new Ot("Data too big for requested version")}else v=this.recommendVersion(r,d,h,x);const I=new re;I.appendBitArray(h);const R=d===Ze.BYTE?x.getSizeInBytes():e.length;this.appendLengthInfo(R,v,d,I),I.appendBitArray(x);const P=v.getECBlocksForLevel(r),B=v.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(B,I);const H=this.interleaveWithECBytes(I,v.getTotalCodewords(),B,P.getNumBlocks()),Y=new ks;Y.setECLevel(r),Y.setMode(d),Y.setVersion(v);const J=v.getDimensionForVersion(),oe=new uo(J,J),Se=this.chooseMaskPattern(H,r,v,oe);return Y.setMaskPattern(Se),qe.buildMatrix(H,r,v,Se,oe),Y.setMatrix(oe),Y}static recommendVersion(e,r,i,l){const c=this.calculateBitsNeeded(r,i,l,Xe.getVersionForNumber(1)),d=this.chooseVersion(c,e),h=this.calculateBitsNeeded(r,i,l,d);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,r,i,l){return r.getSize()+e.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(e){return e<Mt.ALPHANUMERIC_TABLE.length?Mt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(z.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ze.KANJI;let i=!1,l=!1;for(let c=0,d=e.length;c<d;++c){const h=e.charAt(c);if(Mt.isDigit(h))i=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Ze.BYTE}return l?Ze.ALPHANUMERIC:i?Ze.NUMERIC:Ze.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=Oe.encode(e,z.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const c=r[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,r,i,l){let c=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<ks.NUM_MASK_PATTERNS;h++){qe.buildMatrix(e,r,i,h,l);let x=this.calculateMaskPenalty(l);x<c&&(c=x,d=h)}return d}static chooseVersion(e,r){for(let i=1;i<=40;i++){const l=Xe.getVersionForNumber(i);if(Mt.willFit(e,l,r))return l}throw new Ot("Data too big")}static willFit(e,r,i){const l=r.getTotalCodewords(),d=r.getECBlocksForLevel(i).getTotalECCodewords(),h=l-d,x=(e+7)/8;return h>=x}static terminateBits(e,r){const i=e*8;if(r.getSize()>i)throw new Ot("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let d=0;d<4&&r.getSize()<i;++d)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let d=l;d<8;d++)r.appendBit(!1);const c=e-r.getSizeInBytes();for(let d=0;d<c;++d)r.appendBits((d&1)===0?236:17,8);if(r.getSize()!==i)throw new Ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,i,l,c,d){if(l>=i)throw new Ot("Block ID too large");const h=e%i,x=i-h,v=Math.floor(e/i),I=v+1,R=Math.floor(r/i),P=R+1,B=v-R,H=I-P;if(B!==H)throw new Ot("EC bytes mismatch");if(i!==x+h)throw new Ot("RS blocks mismatch");if(e!==(R+B)*x+(P+H)*h)throw new Ot("Total bytes mismatch");l<x?(c[0]=R,d[0]=B):(c[0]=P,d[0]=H)}static interleaveWithECBytes(e,r,i,l){if(e.getSizeInBytes()!==i)throw new Ot("Number of bits and data bytes does not match");let c=0,d=0,h=0;const x=new Array;for(let I=0;I<l;++I){const R=new Int32Array(1),P=new Int32Array(1);Mt.getNumDataBytesAndNumECBytesForBlockID(r,i,l,I,R,P);const B=R[0],H=new Uint8Array(B);e.toBytes(8*c,H,0,B);const Y=Mt.generateECBytes(H,P[0]);x.push(new hu(H,Y)),d=Math.max(d,B),h=Math.max(h,Y.length),c+=R[0]}if(i!==c)throw new Ot("Data bytes does not match offset");const v=new re;for(let I=0;I<d;++I)for(const R of x){const P=R.getDataBytes();I<P.length&&v.appendBits(P[I],8)}for(let I=0;I<h;++I)for(const R of x){const P=R.getErrorCorrectionBytes();I<P.length&&v.appendBits(P[I],8)}if(r!==v.getSizeInBytes())throw new Ot("Interleaving error: "+r+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(e,r){const i=e.length,l=new Int32Array(i+r);for(let d=0;d<i;d++)l[d]=e[d]&255;new ga(mt.QR_CODE_FIELD_256).encode(l,r);const c=new Uint8Array(r);for(let d=0;d<r;d++)c[d]=l[i+d];return c}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,i,l){const c=i.getCharacterCountBits(r);if(e>=1<<c)throw new Ot(e+" is bigger than "+((1<<c)-1));l.appendBits(e,c)}static appendBytes(e,r,i,l){switch(r){case Ze.NUMERIC:Mt.appendNumericBytes(e,i);break;case Ze.ALPHANUMERIC:Mt.appendAlphanumericBytes(e,i);break;case Ze.BYTE:Mt.append8BitBytes(e,i,l);break;case Ze.KANJI:Mt.appendKanjiBytes(e,i);break;default:throw new Ot("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=Mt.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const i=e.length;let l=0;for(;l<i;){const c=Mt.getDigit(e.charAt(l));if(l+2<i){const d=Mt.getDigit(e.charAt(l+1)),h=Mt.getDigit(e.charAt(l+2));r.appendBits(c*100+d*10+h,10),l+=3}else if(l+1<i){const d=Mt.getDigit(e.charAt(l+1));r.appendBits(c*10+d,7),l+=2}else r.appendBits(c,4),l++}}static appendAlphanumericBytes(e,r){const i=e.length;let l=0;for(;l<i;){const c=Mt.getAlphanumericCode(e.charCodeAt(l));if(c===-1)throw new Ot;if(l+1<i){const d=Mt.getAlphanumericCode(e.charCodeAt(l+1));if(d===-1)throw new Ot;r.appendBits(c*45+d,11),l+=2}else r.appendBits(c,6),l++}}static append8BitBytes(e,r,i){let l;try{l=Oe.encode(e,i)}catch(c){throw new Ot(c)}for(let c=0,d=l.length;c!==d;c++){const h=l[c];r.appendBits(h,8)}}static appendKanjiBytes(e,r){let i;try{i=Oe.encode(e,z.SJIS)}catch(c){throw new Ot(c)}const l=i.length;for(let c=0;c<l;c+=2){const d=i[c]&255,h=i[c+1]&255,x=d<<8&4294967295|h;let v=-1;if(x>=33088&&x<=40956?v=x-33088:x>=57408&&x<=60351&&(v=x-49472),v===-1)throw new Ot("Invalid byte sequence");const I=(v>>8)*192+(v&255);r.appendBits(I,13)}}static appendECI(e,r){r.appendBits(Ze.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}Mt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Mt.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Rs{write(e,r,i,l=null){if(e.length===0)throw new S("Found empty contents");if(r<0||i<0)throw new S("Requested dimensions are too small: "+r+"x"+i);let c=kt.L,d=Rs.QUIET_ZONE_SIZE;l!==null&&(l.get(gn.ERROR_CORRECTION)!==void 0&&(c=kt.fromString(l.get(gn.ERROR_CORRECTION).toString())),l.get(gn.MARGIN)!==void 0&&(d=Number.parseInt(l.get(gn.MARGIN).toString(),10)));const h=Mt.encode(e,c,l);return this.renderResult(h,r,i,d)}writeToDom(e,r,i,l,c=null){typeof e=="string"&&(e=document.querySelector(e));const d=this.write(r,i,l,c);e&&e.appendChild(d)}renderResult(e,r,i,l){const c=e.getMatrix();if(c===null)throw new sr;const d=c.getWidth(),h=c.getHeight(),x=d+l*2,v=h+l*2,I=Math.max(r,x),R=Math.max(i,v),P=Math.min(Math.floor(I/x),Math.floor(R/v)),B=Math.floor((I-d*P)/2),H=Math.floor((R-h*P)/2),Y=this.createSVGElement(I,R);for(let J=0,oe=H;J<h;J++,oe+=P)for(let Se=0,Te=B;Se<d;Se++,Te+=P)if(c.get(Se,J)===1){const Ce=this.createSvgRectElement(Te,oe,P,P);Y.appendChild(Ce)}return Y}createSVGElement(e,r){const i=document.createElementNS(Rs.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(e,r,i,l){const c=document.createElementNS(Rs.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",r.toString()),c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Rs.QUIET_ZONE_SIZE=4,Rs.SVG_NS="http://www.w3.org/2000/svg";class ti{encode(e,r,i,l,c){if(e.length===0)throw new S("Found empty contents");if(r!==be.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(i<0||l<0)throw new S(`Requested dimensions are too small: ${i}x${l}`);let d=kt.L,h=ti.QUIET_ZONE_SIZE;c!==null&&(c.get(gn.ERROR_CORRECTION)!==void 0&&(d=kt.fromString(c.get(gn.ERROR_CORRECTION).toString())),c.get(gn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(gn.MARGIN).toString(),10)));const x=Mt.encode(e,d,c);return ti.renderResult(x,i,l,h)}static renderResult(e,r,i,l){const c=e.getMatrix();if(c===null)throw new sr;const d=c.getWidth(),h=c.getHeight(),x=d+l*2,v=h+l*2,I=Math.max(r,x),R=Math.max(i,v),P=Math.min(Math.floor(I/x),Math.floor(R/v)),B=Math.floor((I-d*P)/2),H=Math.floor((R-h*P)/2),Y=new Pe(I,R);for(let J=0,oe=H;J<h;J++,oe+=P)for(let Se=0,Te=B;Se<d;Se++,Te+=P)c.get(Se,J)===1&&Y.setRegion(Te,oe,P,P);return Y}}ti.QUIET_ZONE_SIZE=4;class mu{encode(e,r,i,l,c){let d;switch(r){case be.QR_CODE:d=new ti;break;default:throw new S("No encoder available for format "+r)}return d.encode(e,r,i,l,c)}}class zr extends se{constructor(e,r,i,l,c,d,h,x){if(super(d,h),this.yuvData=e,this.dataWidth=r,this.dataHeight=i,this.left=l,this.top=c,l+d>r||c+h>i)throw new S("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(d,h)}getRow(e,r){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,l,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=e*r,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.yuvData,c,l,0,i),l;for(let d=0;d<r;d++){const h=d*e;j.arraycopy(this.yuvData,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,r,i,l){return new zr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,i,l,!1)}renderThumbnail(){const e=this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*r),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let d=0;d<r;d++){const h=d*e;for(let x=0;x<e;x++){const v=l[c+x*zr.THUMBNAIL_SCALE_FACTOR]&255;i[h+x]=4278190080|v*65793}c+=this.dataWidth*zr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const i=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<r;l++,c+=this.dataWidth){const d=c+e/2;for(let h=c,x=c+e-1;h<d;h++,x--){const v=i[h];i[h]=i[x],i[x]=v}}}invert(){return new he(this)}}zr.THUMBNAIL_SCALE_FACTOR=2;class Di extends se{constructor(e,r,i,l,c,d,h){if(super(r,i),this.dataWidth=l,this.dataHeight=c,this.left=d,this.top=h,e.BYTES_PER_ELEMENT===4){const x=r*i,v=new Uint8ClampedArray(x);for(let I=0;I<x;I++){const R=e[I],P=R>>16&255,B=R>>7&510,H=R&255;v[I]=(P+B+H)/4&255}this.luminances=v}else this.luminances=e;if(l===void 0&&(this.dataWidth=r),c===void 0&&(this.dataHeight=i),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,l,r,0,i),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=e*r,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.luminances,c,l,0,i),l;for(let d=0;d<r;d++){const h=d*e;j.arraycopy(this.luminances,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,r,i,l){return new Di(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new he(this)}}class Nl extends z{static forName(e){return this.getCharacterSetECIByName(e)}}class pa{}pa.ISO_8859_1=z.ISO8859_1;class Tl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class xa{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class gu{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ni extends gu{constructor(e,r,i){super(e),this.value=r,this.bitCount=i}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new ni(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ni(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+G.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ya extends ni{constructor(e,r,i){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(e,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(e,r){return new ya(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function pu(k,e,r){return new ya(k,e,r)}function Mi(k,e,r){return new ni(k,e,r)}const xu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ps=0,ri=1,Dn=2,Il=3,_r=4,kl=new ni(null,0,0),fo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Rl(k){for(let e of k)ee.fill(e,-1);return k[ps][_r]=0,k[ri][_r]=0,k[ri][ps]=28,k[Il][_r]=0,k[Dn][_r]=0,k[Dn][ps]=15,k}const wa=Rl(ee.createInt32Array(6,6));class Hn{constructor(e,r,i,l){this.token=e,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let i=this.bitCount,l=this.token;if(e!==this.mode){let d=fo[this.mode][e];l=Mi(l,d&65535,d>>16),i+=d>>16}let c=e===Dn?4:5;return l=Mi(l,r,c),new Hn(l,e,0,i+c)}shiftAndAppend(e,r){let i=this.token,l=this.mode===Dn?4:5;return i=Mi(i,wa[this.mode][e],l),i=Mi(i,r,5),new Hn(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let r=this.token,i=this.mode,l=this.bitCount;if(this.mode===_r||this.mode===Dn){let h=fo[i][ps];r=Mi(r,h&65535,h>>16),l+=h>>16,i=ps}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Hn(r,i,this.binaryShiftByteCount+1,l+c);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(e+1)),d}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=pu(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Hn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(fo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Hn.calculateBinaryShiftCost(e)-Hn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())r.unshift(l);let i=new re;for(const l of r)l.appendTo(i,e);return i}toString(){return we.format("%s bits=%d bytes=%d",xu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Hn.INITIAL_STATE=new Hn(kl,ps,0,0);function yu(k){const e=we.getCharCode(" "),r=we.getCharCode("."),i=we.getCharCode(",");k[ps][e]=1;const l=we.getCharCode("Z"),c=we.getCharCode("A");for(let P=c;P<=l;P++)k[ps][P]=P-c+2;k[ri][e]=1;const d=we.getCharCode("z"),h=we.getCharCode("a");for(let P=h;P<=d;P++)k[ri][P]=P-h+2;k[Dn][e]=1;const x=we.getCharCode("9"),v=we.getCharCode("0");for(let P=v;P<=x;P++)k[Dn][P]=P-v+2;k[Dn][i]=12,k[Dn][r]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<I.length;P++)k[Il][we.getCharCode(I[P])]=P;const R=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<R.length;P++)we.getCharCode(R[P])>0&&(k[_r][we.getCharCode(R[P])]=P);return k}const va=yu(ee.createInt32Array(5,256));class Li{constructor(e){this.text=e}encode(){const e=we.getCharCode(" "),r=we.getCharCode(`
`);let i=xa.singletonList(Hn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let d,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case we.getCharCode("\r"):d=h===r?2:0;break;case we.getCharCode("."):d=h===e?3:0;break;case we.getCharCode(","):d=h===e?4:0;break;case we.getCharCode(":"):d=h===e?5:0;break;default:d=0}d>0?(i=Li.updateStateListForPair(i,c,d),c++):i=this.updateStateListForChar(i,c)}return xa.min(i,(c,d)=>c.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const i=[];for(let l of e)this.updateStateForChar(l,r,i);return Li.simplifyStates(i)}updateStateForChar(e,r,i){let l=this.text[r]&255,c=va[e.getMode()][l]>0,d=null;for(let h=0;h<=_r;h++){let x=va[h][l];if(x>0){if(d==null&&(d=e.endBinaryShift(r)),!c||h===e.getMode()||h===Dn){const v=d.latchAndAppend(h,x);i.push(v)}if(!c&&wa[e.getMode()][h]>=0){const v=d.shiftAndAppend(h,x);i.push(v)}}}if(e.getBinaryShiftByteCount()>0||va[e.getMode()][l]===0){let h=e.addBinaryShiftChar(r);i.push(h)}}static updateStateListForPair(e,r,i){const l=[];for(let c of e)this.updateStateForPair(c,r,i,l);return this.simplifyStates(l)}static updateStateForPair(e,r,i,l){let c=e.endBinaryShift(r);if(l.push(c.latchAndAppend(_r,i)),e.getMode()!==_r&&l.push(c.shiftAndAppend(_r,i)),i===3||i===4){let d=c.latchAndAppend(Dn,16-i).latchAndAppend(Dn,1);l.push(d)}if(e.getBinaryShiftByteCount()>0){let d=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(d)}}static simplifyStates(e){let r=[];for(const i of e){let l=!0;for(const c of r){if(c.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(c)&&(r=r.filter(d=>d!==c))}l&&r.push(i)}return r}}class yt{constructor(){}static encodeBytes(e){return yt.encode(e,yt.DEFAULT_EC_PERCENT,yt.DEFAULT_AZTEC_LAYERS)}static encode(e,r,i){let l=new Li(e).encode(),c=G.truncDivision(l.getSize()*r,100)+11,d=l.getSize()+c,h,x,v,I,R;if(i!==yt.DEFAULT_AZTEC_LAYERS){if(h=i<0,x=Math.abs(i),x>(h?yt.MAX_NB_BITS_COMPACT:yt.MAX_NB_BITS))throw new S(we.format("Illegal value %s for layers",i));v=yt.totalBitsInLayer(x,h),I=yt.WORD_SIZE[x];let Ce=v-v%I;if(R=yt.stuffBits(l,I),R.getSize()+c>Ce)throw new S("Data to large for user specified layer");if(h&&R.getSize()>I*64)throw new S("Data to large for user specified layer")}else{I=0,R=null;for(let Ce=0;;Ce++){if(Ce>yt.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(h=Ce<=3,x=h?Ce+1:Ce,v=yt.totalBitsInLayer(x,h),d>v)continue;(R==null||I!==yt.WORD_SIZE[x])&&(I=yt.WORD_SIZE[x],R=yt.stuffBits(l,I));let ft=v-v%I;if(!(h&&R.getSize()>I*64)&&R.getSize()+c<=ft)break}}let P=yt.generateCheckWords(R,v,I),B=R.getSize()/I,H=yt.generateModeMessage(h,x,B),Y=(h?11:14)+x*4,J=new Int32Array(Y),oe;if(h){oe=Y;for(let Ce=0;Ce<J.length;Ce++)J[Ce]=Ce}else{oe=Y+1+2*G.truncDivision(G.truncDivision(Y,2)-1,15);let Ce=G.truncDivision(Y,2),ft=G.truncDivision(oe,2);for(let it=0;it<Ce;it++){let Qn=it+G.truncDivision(it,15);J[Ce-it-1]=ft-Qn-1,J[Ce+it]=ft+Qn+1}}let Se=new Pe(oe);for(let Ce=0,ft=0;Ce<x;Ce++){let it=(x-Ce)*4+(h?9:12);for(let Qn=0;Qn<it;Qn++){let Or=Qn*2;for(let pn=0;pn<2;pn++)P.get(ft+Or+pn)&&Se.set(J[Ce*2+pn],J[Ce*2+Qn]),P.get(ft+it*2+Or+pn)&&Se.set(J[Ce*2+Qn],J[Y-1-Ce*2-pn]),P.get(ft+it*4+Or+pn)&&Se.set(J[Y-1-Ce*2-pn],J[Y-1-Ce*2-Qn]),P.get(ft+it*6+Or+pn)&&Se.set(J[Y-1-Ce*2-Qn],J[Ce*2+pn])}ft+=it*8}if(yt.drawModeMessage(Se,h,oe,H),h)yt.drawBullsEye(Se,G.truncDivision(oe,2),5);else{yt.drawBullsEye(Se,G.truncDivision(oe,2),7);for(let Ce=0,ft=0;Ce<G.truncDivision(Y,2)-1;Ce+=15,ft+=16)for(let it=G.truncDivision(oe,2)&1;it<oe;it+=2)Se.set(G.truncDivision(oe,2)-ft,it),Se.set(G.truncDivision(oe,2)+ft,it),Se.set(it,G.truncDivision(oe,2)-ft),Se.set(it,G.truncDivision(oe,2)+ft)}let Te=new Tl;return Te.setCompact(h),Te.setSize(oe),Te.setLayers(x),Te.setCodeWords(B),Te.setMatrix(Se),Te}static drawBullsEye(e,r,i){for(let l=0;l<i;l+=2)for(let c=r-l;c<=r+l;c++)e.set(c,r-l),e.set(c,r+l),e.set(r-l,c),e.set(r+l,c);e.set(r-i,r-i),e.set(r-i+1,r-i),e.set(r-i,r-i+1),e.set(r+i,r-i),e.set(r+i,r-i+1),e.set(r+i,r+i-1)}static generateModeMessage(e,r,i){let l=new re;return e?(l.appendBits(r-1,2),l.appendBits(i-1,6),l=yt.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(i-1,11),l=yt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,r,i,l){let c=G.truncDivision(i,2);if(r)for(let d=0;d<7;d++){let h=c-3+d;l.get(d)&&e.set(h,c-5),l.get(d+7)&&e.set(c+5,h),l.get(20-d)&&e.set(h,c+5),l.get(27-d)&&e.set(c-5,h)}else for(let d=0;d<10;d++){let h=c-5+d+G.truncDivision(d,5);l.get(d)&&e.set(h,c-7),l.get(d+10)&&e.set(c+7,h),l.get(29-d)&&e.set(h,c+7),l.get(39-d)&&e.set(c-7,h)}}static generateCheckWords(e,r,i){let l=e.getSize()/i,c=new ga(yt.getGF(i)),d=G.truncDivision(r,i),h=yt.bitsToWords(e,i,d);c.encode(h,d-l);let x=r%i,v=new re;v.appendBits(0,x);for(const I of Array.from(h))v.appendBits(I,i);return v}static bitsToWords(e,r,i){let l=new Int32Array(i),c,d;for(c=0,d=e.getSize()/r;c<d;c++){let h=0;for(let x=0;x<r;x++)h|=e.get(c*r+x)?1<<r-x-1:0;l[c]=h}return l}static getGF(e){switch(e){case 4:return mt.AZTEC_PARAM;case 6:return mt.AZTEC_DATA_6;case 8:return mt.AZTEC_DATA_8;case 10:return mt.AZTEC_DATA_10;case 12:return mt.AZTEC_DATA_12;default:throw new S("Unsupported word size "+e)}}static stuffBits(e,r){let i=new re,l=e.getSize(),c=(1<<r)-2;for(let d=0;d<l;d+=r){let h=0;for(let x=0;x<r;x++)(d+x>=l||e.get(d+x))&&(h|=1<<r-1-x);(h&c)===c?(i.appendBits(h&c,r),d--):(h&c)===0?(i.appendBits(h|1,r),d--):i.appendBits(h,r)}return i}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}yt.DEFAULT_EC_PERCENT=33,yt.DEFAULT_AZTEC_LAYERS=0,yt.MAX_NB_BITS=32,yt.MAX_NB_BITS_COMPACT=4,yt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Bi{encode(e,r,i,l){return this.encodeWithHints(e,r,i,l,null)}encodeWithHints(e,r,i,l,c){let d=pa.ISO_8859_1,h=yt.DEFAULT_EC_PERCENT,x=yt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(gn.CHARACTER_SET)&&(d=Nl.forName(c.get(gn.CHARACTER_SET).toString())),c.has(gn.ERROR_CORRECTION)&&(h=G.parseInt(c.get(gn.ERROR_CORRECTION).toString())),c.has(gn.AZTEC_LAYERS)&&(x=G.parseInt(c.get(gn.AZTEC_LAYERS).toString()))),Bi.encodeLayers(e,r,i,l,d,h,x)}static encodeLayers(e,r,i,l,c,d,h){if(r!==be.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let x=yt.encode(we.getBytes(e,c),d,h);return Bi.renderResult(x,i,l)}static renderResult(e,r,i){let l=e.getMatrix();if(l==null)throw new sr;let c=l.getWidth(),d=l.getHeight(),h=Math.max(r,c),x=Math.max(i,d),v=Math.min(h/c,x/d),I=(h-c*v)/2,R=(x-d*v)/2,P=new Pe(h,x);for(let B=0,H=R;B<d;B++,H+=v)for(let Y=0,J=I;Y<c;Y++,J+=v)l.get(Y,B)&&P.setRegion(J,H,v,v);return P}}a.AbstractExpandedDecoder=ia,a.ArgumentException=T,a.ArithmeticException=En,a.AztecCode=Tl,a.AztecCodeReader=Sr,a.AztecCodeWriter=Bi,a.AztecDecoder=St,a.AztecDetector=ir,a.AztecDetectorResult=jr,a.AztecEncoder=yt,a.AztecHighLevelEncoder=Li,a.AztecPoint=ln,a.BarcodeFormat=be,a.Binarizer=U,a.BinaryBitmap=O,a.BitArray=re,a.BitMatrix=Pe,a.BitSource=la,a.BrowserAztecCodeReader=fs,a.BrowserBarcodeReader=wl,a.BrowserCodeReader=me,a.BrowserDatamatrixCodeReader=fu,a.BrowserMultiFormatReader=Pi,a.BrowserPDF417Reader=co,a.BrowserQRCodeReader=Sl,a.BrowserQRCodeSvgWriter=Rs,a.CharacterSetECI=z,a.ChecksumException=L,a.Code128Reader=Re,a.Code39Reader=qt,a.DataMatrixDecodedBitStreamParser=Ir,a.DataMatrixReader=kr,a.DecodeHintType=de,a.DecoderResult=at,a.DefaultGridSampler=Gs,a.DetectorResult=an,a.EAN13Reader=Vn,a.EncodeHintType=gn,a.Exception=E,a.FormatException=q,a.GenericGF=mt,a.GenericGFPoly=Pt,a.GlobalHistogramBinarizer=ge,a.GridSampler=Ws,a.GridSamplerInstance=Kn,a.HTMLCanvasElementLuminanceSource=pe,a.HybridBinarizer=ue,a.ITFReader=vt,a.IllegalArgumentException=S,a.IllegalStateException=sr,a.InvertedLuminanceSource=he,a.LuminanceSource=se,a.MathUtils=tt,a.MultiFormatOneDReader=Zs,a.MultiFormatReader=lo,a.MultiFormatWriter=mu,a.NotFoundException=W,a.OneDReader=Wt,a.PDF417DecodedBitStreamParser=ae,a.PDF417DecoderErrorCorrection=da,a.PDF417Reader=Tn,a.PDF417ResultMetadata=oo,a.PerspectiveTransform=bn,a.PlanarYUVLuminanceSource=zr,a.QRCodeByteMatrix=uo,a.QRCodeDataMask=ct,a.QRCodeDecodedBitStreamParser=Ut,a.QRCodeDecoderErrorCorrectionLevel=kt,a.QRCodeDecoderFormatInformation=An,a.QRCodeEncoder=Mt,a.QRCodeEncoderQRCode=ks,a.QRCodeMaskUtil=zt,a.QRCodeMatrixUtil=qe,a.QRCodeMode=Ze,a.QRCodeReader=zn,a.QRCodeVersion=Xe,a.QRCodeWriter=ti,a.RGBLuminanceSource=Di,a.RSS14Reader=jt,a.RSSExpandedReader=ye,a.ReaderException=ei,a.ReedSolomonDecoder=es,a.ReedSolomonEncoder=ga,a.ReedSolomonException=hr,a.Result=Ne,a.ResultMetadataType=De,a.ResultPoint=Le,a.StringUtils=we,a.UnsupportedOperationException=xe,a.VideoInputDevice=K,a.WhiteRectangleDetector=mr,a.WriterException=Ot,a.ZXingArrays=ee,a.ZXingCharset=Nl,a.ZXingInteger=G,a.ZXingStandardCharsets=pa,a.ZXingStringBuilder=_e,a.ZXingStringEncoding=Oe,a.ZXingSystem=j,a.createAbstractExpandedDecoder=xl,Object.defineProperty(a,"__esModule",{value:!0})}))})(Xa,Xa.exports)),Xa.exports}var Zt=E4();const b4=zf(Zt),A4=Fg({__proto__:null,default:b4},[Zt]);var cg=(function(){function t(s,a,u){if(this.formatMap=new Map([[je.QR_CODE,Zt.BarcodeFormat.QR_CODE],[je.AZTEC,Zt.BarcodeFormat.AZTEC],[je.CODABAR,Zt.BarcodeFormat.CODABAR],[je.CODE_39,Zt.BarcodeFormat.CODE_39],[je.CODE_93,Zt.BarcodeFormat.CODE_93],[je.CODE_128,Zt.BarcodeFormat.CODE_128],[je.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[je.MAXICODE,Zt.BarcodeFormat.MAXICODE],[je.ITF,Zt.BarcodeFormat.ITF],[je.EAN_13,Zt.BarcodeFormat.EAN_13],[je.EAN_8,Zt.BarcodeFormat.EAN_8],[je.PDF_417,Zt.BarcodeFormat.PDF_417],[je.RSS_14,Zt.BarcodeFormat.RSS_14],[je.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[je.UPC_A,Zt.BarcodeFormat.UPC_A],[je.UPC_E,Zt.BarcodeFormat.UPC_E],[je.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!A4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=u;var m=this.createZXingFormats(s),g=new Map;g.set(Zt.DecodeHintType.POSSIBLE_FORMATS,m),g.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=g}return t.prototype.decodeAsync=function(s){var a=this;return new Promise(function(u,m){try{u(a.decode(s))}catch(g){m(g)}})},t.prototype.decode=function(s){var a=new Zt.MultiFormatReader(this.verbose,this.hints),u=new Zt.HTMLCanvasElementLuminanceSource(s),m=new Zt.BinaryBitmap(new Zt.HybridBinarizer(u)),g=a.decode(m);return{text:g.text,format:zx.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(a,u,m){s.set(a,u)}),s},t.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},t.prototype.createZXingFormats=function(s){for(var a=[],u=0,m=s;u<m.length;u++){var g=m[u];this.formatMap.has(g)?a.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return a},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),S4=function(t,s,a,u){function m(g){return g instanceof a?g:new a(function(y){y(g)})}return new(a||(a=Promise))(function(g,y){function b(T){try{E(u.next(T))}catch(S){y(S)}}function A(T){try{E(u.throw(T))}catch(S){y(S)}}function E(T){T.done?g(T.value):m(T.value).then(b,A)}E((u=u.apply(t,s||[])).next())})},N4=function(t,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,m,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return A([E,T])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(u=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(t,a)}catch(T){E=[6,T],m=0}finally{u=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},ug=(function(){function t(s,a,u){if(this.formatMap=new Map([[je.QR_CODE,"qr_code"],[je.AZTEC,"aztec"],[je.CODABAR,"codabar"],[je.CODE_39,"code_39"],[je.CODE_93,"code_93"],[je.CODE_128,"code_128"],[je.DATA_MATRIX,"data_matrix"],[je.ITF,"itf"],[je.EAN_13,"ean_13"],[je.EAN_8,"ean_8"],[je.PDF_417,"pdf417"],[je.UPC_A,"upc_a"],[je.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=u;var m=this.createBarcodeDetectorFormats(s);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var s=new BarcodeDetector({formats:["qr_code"]});return typeof s<"u"},t.prototype.decodeAsync=function(s){return S4(this,void 0,void 0,function(){var a,u;return N4(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(s)];case 1:if(a=m.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(a),[2,{text:u.rawValue,format:zx.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(s){for(var a=null,u=0,m=0,g=s;m<g.length;m++){var y=g[m],b=y.boundingBox.width*y.boundingBox.height;b>u&&(u=b,a=y)}if(!a)throw"No largest barcode found";return a},t.prototype.createBarcodeDetectorFormats=function(s){for(var a=[],u=0,m=s;u<m.length;u++){var g=m[u];this.formatMap.has(g)?a.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},t.prototype.toHtml5QrcodeSupportedFormats=function(s){if(!this.reverseFormatMap.has(s))throw"reverseFormatMap doesn't have ".concat(s);return this.reverseFormatMap.get(s)},t.prototype.createReverseFormatMap=function(){var s=new Map;return this.formatMap.forEach(function(a,u,m){s.set(a,u)}),s},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),dg=function(t,s,a,u){function m(g){return g instanceof a?g:new a(function(y){y(g)})}return new(a||(a=Promise))(function(g,y){function b(T){try{E(u.next(T))}catch(S){y(S)}}function A(T){try{E(u.throw(T))}catch(S){y(S)}}function E(T){T.done?g(T.value):m(T.value).then(b,A)}E((u=u.apply(t,s||[])).next())})},fg=function(t,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,m,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return A([E,T])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(u=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(t,a)}catch(T){E=[6,T],m=0}finally{u=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},T4=(function(){function t(s,a,u,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,a&&ug.isSupported()?(this.primaryDecoder=new ug(s,u,m),this.secondaryDecoder=new cg(s,u,m)):this.primaryDecoder=new cg(s,u,m)}return t.prototype.decodeAsync=function(s){return dg(this,void 0,void 0,function(){var a;return fg(this,function(u){switch(u.label){case 0:a=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(s)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(s){return dg(this,void 0,void 0,function(){var a,u;return fg(this,function(m){switch(m.label){case 0:a=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(s)];case 2:return[2,m.sent()];case 3:if(u=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(s)];throw u;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(s){if(this.verbose){var a=performance.now()-s;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var s=0,a=0,u=this.executionResults;a<u.length;a++){var m=u[a];s+=m}var g=s/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),N0=(function(){var t=function(s,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])},t(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");t(s,a);function u(){this.constructor=s}s.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}})(),Jc=function(t,s,a,u){function m(g){return g instanceof a?g:new a(function(y){y(g)})}return new(a||(a=Promise))(function(g,y){function b(T){try{E(u.next(T))}catch(S){y(S)}}function A(T){try{E(u.throw(T))}catch(S){y(S)}}function E(T){T.done?g(T.value):m(T.value).then(b,A)}E((u=u.apply(t,s||[])).next())})},eu=function(t,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,m,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return A([E,T])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(u=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(t,a)}catch(T){E=[6,T],m=0}finally{u=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Wx=(function(){function t(s,a){this.name=s,this.track=a}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(s){var a={};a[this.name]=s;var u={advanced:[a]};return this.track.applyConstraints(u)},t.prototype.value=function(){var s=this.track.getSettings();if(this.name in s){var a=s[this.name];return a}return null},t})(),I4=(function(t){N0(s,t);function s(a,u){return t.call(this,a,u)||this}return s.prototype.min=function(){return this.getCapabilities().min},s.prototype.max=function(){return this.getCapabilities().max},s.prototype.step=function(){return this.getCapabilities().step},s.prototype.apply=function(a){var u={};u[this.name]=a;var m={advanced:[u]};return this.track.applyConstraints(m)},s.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),u=a[this.name];return{min:u.min,max:u.max,step:u.step}},s.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},s})(Wx),k4=(function(t){N0(s,t);function s(a){return t.call(this,"zoom",a)||this}return s})(I4),R4=(function(t){N0(s,t);function s(a){return t.call(this,"torch",a)||this}return s})(Wx),_4=(function(){function t(s){this.track=s}return t.prototype.zoomFeature=function(){return new k4(this.track)},t.prototype.torchFeature=function(){return new R4(this.track)},t})(),O4=(function(){function t(s,a,u){this.isClosed=!1,this.parentElement=s,this.mediaStream=a,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),s.append(this.surface)}return t.prototype.createVideoElement=function(s){var a=document.createElement("video");return a.style.width="".concat(s,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},t.prototype.setupSurface=function(){var s=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var u=s.surface.clientWidth,m=s.surface.clientHeight;s.callbacks.onRenderSurfaceReady(u,m),s.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(s,a,u,m){return Jc(this,void 0,void 0,function(){var g,y;return eu(this,function(b){switch(b.label){case 0:return g=new t(s,a,m),u.aspectRatio?(y={aspectRatio:u.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:b.sent(),b.label=2;case 2:return g.setupSurface(),[2,g]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(s){this.failIfClosed();var a=this,u=function(){setTimeout(s,200),a.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(s){return Jc(this,void 0,void 0,function(){return eu(this,function(a){if("aspectRatio"in s)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(s)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var s=this;return new Promise(function(a,u){var m=s.mediaStream.getVideoTracks(),g=m.length,y=0;s.mediaStream.getVideoTracks().forEach(function(b){s.mediaStream.removeTrack(b),b.stop(),++y,y>=g&&(s.isClosed=!0,s.parentElement.removeChild(s.surface),a())})})},t.prototype.getCapabilities=function(){return new _4(this.getFirstTrackOrFail())},t})(),P4=(function(){function t(s){this.mediaStream=s}return t.prototype.render=function(s,a,u){return Jc(this,void 0,void 0,function(){return eu(this,function(m){return[2,O4.create(s,this.mediaStream,a,u)]})})},t.create=function(s){return Jc(this,void 0,void 0,function(){var a,u;return eu(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:s},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return u=m.sent(),[2,new t(u)]}})})},t})(),hg=function(t,s,a,u){function m(g){return g instanceof a?g:new a(function(y){y(g)})}return new(a||(a=Promise))(function(g,y){function b(T){try{E(u.next(T))}catch(S){y(S)}}function A(T){try{E(u.throw(T))}catch(S){y(S)}}function E(T){T.done?g(T.value):m(T.value).then(b,A)}E((u=u.apply(t,s||[])).next())})},mg=function(t,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,m,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return A([E,T])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(u=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(t,a)}catch(T){E=[6,T],m=0}finally{u=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},D4=(function(){function t(){}return t.failIfNotSupported=function(){return hg(this,void 0,void 0,function(){return mg(this,function(s){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(s){return hg(this,void 0,void 0,function(){return mg(this,function(a){return[2,P4.create(s)]})})},t})(),M4=function(t,s,a,u){function m(g){return g instanceof a?g:new a(function(y){y(g)})}return new(a||(a=Promise))(function(g,y){function b(T){try{E(u.next(T))}catch(S){y(S)}}function A(T){try{E(u.throw(T))}catch(S){y(S)}}function E(T){T.done?g(T.value):m(T.value).then(b,A)}E((u=u.apply(t,s||[])).next())})},L4=function(t,s){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,m,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return A([E,T])}}function A(E){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(u=1,m&&(g=E[0]&2?m.return:E[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,E[1])).done)return g;switch(m=0,g&&(E=[E[0]&2,g.value]),E[0]){case 0:case 1:g=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){a.label=E[1];break}if(E[0]===6&&a.label<g[1]){a.label=g[1],g=E;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(E);break}g[2]&&a.ops.pop(),a.trys.pop();continue}E=s.call(t,a)}catch(T){E=[6,T],m=0}finally{u=g=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},B4=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var s=MediaStreamTrack;return MediaStreamTrack&&s.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var s=Uo.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(s=Uo.insecureContextCameraQueryError()),Promise.reject(s)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var s=location.host.split(":")[0];return s==="127.0.0.1"||s==="localhost"},t.getCamerasFromMediaDevices=function(){return M4(this,void 0,void 0,function(){var s,a,u,m,g,y,b;return L4(this,function(A){switch(A.label){case 0:return s=function(E){for(var T=E.getVideoTracks(),S=0,O=T;S<O.length;S++){var L=O[S];L.enabled=!1,L.stop(),E.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=A.sent(),m=[],g=0,y=u;g<y.length;g++)b=y[g],b.kind==="videoinput"&&m.push({id:b.deviceId,label:b.label});return s(a),[2,m]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(s,a){var u=function(g){for(var y=[],b=0,A=g;b<A.length;b++){var E=A[b];E.kind==="video"&&y.push({id:E.id,label:E.label})}s(y)},m=MediaStreamTrack;m.getSources(u)})},t})(),fn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(fn||(fn={}));var j4=(function(){function t(){this.state=fn.NOT_STARTED,this.onGoingTransactionNewState=fn.UNKNOWN}return t.prototype.directTransition=function(s){this.failIfTransitionOngoing(),this.validateTransition(s),this.state=s},t.prototype.startTransition=function(s){return this.failIfTransitionOngoing(),this.validateTransition(s),this.onGoingTransactionNewState=s,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===fn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var s=this.onGoingTransactionNewState;this.onGoingTransactionNewState=fn.UNKNOWN,this.directTransition(s)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===fn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=fn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==fn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(s){switch(this.state){case fn.UNKNOWN:throw"Transition from unknown is not allowed";case fn.NOT_STARTED:this.failIfNewStateIs(s,[fn.PAUSED]);break;case fn.SCANNING:break;case fn.PAUSED:break}},t.prototype.failIfNewStateIs=function(s,a){for(var u=0,m=a;u<m.length;u++){var g=m[u];if(s===g)throw"Cannot transition from ".concat(this.state," to ").concat(s)}},t})(),F4=(function(){function t(s){this.stateManager=s}return t.prototype.startTransition=function(s){return this.stateManager.startTransition(s)},t.prototype.directTransition=function(s){this.stateManager.directTransition(s)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===fn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==fn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===fn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===fn.PAUSED},t})(),V4=(function(){function t(){}return t.create=function(){return new F4(new j4)},t})(),U4=(function(){var t=function(s,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])},t(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");t(s,a);function u(){this.constructor=s}s.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}})(),Lr=(function(t){U4(s,t);function s(){return t!==null&&t.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s})(y4),z4=(function(){function t(s,a){this.logger=a,this.fps=Lr.SCAN_DEFAULT_FPS,s?(s.fps&&(this.fps=s.fps),this.disableFlip=s.disableFlip===!0,this.qrbox=s.qrbox,this.aspectRatio=s.aspectRatio,this.videoConstraints=s.videoConstraints):this.disableFlip=Lr.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Hx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Us(this.qrbox)},t.create=function(s,a){return new t(s,a)},t})(),H4=(function(){function t(s,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(s))throw"HTML Element with id=".concat(s," not found");this.elementId=s,this.verbose=!1;var u;typeof a=="boolean"?this.verbose=a===!0:a&&(u=a,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new v4(this.verbose),this.qrcode=new T4(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=V4.create()}return t.prototype.start=function(s,a,u,m){var g=this;if(!s)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;m?y=m:y=this.verbose?this.logger.log:function(){};var b=z4.create(a,this.logger);this.clearElement();var A=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=A,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:Lr.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var S=this,O=this.stateManagerProxy.startTransition(fn.SCANNING);return new Promise(function(L,U){var j=E?b.videoConstraints:S.createVideoConstraints(s);if(!j){O.cancel(),U("videoConstraints should be defined");return}var F={};(!E||b.aspectRatio)&&(F.aspectRatio=b.aspectRatio);var Z={onRenderSurfaceReady:function(ee,G){S.setupUi(ee,G,b),S.isScanning=!0,S.foreverScan(b,u,y)}};D4.failIfNotSupported().then(function(ee){ee.create(j).then(function(G){return G.render(g.element,F,Z).then(function(re){S.renderedCamera=re,O.execute(),L(null)}).catch(function(re){O.cancel(),U(re)})}).catch(function(G){O.cancel(),U(Uo.errorGettingUserMedia(G))})}).catch(function(ee){O.cancel(),U(Uo.cameraStreamingNotSupported())})})},t.prototype.pause=function(s){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(fn.PAUSED),this.showPausedState(),(Us(s)||s!==!0)&&(s=!1),s&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var s=this,a=function(){s.stateManagerProxy.directTransition(fn.SCANNING),s.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var s=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(fn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(s.element){var g=document.getElementById(Lr.SHADED_REGION_ELEMENT_ID);g&&s.element.removeChild(g)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),u(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),a.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(s,a){return this.scanFileV2(s,a).then(function(u){return u.decodedText})},t.prototype.scanFileV2=function(s,a){var u=this;if(!s||!(s instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Us(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,g){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(s);var y=new Image;y.onload=function(){var b=y.width,A=y.height,E=document.getElementById(u.elementId),T=E.clientWidth?E.clientWidth:Lr.DEFAULT_WIDTH,S=Math.max(E.clientHeight?E.clientHeight:A,Lr.FILE_SCAN_MIN_HEIGHT),O=u.computeCanvasDrawConfig(b,A,T,S);if(a){var L=u.createCanvasElement(T,S,"qr-canvas-visible");L.style.display="inline-block",E.appendChild(L);var U=L.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=T,U.canvas.height=S,U.drawImage(y,0,0,b,A,O.x,O.y,O.width,O.height)}var j=Lr.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(y.width,O.width),Z=Math.max(y.height,O.height),ee=F+2*j,G=Z+2*j,re=u.createCanvasElement(ee,G);E.appendChild(re);var fe=re.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=ee,fe.canvas.height=G,fe.drawImage(y,0,0,b,A,j,j,F,Z);try{u.qrcode.decodeRobustlyAsync(re).then(function(de){m(ag.createFromQrcodeResult(de))}).catch(g)}catch(de){g("QR code parse error, error = ".concat(de))}},y.onerror=g,y.onabort=g,y.onstalled=g,y.onsuspend=g,y.src=URL.createObjectURL(s)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return B4.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(s){if(s){if(!Hx.isMediaStreamConstraintsValid(s,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(s)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(s){var a=[je.QR_CODE,je.AZTEC,je.CODABAR,je.CODE_39,je.CODE_93,je.CODE_128,je.DATA_MATRIX,je.MAXICODE,je.ITF,je.EAN_13,je.EAN_8,je.PDF_417,je.RSS_14,je.RSS_EXPANDED,je.UPC_A,je.UPC_E,je.UPC_EAN_EXTENSION];if(!s||typeof s=="boolean"||!s.formatsToSupport)return a;if(!Array.isArray(s.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(s.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],m=0,g=s.formatsToSupport;m<g.length;m++){var y=g[m];x4(y)?u.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},t.prototype.getUseBarCodeDetectorIfSupported=function(s){if(Us(s))return!0;if(!Us(s.useBarCodeDetectorIfSupported))return s.useBarCodeDetectorIfSupported!==!1;if(Us(s.experimentalFeatures))return!0;var a=s.experimentalFeatures;return Us(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(s,a,u){var m=this,g=u.qrbox;this.validateQrboxConfig(g);var y=this.toQrdimensions(s,a,g),b=function(E){if(E<Lr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Lr.MIN_QR_BOX_SIZE,"px.")},A=function(E){return E>s&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=s),E};b(y.width),b(y.height),y.width=A(y.width)},t.prototype.validateQrboxConfig=function(s){if(typeof s!="number"&&typeof s!="function"&&(s.width===void 0||s.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(s,a,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(s,a)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return u},t.prototype.setupUi=function(s,a,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(s,a,u);var m=Us(u.qrbox)?{width:s,height:a}:u.qrbox;this.validateQrboxConfig(m);var g=this.toQrdimensions(s,a,m);g.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=u.isShadedBoxEnabled()&&g.height<=a,b={x:0,y:0,width:s,height:a},A=y?this.getShadedRegionBounds(s,a,g):b,E=this.createCanvasElement(A.width,A.height),T={willReadFrequently:!0},S=E.getContext("2d",T);S.canvas.width=A.width,S.canvas.height=A.height,this.element.append(E),y&&this.possiblyInsertShadingElement(this.element,s,a,g),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=S,this.canvasElement=E},t.prototype.createScannerPausedUiElement=function(s){var a=document.createElement("div");a.innerText=Uo.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",s.appendChild(a),this.scannerPausedUiElement=a},t.prototype.scanContext=function(s,a){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return s(m.text,ag.createFromQrcodeResult(m)),u.possiblyUpdateShaders(!0),!0}).catch(function(m){u.possiblyUpdateShaders(!1);var g=Uo.codeParseError(m);return a(g,w4.createFrom(g)),!1})},t.prototype.foreverScan=function(s,a,u){var m=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),y=g.videoWidth/g.clientWidth,b=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*y,E=this.qrRegion.height*b,T=this.qrRegion.x*y,S=this.qrRegion.y*b;this.context.drawImage(g,T,S,A,E,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(s,a,u)},m.getTimeoutFps(s.fps))};this.scanContext(a,u).then(function(L){!L&&s.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(a,u).finally(function(){O()})):O()}).catch(function(L){m.logger.logError("Error happend while scanning context",L),O()})}},t.prototype.createVideoConstraints=function(s){if(typeof s=="string")return{deviceId:{exact:s}};if(typeof s=="object"){var a="facingMode",u="deviceId",m={user:!0,environment:!0},g="exact",y=function(U){if(U in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(U,"'")},b=Object.keys(s);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var A=Object.keys(s)[0];if(A!==a&&A!==u)throw"Only '".concat(a,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(A===a){var E=s.facingMode;if(typeof E=="string"){if(y(E))return{facingMode:E}}else if(typeof E=="object")if(g in E){if(y(E["".concat(g)]))return{facingMode:{exact:E["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var T=typeof E;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var S=s.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(g in S)return{deviceId:{exact:S["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var O=typeof S;throw"Invalid type of 'deviceId' = ".concat(O)}}}var L=typeof s;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},t.prototype.computeCanvasDrawConfig=function(s,a,u,m){if(s<=u&&a<=m){var g=(u-s)/2,y=(m-a)/2;return{x:g,y,width:s,height:a}}else{var b=s,A=a;return s>u&&(a=u/s*a,s=u),a>m&&(s=m/a*s,a=m),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(A)+" to ".concat(s,"X").concat(a,".")),this.computeCanvasDrawConfig(s,a,u,m)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var s=document.getElementById(this.elementId);s&&(s.innerHTML="")},t.prototype.possiblyUpdateShaders=function(s){this.qrMatch!==s&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=s?Lr.BORDER_SHADER_MATCH_COLOR:Lr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=s)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(s,a,u){var m=s,g=a,y=document.createElement("canvas");return y.style.width="".concat(m,"px"),y.style.height="".concat(g,"px"),y.style.display="none",y.id=Us(u)?"qr-canvas":u,y},t.prototype.getShadedRegionBounds=function(s,a,u){if(u.width>s||u.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(s-u.width)/2,y:(a-u.height)/2,width:u.width,height:u.height}},t.prototype.possiblyInsertShadingElement=function(s,a,u,m){if(!(a-m.width<1||u-m.height<1)){var g=document.createElement("div");g.style.position="absolute";var y=(a-m.width)/2,b=(u-m.height)/2;if(g.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Lr.SHADED_REGION_ELEMENT_ID),a-m.width<11||u-m.height<11)this.hasBorderShaders=!1;else{var A=5,E=40;this.insertShaderBorders(g,E,A,-A,null,0,!0),this.insertShaderBorders(g,E,A,-A,null,0,!1),this.insertShaderBorders(g,E,A,null,-A,0,!0),this.insertShaderBorders(g,E,A,null,-A,0,!1),this.insertShaderBorders(g,A,E+A,-A,null,-A,!0),this.insertShaderBorders(g,A,E+A,null,-A,-A,!0),this.insertShaderBorders(g,A,E+A,-A,null,-A,!1),this.insertShaderBorders(g,A,E+A,null,-A,-A,!1),this.hasBorderShaders=!0}s.append(g)}},t.prototype.insertShaderBorders=function(s,a,u,m,g,y,b){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=Lr.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(a,"px"),A.style.height="".concat(u,"px"),m!==null&&(A.style.top="".concat(m,"px")),g!==null&&(A.style.bottom="".concat(g,"px")),b?A.style.left="".concat(y,"px"):A.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),s.appendChild(A)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(s){return 1e3/s},t})(),gg;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(gg||(gg={}));var Gx=Vg();const Xx=zf(Gx);function W4(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}const G4=t=>{switch(t){case"success":return K4;case"info":return q4;case"warning":return Z4;case"error":return $4;default:return null}},X4=Array(12).fill(0),Y4=({visible:t,className:s})=>ke.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},ke.createElement("div",{className:"sonner-spinner"},X4.map((a,u)=>ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${u}`})))),K4=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Z4=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q4=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$4=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Q4=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),J4=()=>{const[t,s]=ke.useState(document.hidden);return ke.useEffect(()=>{const a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t};let Bf=1;class eA{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const a=this.subscribers.indexOf(s);this.subscribers.splice(a,1)}),this.publish=s=>{this.subscribers.forEach(a=>a(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var a;const{message:u,...m}=s,g=typeof s?.id=="number"||((a=s.id)==null?void 0:a.length)>0?s.id:Bf++,y=this.toasts.find(A=>A.id===g),b=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(g)&&this.dismissedToasts.delete(g),y?this.toasts=this.toasts.map(A=>A.id===g?(this.publish({...A,...s,id:g,title:u}),{...A,...s,id:g,dismissible:b,title:u}):A):this.addToast({title:u,...m,dismissible:b,id:g}),g},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:s,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(u=>u({id:a.id,dismiss:!0}))}),s),this.message=(s,a)=>this.create({...a,message:s}),this.error=(s,a)=>this.create({...a,message:s,type:"error"}),this.success=(s,a)=>this.create({...a,type:"success",message:s}),this.info=(s,a)=>this.create({...a,type:"info",message:s}),this.warning=(s,a)=>this.create({...a,type:"warning",message:s}),this.loading=(s,a)=>this.create({...a,type:"loading",message:s}),this.promise=(s,a)=>{if(!a)return;let u;a.loading!==void 0&&(u=this.create({...a,promise:s,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const m=Promise.resolve(s instanceof Function?s():s);let g=u!==void 0,y;const b=m.then(async E=>{if(y=["resolve",E],ke.isValidElement(E))g=!1,this.create({id:u,type:"default",message:E});else if(nA(E)&&!E.ok){g=!1;const S=typeof a.error=="function"?await a.error(`HTTP error! status: ${E.status}`):a.error,O=typeof a.description=="function"?await a.description(`HTTP error! status: ${E.status}`):a.description,U=typeof S=="object"&&!ke.isValidElement(S)?S:{message:S};this.create({id:u,type:"error",description:O,...U})}else if(E instanceof Error){g=!1;const S=typeof a.error=="function"?await a.error(E):a.error,O=typeof a.description=="function"?await a.description(E):a.description,U=typeof S=="object"&&!ke.isValidElement(S)?S:{message:S};this.create({id:u,type:"error",description:O,...U})}else if(a.success!==void 0){g=!1;const S=typeof a.success=="function"?await a.success(E):a.success,O=typeof a.description=="function"?await a.description(E):a.description,U=typeof S=="object"&&!ke.isValidElement(S)?S:{message:S};this.create({id:u,type:"success",description:O,...U})}}).catch(async E=>{if(y=["reject",E],a.error!==void 0){g=!1;const T=typeof a.error=="function"?await a.error(E):a.error,S=typeof a.description=="function"?await a.description(E):a.description,L=typeof T=="object"&&!ke.isValidElement(T)?T:{message:T};this.create({id:u,type:"error",description:S,...L})}}).finally(()=>{g&&(this.dismiss(u),u=void 0),a.finally==null||a.finally.call(a)}),A=()=>new Promise((E,T)=>b.then(()=>y[0]==="reject"?T(y[1]):E(y[1])).catch(T));return typeof u!="string"&&typeof u!="number"?{unwrap:A}:Object.assign(u,{unwrap:A})},this.custom=(s,a)=>{const u=a?.id||Bf++;return this.create({jsx:s(u),id:u,...a}),u},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Er=new eA,tA=(t,s)=>{const a=s?.id||Bf++;return Er.addToast({title:t,...s,id:a}),a},nA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",rA=tA,sA=()=>Er.toasts,iA=()=>Er.getActiveToasts(),Ye=Object.assign(rA,{success:Er.success,info:Er.info,warning:Er.warning,error:Er.error,custom:Er.custom,message:Er.message,promise:Er.promise,dismiss:Er.dismiss,loading:Er.loading},{getHistory:sA,getToasts:iA});W4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rc(t){return t.label!==void 0}const oA=3,aA="24px",lA="16px",pg=4e3,cA=356,uA=14,dA=45,fA=200;function Cs(...t){return t.filter(Boolean).join(" ")}function hA(t){const[s,a]=t.split("-"),u=[];return s&&u.push(s),a&&u.push(a),u}const mA=t=>{var s,a,u,m,g,y,b,A,E;const{invert:T,toast:S,unstyled:O,interacting:L,setHeights:U,visibleToasts:j,heights:F,index:Z,toasts:ee,expanded:G,removeToast:re,defaultRichColors:fe,closeButton:de,style:q,cancelButtonStyle:Q,actionButtonStyle:z,className:xe="",descriptionClassName:Oe="",duration:we,position:_e,gap:Pe,expandByDefault:W,classNames:ge,icons:ue,closeButtonAriaLabel:se="Close toast"}=t,[he,pe]=ke.useState(null),[K,ce]=ke.useState(null),[me,Ne]=ke.useState(!1),[Ve,be]=ke.useState(!1),[Ke,De]=ke.useState(!1),[at,Rt]=ke.useState(!1),[Pt,En]=ke.useState(!1),[mt,hr]=ke.useState(0),[sr,es]=ke.useState(0),Bt=ke.useRef(S.duration||we||pg),St=ke.useRef(null),tt=ke.useRef(null),Br=Z===0,Le=Z+1<=j,an=S.type,jr=S.dismissible!==!1,mr=S.className||"",Ws=S.descriptionClassName||"",bn=ke.useMemo(()=>F.findIndex(nt=>nt.toastId===S.id)||0,[F,S.id]),Gs=ke.useMemo(()=>{var nt;return(nt=S.closeButton)!=null?nt:de},[S.closeButton,de]),Kn=ke.useMemo(()=>S.duration||we||pg,[S.duration,we]),ln=ke.useRef(0),ir=ke.useRef(0),Sr=ke.useRef(0),fs=ke.useRef(null),[Wt,Re]=_e.split("-"),qt=ke.useMemo(()=>F.reduce((nt,Ct,en)=>en>=bn?nt:nt+Ct.height,0),[F,bn]),vt=J4(),Dt=S.invert||T,Nr=an==="loading";ir.current=ke.useMemo(()=>bn*Pe+qt,[bn,qt]),ke.useEffect(()=>{Bt.current=Kn},[Kn]),ke.useEffect(()=>{Ne(!0)},[]),ke.useEffect(()=>{const nt=tt.current;if(nt){const Ct=nt.getBoundingClientRect().height;return es(Ct),U(en=>[{toastId:S.id,height:Ct,position:S.position},...en]),()=>U(en=>en.filter(Et=>Et.toastId!==S.id))}},[U,S.id]),ke.useLayoutEffect(()=>{if(!me)return;const nt=tt.current,Ct=nt.style.height;nt.style.height="auto";const en=nt.getBoundingClientRect().height;nt.style.height=Ct,es(en),U(Et=>Et.find(Gt=>Gt.toastId===S.id)?Et.map(Gt=>Gt.toastId===S.id?{...Gt,height:en}:Gt):[{toastId:S.id,height:en,position:S.position},...Et])},[me,S.title,S.description,U,S.id,S.jsx,S.action,S.cancel]);const Zn=ke.useCallback(()=>{be(!0),hr(ir.current),U(nt=>nt.filter(Ct=>Ct.toastId!==S.id)),setTimeout(()=>{re(S)},fA)},[S,re,U,ir]);ke.useEffect(()=>{if(S.promise&&an==="loading"||S.duration===1/0||S.type==="loading")return;let nt;return G||L||vt?(()=>{if(Sr.current<ln.current){const Et=new Date().getTime()-ln.current;Bt.current=Bt.current-Et}Sr.current=new Date().getTime()})():(()=>{Bt.current!==1/0&&(ln.current=new Date().getTime(),nt=setTimeout(()=>{S.onAutoClose==null||S.onAutoClose.call(S,S),Zn()},Bt.current))})(),()=>clearTimeout(nt)},[G,L,S,an,vt,Zn]),ke.useEffect(()=>{S.delete&&(Zn(),S.onDismiss==null||S.onDismiss.call(S,S))},[Zn,S.delete]);function Xs(){var nt;if(ue?.loading){var Ct;return ke.createElement("div",{className:Cs(ge?.loader,S==null||(Ct=S.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":an==="loading"},ue.loading)}return ke.createElement(Y4,{className:Cs(ge?.loader,S==null||(nt=S.classNames)==null?void 0:nt.loader),visible:an==="loading"})}const ut=S.icon||ue?.[an]||G4(an);var Vn,Ys;return ke.createElement("li",{tabIndex:0,ref:tt,className:Cs(xe,mr,ge?.toast,S==null||(s=S.classNames)==null?void 0:s.toast,ge?.default,ge?.[an],S==null||(a=S.classNames)==null?void 0:a[an]),"data-sonner-toast":"","data-rich-colors":(Vn=S.richColors)!=null?Vn:fe,"data-styled":!(S.jsx||S.unstyled||O),"data-mounted":me,"data-promise":!!S.promise,"data-swiped":Pt,"data-removed":Ve,"data-visible":Le,"data-y-position":Wt,"data-x-position":Re,"data-index":Z,"data-front":Br,"data-swiping":Ke,"data-dismissible":jr,"data-type":an,"data-invert":Dt,"data-swipe-out":at,"data-swipe-direction":K,"data-expanded":!!(G||W&&me),"data-testid":S.testId,style:{"--index":Z,"--toasts-before":Z,"--z-index":ee.length-Z,"--offset":`${Ve?mt:ir.current}px`,"--initial-height":W?"auto":`${sr}px`,...q,...S.style},onDragEnd:()=>{De(!1),pe(null),fs.current=null},onPointerDown:nt=>{nt.button!==2&&(Nr||!jr||(St.current=new Date,hr(ir.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(De(!0),fs.current={x:nt.clientX,y:nt.clientY})))},onPointerUp:()=>{var nt,Ct,en;if(at||!jr)return;fs.current=null;const Et=Number(((nt=tt.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),or=Number(((Ct=tt.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gt=new Date().getTime()-((en=St.current)==null?void 0:en.getTime()),_t=he==="x"?Et:or,hs=Math.abs(_t)/Gt;if(Math.abs(_t)>=dA||hs>.11){hr(ir.current),S.onDismiss==null||S.onDismiss.call(S,S),ce(he==="x"?Et>0?"right":"left":or>0?"down":"up"),Zn(),Rt(!0);return}else{var Xt,Un;(Xt=tt.current)==null||Xt.style.setProperty("--swipe-amount-x","0px"),(Un=tt.current)==null||Un.style.setProperty("--swipe-amount-y","0px")}En(!1),De(!1),pe(null)},onPointerMove:nt=>{var Ct,en,Et;if(!fs.current||!jr||((Ct=window.getSelection())==null?void 0:Ct.toString().length)>0)return;const Gt=nt.clientY-fs.current.y,_t=nt.clientX-fs.current.x;var hs;const Xt=(hs=t.swipeDirections)!=null?hs:hA(_e);!he&&(Math.abs(_t)>1||Math.abs(Gt)>1)&&pe(Math.abs(_t)>Math.abs(Gt)?"x":"y");let Un={x:0,y:0};const tn=wn=>1/(1.5+Math.abs(wn)/20);if(he==="y"){if(Xt.includes("top")||Xt.includes("bottom"))if(Xt.includes("top")&&Gt<0||Xt.includes("bottom")&&Gt>0)Un.y=Gt;else{const wn=Gt*tn(Gt);Un.y=Math.abs(wn)<Math.abs(Gt)?wn:Gt}}else if(he==="x"&&(Xt.includes("left")||Xt.includes("right")))if(Xt.includes("left")&&_t<0||Xt.includes("right")&&_t>0)Un.x=_t;else{const wn=_t*tn(_t);Un.x=Math.abs(wn)<Math.abs(_t)?wn:_t}(Math.abs(Un.x)>0||Math.abs(Un.y)>0)&&En(!0),(en=tt.current)==null||en.style.setProperty("--swipe-amount-x",`${Un.x}px`),(Et=tt.current)==null||Et.style.setProperty("--swipe-amount-y",`${Un.y}px`)}},Gs&&!S.jsx&&an!=="loading"?ke.createElement("button",{"aria-label":se,"data-disabled":Nr,"data-close-button":!0,onClick:Nr||!jr?()=>{}:()=>{Zn(),S.onDismiss==null||S.onDismiss.call(S,S)},className:Cs(ge?.closeButton,S==null||(u=S.classNames)==null?void 0:u.closeButton)},(Ys=ue?.close)!=null?Ys:Q4):null,(an||S.icon||S.promise)&&S.icon!==null&&(ue?.[an]!==null||S.icon)?ke.createElement("div",{"data-icon":"",className:Cs(ge?.icon,S==null||(m=S.classNames)==null?void 0:m.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||Xs():null,S.type!=="loading"?ut:null):null,ke.createElement("div",{"data-content":"",className:Cs(ge?.content,S==null||(g=S.classNames)==null?void 0:g.content)},ke.createElement("div",{"data-title":"",className:Cs(ge?.title,S==null||(y=S.classNames)==null?void 0:y.title)},S.jsx?S.jsx:typeof S.title=="function"?S.title():S.title),S.description?ke.createElement("div",{"data-description":"",className:Cs(Oe,Ws,ge?.description,S==null||(b=S.classNames)==null?void 0:b.description)},typeof S.description=="function"?S.description():S.description):null),ke.isValidElement(S.cancel)?S.cancel:S.cancel&&Rc(S.cancel)?ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||Q,onClick:nt=>{Rc(S.cancel)&&jr&&(S.cancel.onClick==null||S.cancel.onClick.call(S.cancel,nt),Zn())},className:Cs(ge?.cancelButton,S==null||(A=S.classNames)==null?void 0:A.cancelButton)},S.cancel.label):null,ke.isValidElement(S.action)?S.action:S.action&&Rc(S.action)?ke.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||z,onClick:nt=>{Rc(S.action)&&(S.action.onClick==null||S.action.onClick.call(S.action,nt),!nt.defaultPrevented&&Zn())},className:Cs(ge?.actionButton,S==null||(E=S.classNames)==null?void 0:E.actionButton)},S.action.label):null)};function xg(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function gA(t,s){const a={};return[t,s].forEach((u,m)=>{const g=m===1,y=g?"--mobile-offset":"--offset",b=g?lA:aA;function A(E){["top","right","bottom","left"].forEach(T=>{a[`${y}-${T}`]=typeof E=="number"?`${E}px`:E})}typeof u=="number"||typeof u=="string"?A(u):typeof u=="object"?["top","right","bottom","left"].forEach(E=>{u[E]===void 0?a[`${y}-${E}`]=b:a[`${y}-${E}`]=typeof u[E]=="number"?`${u[E]}px`:u[E]}):A(b)}),a}const pA=ke.forwardRef(function(s,a){const{id:u,invert:m,position:g="bottom-right",hotkey:y=["altKey","KeyT"],expand:b,closeButton:A,className:E,offset:T,mobileOffset:S,theme:O="light",richColors:L,duration:U,style:j,visibleToasts:F=oA,toastOptions:Z,dir:ee=xg(),gap:G=uA,icons:re,containerAriaLabel:fe="Notifications"}=s,[de,q]=ke.useState([]),Q=ke.useMemo(()=>u?de.filter(me=>me.toasterId===u):de.filter(me=>!me.toasterId),[de,u]),z=ke.useMemo(()=>Array.from(new Set([g].concat(Q.filter(me=>me.position).map(me=>me.position)))),[Q,g]),[xe,Oe]=ke.useState([]),[we,_e]=ke.useState(!1),[Pe,W]=ke.useState(!1),[ge,ue]=ke.useState(O!=="system"?O:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=ke.useRef(null),he=y.join("+").replace(/Key/g,"").replace(/Digit/g,""),pe=ke.useRef(null),K=ke.useRef(!1),ce=ke.useCallback(me=>{q(Ne=>{var Ve;return(Ve=Ne.find(be=>be.id===me.id))!=null&&Ve.delete||Er.dismiss(me.id),Ne.filter(({id:be})=>be!==me.id)})},[]);return ke.useEffect(()=>Er.subscribe(me=>{if(me.dismiss){requestAnimationFrame(()=>{q(Ne=>Ne.map(Ve=>Ve.id===me.id?{...Ve,delete:!0}:Ve))});return}setTimeout(()=>{Xx.flushSync(()=>{q(Ne=>{const Ve=Ne.findIndex(be=>be.id===me.id);return Ve!==-1?[...Ne.slice(0,Ve),{...Ne[Ve],...me},...Ne.slice(Ve+1)]:[me,...Ne]})})})}),[de]),ke.useEffect(()=>{if(O!=="system"){ue(O);return}if(O==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;const me=window.matchMedia("(prefers-color-scheme: dark)");try{me.addEventListener("change",({matches:Ne})=>{ue(Ne?"dark":"light")})}catch{me.addListener(({matches:Ve})=>{try{ue(Ve?"dark":"light")}catch(be){console.error(be)}})}},[O]),ke.useEffect(()=>{de.length<=1&&_e(!1)},[de]),ke.useEffect(()=>{const me=Ne=>{var Ve;if(y.every(De=>Ne[De]||Ne.code===De)){var Ke;_e(!0),(Ke=se.current)==null||Ke.focus()}Ne.code==="Escape"&&(document.activeElement===se.current||(Ve=se.current)!=null&&Ve.contains(document.activeElement))&&_e(!1)};return document.addEventListener("keydown",me),()=>document.removeEventListener("keydown",me)},[y]),ke.useEffect(()=>{if(se.current)return()=>{pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null,K.current=!1)}},[se.current]),ke.createElement("section",{ref:a,"aria-label":`${fe} ${he}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((me,Ne)=>{var Ve;const[be,Ke]=me.split("-");return Q.length?ke.createElement("ol",{key:me,dir:ee==="auto"?xg():ee,tabIndex:-1,ref:se,className:E,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":be,"data-x-position":Ke,style:{"--front-toast-height":`${((Ve=xe[0])==null?void 0:Ve.height)||0}px`,"--width":`${cA}px`,"--gap":`${G}px`,...j,...gA(T,S)},onBlur:De=>{K.current&&!De.currentTarget.contains(De.relatedTarget)&&(K.current=!1,pe.current&&(pe.current.focus({preventScroll:!0}),pe.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||K.current||(K.current=!0,pe.current=De.relatedTarget)},onMouseEnter:()=>_e(!0),onMouseMove:()=>_e(!0),onMouseLeave:()=>{Pe||_e(!1)},onDragEnd:()=>_e(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},Q.filter(De=>!De.position&&Ne===0||De.position===me).map((De,at)=>{var Rt,Pt;return ke.createElement(mA,{key:De.id,icons:re,index:at,toast:De,defaultRichColors:L,duration:(Rt=Z?.duration)!=null?Rt:U,className:Z?.className,descriptionClassName:Z?.descriptionClassName,invert:m,visibleToasts:F,closeButton:(Pt=Z?.closeButton)!=null?Pt:A,interacting:Pe,position:me,style:Z?.style,unstyled:Z?.unstyled,classNames:Z?.classNames,cancelButtonStyle:Z?.cancelButtonStyle,actionButtonStyle:Z?.actionButtonStyle,closeButtonAriaLabel:Z?.closeButtonAriaLabel,removeToast:ce,toasts:Q.filter(En=>En.position==De.position),heights:xe.filter(En=>En.position==De.position),setHeights:Oe,expandByDefault:b,gap:G,expanded:we,swipeDirections:s.swipeDirections})})):null}))});/*! Capacitor: https://capacitorjs.com/ - MIT License */var qo;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(qo||(qo={}));class Xo extends Error{constructor(s,a,u){super(s),this.message=s,this.code=a,this.data=u}}const xA=t=>{var s,a;return t?.androidBridge?"android":!((a=(s=t?.webkit)===null||s===void 0?void 0:s.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},yA=t=>{const s=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},u=a.Plugins=a.Plugins||{},m=()=>s!==null?s.name:xA(t),g=()=>m()!=="web",y=S=>{const O=E.get(S);return!!(O?.platforms.has(m())||b(S))},b=S=>{var O;return(O=a.PluginHeaders)===null||O===void 0?void 0:O.find(L=>L.name===S)},A=S=>t.console.error(S),E=new Map,T=(S,O={})=>{const L=E.get(S);if(L)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),L.proxy;const U=m(),j=b(S);let F;const Z=async()=>(!F&&U in O?F=typeof O[U]=="function"?F=await O[U]():F=O[U]:s!==null&&!F&&"web"in O&&(F=typeof O.web=="function"?F=await O.web():F=O.web),F),ee=(Q,z)=>{var xe,Oe;if(j){const we=j?.methods.find(_e=>z===_e.name);if(we)return we.rtype==="promise"?_e=>a.nativePromise(S,z.toString(),_e):(_e,Pe)=>a.nativeCallback(S,z.toString(),_e,Pe);if(Q)return(xe=Q[z])===null||xe===void 0?void 0:xe.bind(Q)}else{if(Q)return(Oe=Q[z])===null||Oe===void 0?void 0:Oe.bind(Q);throw new Xo(`"${S}" plugin is not implemented on ${U}`,qo.Unimplemented)}},G=Q=>{let z;const xe=(...Oe)=>{const we=Z().then(_e=>{const Pe=ee(_e,Q);if(Pe){const W=Pe(...Oe);return z=W?.remove,W}else throw new Xo(`"${S}.${Q}()" is not implemented on ${U}`,qo.Unimplemented)});return Q==="addListener"&&(we.remove=async()=>z()),we};return xe.toString=()=>`${Q.toString()}() { [capacitor code] }`,Object.defineProperty(xe,"name",{value:Q,writable:!1,configurable:!1}),xe},re=G("addListener"),fe=G("removeListener"),de=(Q,z)=>{const xe=re({eventName:Q},z),Oe=async()=>{const _e=await xe;fe({eventName:Q,callbackId:_e},z)},we=new Promise(_e=>xe.then(()=>_e({remove:Oe})));return we.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Oe()},we},q=new Proxy({},{get(Q,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?de:re;case"removeListener":return fe;default:return G(z)}}});return u[S]=q,E.set(S,{name:S,proxy:q,platforms:new Set([...Object.keys(O),...j?[U]:[]])}),q};return a.convertFileSrc||(a.convertFileSrc=S=>S),a.getPlatform=m,a.handleError=A,a.isNativePlatform=g,a.isPluginAvailable=y,a.registerPlugin=T,a.Exception=Xo,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},wA=t=>t.Capacitor=yA(t),tu=wA(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),T0=tu.registerPlugin;class I0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(s,a){let u=!1;this.listeners[s]||(this.listeners[s]=[],u=!0),this.listeners[s].push(a);const g=this.windowListeners[s];g&&!g.registered&&this.addWindowListener(g),u&&this.sendRetainedArgumentsForEvent(s);const y=async()=>this.removeListener(s,a);return Promise.resolve({remove:y})}async removeAllListeners(){this.listeners={};for(const s in this.windowListeners)this.removeWindowListener(this.windowListeners[s]);this.windowListeners={}}notifyListeners(s,a,u){const m=this.listeners[s];if(!m){if(u){let g=this.retainedEventArguments[s];g||(g=[]),g.push(a),this.retainedEventArguments[s]=g}return}m.forEach(g=>g(a))}hasListeners(s){var a;return!!(!((a=this.listeners[s])===null||a===void 0)&&a.length)}registerWindowListener(s,a){this.windowListeners[a]={registered:!1,windowEventName:s,pluginEventName:a,handler:u=>{this.notifyListeners(a,u)}}}unimplemented(s="not implemented"){return new tu.Exception(s,qo.Unimplemented)}unavailable(s="not available"){return new tu.Exception(s,qo.Unavailable)}async removeListener(s,a){const u=this.listeners[s];if(!u)return;const m=u.indexOf(a);this.listeners[s].splice(m,1),this.listeners[s].length||this.removeWindowListener(this.windowListeners[s])}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}sendRetainedArgumentsForEvent(s){const a=this.retainedEventArguments[s];a&&(delete this.retainedEventArguments[s],a.forEach(u=>{this.notifyListeners(s,u)}))}}const yg=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),wg=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class vA extends I0{async getCookies(){const s=document.cookie,a={};return s.split(";").forEach(u=>{if(u.length<=0)return;let[m,g]=u.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");m=wg(m).trim(),g=wg(g).trim(),a[m]=g}),a}async setCookie(s){try{const a=yg(s.key),u=yg(s.value),m=`; expires=${(s.expires||"").replace("expires=","")}`,g=(s.path||"/").replace("path=",""),y=s.url!=null&&s.url.length>0?`domain=${s.url}`:"";document.cookie=`${a}=${u||""}${m}; path=${g}; ${y};`}catch(a){return Promise.reject(a)}}async deleteCookie(s){try{document.cookie=`${s.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const s=document.cookie.split(";")||[];for(const a of s)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(s){return Promise.reject(s)}}async clearAllCookies(){try{await this.clearCookies()}catch(s){return Promise.reject(s)}}}T0("CapacitorCookies",{web:()=>new vA});const CA=async t=>new Promise((s,a)=>{const u=new FileReader;u.onload=()=>{const m=u.result;s(m.indexOf(",")>=0?m.split(",")[1]:m)},u.onerror=m=>a(m),u.readAsDataURL(t)}),EA=(t={})=>{const s=Object.keys(t);return Object.keys(t).map(m=>m.toLocaleLowerCase()).reduce((m,g,y)=>(m[g]=t[s[y]],m),{})},bA=(t,s=!0)=>t?Object.entries(t).reduce((u,m)=>{const[g,y]=m;let b,A;return Array.isArray(y)?(A="",y.forEach(E=>{b=s?encodeURIComponent(E):E,A+=`${g}=${b}&`}),A.slice(0,-1)):(b=s?encodeURIComponent(y):y,A=`${g}=${b}`),`${u}&${A}`},"").substr(1):null,AA=(t,s={})=>{const a=Object.assign({method:t.method||"GET",headers:t.headers},s),m=EA(t.headers)["content-type"]||"";if(typeof t.data=="string")a.body=t.data;else if(m.includes("application/x-www-form-urlencoded")){const g=new URLSearchParams;for(const[y,b]of Object.entries(t.data||{}))g.set(y,b);a.body=g.toString()}else if(m.includes("multipart/form-data")||t.data instanceof FormData){const g=new FormData;if(t.data instanceof FormData)t.data.forEach((b,A)=>{g.append(A,b)});else for(const b of Object.keys(t.data))g.append(b,t.data[b]);a.body=g;const y=new Headers(a.headers);y.delete("content-type"),a.headers=y}else(m.includes("application/json")||typeof t.data=="object")&&(a.body=JSON.stringify(t.data));return a};class SA extends I0{async request(s){const a=AA(s,s.webFetchExtra),u=bA(s.params,s.shouldEncodeUrlParams),m=u?`${s.url}?${u}`:s.url,g=await fetch(m,a),y=g.headers.get("content-type")||"";let{responseType:b="text"}=g.ok?s:{};y.includes("application/json")&&(b="json");let A,E;switch(b){case"arraybuffer":case"blob":E=await g.blob(),A=await CA(E);break;case"json":A=await g.json();break;case"document":case"text":default:A=await g.text()}const T={};return g.headers.forEach((S,O)=>{T[O]=S}),{data:A,headers:T,status:g.status,url:g.url}}async get(s){return this.request(Object.assign(Object.assign({},s),{method:"GET"}))}async post(s){return this.request(Object.assign(Object.assign({},s),{method:"POST"}))}async put(s){return this.request(Object.assign(Object.assign({},s),{method:"PUT"}))}async patch(s){return this.request(Object.assign(Object.assign({},s),{method:"PATCH"}))}async delete(s){return this.request(Object.assign(Object.assign({},s),{method:"DELETE"}))}}T0("CapacitorHttp",{web:()=>new SA});var zo;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(zo||(zo={}));var Qa;(function(t){t.Rear="REAR",t.Front="FRONT"})(Qa||(Qa={}));var vg;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(vg||(vg={}));class NA extends I0{async getPhoto(s){return new Promise(async(a,u)=>{if(s.webUseInput||s.source===zo.Photos)this.fileInputExperience(s,a,u);else if(s.source===zo.Prompt){let m=document.querySelector("pwa-action-sheet");m||(m=document.createElement("pwa-action-sheet"),document.body.appendChild(m)),m.header=s.promptLabelHeader||"Photo",m.cancelable=!1,m.options=[{title:s.promptLabelPhoto||"From Photos"},{title:s.promptLabelPicture||"Take Picture"}],m.addEventListener("onSelection",async g=>{g.detail===0?this.fileInputExperience(s,a,u):this.cameraExperience(s,a,u)})}else this.cameraExperience(s,a,u)})}async pickImages(s){return new Promise(async(a,u)=>{this.multipleFileInputExperience(a,u)})}async cameraExperience(s,a,u){if(customElements.get("pwa-camera-modal")){const m=document.createElement("pwa-camera-modal");m.facingMode=s.direction===Qa.Front?"user":"environment",document.body.appendChild(m);try{await m.componentOnReady(),m.addEventListener("onPhoto",async g=>{const y=g.detail;y===null?u(new Xo("User cancelled photos app")):y instanceof Error?u(y):a(await this._getCameraPhoto(y,s)),m.dismiss(),document.body.removeChild(m)}),m.present()}catch{this.fileInputExperience(s,a,u)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(s,a,u)}fileInputExperience(s,a,u){let m=document.querySelector("#_capacitor-camera-input");const g=()=>{var y;(y=m.parentNode)===null||y===void 0||y.removeChild(m)};m||(m=document.createElement("input"),m.id="_capacitor-camera-input",m.type="file",m.hidden=!0,document.body.appendChild(m),m.addEventListener("change",y=>{const b=m.files[0];let A="jpeg";if(b.type==="image/png"?A="png":b.type==="image/gif"&&(A="gif"),s.resultType==="dataUrl"||s.resultType==="base64"){const E=new FileReader;E.addEventListener("load",()=>{if(s.resultType==="dataUrl")a({dataUrl:E.result,format:A});else if(s.resultType==="base64"){const T=E.result.split(",")[1];a({base64String:T,format:A})}g()}),E.readAsDataURL(b)}else a({webPath:URL.createObjectURL(b),format:A}),g()}),m.addEventListener("cancel",y=>{u(new Xo("User cancelled photos app")),g()})),m.accept="image/*",m.capture=!0,s.source===zo.Photos||s.source===zo.Prompt?m.removeAttribute("capture"):s.direction===Qa.Front?m.capture="user":s.direction===Qa.Rear&&(m.capture="environment"),m.click()}multipleFileInputExperience(s,a){let u=document.querySelector("#_capacitor-camera-input-multiple");const m=()=>{var g;(g=u.parentNode)===null||g===void 0||g.removeChild(u)};u||(u=document.createElement("input"),u.id="_capacitor-camera-input-multiple",u.type="file",u.hidden=!0,u.multiple=!0,document.body.appendChild(u),u.addEventListener("change",g=>{const y=[];for(let b=0;b<u.files.length;b++){const A=u.files[b];let E="jpeg";A.type==="image/png"?E="png":A.type==="image/gif"&&(E="gif"),y.push({webPath:URL.createObjectURL(A),format:E})}s({photos:y}),m()}),u.addEventListener("cancel",g=>{a(new Xo("User cancelled photos app")),m()})),u.accept="image/*",u.click()}_getCameraPhoto(s,a){return new Promise((u,m)=>{const g=new FileReader,y=s.type.split("/")[1];a.resultType==="uri"?u({webPath:URL.createObjectURL(s),format:y,saved:!1}):(g.readAsDataURL(s),g.onloadend=()=>{const b=g.result;a.resultType==="dataUrl"?u({dataUrl:b,format:y,saved:!1}):u({base64String:b.split(",")[1],format:y,saved:!1})},g.onerror=b=>{m(b)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const Cg=T0("Camera",{web:()=>new NA}),TA=`
 .zoom-slider::-webkit-slider-thumb {
  appearance: none;
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #10b981;
  cursor: pointer;
  border: 2px solid white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
 }

 .zoom-slider::-moz-range-thumb {
  height: 20px;
  width: 20px;
  border-radius: 50%;
  background: #10b981;
  cursor: pointer;
  border: 2px solid white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  box-sizing: border-box;
 }
`;function IA(){const[t,s]=D.useState(!1),[a,u]=D.useState(!1),[m,g]=D.useState(0),[y,b]=D.useState(!0),[A,E]=D.useState(1),[T,S]=D.useState(!1),O=D.useRef(null),L=D.useRef(!1),U=D.useRef(null);localStorage.getItem("usuario_id");const j=localStorage.getItem("token"),F=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",Z=1,ee=4,G=.5,re=()=>({"Content-Type":"application/json",Authorization:`Bearer ${j}`}),fe=W=>{try{return W.getCapabilities().zoom!==void 0}catch{return!1}},de=async W=>{if(!U.current||!T){xe(W);return}try{await U.current.applyConstraints({advanced:[{zoom:W}]}),E(W)}catch{xe(W)}},q=async W=>{const ge=parseFloat(W.target.value);T?await de(ge):xe(ge)},Q=async()=>{const W=Math.min(A+G,ee);T?await de(W):xe(W)},z=async()=>{const W=Math.max(A-G,Z);T?await de(W):xe(W)},xe=W=>{const ge=document.querySelector("#qr-reader video");if(ge){const ue=W;ge.style.transform=`scale(${ue})`,ge.style.transformOrigin="center center",ge.style.width=`${100*ue}%`,ge.style.height=`${100*ue}%`}E(W)},Oe=async()=>{if(tu.isNativePlatform())try{let W=await Cg.checkPermissions();W.camera!=="granted"&&(W=await Cg.requestPermissions({permissions:["camera"]})),W.camera==="granted"?await we():(b(!1),Ye.error("Permiso de cmara denegado. No se puede iniciar el escner."))}catch{b(!1),Ye.error("Error al solicitar permisos nativos de la cmara.")}else await we()},we=async()=>{try{s(!0);const W=new H4("qr-reader");O.current=W,await W.start({facingMode:"environment"},{fps:15,qrbox:{width:250,height:250},aspectRatio:1,videoConstraints:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}},async ge=>{Pe(ge)},ge=>{}),setTimeout(async()=>{try{const ge=document.querySelector("#qr-reader video");if(ge&&ge.srcObject){const se=ge.srcObject.getVideoTracks()[0];U.current=se;const he=fe(se);S(he),he?Ye.success("Cmara activa - Zoom disponible"):Ye.info("Cmara activa - Usando zoom digital")}}catch{}},1e3),L.current=!0,b(!0),Ye.success("Cmara activa - Enfoca el QR dentro del recuadro")}catch(W){b(!1),s(!1),O.current=null,L.current=!1,U.current=null,W instanceof Error&&(W.name==="NotAllowedError"||W.message.includes("permission")?Ye.error("Permiso de cmara denegado. No se pudo acceder."):W.name==="NotFoundError"?Ye.error("No se encontr cmara trasera."):Ye.error("No se pudo acceder a la cmara. Revisa tu configuracin."))}},_e=async()=>{const W=document.querySelector("#qr-reader video");if(W&&(W.style.transform="none",W.style.width="100%",W.style.height="100%"),U.current&&(U.current.stop(),U.current=null),O.current&&L.current)try{await O.current.stop(),await O.current.clear(),L.current=!1}catch{L.current=!1}O.current=null,s(!1),S(!1)},Pe=async W=>{if(!j){Ye.error("No ests autenticado. Inicia sesin nuevamente.");return}_e();try{const ge=await fetch(`${F}/validarQR`,{method:"POST",headers:re(),body:JSON.stringify({codigo_qr:W})});if(!ge.ok){if(ge.status===401){Ye.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${ge.status}`)}const ue=await ge.json(),se=ue.puntos_obtenidos||0;g(se),u(!0),Ye.success(`${ue.mensaje||"Escaneo exitoso"}! Ganaste ${se} ecopoints `)}catch{g(0),Ye.error("Error al procesar el cdigo QR. Intenta nuevamente.")}setTimeout(()=>{u(!1)},3e3)};return D.useEffect(()=>()=>{_e()},[]),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsx("style",{children:TA}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-4",children:w.jsx(Xc,{className:"w-8 h-8 text-emerald-600"})}),w.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Escanear QR"}),w.jsx("p",{className:"text-gray-500",children:"Escanea el cdigo QR del punto de reciclaje para ganar ecopoints"})]}),w.jsx(Lt,{className:"overflow-hidden border-2 border-gray-200",children:w.jsxs("div",{className:"relative aspect-square bg-gray-900",children:[!t&&!a&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("div",{className:"text-center space-y-4",children:[w.jsx(H1,{className:"w-16 h-16 text-gray-400 mx-auto"}),w.jsx("p",{className:"text-gray-400",children:"Toca el botn para iniciar el escaneo"})]})}),w.jsx("div",{id:"qr-reader",className:`w-full h-full ${t?"":"hidden"}`}),t&&w.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[w.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-emerald-400 rounded-lg",children:w.jsx(br.div,{className:"absolute top-0 left-0 right-0 h-1 bg-emerald-400 rounded-full",animate:{top:["0%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})}),w.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:w.jsxs("div",{className:"text-center space-y-3",children:[w.jsx(br.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0},children:w.jsx(Xc,{className:"w-16 h-16 text-emerald-400 mx-auto"})}),w.jsx("p",{className:"text-white font-medium",children:"Escaneando cdigo QR..."}),!T&&t&&w.jsx("p",{className:"text-yellow-300 text-sm",children:"Usando zoom digital"})]})})]}),w.jsx(tx,{children:a&&w.jsx(br.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-emerald-600 flex items-center justify-center z-20",children:w.jsxs("div",{className:"text-center text-white space-y-4",children:[w.jsx(br.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:w.jsx(op,{className:"w-20 h-20 mx-auto"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Escaneo exitoso!"}),w.jsx("p",{className:"text-emerald-100 mb-4",children:"Has ganado"}),w.jsxs(br.p,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"text-white text-5xl font-bold",children:["+",m]}),w.jsx("p",{className:"text-emerald-100 mt-2",children:"ecopoints"})]})]})})})]})}),t&&w.jsx(Lt,{className:"p-4 bg-blue-50 border-blue-200",children:w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Control de Zoom ",!T&&"(Digital)"]}),w.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[A.toFixed(1),"x"]})]}),w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(dt,{size:"sm",onClick:z,disabled:A<=Z,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:w.jsx(gv,{className:"w-4 h-4"})}),w.jsx("div",{className:"flex-1",children:w.jsx("input",{type:"range",min:Z,max:ee,step:.1,value:A,onChange:q,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer zoom-slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(A-Z)/(ee-Z)*100}%, #e5e7eb ${(A-Z)/(ee-Z)*100}%, #e5e7eb 100%)`}})}),w.jsx(dt,{size:"sm",onClick:Q,disabled:A>=ee,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:w.jsx(Ev,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"flex justify-between text-xs text-blue-600",children:[w.jsxs("span",{children:[Z,"x"]}),w.jsx("span",{className:"font-medium",children:T?"Zoom ptico":"Zoom digital"}),w.jsxs("span",{children:[ee,"x"]})]})]})}),w.jsx("div",{className:"space-y-3",children:t?w.jsxs(dt,{className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 text-lg font-semibold",onClick:_e,children:[w.jsx(ta,{className:"w-6 h-6 mr-3"}),"Detener escaneo"]}):w.jsxs(dt,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 text-lg font-semibold",onClick:Oe,disabled:a,children:[w.jsx(H1,{className:"w-6 h-6 mr-3"}),"Iniciar escaneo con cmara"]})}),w.jsx(Lt,{className:"p-4 bg-emerald-50 border-emerald-200",children:w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"text-emerald-900 font-semibold",children:"Consejos:"}),w.jsxs("ul",{className:"text-emerald-700 space-y-1 ml-4",children:[w.jsx("li",{children:" Usa la barra de zoom para acercar o alejar la imagen"}),w.jsx("li",{children:" Mantn el QR dentro del cuadro verde"}),w.jsx("li",{children:" Asegrate de tener buena iluminacin"}),w.jsx("li",{children:" El zoom digital funciona en todos los dispositivos"})]})]})})]})}function kA(){const t="https://ecopoints.hvd.lat/api",s=localStorage.getItem("usuario_id"),[a,u]=D.useState([]),[m,g]=D.useState(!0);return D.useEffect(()=>{if(!s)return;(async()=>{try{const b=await fetch(`${t}/obtenerHistorial?usuario_id=${s}`);if(!b.ok)throw new Error("Error al obtener historial");const A=await b.json();u(A)}catch{}finally{g(!1)}})()},[s]),m?w.jsx("div",{className:"text-center text-gray-500 mt-10",children:"Cargando historial..."}):w.jsxs("div",{className:"p-6 space-y-4",children:[w.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Historial de actividad"}),a.length===0?w.jsx("p",{className:"text-gray-500",children:"No hay actividades registradas an."}):a.map(y=>w.jsx(br.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:w.jsxs(Lt,{className:"p-4 flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${y.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:y.type==="scan"?w.jsx(bi,{className:"w-5 h-5 text-emerald-600"}):w.jsx(tl,{className:"w-5 h-5 text-orange-600"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900",children:y.description}),w.jsx("p",{className:"text-gray-500 text-sm",children:y.location})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:`${y.type==="scan"?"text-emerald-600":"text-orange-600"}`,children:[y.type==="scan"?"+":"-",y.points]}),w.jsx("p",{className:"text-gray-500 text-sm",children:new Date(y.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})},y.id))]})}var RA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_n=RA.reduce((t,s)=>{const a=el(`Primitive.${s}`),u=D.forwardRef((m,g)=>{const{asChild:y,...b}=m,A=y?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(A,{...b,ref:g})});return u.displayName=`Primitive.${s}`,{...t,[s]:u}},{});function _A(t,s){t&&Gx.flushSync(()=>t.dispatchEvent(s))}var OA="Separator",Eg="horizontal",PA=["horizontal","vertical"],Yx=D.forwardRef((t,s)=>{const{decorative:a,orientation:u=Eg,...m}=t,g=DA(u)?u:Eg,b=a?{role:"none"}:{"aria-orientation":g==="vertical"?g:void 0,role:"separator"};return w.jsx(_n.div,{"data-orientation":g,...b,...m,ref:s})});Yx.displayName=OA;function DA(t){return PA.includes(t)}var MA=Yx;function dr({className:t,orientation:s="horizontal",decorative:a=!0,...u}){return w.jsx(MA,{"data-slot":"separator-root",decorative:a,orientation:s,className:Fn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...u})}const LA=np("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Hc({className:t,variant:s,asChild:a=!1,...u}){const m=a?tp:"span";return w.jsx(m,{"data-slot":"badge",className:Fn(LA({variant:s}),t),...u})}function jn(t,s,{checkForDefaultPrevented:a=!0}={}){return function(m){if(t?.(m),a===!1||!m.defaultPrevented)return s?.(m)}}function BA(t,s){const a=D.createContext(s),u=g=>{const{children:y,...b}=g,A=D.useMemo(()=>b,Object.values(b));return w.jsx(a.Provider,{value:A,children:y})};u.displayName=t+"Provider";function m(g){const y=D.useContext(a);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${t}\``)}return[u,m]}function fl(t,s=[]){let a=[];function u(g,y){const b=D.createContext(y),A=a.length;a=[...a,y];const E=S=>{const{scope:O,children:L,...U}=S,j=O?.[t]?.[A]||b,F=D.useMemo(()=>U,Object.values(U));return w.jsx(j.Provider,{value:F,children:L})};E.displayName=g+"Provider";function T(S,O){const L=O?.[t]?.[A]||b,U=D.useContext(L);if(U)return U;if(y!==void 0)return y;throw new Error(`\`${S}\` must be used within \`${g}\``)}return[E,T]}const m=()=>{const g=a.map(y=>D.createContext(y));return function(b){const A=b?.[t]||g;return D.useMemo(()=>({[`__scope${t}`]:{...b,[t]:A}}),[b,A])}};return m.scopeName=t,[u,jA(m,...s)]}function jA(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const u=t.map(m=>({useScope:m(),scopeName:m.scopeName}));return function(g){const y=u.reduce((b,{useScope:A,scopeName:E})=>{const S=A(g)[`__scope${E}`];return{...b,...S}},{});return D.useMemo(()=>({[`__scope${s.scopeName}`]:y}),[y])}};return a.scopeName=s.scopeName,a}var $o=globalThis?.document?D.useLayoutEffect:()=>{},FA=Ug[" useInsertionEffect ".trim().toString()]||$o;function au({prop:t,defaultProp:s,onChange:a=()=>{},caller:u}){const[m,g,y]=VA({defaultProp:s,onChange:a}),b=t!==void 0,A=b?t:m;{const T=D.useRef(t!==void 0);D.useEffect(()=>{const S=T.current;S!==b&&console.warn(`${u} is changing from ${S?"controlled":"uncontrolled"} to ${b?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),T.current=b},[b,u])}const E=D.useCallback(T=>{if(b){const S=UA(T)?T(t):T;S!==t&&y.current?.(S)}else g(T)},[b,t,g,y]);return[A,E]}function VA({defaultProp:t,onChange:s}){const[a,u]=D.useState(t),m=D.useRef(a),g=D.useRef(s);return FA(()=>{g.current=s},[s]),D.useEffect(()=>{m.current!==a&&(g.current?.(a),m.current=a)},[a,m]),[a,u,g]}function UA(t){return typeof t=="function"}function zA(t){const s=D.useRef({value:t,previous:t});return D.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}function HA(t){const[s,a]=D.useState(void 0);return $o(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const u=new ResizeObserver(m=>{if(!Array.isArray(m)||!m.length)return;const g=m[0];let y,b;if("borderBoxSize"in g){const A=g.borderBoxSize,E=Array.isArray(A)?A[0]:A;y=E.inlineSize,b=E.blockSize}else y=t.offsetWidth,b=t.offsetHeight;a({width:y,height:b})});return u.observe(t,{box:"border-box"}),()=>u.unobserve(t)}else a(void 0)},[t]),s}var lu="Switch",[WA]=fl(lu),[GA,XA]=WA(lu),Kx=D.forwardRef((t,s)=>{const{__scopeSwitch:a,name:u,checked:m,defaultChecked:g,required:y,disabled:b,value:A="on",onCheckedChange:E,form:T,...S}=t,[O,L]=D.useState(null),U=Jr(s,G=>L(G)),j=D.useRef(!1),F=O?T||!!O.closest("form"):!0,[Z,ee]=au({prop:m,defaultProp:g??!1,onChange:E,caller:lu});return w.jsxs(GA,{scope:a,checked:Z,disabled:b,children:[w.jsx(_n.button,{type:"button",role:"switch","aria-checked":Z,"aria-required":y,"data-state":Qx(Z),"data-disabled":b?"":void 0,disabled:b,value:A,...S,ref:U,onClick:jn(t.onClick,G=>{ee(re=>!re),F&&(j.current=G.isPropagationStopped(),j.current||G.stopPropagation())})}),F&&w.jsx($x,{control:O,bubbles:!j.current,name:u,value:A,checked:Z,required:y,disabled:b,form:T,style:{transform:"translateX(-100%)"}})]})});Kx.displayName=lu;var Zx="SwitchThumb",qx=D.forwardRef((t,s)=>{const{__scopeSwitch:a,...u}=t,m=XA(Zx,a);return w.jsx(_n.span,{"data-state":Qx(m.checked),"data-disabled":m.disabled?"":void 0,...u,ref:s})});qx.displayName=Zx;var YA="SwitchBubbleInput",$x=D.forwardRef(({__scopeSwitch:t,control:s,checked:a,bubbles:u=!0,...m},g)=>{const y=D.useRef(null),b=Jr(y,g),A=zA(a),E=HA(s);return D.useEffect(()=>{const T=y.current;if(!T)return;const S=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(S,"checked").set;if(A!==a&&L){const U=new Event("click",{bubbles:u});L.call(T,a),T.dispatchEvent(U)}},[A,a,u]),w.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...m,tabIndex:-1,ref:b,style:{...m.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$x.displayName=YA;function Qx(t){return t?"checked":"unchecked"}var KA=Kx,ZA=qx;function ur({className:t,...s}){return w.jsx(KA,{"data-slot":"switch",className:Fn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:w.jsx(ZA,{"data-slot":"switch-thumb",className:Fn("bg-green-600 data-[state=checked]:bg-blue-700 dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Es({className:t,type:s,...a}){return w.jsx("input",{type:s,"data-slot":"input",className:Fn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}var qA="Label",Jx=D.forwardRef((t,s)=>w.jsx(_n.label,{...t,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Jx.displayName=qA;var $A=Jx;function bs({className:t,...s}){return w.jsx($A,{"data-slot":"label",className:Fn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function QA({theme:t="light",onToggleTheme:s,onClose:a}){return w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Configuracin"}),w.jsx(dt,{variant:"ghost",size:"icon",onClick:a,className:"dark:text-white dark:hover:bg-gray-800",children:w.jsx(ta,{className:"w-5 h-5"})})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Apariencia"}),w.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[t==="dark"?w.jsx(xv,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):w.jsx(Ov,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Modo oscuro"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ahorra batera y reduce el brillo"})]})]}),w.jsx(ur,{checked:t==="dark",onCheckedChange:s})]})})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Acerca de"}),w.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Versin 1.0.0"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" 2025 EcoPoints"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-4",children:"Una aplicacin para incentivar el reciclaje y cuidar nuestro planeta."})]})]})]})}function JA({onClose:t}){const[s,a]=D.useState({newRewards:!0,recyclingReminders:!0,achievements:!0,promotions:!1,weeklyReport:!0,emailNotifications:!0,pushNotifications:!0,soundEnabled:!0});return w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notificaciones"}),w.jsx(dt,{variant:"ghost",size:"icon",onClick:t,className:"dark:text-white dark:hover:bg-gray-800",children:w.jsx(ta,{className:"w-5 h-5"})})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Notificaciones Push"}),w.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(sp,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Activar notificaciones"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe alertas en tu dispositivo"})]})]}),w.jsx(ur,{checked:s.pushNotifications,onCheckedChange:u=>{a({...s,pushNotifications:u}),Ye.success(u?"Notificaciones activadas":"Notificaciones desactivadas")}})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Sonido"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Reproducir sonido al recibir notificaciones"})]}),w.jsx(ur,{checked:s.soundEnabled,onCheckedChange:u=>a({...s,soundEnabled:u})})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tipos de notificaciones"}),w.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Nuevas recompensas"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Cuando hay nuevos premios disponibles"})]}),w.jsx(ur,{checked:s.newRewards,onCheckedChange:u=>a({...s,newRewards:u})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recordatorios de reciclaje"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Notificaciones semanales para reciclar"})]}),w.jsx(ur,{checked:s.recyclingReminders,onCheckedChange:u=>a({...s,recyclingReminders:u})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Logros desbloqueados"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Celebra tus nuevos logros"})]}),w.jsx(ur,{checked:s.achievements,onCheckedChange:u=>a({...s,achievements:u})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Promociones"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ofertas especiales y descuentos"})]}),w.jsx(ur,{checked:s.promotions,onCheckedChange:u=>a({...s,promotions:u})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Reporte semanal"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Resumen de tu actividad ecolgica"})]}),w.jsx(ur,{checked:s.weeklyReport,onCheckedChange:u=>a({...s,weeklyReport:u})})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Correo electrnico"}),w.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Mo,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Notificaciones por email"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe resmenes por correo"})]})]}),w.jsx(ur,{checked:s.emailNotifications,onCheckedChange:u=>a({...s,emailNotifications:u})})]})})]}),w.jsx(Lt,{className:"p-4 bg-card-notas border-card-notas dark:bg-card-notas  dark:border-card-notas",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx(ip,{className:"w-5 h-5 text-card-notas dark:text-card-notas mt-0.5"}),w.jsx("div",{children:w.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"Las notificaciones te ayudan a mantener tus hbitos de reciclaje y no perderte ninguna recompensa."})})]})})]})}function e8({onClose:t}){const[s,a]=D.useState(!1),[u,m]=D.useState(!1),[g,y]=D.useState(!1),[b,A]=D.useState(!1),[E,T]=D.useState(!1),[S,O]=D.useState({current:"",new:"",confirm:""}),[L,U]=D.useState({twoFactorAuth:!1,profilePublic:!0,shareStats:!0,showInLeaderboard:!0,location:!0,dataCollection:!0}),j=async()=>{if(!S.current||!S.new||!S.confirm){Ye.error("Todos los campos son obligatorios");return}if(S.new!==S.confirm){Ye.error("Las contraseas no coinciden");return}if(S.new.length<6){Ye.error("La contrasea debe tener al menos 6 caracteres");return}if(S.new===S.current){Ye.error("La nueva contrasea debe ser diferente a la actual");return}T(!0);try{const F=localStorage.getItem("usuario_id")||"2",Z={usuario_id:parseInt(F),contrasena_actual:S.current,nueva_contrasena:S.new},ee=await fetch("https://ecopoints.hvd.lat/api/actualizarContrasena",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),G=await ee.json();ee.ok?(Ye.success(G.mensaje||"Contrasea actualizada exitosamente"),a(!1),O({current:"",new:"",confirm:""})):G.error&&G.error.includes("incorrecta")?Ye.error("La contrasea actual es incorrecta"):Ye.error(G.error||"Error al cambiar la contrasea")}catch{Ye.error("Error de conexin. Intenta nuevamente.")}finally{T(!1)}};return w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Privacidad y Seguridad"}),w.jsx(dt,{variant:"ghost",size:"icon",onClick:t,className:"dark:text-white dark:hover:bg-gray-800",children:w.jsx(ta,{className:"w-5 h-5"})})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Seguridad de cuenta"}),w.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>a(!s),children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(mf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsx("span",{children:"Cambiar contrasea"})]}),w.jsx(Ei,{className:"w-5 h-5"})]}),s&&w.jsxs("div",{className:"space-y-4 pt-4 border-t dark:border-gray-700",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"current-password",children:"Contrasea actual"}),w.jsxs("div",{className:"relative",children:[w.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),w.jsx(Es,{id:"current-password",type:u?"text":"password",className:"pl-10 pr-10",value:S.current,onChange:F=>O({...S,current:F.target.value}),placeholder:"Ingresa tu contrasea actual",disabled:E}),w.jsx("button",{type:"button",onClick:()=>m(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:u?w.jsx(Ho,{className:"w-5 h-5"}):w.jsx(Wo,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"new-password",children:"Nueva contrasea"}),w.jsxs("div",{className:"relative",children:[w.jsx(Es,{id:"new-password",type:g?"text":"password",value:S.new,onChange:F=>O({...S,new:F.target.value}),placeholder:"Mnimo 6 caracteres",disabled:E}),w.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:g?w.jsx(Ho,{className:"w-5 h-5"}):w.jsx(Wo,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"confirm-password",children:"Confirmar contrasea"}),w.jsxs("div",{className:"relative",children:[w.jsx(Es,{id:"confirm-password",type:b?"text":"password",value:S.confirm,onChange:F=>O({...S,confirm:F.target.value}),placeholder:"Repite tu nueva contrasea",disabled:E}),w.jsx("button",{type:"button",onClick:()=>A(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:b?w.jsx(Ho,{className:"w-5 h-5"}):w.jsx(Wo,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(dt,{variant:"outline",onClick:()=>{a(!1),O({current:"",new:"",confirm:""})},className:"flex-1",disabled:E,children:"Cancelar"}),w.jsx(dt,{onClick:j,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:E?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Actualizando..."]}):"Actualizar contrasea"})]})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Rv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Autenticacin de dos factores"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Mayor seguridad para tu cuenta"})]})]}),w.jsx(ur,{checked:L.twoFactorAuth,onCheckedChange:F=>{U({...L,twoFactorAuth:F}),Ye.success(F?"2FA activado":"2FA desactivado")}})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Privacidad de datos"}),w.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Perfil pblico"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Otros usuarios pueden ver tu perfil"})]}),w.jsx(ur,{checked:L.profilePublic,onCheckedChange:F=>U({...L,profilePublic:F})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Compartir estadsticas"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Visible en el ranking global"})]}),w.jsx(ur,{checked:L.shareStats,onCheckedChange:F=>U({...L,shareStats:F})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Mostrar en leaderboard"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aparecer en tablas de posiciones"})]}),w.jsx(ur,{checked:L.showInLeaderboard,onCheckedChange:F=>U({...L,showInLeaderboard:F})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Ubicacin"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para encontrar estaciones cercanas"})]}),w.jsx(ur,{checked:L.location,onCheckedChange:F=>U({...L,location:F})})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recopilacin de datos"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para mejorar la experiencia"})]}),w.jsx(ur,{checked:L.dataCollection,onCheckedChange:F=>U({...L,dataCollection:F})})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Gestin de datos"}),w.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ye.success("Descargando tus datos..."),children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(tv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsx("span",{children:"Descargar mis datos"})]}),w.jsx(Ei,{className:"w-5 h-5"})]}),w.jsxs(dt,{variant:"outline",className:"w-full justify-between text-red-600 dark:text-red-600 dark:bg-gray-700 dark:border-gray-600",onClick:()=>Ye.error("Para eliminar tu cuenta, contacta a soporte"),children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(ip,{className:"w-5 h-5"}),w.jsx("span",{children:"Eliminar mi cuenta"})]}),w.jsx(Ei,{className:"w-5 h-5"})]})]})]}),w.jsx(Lt,{className:"p-4 bg-card-notas border-card-notas dark:bg-card-notas  dark:border-card-notas",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx(lp,{className:"w-5 h-5 text-card-notas dark:text-card-notas mt-0.5"}),w.jsx("div",{children:w.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"Tu privacidad es importante. Protegemos tus datos con encriptacin de grado bancario."})})]})})]})}function t8({onClose:t}){return w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Ayuda y Soporte"}),w.jsx(dt,{variant:"ghost",size:"icon",onClick:t,className:"dark:text-white dark:hover:bg-gray-800",children:w.jsx(ta,{className:"w-5 h-5"})})]}),w.jsxs(Lt,{className:"p-4 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-950 dark:to-green-950 border-emerald-200 dark:border-emerald-800",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsx(ap,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),w.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Necesitas ayuda?"})]}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Estamos aqu para ayudarte. Contctanos por cualquiera de estos medios."})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Contacto"}),w.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ye.success("Abriendo chat..."),children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(hv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Chat en vivo"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Disponible 24/7"})]})]}),w.jsx(Ei,{className:"w-5 h-5"})]}),w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="mailto:soporte@ecopoints.com"},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Mo,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Email"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"soporte@ecopoints.com"})]})]}),w.jsx(W1,{className:"w-5 h-5"})]}),w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="tel:+51987654321"},children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(vv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"text-gray-900 dark:text-white",children:"Telfono"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"+51 987 654 321"})]})]}),w.jsx(W1,{className:"w-5 h-5"})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Preguntas frecuentes"}),w.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo gano puntos?"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Escanea cdigos QR en nuestras estaciones de reciclaje. Cada escaneo te otorga entre 10 y 100 puntos segn el material reciclado."})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo canjeo mis puntos?"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Ve a la seccin de Recompensas, elige el premio que desees y presiona "Canjear". Los cdigos se envan a tu email.'})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Dnde encuentro estaciones de reciclaje?"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Actualmente tenemos estaciones en Miraflores, San Isidro, Surco y Barranco. Prximamente en ms distritos."})]}),w.jsx(dr,{className:"dark:bg-gray-700"}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Los puntos expiran?"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No, tus EcoPoints nunca expiran. Acumlalos todo el tiempo que quieras."})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tutoriales"}),w.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ye.success("Abriendo tutorial..."),children:[w.jsx("span",{children:"Cmo escanear cdigos QR"}),w.jsx(Ei,{className:"w-5 h-5"})]}),w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ye.success("Abriendo tutorial..."),children:[w.jsx("span",{children:"Gua de reciclaje correcto"}),w.jsx(Ei,{className:"w-5 h-5"})]}),w.jsxs(dt,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>Ye.success("Abriendo tutorial..."),children:[w.jsx("span",{children:"Cmo subir de nivel"}),w.jsx(Ei,{className:"w-5 h-5"})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Reportar un problema"}),w.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Encontraste un error? Aydanos a mejorar reportndolo."}),w.jsxs(dt,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>Ye.success("Gracias por tu reporte. Nos pondremos en contacto pronto."),children:[w.jsx(Sv,{className:"w-4 h-4 mr-2"}),"Enviar reporte"]})]})]}),w.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[w.jsx("h3",{className:"text-gray-900 dark:text-white mb-3",children:"Sguenos"}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx(dt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://instagram.com","_blank"),children:"Instagram"}),w.jsx(dt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://facebook.com","_blank"),children:"Facebook"}),w.jsx(dt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://twitter.com","_blank"),children:"Twitter"}),w.jsx(dt,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://tiktok.com","_blank"),children:"TikTok"})]})]})]})}function n8({onViewStation:t,onLogout:s,theme:a="light",onToggleTheme:u}){const m=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",g=localStorage.getItem("usuario_id"),y=localStorage.getItem("token"),[b,A]=D.useState(null),[E,T]=D.useState(null),[S,O]=D.useState([]),[L,U]=D.useState(!0),j=()=>({"Content-Type":"application/json",Authorization:`Bearer ${y}`}),F=async()=>{if(!(!g||!y))try{const Pe=await fetch(`${m}/obtenerPuntos?usuario_id=${g}`,{headers:j()});if(!Pe.ok){if(Pe.status===401)return;throw new Error(`HTTP error! status: ${Pe.status}`)}const W=await Pe.json();T(Number(W.puntos)||0)}catch{T(0)}},Z=async()=>{if(!(!g||!y)){U(!0);try{const Pe=await fetch(`${m}/obtenerHistorial?usuario_id=${g}`,{headers:j()});if(!Pe.ok){if(Pe.status===401)return;throw new Error(`HTTP error! status: ${Pe.status}`)}const ge=(await Pe.json()).filter(ue=>ue.type==="scan").map(ue=>({id:ue.id?.toString()||Math.random().toString(),type:"scan",description:ue.descripcion||"Escaneo QR",location:ue.ubicacion||"EcoPoints",points:ue.puntos||0,date:ue.fecha||new Date().toISOString()}));O(ge)}catch{O([])}finally{U(!1)}}},ee=async()=>{if(!(!g||!y))try{const Pe=await fetch(`${m}/obtenerHistorialCanjes?usuario_id=${g}`,{headers:j()});if(Pe.ok){const W=await Pe.json();if(Array.isArray(W)&&W.length>0){const ge=W.map(ue=>({id:`canje-${ue.id}`,type:"redeem",description:`Canje: ${ue.nombre_convenio||"Recompensa"}`,location:ue.ubicacion||"EcoPoints",points:ue.puntos_utilizados||0,date:ue.fecha_canje||new Date().toISOString()}));O(ue=>[...ue,...ge])}}}catch{}};D.useEffect(()=>{(async()=>{g&&y?await Promise.all([F(),Z(),ee()]):(U(!1),T(0))})()},[g,y]);const re=S.filter(Pe=>Pe.type==="scan").length,fe=[{nivel:1,escaneosRequeridos:0,nombre:"Eco Novice"},{nivel:2,escaneosRequeridos:10,nombre:"Eco Warrior"},{nivel:3,escaneosRequeridos:50,nombre:"Eco Hero"},{nivel:4,escaneosRequeridos:100,nombre:"Eco Champion"},{nivel:5,escaneosRequeridos:500,nombre:"Eco Master"},{nivel:6,escaneosRequeridos:1e3,nombre:"Eco Legend"},{nivel:7,escaneosRequeridos:5e3,nombre:"Eco Guardian"}],q=(Pe=>{for(let W=fe.length-1;W>=0;W--)if(Pe>=fe[W].escaneosRequeridos)return fe[W];return fe[0]})(re),Q=q.nivel,z=fe.find(Pe=>Pe.nivel===Q+1),xe=z?z.escaneosRequeridos-re:0,we=(()=>{if(!z)return 100;const Pe=fe.find(ue=>ue.nivel===Q),W=re-(Pe?.escaneosRequeridos||0),ge=z.escaneosRequeridos-(Pe?.escaneosRequeridos||0);return W/ge*100})(),_e=()=>`Nivel ${Q} - ${q.nombre}`;return b==="configuracion"?w.jsx(QA,{onClose:()=>A(null),theme:a,onToggleTheme:u}):b==="notificaciones"?w.jsx(JA,{onClose:()=>A(null)}):b==="privacidad"?w.jsx(e8,{onClose:()=>A(null)}):b==="ayuda"?w.jsx(t8,{onClose:()=>A(null)}):w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"relative inline-block mb-4",children:[w.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:w.jsx(Gf,{className:"w-12 h-12 text-white"})}),w.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-yellow-400 rounded-full border-4 border-white dark:border-gray-900 flex items-center justify-center",children:w.jsx(z1,{className:"w-4 h-4 text-yellow-800"})})]}),w.jsx("h1",{className:"text-gray-900 dark:text-white mb-1",children:localStorage.getItem("usuario_nombre")}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:localStorage.getItem("usuario_correo")}),w.jsx(Hc,{className:"mt-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-300",children:_e()})]}),w.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:w.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center dark:bg-gray-800",children:[w.jsx(tf,{icon:w.jsx(bi,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),label:"Puntos",value:E!==null?E.toLocaleString():"...",type:"puntos"}),w.jsx(tf,{icon:w.jsx(Dv,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),label:"Escaneos",value:L?"...":re.toLocaleString(),type:"escaneos"}),w.jsx(tf,{icon:w.jsx(z1,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),label:"Nivel",value:Q,type:"nivel"})]})}),w.jsx(Lt,{className:"p-4 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-950 dark:to-blue-950 dark:border-gray-700",children:w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Prximo nivel"}),w.jsx("p",{className:"text-gray-900 dark:text-white",children:L?"...":z?`${xe} escaneo${xe!==1?"s":""} ms`:"Nivel mximo alcanzado!"})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:w.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-2 rounded-full transition-all",style:{width:`${we}%`}})}),z&&w.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:["Hacia ",z.nombre]})]})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{className:"my-2"}),w.jsx(_o,{icon:w.jsx(Xc,{className:"w-5 h-5"}),label:"Puntos de recoleccin",onClick:()=>A("")}),w.jsx(_o,{icon:w.jsx(Tv,{className:"w-5 h-5"}),label:"Configuracin",onClick:()=>A("configuracion")}),w.jsx(_o,{icon:w.jsx(sp,{className:"w-5 h-5"}),label:"Notificaciones",onClick:()=>A("notificaciones")}),w.jsx(_o,{icon:w.jsx(lp,{className:"w-5 h-5"}),label:"Privacidad y seguridad",onClick:()=>A("privacidad")}),w.jsx(dr,{className:"my-4"}),w.jsx(_o,{icon:w.jsx(ap,{className:"w-5 h-5"}),label:"Ayuda y soporte",onClick:()=>A("ayuda")}),w.jsx(_o,{icon:w.jsx(uv,{className:"w-5 h-5"}),label:"Cerrar sesin",className:"text-red-600",onClick:s})]}),w.jsxs("div",{className:"text-center pt-4",children:[w.jsx("p",{className:"text-gray-400",children:"EcoPoints v1.0.0"}),w.jsx("p",{className:"text-gray-400",children:" 2025 EcoPoints. Todos los derechos reservados."})]})]})}function tf({icon:t,label:s,value:a,type:u}){const m={puntos:"bg-emerald-100 dark:bg-emerald-900",escaneos:"bg-blue-100 dark:bg-blue-900",nivel:"bg-purple-100 dark:bg-purple-900",info:"bg-blue-100 dark:bg-blue-900"},y=`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2 ${m[u]||m.info}`;return w.jsxs("div",{children:[w.jsx("div",{className:y,children:t}),w.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:a}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:s})]})}function _o({icon:t,label:s,className:a="",onClick:u}){return w.jsxs(dt,{variant:"ghost",className:`w-full justify-between hover:bg-gray-50 dark:hover:bg-gray-800 dark:text-white ${a}`,onClick:u,children:[w.jsxs("div",{className:"flex items-center gap-3",children:[t,w.jsx("span",{children:s})]}),w.jsx(Ei,{className:"w-5 h-5"})]})}function r8(t){const s=t+"CollectionProvider",[a,u]=fl(s),[m,g]=a(s,{collectionRef:{current:null},itemMap:new Map}),y=j=>{const{scope:F,children:Z}=j,ee=ke.useRef(null),G=ke.useRef(new Map).current;return w.jsx(m,{scope:F,itemMap:G,collectionRef:ee,children:Z})};y.displayName=s;const b=t+"CollectionSlot",A=el(b),E=ke.forwardRef((j,F)=>{const{scope:Z,children:ee}=j,G=g(b,Z),re=Jr(F,G.collectionRef);return w.jsx(A,{ref:re,children:ee})});E.displayName=b;const T=t+"CollectionItemSlot",S="data-radix-collection-item",O=el(T),L=ke.forwardRef((j,F)=>{const{scope:Z,children:ee,...G}=j,re=ke.useRef(null),fe=Jr(F,re),de=g(T,Z);return ke.useEffect(()=>(de.itemMap.set(re,{ref:re,...G}),()=>void de.itemMap.delete(re))),w.jsx(O,{[S]:"",ref:fe,children:ee})});L.displayName=T;function U(j){const F=g(t+"CollectionConsumer",j);return ke.useCallback(()=>{const ee=F.collectionRef.current;if(!ee)return[];const G=Array.from(ee.querySelectorAll(`[${S}]`));return Array.from(F.itemMap.values()).sort((de,q)=>G.indexOf(de.ref.current)-G.indexOf(q.ref.current))},[F.collectionRef,F.itemMap])}return[{Provider:y,Slot:E,ItemSlot:L},U,u]}var s8=Ug[" useId ".trim().toString()]||(()=>{}),i8=0;function Ja(t){const[s,a]=D.useState(s8());return $o(()=>{a(u=>u??String(i8++))},[t]),t||(s?`radix-${s}`:"")}function Qo(t){const s=D.useRef(t);return D.useEffect(()=>{s.current=t}),D.useMemo(()=>(...a)=>s.current?.(...a),[])}var o8=D.createContext(void 0);function e2(t){const s=D.useContext(o8);return t||s||"ltr"}var nf="rovingFocusGroup.onEntryFocus",a8={bubbles:!1,cancelable:!0},hl="RovingFocusGroup",[jf,t2,l8]=r8(hl),[c8,n2]=fl(hl,[l8]),[u8,d8]=c8(hl),r2=D.forwardRef((t,s)=>w.jsx(jf.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(jf.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(f8,{...t,ref:s})})}));r2.displayName=hl;var f8=D.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:u,loop:m=!1,dir:g,currentTabStopId:y,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:A,onEntryFocus:E,preventScrollOnEntryFocus:T=!1,...S}=t,O=D.useRef(null),L=Jr(s,O),U=e2(g),[j,F]=au({prop:y,defaultProp:b??null,onChange:A,caller:hl}),[Z,ee]=D.useState(!1),G=Qo(E),re=t2(a),fe=D.useRef(!1),[de,q]=D.useState(0);return D.useEffect(()=>{const Q=O.current;if(Q)return Q.addEventListener(nf,G),()=>Q.removeEventListener(nf,G)},[G]),w.jsx(u8,{scope:a,orientation:u,dir:U,loop:m,currentTabStopId:j,onItemFocus:D.useCallback(Q=>F(Q),[F]),onItemShiftTab:D.useCallback(()=>ee(!0),[]),onFocusableItemAdd:D.useCallback(()=>q(Q=>Q+1),[]),onFocusableItemRemove:D.useCallback(()=>q(Q=>Q-1),[]),children:w.jsx(_n.div,{tabIndex:Z||de===0?-1:0,"data-orientation":u,...S,ref:L,style:{outline:"none",...t.style},onMouseDown:jn(t.onMouseDown,()=>{fe.current=!0}),onFocus:jn(t.onFocus,Q=>{const z=!fe.current;if(Q.target===Q.currentTarget&&z&&!Z){const xe=new CustomEvent(nf,a8);if(Q.currentTarget.dispatchEvent(xe),!xe.defaultPrevented){const Oe=re().filter(ge=>ge.focusable),we=Oe.find(ge=>ge.active),_e=Oe.find(ge=>ge.id===j),W=[we,_e,...Oe].filter(Boolean).map(ge=>ge.ref.current);o2(W,T)}}fe.current=!1}),onBlur:jn(t.onBlur,()=>ee(!1))})})}),s2="RovingFocusGroupItem",i2=D.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:u=!0,active:m=!1,tabStopId:g,children:y,...b}=t,A=Ja(),E=g||A,T=d8(s2,a),S=T.currentTabStopId===E,O=t2(a),{onFocusableItemAdd:L,onFocusableItemRemove:U,currentTabStopId:j}=T;return D.useEffect(()=>{if(u)return L(),()=>U()},[u,L,U]),w.jsx(jf.ItemSlot,{scope:a,id:E,focusable:u,active:m,children:w.jsx(_n.span,{tabIndex:S?0:-1,"data-orientation":T.orientation,...b,ref:s,onMouseDown:jn(t.onMouseDown,F=>{u?T.onItemFocus(E):F.preventDefault()}),onFocus:jn(t.onFocus,()=>T.onItemFocus(E)),onKeyDown:jn(t.onKeyDown,F=>{if(F.key==="Tab"&&F.shiftKey){T.onItemShiftTab();return}if(F.target!==F.currentTarget)return;const Z=g8(F,T.orientation,T.dir);if(Z!==void 0){if(F.metaKey||F.ctrlKey||F.altKey||F.shiftKey)return;F.preventDefault();let G=O().filter(re=>re.focusable).map(re=>re.ref.current);if(Z==="last")G.reverse();else if(Z==="prev"||Z==="next"){Z==="prev"&&G.reverse();const re=G.indexOf(F.currentTarget);G=T.loop?p8(G,re+1):G.slice(re+1)}setTimeout(()=>o2(G))}}),children:typeof y=="function"?y({isCurrentTabStop:S,hasTabStop:j!=null}):y})})});i2.displayName=s2;var h8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m8(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function g8(t,s,a){const u=m8(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(u))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(u)))return h8[u]}function o2(t,s=!1){const a=document.activeElement;for(const u of t)if(u===a||(u.focus({preventScroll:s}),document.activeElement!==a))return}function p8(t,s){return t.map((a,u)=>t[(s+u)%t.length])}var x8=r2,y8=i2;function w8(t,s){return D.useReducer((a,u)=>s[a][u]??a,t)}var ml=t=>{const{present:s,children:a}=t,u=v8(s),m=typeof a=="function"?a({present:u.isPresent}):D.Children.only(a),g=Jr(u.ref,C8(m));return typeof a=="function"||u.isPresent?D.cloneElement(m,{ref:g}):null};ml.displayName="Presence";function v8(t){const[s,a]=D.useState(),u=D.useRef(null),m=D.useRef(t),g=D.useRef("none"),y=t?"mounted":"unmounted",[b,A]=w8(y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const E=_c(u.current);g.current=b==="mounted"?E:"none"},[b]),$o(()=>{const E=u.current,T=m.current;if(T!==t){const O=g.current,L=_c(E);t?A("MOUNT"):L==="none"||E?.display==="none"?A("UNMOUNT"):A(T&&O!==L?"ANIMATION_OUT":"UNMOUNT"),m.current=t}},[t,A]),$o(()=>{if(s){let E;const T=s.ownerDocument.defaultView??window,S=L=>{const j=_c(u.current).includes(CSS.escape(L.animationName));if(L.target===s&&j&&(A("ANIMATION_END"),!m.current)){const F=s.style.animationFillMode;s.style.animationFillMode="forwards",E=T.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=F)})}},O=L=>{L.target===s&&(g.current=_c(u.current))};return s.addEventListener("animationstart",O),s.addEventListener("animationcancel",S),s.addEventListener("animationend",S),()=>{T.clearTimeout(E),s.removeEventListener("animationstart",O),s.removeEventListener("animationcancel",S),s.removeEventListener("animationend",S)}}else A("ANIMATION_END")},[s,A]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:D.useCallback(E=>{u.current=E?getComputedStyle(E):null,a(E)},[])}}function _c(t){return t?.animationName||"none"}function C8(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var cu="Tabs",[E8]=fl(cu,[n2]),a2=n2(),[b8,k0]=E8(cu),l2=D.forwardRef((t,s)=>{const{__scopeTabs:a,value:u,onValueChange:m,defaultValue:g,orientation:y="horizontal",dir:b,activationMode:A="automatic",...E}=t,T=e2(b),[S,O]=au({prop:u,onChange:m,defaultProp:g??"",caller:cu});return w.jsx(b8,{scope:a,baseId:Ja(),value:S,onValueChange:O,orientation:y,dir:T,activationMode:A,children:w.jsx(_n.div,{dir:T,"data-orientation":y,...E,ref:s})})});l2.displayName=cu;var c2="TabsList",u2=D.forwardRef((t,s)=>{const{__scopeTabs:a,loop:u=!0,...m}=t,g=k0(c2,a),y=a2(a);return w.jsx(x8,{asChild:!0,...y,orientation:g.orientation,dir:g.dir,loop:u,children:w.jsx(_n.div,{role:"tablist","aria-orientation":g.orientation,...m,ref:s})})});u2.displayName=c2;var d2="TabsTrigger",f2=D.forwardRef((t,s)=>{const{__scopeTabs:a,value:u,disabled:m=!1,...g}=t,y=k0(d2,a),b=a2(a),A=g2(y.baseId,u),E=p2(y.baseId,u),T=u===y.value;return w.jsx(y8,{asChild:!0,...b,focusable:!m,active:T,children:w.jsx(_n.button,{type:"button",role:"tab","aria-selected":T,"aria-controls":E,"data-state":T?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:A,...g,ref:s,onMouseDown:jn(t.onMouseDown,S=>{!m&&S.button===0&&S.ctrlKey===!1?y.onValueChange(u):S.preventDefault()}),onKeyDown:jn(t.onKeyDown,S=>{[" ","Enter"].includes(S.key)&&y.onValueChange(u)}),onFocus:jn(t.onFocus,()=>{const S=y.activationMode!=="manual";!T&&!m&&S&&y.onValueChange(u)})})})});f2.displayName=d2;var h2="TabsContent",m2=D.forwardRef((t,s)=>{const{__scopeTabs:a,value:u,forceMount:m,children:g,...y}=t,b=k0(h2,a),A=g2(b.baseId,u),E=p2(b.baseId,u),T=u===b.value,S=D.useRef(T);return D.useEffect(()=>{const O=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(O)},[]),w.jsx(ml,{present:m||T,children:({present:O})=>w.jsx(_n.div,{"data-state":T?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":A,hidden:!O,id:E,tabIndex:0,...y,ref:s,style:{...t.style,animationDuration:S.current?"0s":void 0},children:O&&g})})});m2.displayName=h2;function g2(t,s){return`${t}-trigger-${s}`}function p2(t,s){return`${t}-content-${s}`}var A8=l2,S8=u2,N8=f2,T8=m2;function I8({className:t,...s}){return w.jsx(A8,{"data-slot":"tabs",className:Fn("flex flex-col gap-2",t),...s})}function k8({className:t,...s}){return w.jsx(S8,{"data-slot":"tabs-list",className:Fn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...s})}function Oc({className:t,...s}){return w.jsx(N8,{"data-slot":"tabs-trigger",className:Fn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Pc({className:t,...s}){return w.jsx(T8,{"data-slot":"tabs-content",className:Fn("flex-1 outline-none",t),...s})}function R8(t,s=globalThis?.document){const a=Qo(t);D.useEffect(()=>{const u=m=>{m.key==="Escape"&&a(m)};return s.addEventListener("keydown",u,{capture:!0}),()=>s.removeEventListener("keydown",u,{capture:!0})},[a,s])}var _8="DismissableLayer",Ff="dismissableLayer.update",O8="dismissableLayer.pointerDownOutside",P8="dismissableLayer.focusOutside",bg,x2=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),y2=D.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,...A}=t,E=D.useContext(x2),[T,S]=D.useState(null),O=T?.ownerDocument??globalThis?.document,[,L]=D.useState({}),U=Jr(s,q=>S(q)),j=Array.from(E.layers),[F]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),Z=j.indexOf(F),ee=T?j.indexOf(T):-1,G=E.layersWithOutsidePointerEventsDisabled.size>0,re=ee>=Z,fe=L8(q=>{const Q=q.target,z=[...E.branches].some(xe=>xe.contains(Q));!re||z||(m?.(q),y?.(q),q.defaultPrevented||b?.())},O),de=B8(q=>{const Q=q.target;[...E.branches].some(xe=>xe.contains(Q))||(g?.(q),y?.(q),q.defaultPrevented||b?.())},O);return R8(q=>{ee===E.layers.size-1&&(u?.(q),!q.defaultPrevented&&b&&(q.preventDefault(),b()))},O),D.useEffect(()=>{if(T)return a&&(E.layersWithOutsidePointerEventsDisabled.size===0&&(bg=O.body.style.pointerEvents,O.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(T)),E.layers.add(T),Ag(),()=>{a&&E.layersWithOutsidePointerEventsDisabled.size===1&&(O.body.style.pointerEvents=bg)}},[T,O,a,E]),D.useEffect(()=>()=>{T&&(E.layers.delete(T),E.layersWithOutsidePointerEventsDisabled.delete(T),Ag())},[T,E]),D.useEffect(()=>{const q=()=>L({});return document.addEventListener(Ff,q),()=>document.removeEventListener(Ff,q)},[]),w.jsx(_n.div,{...A,ref:U,style:{pointerEvents:G?re?"auto":"none":void 0,...t.style},onFocusCapture:jn(t.onFocusCapture,de.onFocusCapture),onBlurCapture:jn(t.onBlurCapture,de.onBlurCapture),onPointerDownCapture:jn(t.onPointerDownCapture,fe.onPointerDownCapture)})});y2.displayName=_8;var D8="DismissableLayerBranch",M8=D.forwardRef((t,s)=>{const a=D.useContext(x2),u=D.useRef(null),m=Jr(s,u);return D.useEffect(()=>{const g=u.current;if(g)return a.branches.add(g),()=>{a.branches.delete(g)}},[a.branches]),w.jsx(_n.div,{...t,ref:m})});M8.displayName=D8;function L8(t,s=globalThis?.document){const a=Qo(t),u=D.useRef(!1),m=D.useRef(()=>{});return D.useEffect(()=>{const g=b=>{if(b.target&&!u.current){let A=function(){w2(O8,a,E,{discrete:!0})};const E={originalEvent:b};b.pointerType==="touch"?(s.removeEventListener("click",m.current),m.current=A,s.addEventListener("click",m.current,{once:!0})):A()}else s.removeEventListener("click",m.current);u.current=!1},y=window.setTimeout(()=>{s.addEventListener("pointerdown",g)},0);return()=>{window.clearTimeout(y),s.removeEventListener("pointerdown",g),s.removeEventListener("click",m.current)}},[s,a]),{onPointerDownCapture:()=>u.current=!0}}function B8(t,s=globalThis?.document){const a=Qo(t),u=D.useRef(!1);return D.useEffect(()=>{const m=g=>{g.target&&!u.current&&w2(P8,a,{originalEvent:g},{discrete:!1})};return s.addEventListener("focusin",m),()=>s.removeEventListener("focusin",m)},[s,a]),{onFocusCapture:()=>u.current=!0,onBlurCapture:()=>u.current=!1}}function Ag(){const t=new CustomEvent(Ff);document.dispatchEvent(t)}function w2(t,s,a,{discrete:u}){const m=a.originalEvent.target,g=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&m.addEventListener(t,s,{once:!0}),u?_A(m,g):m.dispatchEvent(g)}var rf="focusScope.autoFocusOnMount",sf="focusScope.autoFocusOnUnmount",Sg={bubbles:!1,cancelable:!0},j8="FocusScope",v2=D.forwardRef((t,s)=>{const{loop:a=!1,trapped:u=!1,onMountAutoFocus:m,onUnmountAutoFocus:g,...y}=t,[b,A]=D.useState(null),E=Qo(m),T=Qo(g),S=D.useRef(null),O=Jr(s,j=>A(j)),L=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(u){let j=function(G){if(L.paused||!b)return;const re=G.target;b.contains(re)?S.current=re:Ci(S.current,{select:!0})},F=function(G){if(L.paused||!b)return;const re=G.relatedTarget;re!==null&&(b.contains(re)||Ci(S.current,{select:!0}))},Z=function(G){if(document.activeElement===document.body)for(const fe of G)fe.removedNodes.length>0&&Ci(b)};document.addEventListener("focusin",j),document.addEventListener("focusout",F);const ee=new MutationObserver(Z);return b&&ee.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",F),ee.disconnect()}}},[u,b,L.paused]),D.useEffect(()=>{if(b){Tg.add(L);const j=document.activeElement;if(!b.contains(j)){const Z=new CustomEvent(rf,Sg);b.addEventListener(rf,E),b.dispatchEvent(Z),Z.defaultPrevented||(F8(W8(C2(b)),{select:!0}),document.activeElement===j&&Ci(b))}return()=>{b.removeEventListener(rf,E),setTimeout(()=>{const Z=new CustomEvent(sf,Sg);b.addEventListener(sf,T),b.dispatchEvent(Z),Z.defaultPrevented||Ci(j??document.body,{select:!0}),b.removeEventListener(sf,T),Tg.remove(L)},0)}}},[b,E,T,L]);const U=D.useCallback(j=>{if(!a&&!u||L.paused)return;const F=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,Z=document.activeElement;if(F&&Z){const ee=j.currentTarget,[G,re]=V8(ee);G&&re?!j.shiftKey&&Z===re?(j.preventDefault(),a&&Ci(G,{select:!0})):j.shiftKey&&Z===G&&(j.preventDefault(),a&&Ci(re,{select:!0})):Z===ee&&j.preventDefault()}},[a,u,L.paused]);return w.jsx(_n.div,{tabIndex:-1,...y,ref:O,onKeyDown:U})});v2.displayName=j8;function F8(t,{select:s=!1}={}){const a=document.activeElement;for(const u of t)if(Ci(u,{select:s}),document.activeElement!==a)return}function V8(t){const s=C2(t),a=Ng(s,t),u=Ng(s.reverse(),t);return[a,u]}function C2(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:u=>{const m=u.tagName==="INPUT"&&u.type==="hidden";return u.disabled||u.hidden||m?NodeFilter.FILTER_SKIP:u.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Ng(t,s){for(const a of t)if(!U8(a,{upTo:s}))return a}function U8(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function z8(t){return t instanceof HTMLInputElement&&"select"in t}function Ci(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&z8(t)&&s&&t.select()}}var Tg=H8();function H8(){let t=[];return{add(s){const a=t[0];s!==a&&a?.pause(),t=Ig(t,s),t.unshift(s)},remove(s){t=Ig(t,s),t[0]?.resume()}}}function Ig(t,s){const a=[...t],u=a.indexOf(s);return u!==-1&&a.splice(u,1),a}function W8(t){return t.filter(s=>s.tagName!=="A")}var G8="Portal",E2=D.forwardRef((t,s)=>{const{container:a,...u}=t,[m,g]=D.useState(!1);$o(()=>g(!0),[]);const y=a||m&&globalThis?.document?.body;return y?Xx.createPortal(w.jsx(_n.div,{...u,ref:s}),y):null});E2.displayName=G8;var of=0;function X8(){D.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kg()),document.body.insertAdjacentElement("beforeend",t[1]??kg()),of++,()=>{of===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),of--}},[])}function kg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var As=function(){return As=Object.assign||function(s){for(var a,u=1,m=arguments.length;u<m;u++){a=arguments[u];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(s[g]=a[g])}return s},As.apply(this,arguments)};function b2(t,s){var a={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&s.indexOf(u)<0&&(a[u]=t[u]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,u=Object.getOwnPropertySymbols(t);m<u.length;m++)s.indexOf(u[m])<0&&Object.prototype.propertyIsEnumerable.call(t,u[m])&&(a[u[m]]=t[u[m]]);return a}function Y8(t,s,a){if(a||arguments.length===2)for(var u=0,m=s.length,g;u<m;u++)(g||!(u in s))&&(g||(g=Array.prototype.slice.call(s,0,u)),g[u]=s[u]);return t.concat(g||Array.prototype.slice.call(s))}var Wc="right-scroll-bar-position",Gc="width-before-scroll-bar",K8="with-scroll-bars-hidden",Z8="--removed-body-scroll-bar-size";function af(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function q8(t,s){var a=D.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(u){var m=a.value;m!==u&&(a.value=u,a.callback(u,m))}}}})[0];return a.callback=s,a.facade}var $8=typeof window<"u"?D.useLayoutEffect:D.useEffect,Rg=new WeakMap;function Q8(t,s){var a=q8(null,function(u){return t.forEach(function(m){return af(m,u)})});return $8(function(){var u=Rg.get(a);if(u){var m=new Set(u),g=new Set(t),y=a.current;m.forEach(function(b){g.has(b)||af(b,null)}),g.forEach(function(b){m.has(b)||af(b,y)})}Rg.set(a,t)},[t]),a}function J8(t){return t}function eS(t,s){s===void 0&&(s=J8);var a=[],u=!1,m={read:function(){if(u)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(g){var y=s(g,u);return a.push(y),function(){a=a.filter(function(b){return b!==y})}},assignSyncMedium:function(g){for(u=!0;a.length;){var y=a;a=[],y.forEach(g)}a={push:function(b){return g(b)},filter:function(){return a}}},assignMedium:function(g){u=!0;var y=[];if(a.length){var b=a;a=[],b.forEach(g),y=a}var A=function(){var T=y;y=[],T.forEach(g)},E=function(){return Promise.resolve().then(A)};E(),a={push:function(T){y.push(T),E()},filter:function(T){return y=y.filter(T),a}}}};return m}function tS(t){t===void 0&&(t={});var s=eS(null);return s.options=As({async:!0,ssr:!1},t),s}var A2=function(t){var s=t.sideCar,a=b2(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var u=s.read();if(!u)throw new Error("Sidecar medium not found");return D.createElement(u,As({},a))};A2.isSideCarExport=!0;function nS(t,s){return t.useMedium(s),A2}var S2=tS(),lf=function(){},uu=D.forwardRef(function(t,s){var a=D.useRef(null),u=D.useState({onScrollCapture:lf,onWheelCapture:lf,onTouchMoveCapture:lf}),m=u[0],g=u[1],y=t.forwardProps,b=t.children,A=t.className,E=t.removeScrollBar,T=t.enabled,S=t.shards,O=t.sideCar,L=t.noRelative,U=t.noIsolation,j=t.inert,F=t.allowPinchZoom,Z=t.as,ee=Z===void 0?"div":Z,G=t.gapMode,re=b2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),fe=O,de=Q8([a,s]),q=As(As({},re),m);return D.createElement(D.Fragment,null,T&&D.createElement(fe,{sideCar:S2,removeScrollBar:E,shards:S,noRelative:L,noIsolation:U,inert:j,setCallbacks:g,allowPinchZoom:!!F,lockRef:a,gapMode:G}),y?D.cloneElement(D.Children.only(b),As(As({},q),{ref:de})):D.createElement(ee,As({},q,{className:A,ref:de}),b))});uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uu.classNames={fullWidth:Gc,zeroRight:Wc};var rS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sS(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=rS();return s&&t.setAttribute("nonce",s),t}function iS(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function oS(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var aS=function(){var t=0,s=null;return{add:function(a){t==0&&(s=sS())&&(iS(s,a),oS(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},lS=function(){var t=aS();return function(s,a){D.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},N2=function(){var t=lS(),s=function(a){var u=a.styles,m=a.dynamic;return t(u,m),null};return s},cS={left:0,top:0,right:0,gap:0},cf=function(t){return parseInt(t||"",10)||0},uS=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],u=s[t==="padding"?"paddingTop":"marginTop"],m=s[t==="padding"?"paddingRight":"marginRight"];return[cf(a),cf(u),cf(m)]},dS=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cS;var s=uS(t),a=document.documentElement.clientWidth,u=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,u-a+s[2]-s[0])}},fS=N2(),Yo="data-scroll-locked",hS=function(t,s,a,u){var m=t.left,g=t.top,y=t.right,b=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(K8,` {
   overflow: hidden `).concat(u,`;
   padding-right: `).concat(b,"px ").concat(u,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(u,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(u,";"),a==="margin"&&`
    padding-left: `.concat(m,`px;
    padding-top: `).concat(g,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(b,"px ").concat(u,`;
    `),a==="padding"&&"padding-right: ".concat(b,"px ").concat(u,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wc,` {
    right: `).concat(b,"px ").concat(u,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(b,"px ").concat(u,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    right: 0 `).concat(u,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(u,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(Z8,": ").concat(b,`px;
  }
`)},_g=function(){var t=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(t)?t:0},mS=function(){D.useEffect(function(){return document.body.setAttribute(Yo,(_g()+1).toString()),function(){var t=_g()-1;t<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,t.toString())}},[])},gS=function(t){var s=t.noRelative,a=t.noImportant,u=t.gapMode,m=u===void 0?"margin":u;mS();var g=D.useMemo(function(){return dS(m)},[m]);return D.createElement(fS,{styles:hS(g,!s,m,a?"":"!important")})},Vf=!1;if(typeof window<"u")try{var Dc=Object.defineProperty({},"passive",{get:function(){return Vf=!0,!0}});window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{Vf=!1}var Oo=Vf?{passive:!1}:!1,pS=function(t){return t.tagName==="TEXTAREA"},T2=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!pS(t)&&a[s]==="visible")},xS=function(t){return T2(t,"overflowY")},yS=function(t){return T2(t,"overflowX")},Og=function(t,s){var a=s.ownerDocument,u=s;do{typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&(u=u.host);var m=I2(t,u);if(m){var g=k2(t,u),y=g[1],b=g[2];if(y>b)return!0}u=u.parentNode}while(u&&u!==a.body);return!1},wS=function(t){var s=t.scrollTop,a=t.scrollHeight,u=t.clientHeight;return[s,a,u]},vS=function(t){var s=t.scrollLeft,a=t.scrollWidth,u=t.clientWidth;return[s,a,u]},I2=function(t,s){return t==="v"?xS(s):yS(s)},k2=function(t,s){return t==="v"?wS(s):vS(s)},CS=function(t,s){return t==="h"&&s==="rtl"?-1:1},ES=function(t,s,a,u,m){var g=CS(t,window.getComputedStyle(s).direction),y=g*u,b=a.target,A=s.contains(b),E=!1,T=y>0,S=0,O=0;do{if(!b)break;var L=k2(t,b),U=L[0],j=L[1],F=L[2],Z=j-F-g*U;(U||Z)&&I2(t,b)&&(S+=Z,O+=U);var ee=b.parentNode;b=ee&&ee.nodeType===Node.DOCUMENT_FRAGMENT_NODE?ee.host:ee}while(!A&&b!==document.body||A&&(s.contains(b)||s===b));return(T&&Math.abs(S)<1||!T&&Math.abs(O)<1)&&(E=!0),E},Mc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Pg=function(t){return[t.deltaX,t.deltaY]},Dg=function(t){return t&&"current"in t?t.current:t},bS=function(t,s){return t[0]===s[0]&&t[1]===s[1]},AS=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SS=0,Po=[];function NS(t){var s=D.useRef([]),a=D.useRef([0,0]),u=D.useRef(),m=D.useState(SS++)[0],g=D.useState(N2)[0],y=D.useRef(t);D.useEffect(function(){y.current=t},[t]),D.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(m));var j=Y8([t.lockRef.current],(t.shards||[]).map(Dg),!0).filter(Boolean);return j.forEach(function(F){return F.classList.add("allow-interactivity-".concat(m))}),function(){document.body.classList.remove("block-interactivity-".concat(m)),j.forEach(function(F){return F.classList.remove("allow-interactivity-".concat(m))})}}},[t.inert,t.lockRef.current,t.shards]);var b=D.useCallback(function(j,F){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!y.current.allowPinchZoom;var Z=Mc(j),ee=a.current,G="deltaX"in j?j.deltaX:ee[0]-Z[0],re="deltaY"in j?j.deltaY:ee[1]-Z[1],fe,de=j.target,q=Math.abs(G)>Math.abs(re)?"h":"v";if("touches"in j&&q==="h"&&de.type==="range")return!1;var Q=Og(q,de);if(!Q)return!0;if(Q?fe=q:(fe=q==="v"?"h":"v",Q=Og(q,de)),!Q)return!1;if(!u.current&&"changedTouches"in j&&(G||re)&&(u.current=fe),!fe)return!0;var z=u.current||fe;return ES(z,F,j,z==="h"?G:re)},[]),A=D.useCallback(function(j){var F=j;if(!(!Po.length||Po[Po.length-1]!==g)){var Z="deltaY"in F?Pg(F):Mc(F),ee=s.current.filter(function(fe){return fe.name===F.type&&(fe.target===F.target||F.target===fe.shadowParent)&&bS(fe.delta,Z)})[0];if(ee&&ee.should){F.cancelable&&F.preventDefault();return}if(!ee){var G=(y.current.shards||[]).map(Dg).filter(Boolean).filter(function(fe){return fe.contains(F.target)}),re=G.length>0?b(F,G[0]):!y.current.noIsolation;re&&F.cancelable&&F.preventDefault()}}},[]),E=D.useCallback(function(j,F,Z,ee){var G={name:j,delta:F,target:Z,should:ee,shadowParent:TS(Z)};s.current.push(G),setTimeout(function(){s.current=s.current.filter(function(re){return re!==G})},1)},[]),T=D.useCallback(function(j){a.current=Mc(j),u.current=void 0},[]),S=D.useCallback(function(j){E(j.type,Pg(j),j.target,b(j,t.lockRef.current))},[]),O=D.useCallback(function(j){E(j.type,Mc(j),j.target,b(j,t.lockRef.current))},[]);D.useEffect(function(){return Po.push(g),t.setCallbacks({onScrollCapture:S,onWheelCapture:S,onTouchMoveCapture:O}),document.addEventListener("wheel",A,Oo),document.addEventListener("touchmove",A,Oo),document.addEventListener("touchstart",T,Oo),function(){Po=Po.filter(function(j){return j!==g}),document.removeEventListener("wheel",A,Oo),document.removeEventListener("touchmove",A,Oo),document.removeEventListener("touchstart",T,Oo)}},[]);var L=t.removeScrollBar,U=t.inert;return D.createElement(D.Fragment,null,U?D.createElement(g,{styles:AS(m)}):null,L?D.createElement(gS,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function TS(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const IS=nS(S2,NS);var R2=D.forwardRef(function(t,s){return D.createElement(uu,As({},t,{ref:s,sideCar:IS}))});R2.classNames=uu.classNames;var kS=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Do=new WeakMap,Lc=new WeakMap,Bc={},uf=0,_2=function(t){return t&&(t.host||_2(t.parentNode))},RS=function(t,s){return s.map(function(a){if(t.contains(a))return a;var u=_2(a);return u&&t.contains(u)?u:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},_S=function(t,s,a,u){var m=RS(s,Array.isArray(t)?t:[t]);Bc[a]||(Bc[a]=new WeakMap);var g=Bc[a],y=[],b=new Set,A=new Set(m),E=function(S){!S||b.has(S)||(b.add(S),E(S.parentNode))};m.forEach(E);var T=function(S){!S||A.has(S)||Array.prototype.forEach.call(S.children,function(O){if(b.has(O))T(O);else try{var L=O.getAttribute(u),U=L!==null&&L!=="false",j=(Do.get(O)||0)+1,F=(g.get(O)||0)+1;Do.set(O,j),g.set(O,F),y.push(O),j===1&&U&&Lc.set(O,!0),F===1&&O.setAttribute(a,"true"),U||O.setAttribute(u,"true")}catch(Z){console.error("aria-hidden: cannot operate on ",O,Z)}})};return T(s),b.clear(),uf++,function(){y.forEach(function(S){var O=Do.get(S)-1,L=g.get(S)-1;Do.set(S,O),g.set(S,L),O||(Lc.has(S)||S.removeAttribute(u),Lc.delete(S)),L||S.removeAttribute(a)}),uf--,uf||(Do=new WeakMap,Do=new WeakMap,Lc=new WeakMap,Bc={})}},OS=function(t,s,a){a===void 0&&(a="data-aria-hidden");var u=Array.from(Array.isArray(t)?t:[t]),m=kS(t);return m?(u.push.apply(u,Array.from(m.querySelectorAll("[aria-live], script"))),_S(u,m,a,"aria-hidden")):function(){return null}},du="Dialog",[O2]=fl(du),[PS,ds]=O2(du),P2=t=>{const{__scopeDialog:s,children:a,open:u,defaultOpen:m,onOpenChange:g,modal:y=!0}=t,b=D.useRef(null),A=D.useRef(null),[E,T]=au({prop:u,defaultProp:m??!1,onChange:g,caller:du});return w.jsx(PS,{scope:s,triggerRef:b,contentRef:A,contentId:Ja(),titleId:Ja(),descriptionId:Ja(),open:E,onOpenChange:T,onOpenToggle:D.useCallback(()=>T(S=>!S),[T]),modal:y,children:a})};P2.displayName=du;var D2="DialogTrigger",DS=D.forwardRef((t,s)=>{const{__scopeDialog:a,...u}=t,m=ds(D2,a),g=Jr(s,m.triggerRef);return w.jsx(_n.button,{type:"button","aria-haspopup":"dialog","aria-expanded":m.open,"aria-controls":m.contentId,"data-state":O0(m.open),...u,ref:g,onClick:jn(t.onClick,m.onOpenToggle)})});DS.displayName=D2;var R0="DialogPortal",[MS,M2]=O2(R0,{forceMount:void 0}),L2=t=>{const{__scopeDialog:s,forceMount:a,children:u,container:m}=t,g=ds(R0,s);return w.jsx(MS,{scope:s,forceMount:a,children:D.Children.map(u,y=>w.jsx(ml,{present:a||g.open,children:w.jsx(E2,{asChild:!0,container:m,children:y})}))})};L2.displayName=R0;var nu="DialogOverlay",B2=D.forwardRef((t,s)=>{const a=M2(nu,t.__scopeDialog),{forceMount:u=a.forceMount,...m}=t,g=ds(nu,t.__scopeDialog);return g.modal?w.jsx(ml,{present:u||g.open,children:w.jsx(BS,{...m,ref:s})}):null});B2.displayName=nu;var LS=el("DialogOverlay.RemoveScroll"),BS=D.forwardRef((t,s)=>{const{__scopeDialog:a,...u}=t,m=ds(nu,a);return w.jsx(R2,{as:LS,allowPinchZoom:!0,shards:[m.contentRef],children:w.jsx(_n.div,{"data-state":O0(m.open),...u,ref:s,style:{pointerEvents:"auto",...u.style}})})}),ro="DialogContent",j2=D.forwardRef((t,s)=>{const a=M2(ro,t.__scopeDialog),{forceMount:u=a.forceMount,...m}=t,g=ds(ro,t.__scopeDialog);return w.jsx(ml,{present:u||g.open,children:g.modal?w.jsx(jS,{...m,ref:s}):w.jsx(FS,{...m,ref:s})})});j2.displayName=ro;var jS=D.forwardRef((t,s)=>{const a=ds(ro,t.__scopeDialog),u=D.useRef(null),m=Jr(s,a.contentRef,u);return D.useEffect(()=>{const g=u.current;if(g)return OS(g)},[]),w.jsx(F2,{...t,ref:m,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jn(t.onCloseAutoFocus,g=>{g.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:jn(t.onPointerDownOutside,g=>{const y=g.detail.originalEvent,b=y.button===0&&y.ctrlKey===!0;(y.button===2||b)&&g.preventDefault()}),onFocusOutside:jn(t.onFocusOutside,g=>g.preventDefault())})}),FS=D.forwardRef((t,s)=>{const a=ds(ro,t.__scopeDialog),u=D.useRef(!1),m=D.useRef(!1);return w.jsx(F2,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:g=>{t.onCloseAutoFocus?.(g),g.defaultPrevented||(u.current||a.triggerRef.current?.focus(),g.preventDefault()),u.current=!1,m.current=!1},onInteractOutside:g=>{t.onInteractOutside?.(g),g.defaultPrevented||(u.current=!0,g.detail.originalEvent.type==="pointerdown"&&(m.current=!0));const y=g.target;a.triggerRef.current?.contains(y)&&g.preventDefault(),g.detail.originalEvent.type==="focusin"&&m.current&&g.preventDefault()}})}),F2=D.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:u,onOpenAutoFocus:m,onCloseAutoFocus:g,...y}=t,b=ds(ro,a),A=D.useRef(null),E=Jr(s,A);return X8(),w.jsxs(w.Fragment,{children:[w.jsx(v2,{asChild:!0,loop:!0,trapped:u,onMountAutoFocus:m,onUnmountAutoFocus:g,children:w.jsx(y2,{role:"dialog",id:b.contentId,"aria-describedby":b.descriptionId,"aria-labelledby":b.titleId,"data-state":O0(b.open),...y,ref:E,onDismiss:()=>b.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(VS,{titleId:b.titleId}),w.jsx(zS,{contentRef:A,descriptionId:b.descriptionId})]})]})}),_0="DialogTitle",V2=D.forwardRef((t,s)=>{const{__scopeDialog:a,...u}=t,m=ds(_0,a);return w.jsx(_n.h2,{id:m.titleId,...u,ref:s})});V2.displayName=_0;var U2="DialogDescription",z2=D.forwardRef((t,s)=>{const{__scopeDialog:a,...u}=t,m=ds(U2,a);return w.jsx(_n.p,{id:m.descriptionId,...u,ref:s})});z2.displayName=U2;var H2="DialogClose",W2=D.forwardRef((t,s)=>{const{__scopeDialog:a,...u}=t,m=ds(H2,a);return w.jsx(_n.button,{type:"button",...u,ref:s,onClick:jn(t.onClick,()=>m.onOpenChange(!1))})});W2.displayName=H2;function O0(t){return t?"open":"closed"}var G2="DialogTitleWarning",[cN,X2]=BA(G2,{contentName:ro,titleName:_0,docsSlug:"dialog"}),VS=({titleId:t})=>{const s=X2(G2),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return D.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},US="DialogDescriptionWarning",zS=({contentRef:t,descriptionId:s})=>{const u=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X2(US).contentName}}.`;return D.useEffect(()=>{const m=t.current?.getAttribute("aria-describedby");s&&m&&(document.getElementById(s)||console.warn(u))},[u,t,s]),null},HS=P2,WS=L2,Y2=B2,K2=j2,GS=V2,XS=z2,YS=W2;function Mg({...t}){return w.jsx(HS,{"data-slot":"dialog",...t})}function KS({...t}){return w.jsx(WS,{"data-slot":"dialog-portal",...t})}const Z2=D.forwardRef(({className:t,...s},a)=>w.jsx(Y2,{ref:a,"data-slot":"dialog-overlay",className:Fn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s}));Z2.displayName=Y2.displayName;const Uf=D.forwardRef(({className:t,children:s,...a},u)=>w.jsxs(KS,{children:[w.jsx(Z2,{}),w.jsxs(K2,{ref:u,"data-slot":"dialog-content",className:Fn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a,children:[s,w.jsxs(YS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[w.jsx(ta,{}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uf.displayName=K2.displayName;function Lg({className:t,...s}){return w.jsx("div",{"data-slot":"dialog-header",className:Fn("flex flex-col gap-2 text-center sm:text-left",t),...s})}function ZS({className:t,...s}){return w.jsx("div",{"data-slot":"dialog-footer",className:Fn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function Bg({className:t,...s}){return w.jsx(GS,{"data-slot":"dialog-title",className:Fn("text-lg leading-none font-semibold",t),...s})}function qS({className:t,...s}){return w.jsx(XS,{"data-slot":"dialog-description",className:Fn("text-muted-foreground text-sm",t),...s})}const $S="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function jg(t){const[s,a]=D.useState(!1),u=()=>{a(!0)},{src:m,alt:g,style:y,className:b,...A}=t;return s?w.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${b??""}`,style:y,children:w.jsx("div",{className:"flex items-center justify-center w-full h-full",children:w.jsx("img",{src:$S,alt:"Error loading image",...A,"data-original-url":m})})}):w.jsx("img",{src:m,alt:g,className:b,style:y,...A,onError:u})}function QS({onRedeem:t}){const s=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",a=localStorage.getItem("usuario_id"),u=localStorage.getItem("token"),[m,g]=D.useState([]),[y,b]=D.useState(!0),[A,E]=D.useState(null),[T,S]=D.useState(!1),[O,L]=D.useState(null),[U,j]=D.useState(0),F=()=>({"Content-Type":"application/json",Authorization:`Bearer ${u}`}),Z=z=>{if(!z)return"other";const xe=z.toLowerCase();return xe.includes("bembos")||xe.includes("mcdonald")||xe.includes("burger")||xe.includes("kfc")||xe.includes("pizza")||xe.includes("restaurant")||xe.includes("comida")||xe.includes("hamburguesa")||xe.includes("combo")?"restaurant":xe.includes("caf")||xe.includes("cafe")||xe.includes("starbucks")||xe.includes("coffee")||xe.includes("barista")||xe.includes("tostado")?"cafe":xe.includes("retail")||xe.includes("tienda")||xe.includes("super")||xe.includes("market")||xe.includes("ropa")||xe.includes("zara")||xe.includes("h&m")||xe.includes("moda")||xe.includes("store")?"retail":xe.includes("cine")||xe.includes("movie")||xe.includes("teatro")||xe.includes("entertainment")||xe.includes("diversion")||xe.includes("pelicula")?"entertainment":"other"},ee=async()=>{b(!0);try{const z=await fetch(`${s}/listarConvenios`,{headers:F()});if(!z.ok){if(z.status===401){Ye.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${z.status}`)}const Oe=(await z.json()).map(we=>({id:we.id.toString(),name:we.titulo||we.nombre||"Convenio sin ttulo",brand:we.empresa||"Empresa no especificada",description:we.descripcion||"Sin descripcin",points:parseInt(we.puntos_requeridos)||0,category:Z(we.empresa),image:we.imagen_url||we.logo_url||"https://images.unsplash.com/photo-1542831371-29b0f74f9d13?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdG9jayUyMG1lYWx8ZW58MXx8fHwxNzYzMTk2NzU5fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",validity:we.vigencia||"30 das",stock:parseInt(we.stock)||0}));g(Oe)}catch{Ye.error("No se pudieron cargar los premios."),g([])}finally{b(!1)}},G=async()=>{if(!(!a||!u))try{const z=await fetch(`${s}/obtenerPuntos?usuario_id=${a}`,{headers:F()});if(!z.ok){if(z.status===401){Ye.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${z.status}`)}const xe=await z.json();j(xe.puntos||0)}catch{j(0)}},re=async z=>{if(!a||!u){Ye.error("Error: Sesin de usuario no encontrada.");return}E(null);try{const xe=await fetch(`${s}/canjearPuntos`,{method:"POST",headers:F(),body:JSON.stringify({usuario_id:parseInt(a),convenio_id:parseInt(z.id)})}),Oe=await xe.json();if(!xe.ok||Oe.error)throw Oe.error&&Oe.error.includes("puntos insuficientes")?new Error("No tienes suficientes puntos para este canje."):Oe.error&&Oe.error.includes("stock")?new Error("Este premio ya no est disponible."):new Error(Oe.error||"Error al procesar el canje.");if(Oe.mensaje&&(Oe.mensaje.includes("xito")||Oe.mensaje.includes("exito")))t(z),L({...z,codigo_entrega:Oe.codigo_entrega}),S(!0),Oe.puntos_restantes!==void 0?j(Oe.puntos_restantes):await G(),await ee(),Ye.success(Oe.mensaje||"Canje realizado exitosamente!"),setTimeout(()=>{S(!1),L(null)},15e3);else throw new Error(Oe.mensaje||"Error desconocido al procesar el canje.")}catch(xe){Ye.error(xe.message||"Error de conexin. Intntalo ms tarde.")}};D.useEffect(()=>{ee(),a&&u&&G()},[a,u]);const fe=z=>{const xe=U||0,Oe=z.stock>0;xe>=z.points&&Oe?E(z):Oe?Ye.error("No tienes suficientes ecopoints"):Ye.error("Este premio ya no est disponible.")},de=()=>{A&&re(A)},q=z=>!z||z==="all"?m:m.filter(xe=>xe.category.toLowerCase()===z.toLowerCase()),Q=({reward:z})=>{const Oe=(U||0)>=z.points,we=z.stock>0,_e=Oe&&we;return w.jsxs(Lt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:w.jsx(jg,{src:z.image,alt:z.name,className:"w-full h-full object-cover"})}),w.jsx("div",{className:"absolute top-2 left-2",children:we?w.jsxs(Hc,{className:"bg-green-500 text-white flex items-center gap-1",children:[w.jsx(Fd,{className:"w-3 h-3"}),"Stock: ",z.stock]}):w.jsxs(Hc,{className:"bg-red-500 text-white flex items-center gap-1",children:[w.jsx(Fd,{className:"w-3 h-3"}),"Sin stock"]})})]}),w.jsxs("div",{className:"p-4 space-y-3",children:[w.jsxs("div",{children:[w.jsx("div",{className:"flex items-center gap-2 mb-1",children:w.jsx("span",{className:"text-gray-500 dark:text-white",children:z.brand})}),w.jsx("h3",{className:"text-gray-900 dark:text-blue-700",children:z.name}),w.jsx("p",{className:"text-gray-500 line-clamp-2",children:z.description})]}),w.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(bi,{className:"w-4 h-4 text-emerald-600"}),w.jsx("span",{className:"text-gray-900 dark:text-white",children:z.points}),w.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"pts"})]}),w.jsx(dt,{size:"sm",onClick:()=>fe(z),disabled:!_e,className:_e?"bg-emerald-600 hover:bg-emerald-700":we?"bg-amber-500 hover:bg-amber-600":"bg-gray-400 cursor-not-allowed",children:_e?"Canjear":we?"Insuficiente":"Sin stock"})]}),z.validity&&w.jsxs("p",{className:"text-gray-400",children:["Vlido por ",z.validity]})]})]})};return w.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-gray-900 mb-2 dark:text-white",children:"Premios"}),w.jsx("p",{className:"text-black dark:text-white/80",children:"Canjea tus ecopoints por premios increbles"})]}),w.jsx(Lt,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-emerald-100 mb-1",children:"Tus ecopoints"}),w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsx("span",{className:"text-3xl font-semibold",children:U.toLocaleString()}),w.jsx("span",{className:"text-emerald-100",children:"puntos"})]})]}),w.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:w.jsx(tl,{className:"w-8 h-8"})})]})}),w.jsxs(I8,{defaultValue:"all",className:"w-full",children:[w.jsxs(k8,{className:"w-full grid grid-cols-4",children:[w.jsx(Oc,{value:"all",children:"Todos"}),w.jsx(Oc,{value:"restaurant",children:"Comida"}),w.jsx(Oc,{value:"cafe",children:"Caf"}),w.jsx(Oc,{value:"retail",children:"Retail"})]}),y?w.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"Cargando premios..."}):m.length===0?w.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"No se encontraron premios disponibles."}):w.jsxs(w.Fragment,{children:[w.jsx(Pc,{value:"all",className:"mt-6",children:w.jsx("div",{className:"grid grid-cols-1 gap-4",children:q("all").map(z=>w.jsx(Q,{reward:z},z.id))})}),w.jsx(Pc,{value:"restaurant",className:"mt-6",children:w.jsx("div",{className:"grid grid-cols-1 gap-4",children:q("restaurant").map(z=>w.jsx(Q,{reward:z},z.id))})}),w.jsx(Pc,{value:"cafe",className:"mt-6",children:w.jsx("div",{className:"grid grid-cols-1 gap-4",children:q("cafe").map(z=>w.jsx(Q,{reward:z},z.id))})}),w.jsx(Pc,{value:"retail",className:"mt-6",children:w.jsx("div",{className:"grid grid-cols-1 gap-4",children:q("retail").map(z=>w.jsx(Q,{reward:z},z.id))})})]})]}),w.jsx(Mg,{open:!!A,onOpenChange:z=>!z&&E(null),children:w.jsxs(Uf,{children:[w.jsxs(Lg,{children:[w.jsx(Bg,{children:"Confirmar canje"}),w.jsx(qS,{children:"Ests seguro de canjear tus ecopoints por este premio?"})]}),A&&w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg overflow-hidden",children:w.jsx(jg,{src:A.image,alt:A.name,className:"w-full h-full object-cover"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500",children:A.brand}),w.jsx("h3",{className:"text-gray-900",children:A.name}),w.jsx("p",{className:"text-gray-600 mt-2",children:A.description})]}),w.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[w.jsxs("span",{className:"text-gray-700 flex items-center gap-2",children:[w.jsx(Fd,{className:"w-4 h-4"}),"Stock disponible:"]}),w.jsx(Hc,{className:A.stock>0?"bg-green-500":"bg-red-500",children:A.stock>0?`${A.stock} unidades`:"Sin stock"})]}),w.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Costo:"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(bi,{className:"w-5 h-5 text-emerald-600"}),w.jsxs("span",{className:"text-gray-900",children:[A.points," puntos"]})]})]}),w.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-lg",children:[w.jsx("span",{className:"text-gray-700",children:"Tu saldo despus:"}),w.jsxs("span",{className:"text-gray-900",children:[(U||0)-A.points," puntos"]})]})]}),w.jsxs(ZS,{children:[w.jsx(dt,{variant:"outline",onClick:()=>E(null),children:"Cancelar"}),w.jsx(dt,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:de,disabled:A?.stock===0,children:A?.stock===0?"Sin stock":"Confirmar canje"})]})]})}),w.jsx(Mg,{open:T,onOpenChange:S,children:w.jsxs(Uf,{className:"sm:max-w-md",children:[w.jsx(Lg,{children:w.jsx(Bg,{children:"Canje Exitoso"})}),w.jsxs("div",{className:"text-center space-y-4 py-6",children:[w.jsx(br.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-emerald-100 rounded-full mx-auto",children:w.jsx(op,{className:"w-12 h-12 text-emerald-600"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 mb-2",children:"Canje exitoso!"}),w.jsxs("p",{className:"text-gray-600",children:["Has canjeado ",O?.points," ecopoints"]})]}),O&&w.jsxs(Lt,{className:"p-4 bg-emerald-50 border border-emerald-200",children:[w.jsxs("p",{className:"text-emerald-900 font-semibold mb-1",children:[O.brand," - ",O.name]}),O.codigo_entrega&&w.jsxs("div",{className:"bg-white p-3 rounded-lg mt-2 shadow-inner border border-gray-100",children:[w.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tu cdigo de canje:"}),w.jsx("p",{className:"text-xl font-mono text-emerald-700 break-words font-bold bg-gray-50 p-2 rounded border",children:O.codigo_entrega}),w.jsx(dt,{size:"sm",variant:"outline",className:"mt-3 w-full",onClick:()=>{navigator.clipboard.writeText(O.codigo_entrega||""),Ye.success("Cdigo copiado al portapapeles")},children:" Copiar cdigo"})]}),w.jsx("p",{className:"text-emerald-700 mt-3 text-sm",children:" Presenta este cdigo en el establecimiento para reclamar tu premio"})]}),w.jsx(dt,{className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:()=>S(!1),children:"Entendido"})]})]})})]})}function JS({currentView:t,onNavigate:s}){const a=[{id:"home",icon:sv,label:"Inicio"},{id:"scan",icon:Xc,label:"Escanear"},{id:"rewards",icon:tl,label:"Premios"},{id:"profile",icon:Gf,label:"Perfil"}];return w.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto",children:w.jsx("div",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg",children:w.jsx("div",{className:"grid grid-cols-4 h-16",children:a.map(u=>{const m=u.icon,g=t===u.id;return w.jsxs("button",{onClick:()=>s(u.id),className:`flex flex-col items-center justify-center gap-1 transition-colors ${g?"text-emerald-600 dark:text-emerald-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[w.jsx(m,{className:`w-6 h-6 ${g?"fill-emerald-100 dark:fill-emerald-900":""}`}),w.jsx("span",{className:"text-xs",children:u.label})]},u.id)})})})})}var eN=(t,s,a,u,m,g,y,b)=>{let A=document.documentElement,E=["light","dark"];function T(L){(Array.isArray(t)?t:[t]).forEach(U=>{let j=U==="class",F=j&&g?m.map(Z=>g[Z]||Z):m;j?(A.classList.remove(...F),A.classList.add(g&&g[L]?g[L]:L)):A.setAttribute(U,L)}),S(L)}function S(L){b&&E.includes(L)&&(A.style.colorScheme=L)}function O(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)T(u);else try{let L=localStorage.getItem(s)||a,U=y&&L==="system"?O():L;T(U)}catch{}},tN=D.createContext(void 0),nN={setTheme:t=>{},themes:[]},rN=()=>{var t;return(t=D.useContext(tN))!=null?t:nN};D.memo(({forcedTheme:t,storageKey:s,attribute:a,enableSystem:u,enableColorScheme:m,defaultTheme:g,value:y,themes:b,nonce:A,scriptProps:E})=>{let T=JSON.stringify([a,s,g,t,b,y,u,m]).slice(1,-1);return D.createElement("script",{...E,suppressHydrationWarning:!0,nonce:typeof window>"u"?A:"",dangerouslySetInnerHTML:{__html:`(${eN.toString()})(${T})`}})});const sN=({...t})=>{const{theme:s="system"}=rN();return w.jsx(pA,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function iN(t){return"error"in t||t&&typeof t.mensaje=="string"&&!t.token&&!t.usuario}function oN({onLoginSuccess:t}){const[s,a]=D.useState(!0),[u,m]=D.useState({nombre:"",email:"",password:""}),[g,y]=D.useState(!1),[b,A]=D.useState(!1),[E,T]=D.useState(""),[S,O]=D.useState("login"),[L,U]=D.useState({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""}),[j,F]=D.useState(!1),[Z,ee]=D.useState(!1),[G,re]=D.useState(!1),fe="https://ecopoints.hvd.lat/api",de=he=>{const{name:pe,value:K}=he.target;m(ce=>({...ce,[pe]:K})),T("")},q=he=>{const{name:pe,value:K}=he.target;U(ce=>({...ce,[pe]:K}))},Q=()=>!u.email||!u.password?(Ye.error("El email y la contrasea son obligatorios"),!1):!s&&!u.nombre?(Ye.error("El nombre completo es obligatorio"),!1):u.password.length<6?(Ye.error("La contrasea debe tener al menos 6 caracteres"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)?!0:(Ye.error("Por favor, ingresa un email vlido"),!1),z=he=>{const pe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;switch(he){case"request":return L.email?pe.test(L.email)?!0:(Ye.error("Por favor, ingresa un email vlido"),!1):(Ye.error("El email es obligatorio"),!1);case"verify":return!L.codigo||L.codigo.length!==6?(Ye.error("El cdigo debe tener 6 dgitos"),!1):!0;case"reset":return!L.nuevaContrasena||!L.confirmarContrasena?(Ye.error("Ambas contraseas son obligatorias"),!1):L.nuevaContrasena.length<6?(Ye.error("La contrasea debe tener al menos 6 caracteres"),!1):L.nuevaContrasena!==L.confirmarContrasena?(Ye.error("Las contraseas no coinciden"),!1):!0;default:return!1}},xe=async()=>{if(z("request")){y(!0);try{const he=await fetch(`${fe}/solicitarReset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:L.email})});if(!he.ok){const K=await he.text();throw new Error(`Error ${he.status}: ${K}`)}const pe=await he.json();Ye.success(pe.mensaje||"Cdigo enviado a tu email"),F(!0)}catch(he){Ye.error(he.message||"Error al enviar el cdigo de verificacin")}finally{y(!1)}}},Oe=async()=>{if(z("verify")){y(!0);try{const he=await fetch(`${fe}/verificarCodigo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:L.email,codigo:L.codigo})});if(!he.ok){const K=await he.text();throw new Error(`Error ${he.status}: ${K}`)}const pe=await he.json();Ye.success(pe.mensaje||"Cdigo verificado correctamente"),U(K=>({...K,tokenTemporal:pe.token_temporal,usuarioId:pe.usuario_id})),O("reset")}catch(he){Ye.error(he.message||"Error al verificar el cdigo")}finally{y(!1)}}},we=async()=>{if(z("reset")){y(!0);try{const he=await fetch(`${fe}/actualizarContrasena`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token_temporal:L.tokenTemporal,nueva_contrasena:L.nuevaContrasena})});if(!he.ok){const K=await he.text();throw new Error(`Error ${he.status}: ${K}`)}const pe=await he.json();Ye.success(pe.mensaje||"Contrasea actualizada exitosamente"),O("login"),F(!1),U({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""})}catch(he){Ye.error(he.message||"Error al actualizar la contrasea")}finally{y(!1)}}},_e=async he=>{if(he.preventDefault(),!Q())return;y(!0),T("");const pe=s?"logeoUsuario":"registrarUsuario";try{const K=await fetch(`${fe}/${pe}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s?{email:u.email,password:u.password}:{nombre:u.nombre,email:u.email,password:u.password})}),ce=await K.json();if(!K.ok){let me="Error desconocido";if(iN(ce))me=ce.error||ce.mensaje||"Error desconocido";else if(typeof ce=="object"&&ce!==null){const Ne=ce;me=Ne.mensaje||Ne.message||"Error desconocido"}if(me.toLowerCase().includes("incorrect")||me.toLowerCase().includes("invalid")||me.toLowerCase().includes("credenciales")||K.status===401)T("Correo electrnico o contrasea incorrectos");else throw new Error(me);return}if(s){const me=ce;Ye.success(me.mensaje||"Inicio de sesin exitoso"),localStorage.setItem("usuario_id",me.usuario.id),localStorage.setItem("usuario_nombre",me.usuario.nombre),localStorage.setItem("usuario_correo",me.usuario.correo),localStorage.setItem("token",me.token),t(me.usuario.id,me.token,me.usuario.nombre)}else{const me=ce;Ye.success(me.mensaje||"Registro exitoso. Ahora inicia sesin."),a(!0),m(Ne=>({nombre:"",email:Ne.email,password:""}))}}catch(K){K.message.includes("Failed to fetch")||K.message.includes("CORS")?Ye.error("Error de conexin CORS. Contacta al administrador."):E||Ye.error(K.message||"Error de conexin con el servidor")}finally{y(!1)}},Pe=()=>{A(!b)},W=he=>{g||(a(he),T(""),he&&m(pe=>({...pe,nombre:""})))},ge=()=>{O("request"),U(he=>({...he,email:u.email})),F(!1)},ue=()=>{O("login"),F(!1),U({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""})},se=()=>{switch(S){case"request":return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("button",{onClick:ue,disabled:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:w.jsx(Ha,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recuperar contrasea"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Te enviaremos un cdigo de verificacin a tu email"})]})]}),j?w.jsxs("div",{className:"text-center space-y-6",children:[w.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 dark:bg-emerald-900 rounded-full",children:w.jsx(Kw,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-gray-900 dark:text-white mb-2 text-xl font-semibold",children:"Cdigo enviado!"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Hemos enviado un cdigo de 6 dgitos a:"}),w.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 mt-2 font-medium",children:L.email})]}),w.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:w.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:" Revisa tu bandeja de entrada y busca el cdigo de verificacin."})}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Ya recibiste el cdigo?"}),w.jsxs(dt,{className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",onClick:()=>O("verify"),type:"button",children:[w.jsx(mf,{className:"w-4 h-4 mr-2"}),"Ingresar cdigo de verificacin"]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recibiste el email?"}),w.jsxs(dt,{variant:"outline",className:"w-full",onClick:()=>F(!1),disabled:g,type:"button",children:[w.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Reenviar cdigo"]})]}),w.jsxs(dt,{variant:"ghost",className:"w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-950",onClick:ue,disabled:g,type:"button",children:[w.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Volver al inicio de sesin"]})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"mb-6",children:w.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Ingresa tu correo electrnico y te enviaremos un cdigo de 6 dgitos para restablecer tu contrasea."})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"reset-email",className:"text-sm font-medium",children:"Correo electrnico"}),w.jsxs("div",{className:"relative",children:[w.jsx(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx(Es,{id:"reset-email",name:"email",type:"email",placeholder:"tu@email.com",value:L.email,onChange:q,className:"pl-10",required:!0,disabled:g})]})]}),w.jsx(dt,{onClick:xe,disabled:g,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",type:"button",children:g?w.jsxs(w.Fragment,{children:[w.jsx(Sc,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando cdigo..."]}):w.jsxs(w.Fragment,{children:[w.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Enviar cdigo de verificacin"]})}),w.jsx("div",{className:"mt-4",children:w.jsxs(dt,{variant:"ghost",className:"w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-950",onClick:ue,disabled:g,type:"button",children:[w.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Volver al inicio de sesin"]})})]})]});case"verify":return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("button",{onClick:()=>O("request"),disabled:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:w.jsx(Ha,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Verificar cdigo"}),w.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Ingresa el cdigo de 6 dgitos que enviamos a ",L.email]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"codigo",className:"text-sm font-medium",children:"Cdigo de verificacin"}),w.jsxs("div",{className:"relative",children:[w.jsx(mf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx(Es,{id:"codigo",name:"codigo",type:"text",placeholder:"123456",value:L.codigo,onChange:q,className:"pl-10 text-center text-lg font-mono tracking-widest",required:!0,disabled:g,maxLength:6,pattern:"[0-9]{6}"})]})]}),w.jsx(dt,{onClick:Oe,disabled:g,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",type:"button",children:g?w.jsxs(w.Fragment,{children:[w.jsx(Sc,{className:"w-4 h-4 mr-2 animate-spin"}),"Verificando..."]}):"Verificar cdigo"})]});case"reset":return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("button",{onClick:()=>O("verify"),disabled:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:w.jsx(Ha,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Nueva contrasea"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Crea una nueva contrasea para tu cuenta"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"nuevaContrasena",className:"text-sm font-medium",children:"Nueva contrasea"}),w.jsxs("div",{className:"relative",children:[w.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx(Es,{id:"nuevaContrasena",name:"nuevaContrasena",type:Z?"text":"password",placeholder:"",value:L.nuevaContrasena,onChange:q,className:"pl-10 pr-10",required:!0,disabled:g,minLength:6}),w.jsx("button",{type:"button",onClick:()=>ee(!Z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:g,children:Z?w.jsx(Ho,{className:"w-4 h-4"}):w.jsx(Wo,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"confirmarContrasena",className:"text-sm font-medium",children:"Confirmar contrasea"}),w.jsxs("div",{className:"relative",children:[w.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx(Es,{id:"confirmarContrasena",name:"confirmarContrasena",type:G?"text":"password",placeholder:"",value:L.confirmarContrasena,onChange:q,className:"pl-10 pr-10",required:!0,disabled:g,minLength:6}),w.jsx("button",{type:"button",onClick:()=>re(!G),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:g,children:G?w.jsx(Ho,{className:"w-4 h-4"}):w.jsx(Wo,{className:"w-4 h-4"})})]})]}),w.jsx(dt,{onClick:we,disabled:g,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",type:"button",children:g?w.jsxs(w.Fragment,{children:[w.jsx(Sc,{className:"w-4 h-4 mr-2 animate-spin"}),"Actualizando..."]}):"Actualizar contrasea"})]});default:return null}};return w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full",children:[w.jsxs(br.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center mb-8",children:[w.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-white rounded-full shadow-lg mb-4",children:w.jsx(bi,{className:"w-24 h-24 text-emerald-600"})}),w.jsx("h1",{className:"text-white mb-2 text-4xl font-medium",children:"EcoPoints"}),w.jsx("p",{className:"text-emerald-100 font-medium mb-4",children:"Recicla, gana puntos y cambia el mundo"})]}),w.jsx(br.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:w.jsx(Lt,{className:"p-8 shadow-2xl",children:S==="login"?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex gap-2 mb-6 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[w.jsx("button",{onClick:()=>W(!0),disabled:g,className:`flex-1 py-2 rounded-md transition-all ${s?"bg-emerald-300 text-emerald-400 dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow font-medium":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"} disabled:opacity-50 disabled:cursor-not-allowed`,type:"button",children:"Iniciar sesin"}),w.jsx("button",{onClick:()=>W(!1),disabled:g,className:`flex-1 py-2 rounded-md transition-all ${s?"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200":"bg-emerald-300 text-emerald-400 dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow font-medium"} disabled:opacity-50 disabled:cursor-not-allowed`,type:"button",children:"Registrarse"})]}),w.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[w.jsx(tx,{mode:"wait",children:!s&&w.jsxs(br.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"space-y-2 overflow-hidden",children:[w.jsx(bs,{htmlFor:"nombre",className:"text-sm font-medium",children:"Nombre completo"}),w.jsxs("div",{className:"relative",children:[w.jsx(Gf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx(Es,{id:"nombre",name:"nombre",type:"text",placeholder:"Mara Rodriguez",value:u.nombre,onChange:de,className:"pl-10",required:!s,disabled:g,minLength:2})]})]},"name-field")}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"email",className:"text-sm font-medium",children:"Correo electrnico"}),w.jsxs("div",{className:"relative",children:[w.jsx(Mo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx(Es,{id:"email",name:"email",type:"email",placeholder:"tu@email.com",value:u.email,onChange:de,className:"pl-10",required:!0,disabled:g,autoComplete:"email"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(bs,{htmlFor:"password",className:"text-sm font-medium",children:"Contrasea"}),w.jsxs("div",{className:"relative",children:[w.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx(Es,{id:"password",name:"password",type:b?"text":"password",placeholder:"",value:u.password,onChange:de,className:"pl-10 pr-10",required:!0,disabled:g,autoComplete:s?"current-password":"new-password",minLength:6}),w.jsx("button",{type:"button",onClick:Pe,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:g,children:b?w.jsx(Ho,{className:"w-4 h-4"}):w.jsx(Wo,{className:"w-4 h-4"})})]}),w.jsx("p",{className:"text-xs text-gray-500",children:"Mnimo 6 caracteres"})]}),E&&w.jsx(br.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg dark:bg-red-700 dark:border-red-600",children:w.jsx("p",{className:"text-red-700 text-sm text-center",children:E})}),w.jsx(dt,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",children:g?w.jsxs(w.Fragment,{children:[w.jsx(Sc,{className:"w-4 h-4 mr-2 animate-spin"}),s?"Iniciando sesin...":"Registrando..."]}):s?"Iniciar sesin":"Crear cuenta"})]}),s&&w.jsx("div",{className:"mt-4 text-center",children:w.jsx("button",{type:"button",onClick:ge,className:"text-emerald-600 hover:text-emerald-700 hover:underline transition-colors text-sm",disabled:g,children:"Olvidaste tu contrasea?"})}),w.jsx("div",{className:"mt-6 p-4 bg-emerald-50 dark:bg-emerald-950 rounded-lg border border-emerald-200 dark:border-emerald-800",children:w.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 text-center text-sm",children:[" nete a nuestra comunidad de"," ",w.jsx("span",{className:"font-semibold",children:s?"recicladores":"ms de 1,000 usuarios"})," ","comprometidos con el planeta"]})})]}):se()})}),w.jsx(br.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mt-6 text-emerald-100",children:w.jsx("p",{className:"text-sm",children:"Al continuar, aceptas nuestros trminos y condiciones"})})]})})}function aN(){const[t,s]=D.useState(!1),[a,u]=D.useState(!0),[m,g]=D.useState("home"),[y,b]=D.useState(0),[A,E]=D.useState("light");D.useEffect(()=>{(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")})();const j=window.matchMedia("(prefers-color-scheme: dark)"),F=Z=>{E(Z.matches?"dark":"light")};return j.addEventListener("change",F),()=>j.removeEventListener("change",F)},[]),D.useEffect(()=>{A==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[A]);const T=()=>{E(U=>U==="light"?"dark":"light")};D.useEffect(()=>{localStorage.getItem("usuario_id")&&s(!0),u(!1)},[]);const S=()=>{localStorage.removeItem("usuario_id"),s(!1)},O=U=>{b(j=>j-U.points)},L=()=>{switch(m){case"home":return w.jsx(sg,{onNavigateToRewards:()=>g("rewards")});case"scan":return w.jsx(IA,{});case"history":return w.jsx(kA,{});case"profile":return w.jsx(n8,{onLogout:S,theme:A,onToggleTheme:T});case"rewards":return w.jsx(QS,{balance:y,onRedeem:O});default:return w.jsx(sg,{onNavigateToRewards:()=>g("rewards")})}};return a?w.jsx("div",{className:"flex items-center justify-center h-screen text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-900",children:"Cargando..."}):t?w.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-emerald-50 dark:from-gray-900 dark:to-gray-800",children:[w.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col shadow-xl dark:shadow-gray-900",children:[w.jsx("div",{className:"flex-1 overflow-auto pb-20 bg-humo dark:bg-gray-900",children:L()}),w.jsx(JS,{currentView:m,onNavigate:g})]}),w.jsx(sN,{})]}):w.jsx(oN,{onLoginSuccess:U=>{localStorage.setItem("usuario_id",U),s(!0)}})}Ky.createRoot(document.getElementById("root")).render(w.jsx(aN,{}));
