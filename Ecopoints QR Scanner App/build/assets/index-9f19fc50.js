function Pm(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dm={exports:{}},Bc={},Mm={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),hv=Symbol.for("react.portal"),gv=Symbol.for("react.fragment"),mv=Symbol.for("react.strict_mode"),pv=Symbol.for("react.profiler"),xv=Symbol.for("react.provider"),yv=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),Cv=Symbol.for("react.memo"),bv=Symbol.for("react.lazy"),Rh=Symbol.iterator;function Ev(e){return e===null||typeof e!="object"?null:(e=Rh&&e[Rh]||e["@@iterator"],typeof e=="function"?e:null)}var Lm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bm=Object.assign,jm={};function xo(e,t,n){this.props=e,this.context=t,this.refs=jm,this.updater=n||Lm}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fm(){}Fm.prototype=xo.prototype;function zf(e,t,n){this.props=e,this.context=t,this.refs=jm,this.updater=n||Lm}var Wf=zf.prototype=new Fm;Wf.constructor=zf;Bm(Wf,xo.prototype);Wf.isPureReactComponent=!0;var kh=Array.isArray,Vm=Object.prototype.hasOwnProperty,Hf={current:null},Um={key:!0,ref:!0,__self:!0,__source:!0};function zm(e,t,n){var s,a={},c=null,f=null;if(t!=null)for(s in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(c=""+t.key),t)Vm.call(t,s)&&!Um.hasOwnProperty(s)&&(a[s]=t[s]);var g=arguments.length-2;if(g===1)a.children=n;else if(1<g){for(var x=Array(g),m=0;m<g;m++)x[m]=arguments[m+2];a.children=x}if(e&&e.defaultProps)for(s in g=e.defaultProps,g)a[s]===void 0&&(a[s]=g[s]);return{$$typeof:Da,type:e,key:c,ref:f,props:a,_owner:Hf.current}}function Av(e,t){return{$$typeof:Da,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Da}function Sv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _h=/\/+/g;function Iu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sv(""+e.key):t.toString(36)}function Pl(e,t,n,s,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(c){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Da:case hv:f=!0}}if(f)return f=e,a=a(f),e=s===""?"."+Iu(f,0):s,kh(a)?(n="",e!=null&&(n=e.replace(_h,"$&/")+"/"),Pl(a,t,n,"",function(m){return m})):a!=null&&(Gf(a)&&(a=Av(a,n+(!a.key||f&&f.key===a.key?"":(""+a.key).replace(_h,"$&/")+"/")+e)),t.push(a)),1;if(f=0,s=s===""?".":s+":",kh(e))for(var g=0;g<e.length;g++){c=e[g];var x=s+Iu(c,g);f+=Pl(c,t,n,x,a)}else if(x=Ev(e),typeof x=="function")for(e=x.call(e),g=0;!(c=e.next()).done;)c=c.value,x=s+Iu(c,g++),f+=Pl(c,t,n,x,a);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function rl(e,t,n){if(e==null)return e;var s=[],a=0;return Pl(e,s,"","",function(c){return t.call(n,c,a++)}),s}function Nv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pn={current:null},Dl={transition:null},Tv={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:Hf};function Wm(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:rl,forEach:function(e,t,n){rl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rl(e,function(){t++}),t},toArray:function(e){return rl(e,function(t){return t})||[]},only:function(e){if(!Gf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=xo;Me.Fragment=gv;Me.Profiler=pv;Me.PureComponent=zf;Me.StrictMode=mv;Me.Suspense=vv;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tv;Me.act=Wm;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Bm({},e.props),a=e.key,c=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,f=Hf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(x in t)Vm.call(t,x)&&!Um.hasOwnProperty(x)&&(s[x]=t[x]===void 0&&g!==void 0?g[x]:t[x])}var x=arguments.length-2;if(x===1)s.children=n;else if(1<x){g=Array(x);for(var m=0;m<x;m++)g[m]=arguments[m+2];s.children=g}return{$$typeof:Da,type:e.type,key:a,ref:c,props:s,_owner:f}};Me.createContext=function(e){return e={$$typeof:yv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xv,_context:e},e.Consumer=e};Me.createElement=zm;Me.createFactory=function(e){var t=zm.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:wv,render:e}};Me.isValidElement=Gf;Me.lazy=function(e){return{$$typeof:bv,_payload:{_status:-1,_result:e},_init:Nv}};Me.memo=function(e,t){return{$$typeof:Cv,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};Me.unstable_act=Wm;Me.useCallback=function(e,t){return pn.current.useCallback(e,t)};Me.useContext=function(e){return pn.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return pn.current.useDeferredValue(e)};Me.useEffect=function(e,t){return pn.current.useEffect(e,t)};Me.useId=function(){return pn.current.useId()};Me.useImperativeHandle=function(e,t,n){return pn.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return pn.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return pn.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return pn.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return pn.current.useReducer(e,t,n)};Me.useRef=function(e){return pn.current.useRef(e)};Me.useState=function(e){return pn.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return pn.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return pn.current.useTransition()};Me.version="18.3.1";Mm.exports=Me;var _=Mm.exports;const ue=Uf(_),Xf=Pm({__proto__:null,default:ue},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=_,Rv=Symbol.for("react.element"),kv=Symbol.for("react.fragment"),_v=Object.prototype.hasOwnProperty,Ov=Iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pv={key:!0,ref:!0,__self:!0,__source:!0};function Hm(e,t,n){var s,a={},c=null,f=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(f=t.ref);for(s in t)_v.call(t,s)&&!Pv.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Rv,type:e,key:c,ref:f,props:a,_owner:Ov.current}}Bc.Fragment=kv;Bc.jsx=Hm;Bc.jsxs=Hm;Dm.exports=Bc;var y=Dm.exports,Gm={exports:{}},jn={},Xm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(se,$){var J=se.length;se.push($);e:for(;0<J;){var ee=J-1>>>1,re=se[ee];if(0<a(re,$))se[ee]=$,se[J]=re,J=ee;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var $=se[0],J=se.pop();if(J!==$){se[0]=J;e:for(var ee=0,re=se.length,he=re>>>1;ee<he;){var ve=2*(ee+1)-1,Ze=se[ve],me=ve+1,Ve=se[me];if(0>a(Ze,J))me<re&&0>a(Ve,Ze)?(se[ee]=Ve,se[me]=J,ee=me):(se[ee]=Ze,se[ve]=J,ee=ve);else if(me<re&&0>a(Ve,J))se[ee]=Ve,se[me]=J,ee=me;else break e}}return $}function a(se,$){var J=se.sortIndex-$.sortIndex;return J!==0?J:se.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();e.unstable_now=function(){return f.now()-g}}var x=[],m=[],v=1,C=null,A=3,E=!1,L=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(se){for(var $=n(m);$!==null;){if($.callback===null)s(m);else if($.startTime<=se)s(m),$.sortIndex=$.expirationTime,t(x,$);else break;$=n(m)}}function B(se){if(R=!1,T(se),!L)if(n(x)!==null)L=!0,pe(W);else{var $=n(m);$!==null&&ae(B,$.startTime-se)}}function W(se,$){L=!1,R&&(R=!1,O(z),z=-1),E=!0;var J=A;try{for(T($),C=n(x);C!==null&&(!(C.expirationTime>$)||se&&!fe());){var ee=C.callback;if(typeof ee=="function"){C.callback=null,A=C.priorityLevel;var re=ee(C.expirationTime<=$);$=e.unstable_now(),typeof re=="function"?C.callback=re:C===n(x)&&s(x),T($)}else s(x);C=n(x)}if(C!==null)var he=!0;else{var ve=n(m);ve!==null&&ae(B,ve.startTime-$),he=!1}return he}finally{C=null,A=J,E=!1}}var X=!1,F=null,z=-1,j=5,Q=-1;function fe(){return!(e.unstable_now()-Q<j)}function q(){if(F!==null){var se=e.unstable_now();Q=se;var $=!0;try{$=F(!0,se)}finally{$?ge():(X=!1,F=null)}}else X=!1}var ge;if(typeof I=="function")ge=function(){I(q)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,H=de.port2;de.port1.onmessage=q,ge=function(){H.postMessage(null)}}else ge=function(){D(q,0)};function pe(se){F=se,X||(X=!0,ge())}function ae(se,$){z=D(function(){se(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){L||E||(L=!0,pe(W))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(se){switch(A){case 1:case 2:case 3:var $=3;break;default:$=A}var J=A;A=$;try{return se()}finally{A=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,$){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var J=A;A=se;try{return $()}finally{A=J}},e.unstable_scheduleCallback=function(se,$,J){var ee=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,se){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=J+re,se={id:v++,callback:$,priorityLevel:se,startTime:J,expirationTime:re,sortIndex:-1},J>ee?(se.sortIndex=J,t(m,se),n(x)===null&&se===n(m)&&(R?(O(z),z=-1):R=!0,ae(B,J-ee))):(se.sortIndex=re,t(x,se),L||E||(L=!0,pe(W))),se},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(se){var $=A;return function(){var J=A;A=$;try{return se.apply(this,arguments)}finally{A=J}}}})(Ym);Xm.exports=Ym;var Dv=Xm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=_,Ln=Dv;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zm=new Set,ha={};function cs(e,t){io(e,t),io(e+"Capture",t)}function io(e,t){for(ha[e]=t,e=0;e<t.length;e++)Zm.add(t[e])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,Lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oh={},Ph={};function Bv(e){return Sd.call(Ph,e)?!0:Sd.call(Oh,e)?!1:Lv.test(e)?Ph[e]=!0:(Oh[e]=!0,!1)}function jv(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fv(e,t,n,s){if(t===null||typeof t>"u"||jv(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xn(e,t,n,s,a,c,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=f}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new xn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new xn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new xn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new xn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new xn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new xn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new xn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new xn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new xn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Zf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yf,Zf);Qt[t]=new xn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yf,Zf);Qt[t]=new xn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yf,Zf);Qt[t]=new xn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new xn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new xn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kf(e,t,n,s){var a=Qt.hasOwnProperty(t)?Qt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fv(t,n,a,s)&&(n=null),s||a===null?Bv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Zr=Mv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),$f=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),Km=Symbol.for("react.provider"),$m=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Td=Symbol.for("react.suspense"),Id=Symbol.for("react.suspense_list"),Qf=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),Dh=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=Dh&&e[Dh]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,Ru;function Yo(e){if(Ru===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ru=t&&t[1]||""}return`
`+Ru+e}var ku=!1;function _u(e,t){if(!e||ku)return"";ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),c=s.stack.split(`
`),f=a.length-1,g=c.length-1;1<=f&&0<=g&&a[f]!==c[g];)g--;for(;1<=f&&0<=g;f--,g--)if(a[f]!==c[g]){if(f!==1||g!==1)do if(f--,g--,0>g||a[f]!==c[g]){var x=`
`+a[f].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=f&&0<=g);break}}}finally{ku=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yo(e):""}function Vv(e){switch(e.tag){case 5:return Yo(e.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return e=_u(e.type,!1),e;case 11:return e=_u(e.type.render,!1),e;case 1:return e=_u(e.type,!0),e;default:return""}}function Rd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ks:return"Fragment";case Rs:return"Portal";case Nd:return"Profiler";case $f:return"StrictMode";case Td:return"Suspense";case Id:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $m:return(e.displayName||"Context")+".Consumer";case Km:return(e._context.displayName||"Context")+".Provider";case qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qf:return t=e.displayName||null,t!==null?t:Rd(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return Rd(e(t))}catch{}}return null}function Uv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rd(t);case 8:return t===$f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zv(e){var t=Qm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(f){s=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(f){s=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sl(e){e._valueTracker||(e._valueTracker=zv(e))}function Jm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Qm(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kd(e,t){var n=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mh(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&Kf(e,"checked",t,!1)}function _d(e,t){ep(e,t);var n=Ii(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Od(e,t.type,n):t.hasOwnProperty("defaultValue")&&Od(e,t.type,Ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Od(e,t,n){(t!=="number"||ql(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zo=Array.isArray;function Ys(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ii(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Pd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(Zo(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ii(n)}}function tp(e,t){var n=Ii(t.value),s=Ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ol,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wv=["Webkit","ms","Moz","O"];Object.keys(Qo).forEach(function(e){Wv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qo[t]=Qo[e]})});function ip(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qo.hasOwnProperty(e)&&Qo[e]?(""+t).trim():t+"px"}function sp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=ip(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var Hv=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Md(e,t){if(t){if(Hv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function Ld(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=null;function Jf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jd=null,Zs=null,Ks=null;function Fh(e){if(e=Ba(e)){if(typeof jd!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=zc(t),jd(e.stateNode,e.type,t))}}function op(e){Zs?Ks?Ks.push(e):Ks=[e]:Zs=e}function ap(){if(Zs){var e=Zs,t=Ks;if(Ks=Zs=null,Fh(e),t)for(e=0;e<t.length;e++)Fh(t[e])}}function lp(e,t){return e(t)}function cp(){}var Ou=!1;function up(e,t,n){if(Ou)return e(t,n);Ou=!0;try{return lp(e,t,n)}finally{Ou=!1,(Zs!==null||Ks!==null)&&(cp(),ap())}}function ma(e,t){var n=e.stateNode;if(n===null)return null;var s=zc(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var Fd=!1;if(Wr)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Fd=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{Fd=!1}function Gv(e,t,n,s,a,c,f,g,x){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(v){this.onError(v)}}var Jo=!1,Ql=null,Jl=!1,Vd=null,Xv={onError:function(e){Jo=!0,Ql=e}};function Yv(e,t,n,s,a,c,f,g,x){Jo=!1,Ql=null,Gv.apply(Xv,arguments)}function Zv(e,t,n,s,a,c,f,g,x){if(Yv.apply(this,arguments),Jo){if(Jo){var m=Ql;Jo=!1,Ql=null}else throw Error(ie(198));Jl||(Jl=!0,Vd=m)}}function us(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vh(e){if(us(e)!==e)throw Error(ie(188))}function Kv(e){var t=e.alternate;if(!t){if(t=us(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var c=a.alternate;if(c===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===n)return Vh(a),e;if(c===s)return Vh(a),t;c=c.sibling}throw Error(ie(188))}if(n.return!==s.return)n=a,s=c;else{for(var f=!1,g=a.child;g;){if(g===n){f=!0,n=a,s=c;break}if(g===s){f=!0,s=a,n=c;break}g=g.sibling}if(!f){for(g=c.child;g;){if(g===n){f=!0,n=c,s=a;break}if(g===s){f=!0,s=c,n=a;break}g=g.sibling}if(!f)throw Error(ie(189))}}if(n.alternate!==s)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function fp(e){return e=Kv(e),e!==null?hp(e):null}function hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hp(e);if(t!==null)return t;e=e.sibling}return null}var gp=Ln.unstable_scheduleCallback,Uh=Ln.unstable_cancelCallback,$v=Ln.unstable_shouldYield,qv=Ln.unstable_requestPaint,Rt=Ln.unstable_now,Qv=Ln.unstable_getCurrentPriorityLevel,e0=Ln.unstable_ImmediatePriority,mp=Ln.unstable_UserBlockingPriority,ec=Ln.unstable_NormalPriority,Jv=Ln.unstable_LowPriority,pp=Ln.unstable_IdlePriority,jc=null,Tr=null;function e3(e){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(jc,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:r3,t3=Math.log,n3=Math.LN2;function r3(e){return e>>>=0,e===0?32:31-(t3(e)/n3|0)|0}var al=64,ll=4194304;function Ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tc(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,c=e.pingedLanes,f=n&268435455;if(f!==0){var g=f&~a;g!==0?s=Ko(g):(c&=f,c!==0&&(s=Ko(c)))}else f=n&~a,f!==0?s=Ko(f):c!==0&&(s=Ko(c));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,c=t&-t,a>=c||a===16&&(c&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-ur(t),a=1<<n,s|=e[n],t&=~a;return s}function i3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s3(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var f=31-ur(c),g=1<<f,x=a[f];x===-1?(!(g&n)||g&s)&&(a[f]=i3(g,t)):x<=t&&(e.expiredLanes|=g),c&=~g}}function Ud(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=al;return al<<=1,!(al&4194240)&&(al=64),e}function Pu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ma(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=n}function o3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ur(n),c=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~c}}function t0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ur(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var qe=0;function yp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wp,n0,vp,Cp,bp,zd=!1,cl=[],xi=null,yi=null,wi=null,pa=new Map,xa=new Map,fi=[],a3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function Lo(e,t,n,s,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[a]},t!==null&&(t=Ba(t),t!==null&&n0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function l3(e,t,n,s,a){switch(t){case"focusin":return xi=Lo(xi,e,t,n,s,a),!0;case"dragenter":return yi=Lo(yi,e,t,n,s,a),!0;case"mouseover":return wi=Lo(wi,e,t,n,s,a),!0;case"pointerover":var c=a.pointerId;return pa.set(c,Lo(pa.get(c)||null,e,t,n,s,a)),!0;case"gotpointercapture":return c=a.pointerId,xa.set(c,Lo(xa.get(c)||null,e,t,n,s,a)),!0}return!1}function Ep(e){var t=$i(e.target);if(t!==null){var n=us(t);if(n!==null){if(t=n.tag,t===13){if(t=dp(n),t!==null){e.blockedOn=t,bp(e.priority,function(){vp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Bd=s,n.target.dispatchEvent(s),Bd=null}else return t=Ba(n),t!==null&&n0(t),e.blockedOn=n,!1;t.shift()}return!0}function Wh(e,t,n){Ml(e)&&n.delete(t)}function c3(){zd=!1,xi!==null&&Ml(xi)&&(xi=null),yi!==null&&Ml(yi)&&(yi=null),wi!==null&&Ml(wi)&&(wi=null),pa.forEach(Wh),xa.forEach(Wh)}function Bo(e,t){e.blockedOn===t&&(e.blockedOn=null,zd||(zd=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,c3)))}function ya(e){function t(a){return Bo(a,e)}if(0<cl.length){Bo(cl[0],e);for(var n=1;n<cl.length;n++){var s=cl[n];s.blockedOn===e&&(s.blockedOn=null)}}for(xi!==null&&Bo(xi,e),yi!==null&&Bo(yi,e),wi!==null&&Bo(wi,e),pa.forEach(t),xa.forEach(t),n=0;n<fi.length;n++)s=fi[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&fi.shift()}var $s=Zr.ReactCurrentBatchConfig,nc=!0;function u3(e,t,n,s){var a=qe,c=$s.transition;$s.transition=null;try{qe=1,r0(e,t,n,s)}finally{qe=a,$s.transition=c}}function d3(e,t,n,s){var a=qe,c=$s.transition;$s.transition=null;try{qe=4,r0(e,t,n,s)}finally{qe=a,$s.transition=c}}function r0(e,t,n,s){if(nc){var a=Wd(e,t,n,s);if(a===null)Wu(e,t,s,rc,n),zh(e,s);else if(l3(a,e,t,n,s))s.stopPropagation();else if(zh(e,s),t&4&&-1<a3.indexOf(e)){for(;a!==null;){var c=Ba(a);if(c!==null&&wp(c),c=Wd(e,t,n,s),c===null&&Wu(e,t,s,rc,n),c===a)break;a=c}a!==null&&s.stopPropagation()}else Wu(e,t,s,null,n)}}var rc=null;function Wd(e,t,n,s){if(rc=null,e=Jf(s),e=$i(e),e!==null)if(t=us(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rc=e,null}function Ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qv()){case e0:return 1;case mp:return 4;case ec:case Jv:return 16;case pp:return 536870912;default:return 16}default:return 16}}var gi=null,i0=null,Ll=null;function Sp(){if(Ll)return Ll;var e,t=i0,n=t.length,s,a="value"in gi?gi.value:gi.textContent,c=a.length;for(e=0;e<n&&t[e]===a[e];e++);var f=n-e;for(s=1;s<=f&&t[n-s]===a[c-s];s++);return Ll=a.slice(e,1<s?1-s:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function Hh(){return!1}function Fn(e){function t(n,s,a,c,f){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ul:Hh,this.isPropagationStopped=Hh,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s0=Fn(yo),La=Ct({},yo,{view:0,detail:0}),f3=Fn(La),Du,Mu,jo,Fc=Ct({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(Du=e.screenX-jo.screenX,Mu=e.screenY-jo.screenY):Mu=Du=0,jo=e),Du)},movementY:function(e){return"movementY"in e?e.movementY:Mu}}),Gh=Fn(Fc),h3=Ct({},Fc,{dataTransfer:0}),g3=Fn(h3),m3=Ct({},La,{relatedTarget:0}),Lu=Fn(m3),p3=Ct({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),x3=Fn(p3),y3=Ct({},yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w3=Fn(y3),v3=Ct({},yo,{data:0}),Xh=Fn(v3),C3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E3[e])?!!t[e]:!1}function o0(){return A3}var S3=Ct({},La,{key:function(e){if(e.key){var t=C3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N3=Fn(S3),T3=Ct({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yh=Fn(T3),I3=Ct({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),R3=Fn(I3),k3=Ct({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_3=Fn(k3),O3=Ct({},Fc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P3=Fn(O3),D3=[9,13,27,32],a0=Wr&&"CompositionEvent"in window,ea=null;Wr&&"documentMode"in document&&(ea=document.documentMode);var M3=Wr&&"TextEvent"in window&&!ea,Np=Wr&&(!a0||ea&&8<ea&&11>=ea),Zh=String.fromCharCode(32),Kh=!1;function Tp(e,t){switch(e){case"keyup":return D3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function L3(e,t){switch(e){case"compositionend":return Ip(t);case"keypress":return t.which!==32?null:(Kh=!0,Zh);case"textInput":return e=t.data,e===Zh&&Kh?null:e;default:return null}}function B3(e,t){if(_s)return e==="compositionend"||!a0&&Tp(e,t)?(e=Sp(),Ll=i0=gi=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Np&&t.locale!=="ko"?null:t.data;default:return null}}var j3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j3[e.type]:t==="textarea"}function Rp(e,t,n,s){op(s),t=ic(t,"onChange"),0<t.length&&(n=new s0("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ta=null,wa=null;function F3(e){Vp(e,0)}function Vc(e){var t=Ds(e);if(Jm(t))return e}function V3(e,t){if(e==="change")return t}var kp=!1;if(Wr){var Bu;if(Wr){var ju="oninput"in document;if(!ju){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),ju=typeof qh.oninput=="function"}Bu=ju}else Bu=!1;kp=Bu&&(!document.documentMode||9<document.documentMode)}function Qh(){ta&&(ta.detachEvent("onpropertychange",_p),wa=ta=null)}function _p(e){if(e.propertyName==="value"&&Vc(wa)){var t=[];Rp(t,wa,e,Jf(e)),up(F3,t)}}function U3(e,t,n){e==="focusin"?(Qh(),ta=t,wa=n,ta.attachEvent("onpropertychange",_p)):e==="focusout"&&Qh()}function z3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vc(wa)}function W3(e,t){if(e==="click")return Vc(t)}function H3(e,t){if(e==="input"||e==="change")return Vc(t)}function G3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:G3;function va(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Sd.call(t,a)||!fr(e[a],t[a]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e1(e,t){var n=Jh(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jh(n)}}function Op(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Op(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pp(){for(var e=window,t=ql();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ql(e.document)}return t}function l0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X3(e){var t=Pp(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Op(n.ownerDocument.documentElement,n)){if(s!==null&&l0(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,c=Math.min(s.start,a);s=s.end===void 0?c:Math.min(s.end,a),!e.extend&&c>s&&(a=s,s=c,c=a),a=e1(n,c);var f=e1(n,s);a&&f&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y3=Wr&&"documentMode"in document&&11>=document.documentMode,Os=null,Hd=null,na=null,Gd=!1;function t1(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gd||Os==null||Os!==ql(s)||(s=Os,"selectionStart"in s&&l0(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),na&&va(na,s)||(na=s,s=ic(Hd,"onSelect"),0<s.length&&(t=new s0("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Os)))}function dl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ps={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},Fu={},Dp={};Wr&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Uc(e){if(Fu[e])return Fu[e];if(!Ps[e])return e;var t=Ps[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dp)return Fu[e]=t[n];return e}var Mp=Uc("animationend"),Lp=Uc("animationiteration"),Bp=Uc("animationstart"),jp=Uc("transitionend"),Fp=new Map,n1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(e,t){Fp.set(e,t),cs(t,[e])}for(var Vu=0;Vu<n1.length;Vu++){var Uu=n1[Vu],Z3=Uu.toLowerCase(),K3=Uu[0].toUpperCase()+Uu.slice(1);Oi(Z3,"on"+K3)}Oi(Mp,"onAnimationEnd");Oi(Lp,"onAnimationIteration");Oi(Bp,"onAnimationStart");Oi("dblclick","onDoubleClick");Oi("focusin","onFocus");Oi("focusout","onBlur");Oi(jp,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$3=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function r1(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Zv(s,t,void 0,e),e.currentTarget=null}function Vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var f=s.length-1;0<=f;f--){var g=s[f],x=g.instance,m=g.currentTarget;if(g=g.listener,x!==c&&a.isPropagationStopped())break e;r1(a,g,m),c=x}else for(f=0;f<s.length;f++){if(g=s[f],x=g.instance,m=g.currentTarget,g=g.listener,x!==c&&a.isPropagationStopped())break e;r1(a,g,m),c=x}}}if(Jl)throw e=Vd,Jl=!1,Vd=null,e}function lt(e,t){var n=t[$d];n===void 0&&(n=t[$d]=new Set);var s=e+"__bubble";n.has(s)||(Up(t,e,2,!1),n.add(s))}function zu(e,t,n){var s=0;t&&(s|=4),Up(n,e,s,t)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Ca(e){if(!e[fl]){e[fl]=!0,Zm.forEach(function(n){n!=="selectionchange"&&($3.has(n)||zu(n,!1,e),zu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fl]||(t[fl]=!0,zu("selectionchange",!1,t))}}function Up(e,t,n,s){switch(Ap(t)){case 1:var a=u3;break;case 4:a=d3;break;default:a=r0}n=a.bind(null,t,n,e),a=void 0,!Fd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wu(e,t,n,s,a){var c=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var g=s.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(f===4)for(f=s.return;f!==null;){var x=f.tag;if((x===3||x===4)&&(x=f.stateNode.containerInfo,x===a||x.nodeType===8&&x.parentNode===a))return;f=f.return}for(;g!==null;){if(f=$i(g),f===null)return;if(x=f.tag,x===5||x===6){s=c=f;continue e}g=g.parentNode}}s=s.return}up(function(){var m=c,v=Jf(n),C=[];e:{var A=Fp.get(e);if(A!==void 0){var E=s0,L=e;switch(e){case"keypress":if(Bl(n)===0)break e;case"keydown":case"keyup":E=N3;break;case"focusin":L="focus",E=Lu;break;case"focusout":L="blur",E=Lu;break;case"beforeblur":case"afterblur":E=Lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=g3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=R3;break;case Mp:case Lp:case Bp:E=x3;break;case jp:E=_3;break;case"scroll":E=f3;break;case"wheel":E=P3;break;case"copy":case"cut":case"paste":E=w3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Yh}var R=(t&4)!==0,D=!R&&e==="scroll",O=R?A!==null?A+"Capture":null:A;R=[];for(var I=m,T;I!==null;){T=I;var B=T.stateNode;if(T.tag===5&&B!==null&&(T=B,O!==null&&(B=ma(I,O),B!=null&&R.push(ba(I,B,T)))),D)break;I=I.return}0<R.length&&(A=new E(A,L,null,n,v),C.push({event:A,listeners:R}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",A&&n!==Bd&&(L=n.relatedTarget||n.fromElement)&&($i(L)||L[Hr]))break e;if((E||A)&&(A=v.window===v?v:(A=v.ownerDocument)?A.defaultView||A.parentWindow:window,E?(L=n.relatedTarget||n.toElement,E=m,L=L?$i(L):null,L!==null&&(D=us(L),L!==D||L.tag!==5&&L.tag!==6)&&(L=null)):(E=null,L=m),E!==L)){if(R=Gh,B="onMouseLeave",O="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(R=Yh,B="onPointerLeave",O="onPointerEnter",I="pointer"),D=E==null?A:Ds(E),T=L==null?A:Ds(L),A=new R(B,I+"leave",E,n,v),A.target=D,A.relatedTarget=T,B=null,$i(v)===m&&(R=new R(O,I+"enter",L,n,v),R.target=T,R.relatedTarget=D,B=R),D=B,E&&L)t:{for(R=E,O=L,I=0,T=R;T;T=Es(T))I++;for(T=0,B=O;B;B=Es(B))T++;for(;0<I-T;)R=Es(R),I--;for(;0<T-I;)O=Es(O),T--;for(;I--;){if(R===O||O!==null&&R===O.alternate)break t;R=Es(R),O=Es(O)}R=null}else R=null;E!==null&&i1(C,A,E,R,!1),L!==null&&D!==null&&i1(C,D,L,R,!0)}}e:{if(A=m?Ds(m):window,E=A.nodeName&&A.nodeName.toLowerCase(),E==="select"||E==="input"&&A.type==="file")var W=V3;else if($h(A))if(kp)W=H3;else{W=z3;var X=U3}else(E=A.nodeName)&&E.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(W=W3);if(W&&(W=W(e,m))){Rp(C,W,n,v);break e}X&&X(e,A,m),e==="focusout"&&(X=A._wrapperState)&&X.controlled&&A.type==="number"&&Od(A,"number",A.value)}switch(X=m?Ds(m):window,e){case"focusin":($h(X)||X.contentEditable==="true")&&(Os=X,Hd=m,na=null);break;case"focusout":na=Hd=Os=null;break;case"mousedown":Gd=!0;break;case"contextmenu":case"mouseup":case"dragend":Gd=!1,t1(C,n,v);break;case"selectionchange":if(Y3)break;case"keydown":case"keyup":t1(C,n,v)}var F;if(a0)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else _s?Tp(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Np&&n.locale!=="ko"&&(_s||z!=="onCompositionStart"?z==="onCompositionEnd"&&_s&&(F=Sp()):(gi=v,i0="value"in gi?gi.value:gi.textContent,_s=!0)),X=ic(m,z),0<X.length&&(z=new Xh(z,e,null,n,v),C.push({event:z,listeners:X}),F?z.data=F:(F=Ip(n),F!==null&&(z.data=F)))),(F=M3?L3(e,n):B3(e,n))&&(m=ic(m,"onBeforeInput"),0<m.length&&(v=new Xh("onBeforeInput","beforeinput",null,n,v),C.push({event:v,listeners:m}),v.data=F))}Vp(C,t)})}function ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ic(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=ma(e,n),c!=null&&s.unshift(ba(e,c,a)),c=ma(e,t),c!=null&&s.push(ba(e,c,a))),e=e.return}return s}function Es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function i1(e,t,n,s,a){for(var c=t._reactName,f=[];n!==null&&n!==s;){var g=n,x=g.alternate,m=g.stateNode;if(x!==null&&x===s)break;g.tag===5&&m!==null&&(g=m,a?(x=ma(n,c),x!=null&&f.unshift(ba(n,x,g))):a||(x=ma(n,c),x!=null&&f.push(ba(n,x,g)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var q3=/\r\n?/g,Q3=/\u0000|\uFFFD/g;function s1(e){return(typeof e=="string"?e:""+e).replace(q3,`
`).replace(Q3,"")}function hl(e,t,n){if(t=s1(t),s1(e)!==t&&n)throw Error(ie(425))}function sc(){}var Xd=null,Yd=null;function Zd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kd=typeof setTimeout=="function"?setTimeout:void 0,J3=typeof clearTimeout=="function"?clearTimeout:void 0,o1=typeof Promise=="function"?Promise:void 0,eC=typeof queueMicrotask=="function"?queueMicrotask:typeof o1<"u"?function(e){return o1.resolve(null).then(e).catch(tC)}:Kd;function tC(e){setTimeout(function(){throw e})}function Hu(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),ya(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);ya(t)}function vi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Sr="__reactFiber$"+wo,Ea="__reactProps$"+wo,Hr="__reactContainer$"+wo,$d="__reactEvents$"+wo,nC="__reactListeners$"+wo,rC="__reactHandles$"+wo;function $i(e){var t=e[Sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hr]||n[Sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=a1(e);e!==null;){if(n=e[Sr])return n;e=a1(e)}return t}e=n,n=e.parentNode}return null}function Ba(e){return e=e[Sr]||e[Hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function zc(e){return e[Ea]||null}var qd=[],Ms=-1;function Pi(e){return{current:e}}function ut(e){0>Ms||(e.current=qd[Ms],qd[Ms]=null,Ms--)}function it(e,t){Ms++,qd[Ms]=e.current,e.current=t}var Ri={},an=Pi(Ri),Tn=Pi(!1),rs=Ri;function so(e,t){var n=e.type.contextTypes;if(!n)return Ri;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in n)a[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function In(e){return e=e.childContextTypes,e!=null}function oc(){ut(Tn),ut(an)}function l1(e,t,n){if(an.current!==Ri)throw Error(ie(168));it(an,t),it(Tn,n)}function zp(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(ie(108,Uv(e)||"Unknown",a));return Ct({},n,s)}function ac(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,rs=an.current,it(an,e),it(Tn,Tn.current),!0}function c1(e,t,n){var s=e.stateNode;if(!s)throw Error(ie(169));n?(e=zp(e,t,rs),s.__reactInternalMemoizedMergedChildContext=e,ut(Tn),ut(an),it(an,e)):ut(Tn),it(Tn,n)}var Lr=null,Wc=!1,Gu=!1;function Wp(e){Lr===null?Lr=[e]:Lr.push(e)}function iC(e){Wc=!0,Wp(e)}function Di(){if(!Gu&&Lr!==null){Gu=!0;var e=0,t=qe;try{var n=Lr;for(qe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Lr=null,Wc=!1}catch(a){throw Lr!==null&&(Lr=Lr.slice(e+1)),gp(e0,Di),a}finally{qe=t,Gu=!1}}return null}var Ls=[],Bs=0,lc=null,cc=0,Zn=[],Kn=0,is=null,Br=1,jr="";function Gi(e,t){Ls[Bs++]=cc,Ls[Bs++]=lc,lc=e,cc=t}function Hp(e,t,n){Zn[Kn++]=Br,Zn[Kn++]=jr,Zn[Kn++]=is,is=e;var s=Br;e=jr;var a=32-ur(s)-1;s&=~(1<<a),n+=1;var c=32-ur(t)+a;if(30<c){var f=a-a%5;c=(s&(1<<f)-1).toString(32),s>>=f,a-=f,Br=1<<32-ur(t)+a|n<<a|s,jr=c+e}else Br=1<<c|n<<a|s,jr=e}function c0(e){e.return!==null&&(Gi(e,1),Hp(e,1,0))}function u0(e){for(;e===lc;)lc=Ls[--Bs],Ls[Bs]=null,cc=Ls[--Bs],Ls[Bs]=null;for(;e===is;)is=Zn[--Kn],Zn[Kn]=null,jr=Zn[--Kn],Zn[Kn]=null,Br=Zn[--Kn],Zn[Kn]=null}var Mn=null,Dn=null,pt=!1,cr=null;function Gp(e,t){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function u1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,Dn=vi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,Dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=is!==null?{id:Br,overflow:jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mn=e,Dn=null,!0):!1;default:return!1}}function Qd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jd(e){if(pt){var t=Dn;if(t){var n=t;if(!u1(e,t)){if(Qd(e))throw Error(ie(418));t=vi(n.nextSibling);var s=Mn;t&&u1(e,t)?Gp(s,n):(e.flags=e.flags&-4097|2,pt=!1,Mn=e)}}else{if(Qd(e))throw Error(ie(418));e.flags=e.flags&-4097|2,pt=!1,Mn=e}}}function d1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function gl(e){if(e!==Mn)return!1;if(!pt)return d1(e),pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zd(e.type,e.memoizedProps)),t&&(t=Dn)){if(Qd(e))throw Xp(),Error(ie(418));for(;t;)Gp(e,t),t=vi(t.nextSibling)}if(d1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dn=vi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dn=null}}else Dn=Mn?vi(e.stateNode.nextSibling):null;return!0}function Xp(){for(var e=Dn;e;)e=vi(e.nextSibling)}function oo(){Dn=Mn=null,pt=!1}function d0(e){cr===null?cr=[e]:cr.push(e)}var sC=Zr.ReactCurrentBatchConfig;function Fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var s=n.stateNode}if(!s)throw Error(ie(147,e));var a=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(f){var g=a.refs;f===null?delete g[c]:g[c]=f},t._stringRef=c,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f1(e){var t=e._init;return t(e._payload)}function Yp(e){function t(O,I){if(e){var T=O.deletions;T===null?(O.deletions=[I],O.flags|=16):T.push(I)}}function n(O,I){if(!e)return null;for(;I!==null;)t(O,I),I=I.sibling;return null}function s(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function a(O,I){return O=Ai(O,I),O.index=0,O.sibling=null,O}function c(O,I,T){return O.index=T,e?(T=O.alternate,T!==null?(T=T.index,T<I?(O.flags|=2,I):T):(O.flags|=2,I)):(O.flags|=1048576,I)}function f(O){return e&&O.alternate===null&&(O.flags|=2),O}function g(O,I,T,B){return I===null||I.tag!==6?(I=Qu(T,O.mode,B),I.return=O,I):(I=a(I,T),I.return=O,I)}function x(O,I,T,B){var W=T.type;return W===ks?v(O,I,T.props.children,B,T.key):I!==null&&(I.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ci&&f1(W)===I.type)?(B=a(I,T.props),B.ref=Fo(O,I,T),B.return=O,B):(B=Hl(T.type,T.key,T.props,null,O.mode,B),B.ref=Fo(O,I,T),B.return=O,B)}function m(O,I,T,B){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=Ju(T,O.mode,B),I.return=O,I):(I=a(I,T.children||[]),I.return=O,I)}function v(O,I,T,B,W){return I===null||I.tag!==7?(I=ns(T,O.mode,B,W),I.return=O,I):(I=a(I,T),I.return=O,I)}function C(O,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Qu(""+I,O.mode,T),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case il:return T=Hl(I.type,I.key,I.props,null,O.mode,T),T.ref=Fo(O,null,I),T.return=O,T;case Rs:return I=Ju(I,O.mode,T),I.return=O,I;case ci:var B=I._init;return C(O,B(I._payload),T)}if(Zo(I)||Do(I))return I=ns(I,O.mode,T,null),I.return=O,I;ml(O,I)}return null}function A(O,I,T,B){var W=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return W!==null?null:g(O,I,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case il:return T.key===W?x(O,I,T,B):null;case Rs:return T.key===W?m(O,I,T,B):null;case ci:return W=T._init,A(O,I,W(T._payload),B)}if(Zo(T)||Do(T))return W!==null?null:v(O,I,T,B,null);ml(O,T)}return null}function E(O,I,T,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return O=O.get(T)||null,g(I,O,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case il:return O=O.get(B.key===null?T:B.key)||null,x(I,O,B,W);case Rs:return O=O.get(B.key===null?T:B.key)||null,m(I,O,B,W);case ci:var X=B._init;return E(O,I,T,X(B._payload),W)}if(Zo(B)||Do(B))return O=O.get(T)||null,v(I,O,B,W,null);ml(I,B)}return null}function L(O,I,T,B){for(var W=null,X=null,F=I,z=I=0,j=null;F!==null&&z<T.length;z++){F.index>z?(j=F,F=null):j=F.sibling;var Q=A(O,F,T[z],B);if(Q===null){F===null&&(F=j);break}e&&F&&Q.alternate===null&&t(O,F),I=c(Q,I,z),X===null?W=Q:X.sibling=Q,X=Q,F=j}if(z===T.length)return n(O,F),pt&&Gi(O,z),W;if(F===null){for(;z<T.length;z++)F=C(O,T[z],B),F!==null&&(I=c(F,I,z),X===null?W=F:X.sibling=F,X=F);return pt&&Gi(O,z),W}for(F=s(O,F);z<T.length;z++)j=E(F,O,z,T[z],B),j!==null&&(e&&j.alternate!==null&&F.delete(j.key===null?z:j.key),I=c(j,I,z),X===null?W=j:X.sibling=j,X=j);return e&&F.forEach(function(fe){return t(O,fe)}),pt&&Gi(O,z),W}function R(O,I,T,B){var W=Do(T);if(typeof W!="function")throw Error(ie(150));if(T=W.call(T),T==null)throw Error(ie(151));for(var X=W=null,F=I,z=I=0,j=null,Q=T.next();F!==null&&!Q.done;z++,Q=T.next()){F.index>z?(j=F,F=null):j=F.sibling;var fe=A(O,F,Q.value,B);if(fe===null){F===null&&(F=j);break}e&&F&&fe.alternate===null&&t(O,F),I=c(fe,I,z),X===null?W=fe:X.sibling=fe,X=fe,F=j}if(Q.done)return n(O,F),pt&&Gi(O,z),W;if(F===null){for(;!Q.done;z++,Q=T.next())Q=C(O,Q.value,B),Q!==null&&(I=c(Q,I,z),X===null?W=Q:X.sibling=Q,X=Q);return pt&&Gi(O,z),W}for(F=s(O,F);!Q.done;z++,Q=T.next())Q=E(F,O,z,Q.value,B),Q!==null&&(e&&Q.alternate!==null&&F.delete(Q.key===null?z:Q.key),I=c(Q,I,z),X===null?W=Q:X.sibling=Q,X=Q);return e&&F.forEach(function(q){return t(O,q)}),pt&&Gi(O,z),W}function D(O,I,T,B){if(typeof T=="object"&&T!==null&&T.type===ks&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case il:e:{for(var W=T.key,X=I;X!==null;){if(X.key===W){if(W=T.type,W===ks){if(X.tag===7){n(O,X.sibling),I=a(X,T.props.children),I.return=O,O=I;break e}}else if(X.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ci&&f1(W)===X.type){n(O,X.sibling),I=a(X,T.props),I.ref=Fo(O,X,T),I.return=O,O=I;break e}n(O,X);break}else t(O,X);X=X.sibling}T.type===ks?(I=ns(T.props.children,O.mode,B,T.key),I.return=O,O=I):(B=Hl(T.type,T.key,T.props,null,O.mode,B),B.ref=Fo(O,I,T),B.return=O,O=B)}return f(O);case Rs:e:{for(X=T.key;I!==null;){if(I.key===X)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){n(O,I.sibling),I=a(I,T.children||[]),I.return=O,O=I;break e}else{n(O,I);break}else t(O,I);I=I.sibling}I=Ju(T,O.mode,B),I.return=O,O=I}return f(O);case ci:return X=T._init,D(O,I,X(T._payload),B)}if(Zo(T))return L(O,I,T,B);if(Do(T))return R(O,I,T,B);ml(O,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(n(O,I.sibling),I=a(I,T),I.return=O,O=I):(n(O,I),I=Qu(T,O.mode,B),I.return=O,O=I),f(O)):n(O,I)}return D}var ao=Yp(!0),Zp=Yp(!1),uc=Pi(null),dc=null,js=null,f0=null;function h0(){f0=js=dc=null}function g0(e){var t=uc.current;ut(uc),e._currentValue=t}function ef(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function qs(e,t){dc=e,f0=js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nn=!0),e.firstContext=null)}function Qn(e){var t=e._currentValue;if(f0!==e)if(e={context:e,memoizedValue:t,next:null},js===null){if(dc===null)throw Error(ie(308));js=e,dc.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var qi=null;function m0(e){qi===null?qi=[e]:qi.push(e)}function Kp(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,m0(t)):(n.next=a.next,a.next=n),t.interleaved=n,Gr(e,s)}function Gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ui=!1;function p0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ci(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ge&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Gr(e,n)}return a=s.interleaved,a===null?(t.next=t,m0(s)):(t.next=a.next,a.next=t),s.interleaved=t,Gr(e,n)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,t0(e,n)}}function h1(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?a=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?a=c=t:c=c.next=t}else a=c=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fc(e,t,n,s){var a=e.updateQueue;ui=!1;var c=a.firstBaseUpdate,f=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var x=g,m=x.next;x.next=null,f===null?c=m:f.next=m,f=x;var v=e.alternate;v!==null&&(v=v.updateQueue,g=v.lastBaseUpdate,g!==f&&(g===null?v.firstBaseUpdate=m:g.next=m,v.lastBaseUpdate=x))}if(c!==null){var C=a.baseState;f=0,v=m=x=null,g=c;do{var A=g.lane,E=g.eventTime;if((s&A)===A){v!==null&&(v=v.next={eventTime:E,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var L=e,R=g;switch(A=t,E=n,R.tag){case 1:if(L=R.payload,typeof L=="function"){C=L.call(E,C,A);break e}C=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=R.payload,A=typeof L=="function"?L.call(E,C,A):L,A==null)break e;C=Ct({},C,A);break e;case 2:ui=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,A=a.effects,A===null?a.effects=[g]:A.push(g))}else E={eventTime:E,lane:A,tag:g.tag,payload:g.payload,callback:g.callback,next:null},v===null?(m=v=E,x=C):v=v.next=E,f|=A;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;A=g,g=A.next,A.next=null,a.lastBaseUpdate=A,a.shared.pending=null}}while(1);if(v===null&&(x=C),a.baseState=x,a.firstBaseUpdate=m,a.lastBaseUpdate=v,t=a.shared.interleaved,t!==null){a=t;do f|=a.lane,a=a.next;while(a!==t)}else c===null&&(a.shared.lanes=0);os|=f,e.lanes=f,e.memoizedState=C}}function g1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(ie(191,a));a.call(s)}}}var ja={},Ir=Pi(ja),Aa=Pi(ja),Sa=Pi(ja);function Qi(e){if(e===ja)throw Error(ie(174));return e}function x0(e,t){switch(it(Sa,t),it(Aa,e),it(Ir,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dd(t,e)}ut(Ir),it(Ir,t)}function lo(){ut(Ir),ut(Aa),ut(Sa)}function qp(e){Qi(Sa.current);var t=Qi(Ir.current),n=Dd(t,e.type);t!==n&&(it(Aa,e),it(Ir,n))}function y0(e){Aa.current===e&&(ut(Ir),ut(Aa))}var yt=Pi(0);function hc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xu=[];function w0(){for(var e=0;e<Xu.length;e++)Xu[e]._workInProgressVersionPrimary=null;Xu.length=0}var Fl=Zr.ReactCurrentDispatcher,Yu=Zr.ReactCurrentBatchConfig,ss=0,vt=null,Bt=null,zt=null,gc=!1,ra=!1,Na=0,oC=0;function nn(){throw Error(ie(321))}function v0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fr(e[n],t[n]))return!1;return!0}function C0(e,t,n,s,a,c){if(ss=c,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fl.current=e===null||e.memoizedState===null?uC:dC,e=n(s,a),ra){c=0;do{if(ra=!1,Na=0,25<=c)throw Error(ie(301));c+=1,zt=Bt=null,t.updateQueue=null,Fl.current=fC,e=n(s,a)}while(ra)}if(Fl.current=mc,t=Bt!==null&&Bt.next!==null,ss=0,zt=Bt=vt=null,gc=!1,t)throw Error(ie(300));return e}function b0(){var e=Na!==0;return Na=0,e}function br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?vt.memoizedState=zt=e:zt=zt.next=e,zt}function Jn(){if(Bt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=zt===null?vt.memoizedState:zt.next;if(t!==null)zt=t,Bt=e;else{if(e===null)throw Error(ie(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},zt===null?vt.memoizedState=zt=e:zt=zt.next=e}return zt}function Ta(e,t){return typeof t=="function"?t(e):t}function Zu(e){var t=Jn(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var s=Bt,a=s.baseQueue,c=n.pending;if(c!==null){if(a!==null){var f=a.next;a.next=c.next,c.next=f}s.baseQueue=a=c,n.pending=null}if(a!==null){c=a.next,s=s.baseState;var g=f=null,x=null,m=c;do{var v=m.lane;if((ss&v)===v)x!==null&&(x=x.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var C={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};x===null?(g=x=C,f=s):x=x.next=C,vt.lanes|=v,os|=v}m=m.next}while(m!==null&&m!==c);x===null?f=s:x.next=g,fr(s,t.memoizedState)||(Nn=!0),t.memoizedState=s,t.baseState=f,t.baseQueue=x,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do c=a.lane,vt.lanes|=c,os|=c,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ku(e){var t=Jn(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,c=t.memoizedState;if(a!==null){n.pending=null;var f=a=a.next;do c=e(c,f.action),f=f.next;while(f!==a);fr(c,t.memoizedState)||(Nn=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function Qp(){}function Jp(e,t){var n=vt,s=Jn(),a=t(),c=!fr(s.memoizedState,a);if(c&&(s.memoizedState=a,Nn=!0),s=s.queue,E0(nx.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Ia(9,tx.bind(null,n,s,a,t),void 0,null),Wt===null)throw Error(ie(349));ss&30||ex(n,t,a)}return a}function ex(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tx(e,t,n,s){t.value=n,t.getSnapshot=s,rx(t)&&ix(e)}function nx(e,t,n){return n(function(){rx(t)&&ix(e)})}function rx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fr(e,n)}catch{return!0}}function ix(e){var t=Gr(e,1);t!==null&&dr(t,e,1,-1)}function m1(e){var t=br();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=cC.bind(null,vt,e),[t.memoizedState,e]}function Ia(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function sx(){return Jn().memoizedState}function Vl(e,t,n,s){var a=br();vt.flags|=e,a.memoizedState=Ia(1|t,n,void 0,s===void 0?null:s)}function Hc(e,t,n,s){var a=Jn();s=s===void 0?null:s;var c=void 0;if(Bt!==null){var f=Bt.memoizedState;if(c=f.destroy,s!==null&&v0(s,f.deps)){a.memoizedState=Ia(t,n,c,s);return}}vt.flags|=e,a.memoizedState=Ia(1|t,n,c,s)}function p1(e,t){return Vl(8390656,8,e,t)}function E0(e,t){return Hc(2048,8,e,t)}function ox(e,t){return Hc(4,2,e,t)}function ax(e,t){return Hc(4,4,e,t)}function lx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cx(e,t,n){return n=n!=null?n.concat([e]):null,Hc(4,4,lx.bind(null,t,e),n)}function A0(){}function ux(e,t){var n=Jn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&v0(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function dx(e,t){var n=Jn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&v0(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function fx(e,t,n){return ss&21?(fr(n,t)||(n=xp(),vt.lanes|=n,os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nn=!0),e.memoizedState=n)}function aC(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var s=Yu.transition;Yu.transition={};try{e(!1),t()}finally{qe=n,Yu.transition=s}}function hx(){return Jn().memoizedState}function lC(e,t,n){var s=Ei(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},gx(e))mx(t,n);else if(n=Kp(e,t,n,s),n!==null){var a=mn();dr(n,e,s,a),px(n,t,s)}}function cC(e,t,n){var s=Ei(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(gx(e))mx(t,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,g=c(f,n);if(a.hasEagerState=!0,a.eagerState=g,fr(g,f)){var x=t.interleaved;x===null?(a.next=a,m0(t)):(a.next=x.next,x.next=a),t.interleaved=a;return}}catch{}finally{}n=Kp(e,t,a,s),n!==null&&(a=mn(),dr(n,e,s,a),px(n,t,s))}}function gx(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function mx(e,t){ra=gc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function px(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,t0(e,n)}}var mc={readContext:Qn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},uC={readContext:Qn,useCallback:function(e,t){return br().memoizedState=[e,t===void 0?null:t],e},useContext:Qn,useEffect:p1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4194308,4,lx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vl(4,2,e,t)},useMemo:function(e,t){var n=br();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=br();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=lC.bind(null,vt,e),[s.memoizedState,e]},useRef:function(e){var t=br();return e={current:e},t.memoizedState=e},useState:m1,useDebugValue:A0,useDeferredValue:function(e){return br().memoizedState=e},useTransition:function(){var e=m1(!1),t=e[0];return e=aC.bind(null,e[1]),br().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=vt,a=br();if(pt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),Wt===null)throw Error(ie(349));ss&30||ex(s,t,n)}a.memoizedState=n;var c={value:n,getSnapshot:t};return a.queue=c,p1(nx.bind(null,s,c,e),[e]),s.flags|=2048,Ia(9,tx.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=br(),t=Wt.identifierPrefix;if(pt){var n=jr,s=Br;n=(s&~(1<<32-ur(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Na++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dC={readContext:Qn,useCallback:ux,useContext:Qn,useEffect:E0,useImperativeHandle:cx,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:Zu,useRef:sx,useState:function(){return Zu(Ta)},useDebugValue:A0,useDeferredValue:function(e){var t=Jn();return fx(t,Bt.memoizedState,e)},useTransition:function(){var e=Zu(Ta)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:hx,unstable_isNewReconciler:!1},fC={readContext:Qn,useCallback:ux,useContext:Qn,useEffect:E0,useImperativeHandle:cx,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:Ku,useRef:sx,useState:function(){return Ku(Ta)},useDebugValue:A0,useDeferredValue:function(e){var t=Jn();return Bt===null?t.memoizedState=e:fx(t,Bt.memoizedState,e)},useTransition:function(){var e=Ku(Ta)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:Qp,useSyncExternalStore:Jp,useId:hx,unstable_isNewReconciler:!1};function ar(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tf(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gc={isMounted:function(e){return(e=e._reactInternals)?us(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=mn(),a=Ei(e),c=Vr(s,a);c.payload=t,n!=null&&(c.callback=n),t=Ci(e,c,a),t!==null&&(dr(t,e,a,s),jl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=mn(),a=Ei(e),c=Vr(s,a);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ci(e,c,a),t!==null&&(dr(t,e,a,s),jl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mn(),s=Ei(e),a=Vr(n,s);a.tag=2,t!=null&&(a.callback=t),t=Ci(e,a,s),t!==null&&(dr(t,e,s,n),jl(t,e,s))}};function x1(e,t,n,s,a,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,f):t.prototype&&t.prototype.isPureReactComponent?!va(n,s)||!va(a,c):!0}function xx(e,t,n){var s=!1,a=Ri,c=t.contextType;return typeof c=="object"&&c!==null?c=Qn(c):(a=In(t)?rs:an.current,s=t.contextTypes,c=(s=s!=null)?so(e,a):Ri),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gc,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),t}function y1(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Gc.enqueueReplaceState(t,t.state,null)}function nf(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},p0(e);var c=t.contextType;typeof c=="object"&&c!==null?a.context=Qn(c):(c=In(t)?rs:an.current,a.context=so(e,c)),a.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(tf(e,t,c,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gc.enqueueReplaceState(a,a.state,null),fc(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var n="",s=t;do n+=Vv(s),s=s.return;while(s);var a=n}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:a,digest:null}}function $u(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hC=typeof WeakMap=="function"?WeakMap:Map;function yx(e,t,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){xc||(xc=!0,gf=s),rf(e,t)},n}function wx(e,t,n){n=Vr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){rf(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){rf(e,t),typeof s!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function w1(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new hC;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=TC.bind(null,e,t,n),t.then(e,e))}function v1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C1(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vr(-1,1),t.tag=2,Ci(n,t,1))),n.lanes|=1),e)}var gC=Zr.ReactCurrentOwner,Nn=!1;function fn(e,t,n,s){t.child=e===null?Zp(t,null,n,s):ao(t,e.child,n,s)}function b1(e,t,n,s,a){n=n.render;var c=t.ref;return qs(t,a),s=C0(e,t,n,s,c,a),n=b0(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xr(e,t,a)):(pt&&n&&c0(t),t.flags|=1,fn(e,t,s,a),t.child)}function E1(e,t,n,s,a){if(e===null){var c=n.type;return typeof c=="function"&&!O0(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,vx(e,t,c,s,a)):(e=Hl(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&a)){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:va,n(f,s)&&e.ref===t.ref)return Xr(e,t,a)}return t.flags|=1,e=Ai(c,s),e.ref=t.ref,e.return=t,t.child=e}function vx(e,t,n,s,a){if(e!==null){var c=e.memoizedProps;if(va(c,s)&&e.ref===t.ref)if(Nn=!1,t.pendingProps=s=c,(e.lanes&a)!==0)e.flags&131072&&(Nn=!0);else return t.lanes=e.lanes,Xr(e,t,a)}return sf(e,t,n,s,a)}function Cx(e,t,n){var s=t.pendingProps,a=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Vs,Pn),Pn|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(Vs,Pn),Pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,it(Vs,Pn),Pn|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,it(Vs,Pn),Pn|=s;return fn(e,t,a,n),t.child}function bx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sf(e,t,n,s,a){var c=In(n)?rs:an.current;return c=so(t,c),qs(t,a),n=C0(e,t,n,s,c,a),s=b0(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xr(e,t,a)):(pt&&s&&c0(t),t.flags|=1,fn(e,t,n,a),t.child)}function A1(e,t,n,s,a){if(In(n)){var c=!0;ac(t)}else c=!1;if(qs(t,a),t.stateNode===null)Ul(e,t),xx(t,n,s),nf(t,n,s,a),s=!0;else if(e===null){var f=t.stateNode,g=t.memoizedProps;f.props=g;var x=f.context,m=n.contextType;typeof m=="object"&&m!==null?m=Qn(m):(m=In(n)?rs:an.current,m=so(t,m));var v=n.getDerivedStateFromProps,C=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function";C||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==s||x!==m)&&y1(t,f,s,m),ui=!1;var A=t.memoizedState;f.state=A,fc(t,s,f,a),x=t.memoizedState,g!==s||A!==x||Tn.current||ui?(typeof v=="function"&&(tf(t,n,v,s),x=t.memoizedState),(g=ui||x1(t,n,g,s,A,x,m))?(C||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=x),f.props=s,f.state=x,f.context=m,s=g):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,$p(e,t),g=t.memoizedProps,m=t.type===t.elementType?g:ar(t.type,g),f.props=m,C=t.pendingProps,A=f.context,x=n.contextType,typeof x=="object"&&x!==null?x=Qn(x):(x=In(n)?rs:an.current,x=so(t,x));var E=n.getDerivedStateFromProps;(v=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==C||A!==x)&&y1(t,f,s,x),ui=!1,A=t.memoizedState,f.state=A,fc(t,s,f,a);var L=t.memoizedState;g!==C||A!==L||Tn.current||ui?(typeof E=="function"&&(tf(t,n,E,s),L=t.memoizedState),(m=ui||x1(t,n,m,s,A,L,x)||!1)?(v||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,L,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,L,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),f.props=s,f.state=L,f.context=x,s=m):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),s=!1)}return of(e,t,n,s,c,a)}function of(e,t,n,s,a,c){bx(e,t);var f=(t.flags&128)!==0;if(!s&&!f)return a&&c1(t,n,!1),Xr(e,t,c);s=t.stateNode,gC.current=t;var g=f&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&f?(t.child=ao(t,e.child,null,c),t.child=ao(t,null,g,c)):fn(e,t,g,c),t.memoizedState=s.state,a&&c1(t,n,!0),t.child}function Ex(e){var t=e.stateNode;t.pendingContext?l1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&l1(e,t.context,!1),x0(e,t.containerInfo)}function S1(e,t,n,s,a){return oo(),d0(a),t.flags|=256,fn(e,t,n,s),t.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ax(e,t,n){var s=t.pendingProps,a=yt.current,c=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),it(yt,a&1),e===null)return Jd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=s.children,e=s.fallback,c?(s=t.mode,c=t.child,f={mode:"hidden",children:f},!(s&1)&&c!==null?(c.childLanes=0,c.pendingProps=f):c=Zc(f,s,0,null),e=ns(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=lf(n),t.memoizedState=af,e):S0(t,f));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return mC(e,t,f,s,g,a,n);if(c){c=s.fallback,f=t.mode,a=e.child,g=a.sibling;var x={mode:"hidden",children:s.children};return!(f&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=x,t.deletions=null):(s=Ai(a,x),s.subtreeFlags=a.subtreeFlags&14680064),g!==null?c=Ai(g,c):(c=ns(c,f,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,f=e.child.memoizedState,f=f===null?lf(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=e.childLanes&~n,t.memoizedState=af,s}return c=e.child,e=c.sibling,s=Ai(c,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function S0(e,t){return t=Zc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pl(e,t,n,s){return s!==null&&d0(s),ao(t,e.child,null,n),e=S0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mC(e,t,n,s,a,c,f){if(n)return t.flags&256?(t.flags&=-257,s=$u(Error(ie(422))),pl(e,t,f,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,a=t.mode,s=Zc({mode:"visible",children:s.children},a,0,null),c=ns(c,a,f,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,t.mode&1&&ao(t,e.child,null,f),t.child.memoizedState=lf(f),t.memoizedState=af,c);if(!(t.mode&1))return pl(e,t,f,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var g=s.dgst;return s=g,c=Error(ie(419)),s=$u(c,s,void 0),pl(e,t,f,s)}if(g=(f&e.childLanes)!==0,Nn||g){if(s=Wt,s!==null){switch(f&-f){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|f)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Gr(e,a),dr(s,e,a,-1))}return _0(),s=$u(Error(ie(421))),pl(e,t,f,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=IC.bind(null,e),a._reactRetry=t,null):(e=c.treeContext,Dn=vi(a.nextSibling),Mn=t,pt=!0,cr=null,e!==null&&(Zn[Kn++]=Br,Zn[Kn++]=jr,Zn[Kn++]=is,Br=e.id,jr=e.overflow,is=t),t=S0(t,s.children),t.flags|=4096,t)}function N1(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ef(e.return,t,n)}function qu(e,t,n,s,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=a)}function Sx(e,t,n){var s=t.pendingProps,a=s.revealOrder,c=s.tail;if(fn(e,t,s.children,n),s=yt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N1(e,n,t);else if(e.tag===19)N1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(it(yt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&hc(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),qu(t,!1,a,n,c);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hc(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}qu(t,!0,n,null,c);break;case"together":qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=Ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pC(e,t,n){switch(t.tag){case 3:Ex(t),oo();break;case 5:qp(t);break;case 1:In(t.type)&&ac(t);break;case 4:x0(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;it(uc,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(it(yt,yt.current&1),t.flags|=128,null):n&t.child.childLanes?Ax(e,t,n):(it(yt,yt.current&1),e=Xr(e,t,n),e!==null?e.sibling:null);it(yt,yt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Sx(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),it(yt,yt.current),s)break;return null;case 22:case 23:return t.lanes=0,Cx(e,t,n)}return Xr(e,t,n)}var Nx,cf,Tx,Ix;Nx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cf=function(){};Tx=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Qi(Ir.current);var c=null;switch(n){case"input":a=kd(e,a),s=kd(e,s),c=[];break;case"select":a=Ct({},a,{value:void 0}),s=Ct({},s,{value:void 0}),c=[];break;case"textarea":a=Pd(e,a),s=Pd(e,s),c=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=sc)}Md(n,s);var f;n=null;for(m in a)if(!s.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var g=a[m];for(f in g)g.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ha.hasOwnProperty(m)?c||(c=[]):(c=c||[]).push(m,null));for(m in s){var x=s[m];if(g=a?.[m],s.hasOwnProperty(m)&&x!==g&&(x!=null||g!=null))if(m==="style")if(g){for(f in g)!g.hasOwnProperty(f)||x&&x.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in x)x.hasOwnProperty(f)&&g[f]!==x[f]&&(n||(n={}),n[f]=x[f])}else n||(c||(c=[]),c.push(m,n)),n=x;else m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,g=g?g.__html:void 0,x!=null&&g!==x&&(c=c||[]).push(m,x)):m==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(m,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ha.hasOwnProperty(m)?(x!=null&&m==="onScroll"&&lt("scroll",e),c||g===x||(c=[])):(c=c||[]).push(m,x))}n&&(c=c||[]).push("style",n);var m=c;(t.updateQueue=m)&&(t.flags|=4)}};Ix=function(e,t,n,s){n!==s&&(t.flags|=4)};function Vo(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function xC(e,t,n){var s=t.pendingProps;switch(u0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(t),null;case 1:return In(t.type)&&oc(),rn(t),null;case 3:return s=t.stateNode,lo(),ut(Tn),ut(an),w0(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(gl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(xf(cr),cr=null))),cf(e,t),rn(t),null;case 5:y0(t);var a=Qi(Sa.current);if(n=t.type,e!==null&&t.stateNode!=null)Tx(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ie(166));return rn(t),null}if(e=Qi(Ir.current),gl(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[Sr]=t,s[Ea]=c,e=(t.mode&1)!==0,n){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(a=0;a<$o.length;a++)lt($o[a],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":Mh(s,c),lt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},lt("invalid",s);break;case"textarea":Bh(s,c),lt("invalid",s)}Md(n,c),a=null;for(var f in c)if(c.hasOwnProperty(f)){var g=c[f];f==="children"?typeof g=="string"?s.textContent!==g&&(c.suppressHydrationWarning!==!0&&hl(s.textContent,g,e),a=["children",g]):typeof g=="number"&&s.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&hl(s.textContent,g,e),a=["children",""+g]):ha.hasOwnProperty(f)&&g!=null&&f==="onScroll"&&lt("scroll",s)}switch(n){case"input":sl(s),Lh(s,c,!0);break;case"textarea":sl(s),jh(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=sc)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{f=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=np(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=f.createElement(n,{is:s.is}):(e=f.createElement(n),n==="select"&&(f=e,s.multiple?f.multiple=!0:s.size&&(f.size=s.size))):e=f.createElementNS(e,n),e[Sr]=t,e[Ea]=s,Nx(e,t,!1,!1),t.stateNode=e;e:{switch(f=Ld(n,s),n){case"dialog":lt("cancel",e),lt("close",e),a=s;break;case"iframe":case"object":case"embed":lt("load",e),a=s;break;case"video":case"audio":for(a=0;a<$o.length;a++)lt($o[a],e);a=s;break;case"source":lt("error",e),a=s;break;case"img":case"image":case"link":lt("error",e),lt("load",e),a=s;break;case"details":lt("toggle",e),a=s;break;case"input":Mh(e,s),a=kd(e,s),lt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ct({},s,{value:void 0}),lt("invalid",e);break;case"textarea":Bh(e,s),a=Pd(e,s),lt("invalid",e);break;default:a=s}Md(n,a),g=a;for(c in g)if(g.hasOwnProperty(c)){var x=g[c];c==="style"?sp(e,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&rp(e,x)):c==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&ga(e,x):typeof x=="number"&&ga(e,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ha.hasOwnProperty(c)?x!=null&&c==="onScroll"&&lt("scroll",e):x!=null&&Kf(e,c,x,f))}switch(n){case"input":sl(e),Lh(e,s,!1);break;case"textarea":sl(e),jh(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ii(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?Ys(e,!!s.multiple,c,!1):s.defaultValue!=null&&Ys(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sc)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rn(t),null;case 6:if(e&&t.stateNode!=null)Ix(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ie(166));if(n=Qi(Sa.current),Qi(Ir.current),gl(t)){if(s=t.stateNode,n=t.memoizedProps,s[Sr]=t,(c=s.nodeValue!==n)&&(e=Mn,e!==null))switch(e.tag){case 3:hl(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hl(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Sr]=t,t.stateNode=s}return rn(t),null;case 13:if(ut(yt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pt&&Dn!==null&&t.mode&1&&!(t.flags&128))Xp(),oo(),t.flags|=98560,c=!1;else if(c=gl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(ie(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(ie(317));c[Sr]=t}else oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rn(t),c=!1}else cr!==null&&(xf(cr),cr=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?jt===0&&(jt=3):_0())),t.updateQueue!==null&&(t.flags|=4),rn(t),null);case 4:return lo(),cf(e,t),e===null&&Ca(t.stateNode.containerInfo),rn(t),null;case 10:return g0(t.type._context),rn(t),null;case 17:return In(t.type)&&oc(),rn(t),null;case 19:if(ut(yt),c=t.memoizedState,c===null)return rn(t),null;if(s=(t.flags&128)!==0,f=c.rendering,f===null)if(s)Vo(c,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=hc(e),f!==null){for(t.flags|=128,Vo(c,!1),s=f.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return it(yt,yt.current&1|2),t.child}e=e.sibling}c.tail!==null&&Rt()>uo&&(t.flags|=128,s=!0,Vo(c,!1),t.lanes=4194304)}else{if(!s)if(e=hc(f),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!pt)return rn(t),null}else 2*Rt()-c.renderingStartTime>uo&&n!==1073741824&&(t.flags|=128,s=!0,Vo(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(n=c.last,n!==null?n.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Rt(),t.sibling=null,n=yt.current,it(yt,s?n&1|2:n&1),t):(rn(t),null);case 22:case 23:return k0(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Pn&1073741824&&(rn(t),t.subtreeFlags&6&&(t.flags|=8192)):rn(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function yC(e,t){switch(u0(t),t.tag){case 1:return In(t.type)&&oc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lo(),ut(Tn),ut(an),w0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return y0(t),null;case 13:if(ut(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(yt),null;case 4:return lo(),null;case 10:return g0(t.type._context),null;case 22:case 23:return k0(),null;case 24:return null;default:return null}}var xl=!1,on=!1,wC=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Fs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Nt(e,t,s)}else n.current=null}function uf(e,t,n){try{n()}catch(s){Nt(e,t,s)}}var T1=!1;function vC(e,t){if(Xd=nc,e=Pp(),l0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,g=-1,x=-1,m=0,v=0,C=e,A=null;t:for(;;){for(var E;C!==n||a!==0&&C.nodeType!==3||(g=f+a),C!==c||s!==0&&C.nodeType!==3||(x=f+s),C.nodeType===3&&(f+=C.nodeValue.length),(E=C.firstChild)!==null;)A=C,C=E;for(;;){if(C===e)break t;if(A===n&&++m===a&&(g=f),A===c&&++v===s&&(x=f),(E=C.nextSibling)!==null)break;C=A,A=C.parentNode}C=E}n=g===-1||x===-1?null:{start:g,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yd={focusedElem:e,selectionRange:n},nc=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var L=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var R=L.memoizedProps,D=L.memoizedState,O=t.stateNode,I=O.getSnapshotBeforeUpdate(t.elementType===t.type?R:ar(t.type,R),D);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(B){Nt(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return L=T1,T1=!1,L}function ia(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&uf(t,n,c)}a=a.next}while(a!==s)}}function Xc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function df(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rx(e){var t=e.alternate;t!==null&&(e.alternate=null,Rx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[Ea],delete t[$d],delete t[nC],delete t[rC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kx(e){return e.tag===5||e.tag===3||e.tag===4}function I1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ff(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sc));else if(s!==4&&(e=e.child,e!==null))for(ff(e,t,n),e=e.sibling;e!==null;)ff(e,t,n),e=e.sibling}function hf(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(hf(e,t,n),e=e.sibling;e!==null;)hf(e,t,n),e=e.sibling}var $t=null,lr=!1;function ri(e,t,n){for(n=n.child;n!==null;)_x(e,t,n),n=n.sibling}function _x(e,t,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(jc,n)}catch{}switch(n.tag){case 5:on||Fs(n,t);case 6:var s=$t,a=lr;$t=null,ri(e,t,n),$t=s,lr=a,$t!==null&&(lr?(e=$t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(lr?(e=$t,n=n.stateNode,e.nodeType===8?Hu(e.parentNode,n):e.nodeType===1&&Hu(e,n),ya(e)):Hu($t,n.stateNode));break;case 4:s=$t,a=lr,$t=n.stateNode.containerInfo,lr=!0,ri(e,t,n),$t=s,lr=a;break;case 0:case 11:case 14:case 15:if(!on&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var c=a,f=c.destroy;c=c.tag,f!==void 0&&(c&2||c&4)&&uf(n,t,f),a=a.next}while(a!==s)}ri(e,t,n);break;case 1:if(!on&&(Fs(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(g){Nt(n,t,g)}ri(e,t,n);break;case 21:ri(e,t,n);break;case 22:n.mode&1?(on=(s=on)||n.memoizedState!==null,ri(e,t,n),on=s):ri(e,t,n);break;default:ri(e,t,n)}}function R1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wC),t.forEach(function(s){var a=RC.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function sr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var c=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 5:$t=g.stateNode,lr=!1;break e;case 3:$t=g.stateNode.containerInfo,lr=!0;break e;case 4:$t=g.stateNode.containerInfo,lr=!0;break e}g=g.return}if($t===null)throw Error(ie(160));_x(c,f,a),$t=null,lr=!1;var x=a.alternate;x!==null&&(x.return=null),a.return=null}catch(m){Nt(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ox(t,e),t=t.sibling}function Ox(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(t,e),Cr(e),s&4){try{ia(3,e,e.return),Xc(3,e)}catch(R){Nt(e,e.return,R)}try{ia(5,e,e.return)}catch(R){Nt(e,e.return,R)}}break;case 1:sr(t,e),Cr(e),s&512&&n!==null&&Fs(n,n.return);break;case 5:if(sr(t,e),Cr(e),s&512&&n!==null&&Fs(n,n.return),e.flags&32){var a=e.stateNode;try{ga(a,"")}catch(R){Nt(e,e.return,R)}}if(s&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,f=n!==null?n.memoizedProps:c,g=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&ep(a,c),Ld(g,f);var m=Ld(g,c);for(f=0;f<x.length;f+=2){var v=x[f],C=x[f+1];v==="style"?sp(a,C):v==="dangerouslySetInnerHTML"?rp(a,C):v==="children"?ga(a,C):Kf(a,v,C,m)}switch(g){case"input":_d(a,c);break;case"textarea":tp(a,c);break;case"select":var A=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var E=c.value;E!=null?Ys(a,!!c.multiple,E,!1):A!==!!c.multiple&&(c.defaultValue!=null?Ys(a,!!c.multiple,c.defaultValue,!0):Ys(a,!!c.multiple,c.multiple?[]:"",!1))}a[Ea]=c}catch(R){Nt(e,e.return,R)}}break;case 6:if(sr(t,e),Cr(e),s&4){if(e.stateNode===null)throw Error(ie(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(R){Nt(e,e.return,R)}}break;case 3:if(sr(t,e),Cr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(R){Nt(e,e.return,R)}break;case 4:sr(t,e),Cr(e);break;case 13:sr(t,e),Cr(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(I0=Rt())),s&4&&R1(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(on=(m=on)||v,sr(t,e),on=m):sr(t,e),Cr(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(Ce=e,v=e.child;v!==null;){for(C=Ce=v;Ce!==null;){switch(A=Ce,E=A.child,A.tag){case 0:case 11:case 14:case 15:ia(4,A,A.return);break;case 1:Fs(A,A.return);var L=A.stateNode;if(typeof L.componentWillUnmount=="function"){s=A,n=A.return;try{t=s,L.props=t.memoizedProps,L.state=t.memoizedState,L.componentWillUnmount()}catch(R){Nt(s,n,R)}}break;case 5:Fs(A,A.return);break;case 22:if(A.memoizedState!==null){_1(C);continue}}E!==null?(E.return=A,Ce=E):_1(C)}v=v.sibling}e:for(v=null,C=e;;){if(C.tag===5){if(v===null){v=C;try{a=C.stateNode,m?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=C.stateNode,x=C.memoizedProps.style,f=x!=null&&x.hasOwnProperty("display")?x.display:null,g.style.display=ip("display",f))}catch(R){Nt(e,e.return,R)}}}else if(C.tag===6){if(v===null)try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(R){Nt(e,e.return,R)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;v===C&&(v=null),C=C.return}v===C&&(v=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:sr(t,e),Cr(e),s&4&&R1(e);break;case 21:break;default:sr(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kx(n)){var s=n;break e}n=n.return}throw Error(ie(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ga(a,""),s.flags&=-33);var c=I1(e);hf(e,c,a);break;case 3:case 4:var f=s.stateNode.containerInfo,g=I1(e);ff(e,g,f);break;default:throw Error(ie(161))}}catch(x){Nt(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CC(e,t,n){Ce=e,Px(e)}function Px(e,t,n){for(var s=(e.mode&1)!==0;Ce!==null;){var a=Ce,c=a.child;if(a.tag===22&&s){var f=a.memoizedState!==null||xl;if(!f){var g=a.alternate,x=g!==null&&g.memoizedState!==null||on;g=xl;var m=on;if(xl=f,(on=x)&&!m)for(Ce=a;Ce!==null;)f=Ce,x=f.child,f.tag===22&&f.memoizedState!==null?O1(a):x!==null?(x.return=f,Ce=x):O1(a);for(;c!==null;)Ce=c,Px(c),c=c.sibling;Ce=a,xl=g,on=m}k1(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,Ce=c):k1(e)}}function k1(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:on||Xc(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!on)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ar(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&g1(t,c,s);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}g1(t,f,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var C=v.dehydrated;C!==null&&ya(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}on||t.flags&512&&df(t)}catch(A){Nt(t,t.return,A)}}if(t===e){Ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function _1(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function O1(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xc(4,t)}catch(x){Nt(t,n,x)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(x){Nt(t,a,x)}}var c=t.return;try{df(t)}catch(x){Nt(t,c,x)}break;case 5:var f=t.return;try{df(t)}catch(x){Nt(t,f,x)}}}catch(x){Nt(t,t.return,x)}if(t===e){Ce=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Ce=g;break}Ce=t.return}}var bC=Math.ceil,pc=Zr.ReactCurrentDispatcher,N0=Zr.ReactCurrentOwner,qn=Zr.ReactCurrentBatchConfig,Ge=0,Wt=null,_t=null,qt=0,Pn=0,Vs=Pi(0),jt=0,Ra=null,os=0,Yc=0,T0=0,sa=null,An=null,I0=0,uo=1/0,Mr=null,xc=!1,gf=null,bi=null,yl=!1,mi=null,yc=0,oa=0,mf=null,zl=-1,Wl=0;function mn(){return Ge&6?Rt():zl!==-1?zl:zl=Rt()}function Ei(e){return e.mode&1?Ge&2&&qt!==0?qt&-qt:sC.transition!==null?(Wl===0&&(Wl=xp()),Wl):(e=qe,e!==0||(e=window.event,e=e===void 0?16:Ap(e.type)),e):1}function dr(e,t,n,s){if(50<oa)throw oa=0,mf=null,Error(ie(185));Ma(e,n,s),(!(Ge&2)||e!==Wt)&&(e===Wt&&(!(Ge&2)&&(Yc|=n),jt===4&&hi(e,qt)),Rn(e,s),n===1&&Ge===0&&!(t.mode&1)&&(uo=Rt()+500,Wc&&Di()))}function Rn(e,t){var n=e.callbackNode;s3(e,t);var s=tc(e,e===Wt?qt:0);if(s===0)n!==null&&Uh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Uh(n),t===1)e.tag===0?iC(P1.bind(null,e)):Wp(P1.bind(null,e)),eC(function(){!(Ge&6)&&Di()}),n=null;else{switch(yp(s)){case 1:n=e0;break;case 4:n=mp;break;case 16:n=ec;break;case 536870912:n=pp;break;default:n=ec}n=Ux(n,Dx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dx(e,t){if(zl=-1,Wl=0,Ge&6)throw Error(ie(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var s=tc(e,e===Wt?qt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=wc(e,s);else{t=s;var a=Ge;Ge|=2;var c=Lx();(Wt!==e||qt!==t)&&(Mr=null,uo=Rt()+500,ts(e,t));do try{SC();break}catch(g){Mx(e,g)}while(1);h0(),pc.current=c,Ge=a,_t!==null?t=0:(Wt=null,qt=0,t=jt)}if(t!==0){if(t===2&&(a=Ud(e),a!==0&&(s=a,t=pf(e,a))),t===1)throw n=Ra,ts(e,0),hi(e,s),Rn(e,Rt()),n;if(t===6)hi(e,s);else{if(a=e.current.alternate,!(s&30)&&!EC(a)&&(t=wc(e,s),t===2&&(c=Ud(e),c!==0&&(s=c,t=pf(e,c))),t===1))throw n=Ra,ts(e,0),hi(e,s),Rn(e,Rt()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(ie(345));case 2:Xi(e,An,Mr);break;case 3:if(hi(e,s),(s&130023424)===s&&(t=I0+500-Rt(),10<t)){if(tc(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){mn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Kd(Xi.bind(null,e,An,Mr),t);break}Xi(e,An,Mr);break;case 4:if(hi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var f=31-ur(s);c=1<<f,f=t[f],f>a&&(a=f),s&=~c}if(s=a,s=Rt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*bC(s/1960))-s,10<s){e.timeoutHandle=Kd(Xi.bind(null,e,An,Mr),s);break}Xi(e,An,Mr);break;case 5:Xi(e,An,Mr);break;default:throw Error(ie(329))}}}return Rn(e,Rt()),e.callbackNode===n?Dx.bind(null,e):null}function pf(e,t){var n=sa;return e.current.memoizedState.isDehydrated&&(ts(e,t).flags|=256),e=wc(e,t),e!==2&&(t=An,An=n,t!==null&&xf(t)),e}function xf(e){An===null?An=e:An.push.apply(An,e)}function EC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],c=a.getSnapshot;a=a.value;try{if(!fr(c(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~T0,t&=~Yc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ur(t),s=1<<n;e[n]=-1,t&=~s}}function P1(e){if(Ge&6)throw Error(ie(327));Qs();var t=tc(e,0);if(!(t&1))return Rn(e,Rt()),null;var n=wc(e,t);if(e.tag!==0&&n===2){var s=Ud(e);s!==0&&(t=s,n=pf(e,s))}if(n===1)throw n=Ra,ts(e,0),hi(e,t),Rn(e,Rt()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xi(e,An,Mr),Rn(e,Rt()),null}function R0(e,t){var n=Ge;Ge|=1;try{return e(t)}finally{Ge=n,Ge===0&&(uo=Rt()+500,Wc&&Di())}}function as(e){mi!==null&&mi.tag===0&&!(Ge&6)&&Qs();var t=Ge;Ge|=1;var n=qn.transition,s=qe;try{if(qn.transition=null,qe=1,e)return e()}finally{qe=s,qn.transition=n,Ge=t,!(Ge&6)&&Di()}}function k0(){Pn=Vs.current,ut(Vs)}function ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J3(n)),_t!==null)for(n=_t.return;n!==null;){var s=n;switch(u0(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&oc();break;case 3:lo(),ut(Tn),ut(an),w0();break;case 5:y0(s);break;case 4:lo();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:g0(s.type._context);break;case 22:case 23:k0()}n=n.return}if(Wt=e,_t=e=Ai(e.current,null),qt=Pn=t,jt=0,Ra=null,T0=Yc=os=0,An=sa=null,qi!==null){for(t=0;t<qi.length;t++)if(n=qi[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,c=n.pending;if(c!==null){var f=c.next;c.next=a,s.next=f}n.pending=s}qi=null}return e}function Mx(e,t){do{var n=_t;try{if(h0(),Fl.current=mc,gc){for(var s=vt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}gc=!1}if(ss=0,zt=Bt=vt=null,ra=!1,Na=0,N0.current=null,n===null||n.return===null){jt=1,Ra=t,_t=null;break}e:{var c=e,f=n.return,g=n,x=t;if(t=qt,g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var m=x,v=g,C=v.tag;if(!(v.mode&1)&&(C===0||C===11||C===15)){var A=v.alternate;A?(v.updateQueue=A.updateQueue,v.memoizedState=A.memoizedState,v.lanes=A.lanes):(v.updateQueue=null,v.memoizedState=null)}var E=v1(f);if(E!==null){E.flags&=-257,C1(E,f,g,c,t),E.mode&1&&w1(c,m,t),t=E,x=m;var L=t.updateQueue;if(L===null){var R=new Set;R.add(x),t.updateQueue=R}else L.add(x);break e}else{if(!(t&1)){w1(c,m,t),_0();break e}x=Error(ie(426))}}else if(pt&&g.mode&1){var D=v1(f);if(D!==null){!(D.flags&65536)&&(D.flags|=256),C1(D,f,g,c,t),d0(co(x,g));break e}}c=x=co(x,g),jt!==4&&(jt=2),sa===null?sa=[c]:sa.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var O=yx(c,x,t);h1(c,O);break e;case 1:g=x;var I=c.type,T=c.stateNode;if(!(c.flags&128)&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(bi===null||!bi.has(T)))){c.flags|=65536,t&=-t,c.lanes|=t;var B=wx(c,g,t);h1(c,B);break e}}c=c.return}while(c!==null)}jx(n)}catch(W){t=W,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function Lx(){var e=pc.current;return pc.current=mc,e===null?mc:e}function _0(){(jt===0||jt===3||jt===2)&&(jt=4),Wt===null||!(os&268435455)&&!(Yc&268435455)||hi(Wt,qt)}function wc(e,t){var n=Ge;Ge|=2;var s=Lx();(Wt!==e||qt!==t)&&(Mr=null,ts(e,t));do try{AC();break}catch(a){Mx(e,a)}while(1);if(h0(),Ge=n,pc.current=s,_t!==null)throw Error(ie(261));return Wt=null,qt=0,jt}function AC(){for(;_t!==null;)Bx(_t)}function SC(){for(;_t!==null&&!$v();)Bx(_t)}function Bx(e){var t=Vx(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?jx(e):_t=t,N0.current=null}function jx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yC(n,t),n!==null){n.flags&=32767,_t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,_t=null;return}}else if(n=xC(n,t,Pn),n!==null){_t=n;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);jt===0&&(jt=5)}function Xi(e,t,n){var s=qe,a=qn.transition;try{qn.transition=null,qe=1,NC(e,t,n,s)}finally{qn.transition=a,qe=s}return null}function NC(e,t,n,s){do Qs();while(mi!==null);if(Ge&6)throw Error(ie(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(o3(e,c),e===Wt&&(_t=Wt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,Ux(ec,function(){return Qs(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=qn.transition,qn.transition=null;var f=qe;qe=1;var g=Ge;Ge|=4,N0.current=null,vC(e,n),Ox(n,e),X3(Yd),nc=!!Xd,Yd=Xd=null,e.current=n,CC(n),qv(),Ge=g,qe=f,qn.transition=c}else e.current=n;if(yl&&(yl=!1,mi=e,yc=a),c=e.pendingLanes,c===0&&(bi=null),e3(n.stateNode),Rn(e,Rt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(xc)throw xc=!1,e=gf,gf=null,e;return yc&1&&e.tag!==0&&Qs(),c=e.pendingLanes,c&1?e===mf?oa++:(oa=0,mf=e):oa=0,Di(),null}function Qs(){if(mi!==null){var e=yp(yc),t=qn.transition,n=qe;try{if(qn.transition=null,qe=16>e?16:e,mi===null)var s=!1;else{if(e=mi,mi=null,yc=0,Ge&6)throw Error(ie(331));var a=Ge;for(Ge|=4,Ce=e.current;Ce!==null;){var c=Ce,f=c.child;if(Ce.flags&16){var g=c.deletions;if(g!==null){for(var x=0;x<g.length;x++){var m=g[x];for(Ce=m;Ce!==null;){var v=Ce;switch(v.tag){case 0:case 11:case 15:ia(8,v,c)}var C=v.child;if(C!==null)C.return=v,Ce=C;else for(;Ce!==null;){v=Ce;var A=v.sibling,E=v.return;if(Rx(v),v===m){Ce=null;break}if(A!==null){A.return=E,Ce=A;break}Ce=E}}}var L=c.alternate;if(L!==null){var R=L.child;if(R!==null){L.child=null;do{var D=R.sibling;R.sibling=null,R=D}while(R!==null)}}Ce=c}}if(c.subtreeFlags&2064&&f!==null)f.return=c,Ce=f;else e:for(;Ce!==null;){if(c=Ce,c.flags&2048)switch(c.tag){case 0:case 11:case 15:ia(9,c,c.return)}var O=c.sibling;if(O!==null){O.return=c.return,Ce=O;break e}Ce=c.return}}var I=e.current;for(Ce=I;Ce!==null;){f=Ce;var T=f.child;if(f.subtreeFlags&2064&&T!==null)T.return=f,Ce=T;else e:for(f=I;Ce!==null;){if(g=Ce,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Xc(9,g)}}catch(W){Nt(g,g.return,W)}if(g===f){Ce=null;break e}var B=g.sibling;if(B!==null){B.return=g.return,Ce=B;break e}Ce=g.return}}if(Ge=a,Di(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(jc,e)}catch{}s=!0}return s}finally{qe=n,qn.transition=t}}return!1}function D1(e,t,n){t=co(n,t),t=yx(e,t,1),e=Ci(e,t,1),t=mn(),e!==null&&(Ma(e,1,t),Rn(e,t))}function Nt(e,t,n){if(e.tag===3)D1(e,e,n);else for(;t!==null;){if(t.tag===3){D1(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(bi===null||!bi.has(s))){e=co(n,e),e=wx(t,e,1),t=Ci(t,e,1),e=mn(),t!==null&&(Ma(t,1,e),Rn(t,e));break}}t=t.return}}function TC(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=mn(),e.pingedLanes|=e.suspendedLanes&n,Wt===e&&(qt&n)===n&&(jt===4||jt===3&&(qt&130023424)===qt&&500>Rt()-I0?ts(e,0):T0|=n),Rn(e,t)}function Fx(e,t){t===0&&(e.mode&1?(t=ll,ll<<=1,!(ll&130023424)&&(ll=4194304)):t=1);var n=mn();e=Gr(e,t),e!==null&&(Ma(e,t,n),Rn(e,n))}function IC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fx(e,n)}function RC(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ie(314))}s!==null&&s.delete(t),Fx(e,n)}var Vx;Vx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tn.current)Nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nn=!1,pC(e,t,n);Nn=!!(e.flags&131072)}else Nn=!1,pt&&t.flags&1048576&&Hp(t,cc,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ul(e,t),e=t.pendingProps;var a=so(t,an.current);qs(t,n),a=C0(null,t,s,e,a,n);var c=b0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(s)?(c=!0,ac(t)):c=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,p0(t),a.updater=Gc,t.stateNode=a,a._reactInternals=t,nf(t,s,e,n),t=of(null,t,s,!0,c,n)):(t.tag=0,pt&&c&&c0(t),fn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=_C(s),e=ar(s,e),a){case 0:t=sf(null,t,s,e,n);break e;case 1:t=A1(null,t,s,e,n);break e;case 11:t=b1(null,t,s,e,n);break e;case 14:t=E1(null,t,s,ar(s.type,e),n);break e}throw Error(ie(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ar(s,a),sf(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ar(s,a),A1(e,t,s,a,n);case 3:e:{if(Ex(t),e===null)throw Error(ie(387));s=t.pendingProps,c=t.memoizedState,a=c.element,$p(e,t),fc(t,s,null,n);var f=t.memoizedState;if(s=f.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){a=co(Error(ie(423)),t),t=S1(e,t,s,n,a);break e}else if(s!==a){a=co(Error(ie(424)),t),t=S1(e,t,s,n,a);break e}else for(Dn=vi(t.stateNode.containerInfo.firstChild),Mn=t,pt=!0,cr=null,n=Zp(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oo(),s===a){t=Xr(e,t,n);break e}fn(e,t,s,n)}t=t.child}return t;case 5:return qp(t),e===null&&Jd(t),s=t.type,a=t.pendingProps,c=e!==null?e.memoizedProps:null,f=a.children,Zd(s,a)?f=null:c!==null&&Zd(s,c)&&(t.flags|=32),bx(e,t),fn(e,t,f,n),t.child;case 6:return e===null&&Jd(t),null;case 13:return Ax(e,t,n);case 4:return x0(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ao(t,null,s,n):fn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ar(s,a),b1(e,t,s,a,n);case 7:return fn(e,t,t.pendingProps,n),t.child;case 8:return fn(e,t,t.pendingProps.children,n),t.child;case 12:return fn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,c=t.memoizedProps,f=a.value,it(uc,s._currentValue),s._currentValue=f,c!==null)if(fr(c.value,f)){if(c.children===a.children&&!Tn.current){t=Xr(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var g=c.dependencies;if(g!==null){f=c.child;for(var x=g.firstContext;x!==null;){if(x.context===s){if(c.tag===1){x=Vr(-1,n&-n),x.tag=2;var m=c.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?x.next=x:(x.next=v.next,v.next=x),m.pending=x}}c.lanes|=n,x=c.alternate,x!==null&&(x.lanes|=n),ef(c.return,n,t),g.lanes|=n;break}x=x.next}}else if(c.tag===10)f=c.type===t.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(ie(341));f.lanes|=n,g=f.alternate,g!==null&&(g.lanes|=n),ef(f,n,t),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===t){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}fn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,qs(t,n),a=Qn(a),s=s(a),t.flags|=1,fn(e,t,s,n),t.child;case 14:return s=t.type,a=ar(s,t.pendingProps),a=ar(s.type,a),E1(e,t,s,a,n);case 15:return vx(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ar(s,a),Ul(e,t),t.tag=1,In(s)?(e=!0,ac(t)):e=!1,qs(t,n),xx(t,s,a),nf(t,s,a,n),of(null,t,s,!0,e,n);case 19:return Sx(e,t,n);case 22:return Cx(e,t,n)}throw Error(ie(156,t.tag))};function Ux(e,t){return gp(e,t)}function kC(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,n,s){return new kC(e,t,n,s)}function O0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _C(e){if(typeof e=="function")return O0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qf)return 11;if(e===Qf)return 14}return 2}function Ai(e,t){var n=e.alternate;return n===null?(n=$n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,s,a,c){var f=2;if(s=e,typeof e=="function")O0(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ks:return ns(n.children,a,c,t);case $f:f=8,a|=8;break;case Nd:return e=$n(12,n,t,a|2),e.elementType=Nd,e.lanes=c,e;case Td:return e=$n(13,n,t,a),e.elementType=Td,e.lanes=c,e;case Id:return e=$n(19,n,t,a),e.elementType=Id,e.lanes=c,e;case qm:return Zc(n,a,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Km:f=10;break e;case $m:f=9;break e;case qf:f=11;break e;case Qf:f=14;break e;case ci:f=16,s=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=$n(f,n,t,a),t.elementType=e,t.type=s,t.lanes=c,t}function ns(e,t,n,s){return e=$n(7,e,s,t),e.lanes=n,e}function Zc(e,t,n,s){return e=$n(22,e,s,t),e.elementType=qm,e.lanes=n,e.stateNode={isHidden:!1},e}function Qu(e,t,n){return e=$n(6,e,null,t),e.lanes=n,e}function Ju(e,t,n){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OC(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pu(0),this.expirationTimes=Pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function P0(e,t,n,s,a,c,f,g,x){return e=new OC(e,t,n,g,x),t===1?(t=1,c===!0&&(t|=8)):t=0,c=$n(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(c),e}function PC(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function zx(e){if(!e)return Ri;e=e._reactInternals;e:{if(us(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(In(n))return zp(e,n,t)}return t}function Wx(e,t,n,s,a,c,f,g,x){return e=P0(n,s,!0,e,a,c,f,g,x),e.context=zx(null),n=e.current,s=mn(),a=Ei(n),c=Vr(s,a),c.callback=t??null,Ci(n,c,a),e.current.lanes=a,Ma(e,a,s),Rn(e,s),e}function Kc(e,t,n,s){var a=t.current,c=mn(),f=Ei(a);return n=zx(n),t.context===null?t.context=n:t.pendingContext=n,t=Vr(c,f),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ci(a,t,f),e!==null&&(dr(e,a,f,c),jl(e,a,f)),f}function vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function M1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function D0(e,t){M1(e,t),(e=e.alternate)&&M1(e,t)}function DC(){return null}var Hx=typeof reportError=="function"?reportError:function(e){console.error(e)};function M0(e){this._internalRoot=e}$c.prototype.render=M0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));Kc(e,t,null,null)};$c.prototype.unmount=M0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;as(function(){Kc(null,e,null,null)}),t[Hr]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&Ep(e)}};function L0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function L1(){}function MC(e,t,n,s,a){if(a){if(typeof s=="function"){var c=s;s=function(){var m=vc(f);c.call(m)}}var f=Wx(t,s,e,0,null,!1,!1,"",L1);return e._reactRootContainer=f,e[Hr]=f.current,Ca(e.nodeType===8?e.parentNode:e),as(),f}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var g=s;s=function(){var m=vc(x);g.call(m)}}var x=P0(e,0,!1,null,null,!1,!1,"",L1);return e._reactRootContainer=x,e[Hr]=x.current,Ca(e.nodeType===8?e.parentNode:e),as(function(){Kc(t,x,n,s)}),x}function Qc(e,t,n,s,a){var c=n._reactRootContainer;if(c){var f=c;if(typeof a=="function"){var g=a;a=function(){var x=vc(f);g.call(x)}}Kc(t,f,e,a)}else f=MC(n,t,e,a,s);return vc(f)}wp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ko(t.pendingLanes);n!==0&&(t0(t,n|1),Rn(t,Rt()),!(Ge&6)&&(uo=Rt()+500,Di()))}break;case 13:as(function(){var s=Gr(e,1);if(s!==null){var a=mn();dr(s,e,1,a)}}),D0(e,1)}};n0=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var n=mn();dr(t,e,134217728,n)}D0(e,134217728)}};vp=function(e){if(e.tag===13){var t=Ei(e),n=Gr(e,t);if(n!==null){var s=mn();dr(n,e,t,s)}D0(e,t)}};Cp=function(){return qe};bp=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};jd=function(e,t,n){switch(t){case"input":if(_d(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=zc(s);if(!a)throw Error(ie(90));Jm(s),_d(s,a)}}}break;case"textarea":tp(e,n);break;case"select":t=n.value,t!=null&&Ys(e,!!n.multiple,t,!1)}};lp=R0;cp=as;var LC={usingClientEntryPoint:!1,Events:[Ba,Ds,zc,op,ap,R0]},Uo={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BC={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fp(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||DC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{jc=wl.inject(BC),Tr=wl}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;jn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L0(t))throw Error(ie(200));return PC(e,t,null,n)};jn.createRoot=function(e,t){if(!L0(e))throw Error(ie(299));var n=!1,s="",a=Hx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=P0(e,1,!1,null,null,n,!1,s,a),e[Hr]=t.current,Ca(e.nodeType===8?e.parentNode:e),new M0(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=fp(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return as(e)};jn.hydrate=function(e,t,n){if(!qc(t))throw Error(ie(200));return Qc(null,e,t,!0,n)};jn.hydrateRoot=function(e,t,n){if(!L0(e))throw Error(ie(405));var s=n!=null&&n.hydratedSources||null,a=!1,c="",f=Hx;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=Wx(t,null,e,1,n??null,a,!1,c,f),e[Hr]=t.current,Ca(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)};jn.render=function(e,t,n){if(!qc(t))throw Error(ie(200));return Qc(null,e,t,!1,n)};jn.unmountComponentAtNode=function(e){if(!qc(e))throw Error(ie(40));return e._reactRootContainer?(as(function(){Qc(null,null,e,!1,function(){e._reactRootContainer=null,e[Hr]=null})}),!0):!1};jn.unstable_batchedUpdates=R0;jn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!qc(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Qc(e,t,n,!1,s)};jn.version="18.3.1-next-f1338f8080-20240426";function Gx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gx)}catch(e){console.error(e)}}Gx(),Gm.exports=jn;var B0=Gm.exports;const Xx=Uf(B0);var Yx,B1=B0;Yx=B1.createRoot,B1.hydrateRoot;/*! Capacitor: https://capacitorjs.com/ - MIT License */var fo;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(fo||(fo={}));class Js extends Error{constructor(t,n,s){super(t),this.message=t,this.code=n,this.data=s}}const jC=e=>{var t,n;return e?.androidBridge?"android":!((n=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},FC=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},s=n.Plugins=n.Plugins||{},a=()=>t!==null?t.name:jC(e),c=()=>a()!=="web",f=C=>{const A=m.get(C);return!!(A?.platforms.has(a())||g(C))},g=C=>{var A;return(A=n.PluginHeaders)===null||A===void 0?void 0:A.find(E=>E.name===C)},x=C=>e.console.error(C),m=new Map,v=(C,A={})=>{const E=m.get(C);if(E)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),E.proxy;const L=a(),R=g(C);let D;const O=async()=>(!D&&L in A?D=typeof A[L]=="function"?D=await A[L]():D=A[L]:t!==null&&!D&&"web"in A&&(D=typeof A.web=="function"?D=await A.web():D=A.web),D),I=(z,j)=>{var Q,fe;if(R){const q=R?.methods.find(ge=>j===ge.name);if(q)return q.rtype==="promise"?ge=>n.nativePromise(C,j.toString(),ge):(ge,de)=>n.nativeCallback(C,j.toString(),ge,de);if(z)return(Q=z[j])===null||Q===void 0?void 0:Q.bind(z)}else{if(z)return(fe=z[j])===null||fe===void 0?void 0:fe.bind(z);throw new Js(`"${C}" plugin is not implemented on ${L}`,fo.Unimplemented)}},T=z=>{let j;const Q=(...fe)=>{const q=O().then(ge=>{const de=I(ge,z);if(de){const H=de(...fe);return j=H?.remove,H}else throw new Js(`"${C}.${z}()" is not implemented on ${L}`,fo.Unimplemented)});return z==="addListener"&&(q.remove=async()=>j()),q};return Q.toString=()=>`${z.toString()}() { [capacitor code] }`,Object.defineProperty(Q,"name",{value:z,writable:!1,configurable:!1}),Q},B=T("addListener"),W=T("removeListener"),X=(z,j)=>{const Q=B({eventName:z},j),fe=async()=>{const ge=await Q;W({eventName:z,callbackId:ge},j)},q=new Promise(ge=>Q.then(()=>ge({remove:fe})));return q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await fe()},q},F=new Proxy({},{get(z,j){switch(j){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?X:B;case"removeListener":return W;default:return T(j)}}});return s[C]=F,m.set(C,{name:C,proxy:F,platforms:new Set([...Object.keys(A),...R?[L]:[]])}),F};return n.convertFileSrc||(n.convertFileSrc=C=>C),n.getPlatform=a,n.handleError=x,n.isNativePlatform=c,n.isPluginAvailable=f,n.registerPlugin=v,n.Exception=Js,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},VC=e=>e.Capacitor=FC(e),Cc=VC(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),vo=Cc.registerPlugin;class j0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let s=!1;this.listeners[t]||(this.listeners[t]=[],s=!0),this.listeners[t].push(n);const c=this.windowListeners[t];c&&!c.registered&&this.addWindowListener(c),s&&this.sendRetainedArgumentsForEvent(t);const f=async()=>this.removeListener(t,n);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,s){const a=this.listeners[t];if(!a){if(s){let c=this.retainedEventArguments[t];c||(c=[]),c.push(n),this.retainedEventArguments[t]=c}return}a.forEach(c=>c(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(t="not implemented"){return new Cc.Exception(t,fo.Unimplemented)}unavailable(t="not available"){return new Cc.Exception(t,fo.Unavailable)}async removeListener(t,n){const s=this.listeners[t];if(!s)return;const a=s.indexOf(n);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(s=>{this.notifyListeners(t,s)}))}}const j1=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),F1=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class UC extends j0{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(s=>{if(s.length<=0)return;let[a,c]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=F1(a).trim(),c=F1(c).trim(),n[a]=c}),n}async setCookie(t){try{const n=j1(t.key),s=j1(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,c=(t.path||"/").replace("path=",""),f=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${s||""}${a}; path=${c}; ${f};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}vo("CapacitorCookies",{web:()=>new UC});const zC=async e=>new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{const a=s.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>n(a),s.readAsDataURL(e)}),WC=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,c,f)=>(a[c]=e[t[f]],a),{})},HC=(e,t=!0)=>e?Object.entries(e).reduce((s,a)=>{const[c,f]=a;let g,x;return Array.isArray(f)?(x="",f.forEach(m=>{g=t?encodeURIComponent(m):m,x+=`${c}=${g}&`}),x.slice(0,-1)):(g=t?encodeURIComponent(f):f,x=`${c}=${g}`),`${s}&${x}`},"").substr(1):null,GC=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=WC(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const c=new URLSearchParams;for(const[f,g]of Object.entries(e.data||{}))c.set(f,g);n.body=c.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const c=new FormData;if(e.data instanceof FormData)e.data.forEach((g,x)=>{c.append(x,g)});else for(const g of Object.keys(e.data))c.append(g,e.data[g]);n.body=c;const f=new Headers(n.headers);f.delete("content-type"),n.headers=f}else(a.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class XC extends j0{async request(t){const n=GC(t,t.webFetchExtra),s=HC(t.params,t.shouldEncodeUrlParams),a=s?`${t.url}?${s}`:t.url,c=await fetch(a,n),f=c.headers.get("content-type")||"";let{responseType:g="text"}=c.ok?t:{};f.includes("application/json")&&(g="json");let x,m;switch(g){case"arraybuffer":case"blob":m=await c.blob(),x=await zC(m);break;case"json":x=await c.json();break;case"document":case"text":default:x=await c.text()}const v={};return c.headers.forEach((C,A)=>{v[A]=C}),{data:x,headers:v,status:c.status,url:c.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}vo("CapacitorHttp",{web:()=>new XC});var bc;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(bc||(bc={}));var V1;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(V1||(V1={}));const As=vo("StatusBar");function Zx(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Zx(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Kx(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Zx(e))&&(s&&(s+=" "),s+=t);return s}const F0="-",YC=e=>{const t=KC(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:f=>{const g=f.split(F0);return g[0]===""&&g.length!==1&&g.shift(),$x(g,t)||ZC(f)},getConflictingClassGroupIds:(f,g)=>{const x=n[f]||[];return g&&s[f]?[...x,...s[f]]:x}}},$x=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?$x(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const c=e.join(F0);return t.validators.find(({validator:f})=>f(c))?.classGroupId},U1=/^\[(.+)\]$/,ZC=e=>{if(U1.test(e)){const t=U1.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},KC=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return qC(Object.entries(e.classGroups),n).forEach(([c,f])=>{yf(f,s,c,t)}),s},yf=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?t:z1(t,a);c.classGroupId=n;return}if(typeof a=="function"){if($C(a)){yf(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,f])=>{yf(f,z1(t,c),n,s)})})},z1=(e,t)=>{let n=e;return t.split(F0).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},$C=e=>e.isThemeGetter,qC=(e,t)=>t?e.map(([n,s])=>{const a=s.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([f,g])=>[t+f,g])):c);return[n,a]}):e,QC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(c,f)=>{n.set(c,f),t++,t>e&&(t=0,s=n,n=new Map)};return{get(c){let f=n.get(c);if(f!==void 0)return f;if((f=s.get(c))!==void 0)return a(c,f),f},set(c,f){n.has(c)?n.set(c,f):a(c,f)}}},qx="!",JC=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],c=t.length,f=g=>{const x=[];let m=0,v=0,C;for(let D=0;D<g.length;D++){let O=g[D];if(m===0){if(O===a&&(s||g.slice(D,D+c)===t)){x.push(g.slice(v,D)),v=D+c;continue}if(O==="/"){C=D;continue}}O==="["?m++:O==="]"&&m--}const A=x.length===0?g:g.substring(v),E=A.startsWith(qx),L=E?A.substring(1):A,R=C&&C>v?C-v:void 0;return{modifiers:x,hasImportantModifier:E,baseClassName:L,maybePostfixModifierPosition:R}};return n?g=>n({className:g,parseClassName:f}):f},eb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},tb=e=>({cache:QC(e.cacheSize),parseClassName:JC(e),...YC(e)}),nb=/\s+/,rb=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,c=[],f=e.trim().split(nb);let g="";for(let x=f.length-1;x>=0;x-=1){const m=f[x],{modifiers:v,hasImportantModifier:C,baseClassName:A,maybePostfixModifierPosition:E}=n(m);let L=!!E,R=s(L?A.substring(0,E):A);if(!R){if(!L){g=m+(g.length>0?" "+g:g);continue}if(R=s(A),!R){g=m+(g.length>0?" "+g:g);continue}L=!1}const D=eb(v).join(":"),O=C?D+qx:D,I=O+R;if(c.includes(I))continue;c.push(I);const T=a(R,L);for(let B=0;B<T.length;++B){const W=T[B];c.push(O+W)}g=m+(g.length>0?" "+g:g)}return g};function ib(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Qx(t))&&(s&&(s+=" "),s+=n);return s}const Qx=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Qx(e[s]))&&(n&&(n+=" "),n+=t);return n};function sb(e,...t){let n,s,a,c=f;function f(x){const m=t.reduce((v,C)=>C(v),e());return n=tb(m),s=n.cache.get,a=n.cache.set,c=g,g(x)}function g(x){const m=s(x);if(m)return m;const v=rb(x,n);return a(x,v),v}return function(){return c(ib.apply(null,arguments))}}const at=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Jx=/^\[(?:([a-z-]+):)?(.+)\]$/i,ob=/^\d+\/\d+$/,ab=new Set(["px","full","screen"]),lb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ub=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,db=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pr=e=>eo(e)||ab.has(e)||ob.test(e),ii=e=>Co(e,"length",vb),eo=e=>!!e&&!Number.isNaN(Number(e)),ed=e=>Co(e,"number",eo),zo=e=>!!e&&Number.isInteger(Number(e)),hb=e=>e.endsWith("%")&&eo(e.slice(0,-1)),_e=e=>Jx.test(e),si=e=>lb.test(e),gb=new Set(["length","size","percentage"]),mb=e=>Co(e,gb,e2),pb=e=>Co(e,"position",e2),xb=new Set(["image","url"]),yb=e=>Co(e,xb,bb),wb=e=>Co(e,"",Cb),Wo=()=>!0,Co=(e,t,n)=>{const s=Jx.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},vb=e=>cb.test(e)&&!ub.test(e),e2=()=>!1,Cb=e=>db.test(e),bb=e=>fb.test(e),Eb=()=>{const e=at("colors"),t=at("spacing"),n=at("blur"),s=at("brightness"),a=at("borderColor"),c=at("borderRadius"),f=at("borderSpacing"),g=at("borderWidth"),x=at("contrast"),m=at("grayscale"),v=at("hueRotate"),C=at("invert"),A=at("gap"),E=at("gradientColorStops"),L=at("gradientColorStopPositions"),R=at("inset"),D=at("margin"),O=at("opacity"),I=at("padding"),T=at("saturate"),B=at("scale"),W=at("sepia"),X=at("skew"),F=at("space"),z=at("translate"),j=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],fe=()=>["auto",_e,t],q=()=>[_e,t],ge=()=>["",Pr,ii],de=()=>["auto",eo,_e],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],pe=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",_e],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[eo,_e];return{cacheSize:500,separator:":",theme:{colors:[Wo],spacing:[Pr,ii],blur:["none","",si,_e],brightness:ee(),borderColor:[e],borderRadius:["none","","full",si,_e],borderSpacing:q(),borderWidth:ge(),contrast:ee(),grayscale:$(),hueRotate:ee(),invert:$(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[hb,ii],inset:fe(),margin:fe(),opacity:ee(),padding:q(),saturate:ee(),scale:ee(),sepia:$(),skew:ee(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[si]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),_e]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zo,_e]}],basis:[{basis:fe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",zo,_e]}],"grid-cols":[{"grid-cols":[Wo]}],"col-start-end":[{col:["auto",{span:["full",zo,_e]},_e]}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":[Wo]}],"row-start-end":[{row:["auto",{span:[zo,_e]},_e]}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[A]}],"gap-x":[{"gap-x":[A]}],"gap-y":[{"gap-y":[A]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[D]}],mx:[{mx:[D]}],my:[{my:[D]}],ms:[{ms:[D]}],me:[{me:[D]}],mt:[{mt:[D]}],mr:[{mr:[D]}],mb:[{mb:[D]}],ml:[{ml:[D]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[si]},si]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",si,ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ed]}],"font-family":[{font:[Wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",eo,ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pr,ii]}],"underline-offset":[{"underline-offset":["auto",Pr,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),pb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yb]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[L]}],"gradient-via-pos":[{via:[L]}],"gradient-to-pos":[{to:[L]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...pe(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:pe()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...pe()]}],"outline-offset":[{"outline-offset":[Pr,_e]}],"outline-w":[{outline:[Pr,ii]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Pr,ii]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",si,wb]}],"shadow-color":[{shadow:[Wo]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",si,_e]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[C]}],saturate:[{saturate:[T]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[zo,_e]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pr,ii,ed]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ab=sb(Eb);function Gt(...e){return Ab(Kx(e))}function et({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:Gt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function W1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fa(...e){return t=>{let n=!1;const s=e.map(a=>{const c=W1(a,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():W1(e[a],null)}}}}function er(...e){return _.useCallback(Fa(...e),e)}var Sb=Symbol.for("react.lazy"),Ec=Xf[" use ".trim().toString()];function Nb(e){return typeof e=="object"&&e!==null&&"then"in e}function t2(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Sb&&"_payload"in e&&Nb(e._payload)}function V0(e){const t=Tb(e),n=_.forwardRef((s,a)=>{let{children:c,...f}=s;t2(c)&&typeof Ec=="function"&&(c=Ec(c._payload));const g=_.Children.toArray(c),x=g.find(Rb);if(x){const m=x.props.children,v=g.map(C=>C===x?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:C);return y.jsx(t,{...f,ref:a,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return y.jsx(t,{...f,ref:a,children:c})});return n.displayName=`${e}.Slot`,n}var n2=V0("Slot");function Tb(e){const t=_.forwardRef((n,s)=>{let{children:a,...c}=n;if(t2(a)&&typeof Ec=="function"&&(a=Ec(a._payload)),_.isValidElement(a)){const f=_b(a),g=kb(c,a.props);return a.type!==_.Fragment&&(g.ref=s?Fa(s,f):f),_.cloneElement(a,g)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ib=Symbol("radix.slottable");function Rb(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ib}function kb(e,t){const n={...t};for(const s in t){const a=e[s],c=t[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...g)=>{const x=c(...g);return a(...g),x}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...e,...n}}function _b(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const H1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,G1=Kx,r2=(e,t)=>n=>{var s;if(t?.variants==null)return G1(e,n?.class,n?.className);const{variants:a,defaultVariants:c}=t,f=Object.keys(a).map(m=>{const v=n?.[m],C=c?.[m];if(v===null)return null;const A=H1(v)||H1(C);return a[m][A]}),g=n&&Object.entries(n).reduce((m,v)=>{let[C,A]=v;return A===void 0||(m[C]=A),m},{}),x=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,v)=>{let{class:C,className:A,...E}=v;return Object.entries(E).every(L=>{let[R,D]=L;return Array.isArray(D)?D.includes({...c,...g}[R]):{...c,...g}[R]===D})?[...m,C,A]:m},[]);return G1(e,f,x,n?.class,n?.className)},Ob=r2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Pe({className:e,variant:t,size:n,asChild:s=!1,...a}){const c=s?n2:"button";return y.jsx(c,{"data-slot":"button",className:Gt(Ob({variant:t,size:n,className:e})),...a})}var Pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Db=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mb=(e,t)=>{const n=_.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:f,children:g,...x},m)=>_.createElement("svg",{ref:m,...Pb,width:a,height:a,stroke:s,strokeWidth:f?Number(c)*24/Number(a):c,className:`lucide lucide-${Db(e)}`,...x},[...t.map(([v,C])=>_.createElement(v,C)),...(Array.isArray(g)?g:[g])||[]]));return n.displayName=`${e}`,n};var Le=Mb;const i2=Le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ho=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Lb=Le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),X1=Le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),s2=Le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Y1=Le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),o2=Le("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Bb=Le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),pi=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Z1=Le("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),to=Le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),no=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jb=Le("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ka=Le("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),a2=Le("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fb=Le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),wf=Le("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Si=Le("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),vl=Le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Gl=Le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Vb=Le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Us=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ub=Le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),zb=Le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Wb=Le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),td=Le("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Hb=Le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Gb=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ac=Le("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Xb=Le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Yb=Le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),l2=Le("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Zb=Le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Kb=Le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),$b=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),U0=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),bo=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),c2=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Jc=_.createContext({}),eu=_.createContext(null),tu=typeof document<"u",z0=tu?_.useLayoutEffect:_.useEffect,u2=_.createContext({strict:!1}),W0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qb="framerAppearId",d2="data-"+W0(qb);function Qb(e,t,n,s){const{visualElement:a}=_.useContext(Jc),c=_.useContext(u2),f=_.useContext(eu),g=_.useContext(c2).reducedMotion,x=_.useRef();s=s||c.renderer,!x.current&&s&&(x.current=s(e,{visualState:t,parent:a,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const m=x.current;_.useInsertionEffect(()=>{m&&m.update(n,f)});const v=_.useRef(!!(n[d2]&&!window.HandoffComplete));return z0(()=>{m&&(m.render(),v.current&&m.animationState&&m.animationState.animateChanges())}),_.useEffect(()=>{m&&(m.updateFeatures(),!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(v.current=!1,window.HandoffComplete=!0))}),m}function zs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jb(e,t,n){return _.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):zs(n)&&(n.current=s))},[t])}function _a(e){return typeof e=="string"||Array.isArray(e)}function nu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const H0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G0=["initial",...H0];function ru(e){return nu(e.animate)||G0.some(t=>_a(e[t]))}function f2(e){return!!(ru(e)||e.variants)}function eE(e,t){if(ru(e)){const{initial:n,animate:s}=e;return{initial:n===!1||_a(n)?n:void 0,animate:_a(s)?s:void 0}}return e.inherit!==!1?t:{}}function tE(e){const{initial:t,animate:n}=eE(e,_.useContext(Jc));return _.useMemo(()=>({initial:t,animate:n}),[K1(t),K1(n)])}function K1(e){return Array.isArray(e)?e.join(" "):e}const $1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oa={};for(const e in $1)Oa[e]={isEnabled:t=>$1[e].some(n=>!!t[n])};function nE(e){for(const t in e)Oa[t]={...Oa[t],...e[t]}}const X0=_.createContext({}),h2=_.createContext({}),rE=Symbol.for("motionComponentSymbol");function iE({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){e&&nE(e);function c(g,x){let m;const v={..._.useContext(c2),...g,layoutId:sE(g)},{isStatic:C}=v,A=tE(g),E=s(g,C);if(!C&&tu){A.visualElement=Qb(a,E,v,t);const L=_.useContext(h2),R=_.useContext(u2).strict;A.visualElement&&(m=A.visualElement.loadFeatures(v,R,e,L))}return _.createElement(Jc.Provider,{value:A},m&&A.visualElement?_.createElement(m,{visualElement:A.visualElement,...v}):null,n(a,g,Jb(E,A.visualElement,x),E,C,A.visualElement))}const f=_.forwardRef(c);return f[rE]=a,f}function sE({layoutId:e}){const t=_.useContext(X0).id;return t&&e!==void 0?t+"-"+e:e}function oE(e){function t(s,a={}){return iE(e(s,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const aE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y0(e){return typeof e!="string"||e.includes("-")?!1:!!(aE.indexOf(e)>-1||/[A-Z]/.test(e))}const Sc={};function lE(e){Object.assign(Sc,e)}const Va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(Va);function g2(e,{layout:t,layoutId:n}){return ds.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sc[e]||e==="opacity")}const kn=e=>!!(e&&e.getVelocity),cE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uE=Va.length;function dE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,a){let c="";for(let f=0;f<uE;f++){const g=Va[f];if(e[g]!==void 0){const x=cE[g]||g;c+=`${x}(${e[g]}) `}}return t&&!e.z&&(c+="translateZ(0)"),c=c.trim(),a?c=a(e,s?"":c):n&&s&&(c="none"),c}const m2=e=>t=>typeof t=="string"&&t.startsWith(e),p2=m2("--"),vf=m2("var(--"),fE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ki=(e,t,n)=>Math.min(Math.max(n,e),t),fs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},aa={...fs,transform:e=>ki(0,1,e)},Cl={...fs,default:1},la=e=>Math.round(e*1e5)/1e5,iu=/(-)?([\d]*\.?[\d])+/g,x2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ua(e){return typeof e=="string"}const za=e=>({test:t=>Ua(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ai=za("deg"),Rr=za("%"),Ie=za("px"),mE=za("vh"),pE=za("vw"),q1={...Rr,parse:e=>Rr.parse(e)/100,transform:e=>Rr.transform(e*100)},Q1={...fs,transform:Math.round},y2={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:Cl,scaleX:Cl,scaleY:Cl,scaleZ:Cl,skew:ai,skewX:ai,skewY:ai,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:aa,originX:q1,originY:q1,originZ:Ie,zIndex:Q1,fillOpacity:aa,strokeOpacity:aa,numOctaves:Q1};function Z0(e,t,n,s){const{style:a,vars:c,transform:f,transformOrigin:g}=e;let x=!1,m=!1,v=!0;for(const C in t){const A=t[C];if(p2(C)){c[C]=A;continue}const E=y2[C],L=hE(A,E);if(ds.has(C)){if(x=!0,f[C]=L,!v)continue;A!==(E.default||0)&&(v=!1)}else C.startsWith("origin")?(m=!0,g[C]=L):a[C]=L}if(t.transform||(x||s?a.transform=dE(e.transform,n,v,s):a.transform&&(a.transform="none")),m){const{originX:C="50%",originY:A="50%",originZ:E=0}=g;a.transformOrigin=`${C} ${A} ${E}`}}const K0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w2(e,t,n){for(const s in t)!kn(t[s])&&!g2(s,n)&&(e[s]=t[s])}function xE({transformTemplate:e},t,n){return _.useMemo(()=>{const s=K0();return Z0(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function yE(e,t,n){const s=e.style||{},a={};return w2(a,s,e),Object.assign(a,xE(e,t,n)),e.transformValues?e.transformValues(a):a}function wE(e,t,n){const s={},a=yE(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const vE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vE.has(e)}let v2=e=>!Nc(e);function CE(e){e&&(v2=t=>t.startsWith("on")?!Nc(t):e(t))}try{CE(require("@emotion/is-prop-valid").default)}catch{}function bE(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(v2(a)||n===!0&&Nc(a)||!t&&!Nc(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function J1(e,t,n){return typeof e=="string"?e:Ie.transform(t+n*e)}function EE(e,t,n){const s=J1(t,e.x,e.width),a=J1(n,e.y,e.height);return`${s} ${a}`}const AE={offset:"stroke-dashoffset",array:"stroke-dasharray"},SE={offset:"strokeDashoffset",array:"strokeDasharray"};function NE(e,t,n=1,s=0,a=!0){e.pathLength=1;const c=a?AE:SE;e[c.offset]=Ie.transform(-s);const f=Ie.transform(t),g=Ie.transform(n);e[c.array]=`${f} ${g}`}function $0(e,{attrX:t,attrY:n,attrScale:s,originX:a,originY:c,pathLength:f,pathSpacing:g=1,pathOffset:x=0,...m},v,C,A){if(Z0(e,m,v,A),C){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:L,dimensions:R}=e;E.transform&&(R&&(L.transform=E.transform),delete E.transform),R&&(a!==void 0||c!==void 0||L.transform)&&(L.transformOrigin=EE(R,a!==void 0?a:.5,c!==void 0?c:.5)),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),f!==void 0&&NE(E,f,g,x,!1)}const C2=()=>({...K0(),attrs:{}}),q0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function TE(e,t,n,s){const a=_.useMemo(()=>{const c=C2();return $0(c,t,{enableHardwareAcceleration:!1},q0(s),e.transformTemplate),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};w2(c,e.style,e),a.style={...c,...a.style}}return a}function IE(e=!1){return(n,s,a,{latestValues:c},f)=>{const x=(Y0(n)?TE:wE)(s,c,f,n),v={...bE(s,typeof n=="string",e),...x,ref:a},{children:C}=s,A=_.useMemo(()=>kn(C)?C.get():C,[C]);return _.createElement(n,{...v,children:A})}}function b2(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const c in n)e.style.setProperty(c,n[c])}const E2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A2(e,t,n,s){b2(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(E2.has(a)?a:W0(a),t.attrs[a])}function Q0(e,t){const{style:n}=e,s={};for(const a in n)(kn(n[a])||t.style&&kn(t.style[a])||g2(a,e))&&(s[a]=n[a]);return s}function S2(e,t){const n=Q0(e,t);for(const s in e)if(kn(e[s])||kn(t[s])){const a=Va.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}function J0(e,t,n,s={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,a)),t}function N2(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const Tc=e=>Array.isArray(e),RE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kE=e=>Tc(e)?e[e.length-1]||0:e;function Xl(e){const t=kn(e)?e.get():e;return RE(t)?t.toValue():t}function _E({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,a,c){const f={latestValues:OE(s,a,c,e),renderState:t()};return n&&(f.mount=g=>n(s,g,f)),f}const T2=e=>(t,n)=>{const s=_.useContext(Jc),a=_.useContext(eu),c=()=>_E(e,t,s,a);return n?c():N2(c)};function OE(e,t,n,s){const a={},c=s(e,{});for(const A in c)a[A]=Xl(c[A]);let{initial:f,animate:g}=e;const x=ru(e),m=f2(e);t&&m&&!x&&e.inherit!==!1&&(f===void 0&&(f=t.initial),g===void 0&&(g=t.animate));let v=n?n.initial===!1:!1;v=v||f===!1;const C=v?g:f;return C&&typeof C!="boolean"&&!nu(C)&&(Array.isArray(C)?C:[C]).forEach(E=>{const L=J0(e,E);if(!L)return;const{transitionEnd:R,transition:D,...O}=L;for(const I in O){let T=O[I];if(Array.isArray(T)){const B=v?T.length-1:0;T=T[B]}T!==null&&(a[I]=T)}for(const I in R)a[I]=R[I]}),a}const Tt=e=>e;class eg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function PE(e){let t=new eg,n=new eg,s=0,a=!1,c=!1;const f=new WeakSet,g={schedule:(x,m=!1,v=!1)=>{const C=v&&a,A=C?t:n;return m&&f.add(x),A.add(x)&&C&&a&&(s=t.order.length),x},cancel:x=>{n.remove(x),f.delete(x)},process:x=>{if(a){c=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let m=0;m<s;m++){const v=t.order[m];v(x),f.has(v)&&(g.schedule(v),e())}a=!1,c&&(c=!1,g.process(x))}};return g}const bl=["prepare","read","update","preRender","render","postRender"],DE=40;function ME(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=bl.reduce((C,A)=>(C[A]=PE(()=>n=!0),C),{}),f=C=>c[C].process(a),g=()=>{const C=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(C-a.timestamp,DE),1),a.timestamp=C,a.isProcessing=!0,bl.forEach(f),a.isProcessing=!1,n&&t&&(s=!1,e(g))},x=()=>{n=!0,s=!0,a.isProcessing||e(g)};return{schedule:bl.reduce((C,A)=>{const E=c[A];return C[A]=(L,R=!1,D=!1)=>(n||x(),E.schedule(L,R,D)),C},{}),cancel:C=>bl.forEach(A=>c[A].cancel(C)),state:a,steps:c}}const{schedule:st,cancel:Yr,state:sn,steps:nd}=ME(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),LE={useVisualState:T2({scrapeMotionValuesFromProps:S2,createRenderState:C2,onMount:(e,t,{renderState:n,latestValues:s})=>{st.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),st.render(()=>{$0(n,s,{enableHardwareAcceleration:!1},q0(t.tagName),e.transformTemplate),A2(t,n)})}})},BE={useVisualState:T2({scrapeMotionValuesFromProps:Q0,createRenderState:K0})};function jE(e,{forwardMotionProps:t=!1},n,s){return{...Y0(e)?LE:BE,preloadedFeatures:n,useRender:IE(t),createVisualElement:s,Component:e}}function Fr(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const I2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function su(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const FE=e=>t=>I2(t)&&e(t,su(t));function Ur(e,t,n,s){return Fr(e,t,FE(n),s)}const VE=(e,t)=>n=>t(e(n)),Ni=(...e)=>e.reduce(VE);function R2(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const tg=R2("dragHorizontal"),ng=R2("dragVertical");function k2(e){let t=!1;if(e==="y")t=ng();else if(e==="x")t=tg();else{const n=tg(),s=ng();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function _2(){const e=k2(!0);return e?(e(),!1):!0}class Mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function rg(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),a=(c,f)=>{if(c.pointerType==="touch"||_2())return;const g=e.getProps();e.animationState&&g.whileHover&&e.animationState.setActive("whileHover",t),g[s]&&st.update(()=>g[s](c,f))};return Ur(e.current,n,a,{passive:!e.getProps()[s]})}class UE extends Mi{mount(){this.unmount=Ni(rg(this.node,!0),rg(this.node,!1))}unmount(){}}class zE extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ni(Fr(this.node.current,"focus",()=>this.onFocus()),Fr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const O2=(e,t)=>t?e===t?!0:O2(e,t.parentElement):!1;function rd(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,su(n))}class WE extends Mi{constructor(){super(...arguments),this.removeStartListeners=Tt,this.removeEndListeners=Tt,this.removeAccessibleListeners=Tt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),c=Ur(window,"pointerup",(g,x)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:v,globalTapTarget:C}=this.node.getProps();st.update(()=>{!C&&!O2(this.node.current,g.target)?v&&v(g,x):m&&m(g,x)})},{passive:!(s.onTap||s.onPointerUp)}),f=Ur(window,"pointercancel",(g,x)=>this.cancelPress(g,x),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Ni(c,f),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=c=>{if(c.key!=="Enter"||this.isPressing)return;const f=g=>{g.key!=="Enter"||!this.checkPressEnd()||rd("up",(x,m)=>{const{onTap:v}=this.node.getProps();v&&st.update(()=>v(x,m))})};this.removeEndListeners(),this.removeEndListeners=Fr(this.node.current,"keyup",f),rd("down",(g,x)=>{this.startPress(g,x)})},n=Fr(this.node.current,"keydown",t),s=()=>{this.isPressing&&rd("cancel",(c,f)=>this.cancelPress(c,f))},a=Fr(this.node.current,"blur",s);this.removeAccessibleListeners=Ni(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&st.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_2()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&st.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=Ur(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Fr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ni(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Cf=new WeakMap,id=new WeakMap,HE=e=>{const t=Cf.get(e.target);t&&t(e)},GE=e=>{e.forEach(HE)};function XE({root:e,...t}){const n=e||document;id.has(n)||id.set(n,{});const s=id.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(GE,{root:e,...t})),s[a]}function YE(e,t,n){const s=XE(t);return Cf.set(e,n),s.observe(e),()=>{Cf.delete(e),s.unobserve(e)}}const ZE={some:0,all:1};class KE extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:c}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:ZE[a]},g=x=>{const{isIntersecting:m}=x;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:C}=this.node.getProps(),A=m?v:C;A&&A(x)};return YE(this.node.current,f,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($E(t,n))&&this.startObserver()}unmount(){}}function $E({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qE={inView:{Feature:KE},tap:{Feature:WE},focus:{Feature:zE},hover:{Feature:UE}};function P2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function QE(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function JE(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function ou(e,t,n){const s=e.getProps();return J0(s,t,n!==void 0?n:s.custom,QE(e),JE(e))}let e4=Tt,eh=Tt;const Ti=e=>e*1e3,zr=e=>e/1e3,t4={current:!1},D2=e=>Array.isArray(e)&&typeof e[0]=="number";function M2(e){return!!(!e||typeof e=="string"&&L2[e]||D2(e)||Array.isArray(e)&&e.every(M2))}const qo=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,L2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qo([0,.65,.55,1]),circOut:qo([.55,0,1,.45]),backIn:qo([.31,.01,.66,-.59]),backOut:qo([.33,1.53,.69,.99])};function B2(e){if(e)return D2(e)?qo(e):Array.isArray(e)?e.map(B2):L2[e]}function n4(e,t,n,{delay:s=0,duration:a,repeat:c=0,repeatType:f="loop",ease:g,times:x}={}){const m={[t]:n};x&&(m.offset=x);const v=B2(g);return Array.isArray(v)&&(m.easing=v),e.animate(m,{delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:f==="reverse"?"alternate":"normal"})}function r4(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const j2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,i4=1e-7,s4=12;function o4(e,t,n,s,a){let c,f,g=0;do f=t+(n-t)/2,c=j2(f,s,a)-e,c>0?n=f:t=f;while(Math.abs(c)>i4&&++g<s4);return f}function Wa(e,t,n,s){if(e===t&&n===s)return Tt;const a=c=>o4(c,0,1,e,n);return c=>c===0||c===1?c:j2(a(c),t,s)}const a4=Wa(.42,0,1,1),l4=Wa(0,0,.58,1),F2=Wa(.42,0,.58,1),c4=e=>Array.isArray(e)&&typeof e[0]!="number",V2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,U2=e=>t=>1-e(1-t),th=e=>1-Math.sin(Math.acos(e)),z2=U2(th),u4=V2(th),W2=Wa(.33,1.53,.69,.99),nh=U2(W2),d4=V2(nh),f4=e=>(e*=2)<1?.5*nh(e):.5*(2-Math.pow(2,-10*(e-1))),h4={linear:Tt,easeIn:a4,easeInOut:F2,easeOut:l4,circIn:th,circInOut:u4,circOut:z2,backIn:nh,backInOut:d4,backOut:W2,anticipate:f4},ig=e=>{if(Array.isArray(e)){eh(e.length===4);const[t,n,s,a]=e;return Wa(t,n,s,a)}else if(typeof e=="string")return h4[e];return e},rh=(e,t)=>n=>!!(Ua(n)&&gE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),H2=(e,t,n)=>s=>{if(!Ua(s))return s;const[a,c,f,g]=s.match(iu);return{[e]:parseFloat(a),[t]:parseFloat(c),[n]:parseFloat(f),alpha:g!==void 0?parseFloat(g):1}},g4=e=>ki(0,255,e),sd={...fs,transform:e=>Math.round(g4(e))},Ji={test:rh("rgb","red"),parse:H2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+sd.transform(e)+", "+sd.transform(t)+", "+sd.transform(n)+", "+la(aa.transform(s))+")"};function m4(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const bf={test:rh("#"),parse:m4,transform:Ji.transform},Ws={test:rh("hsl","hue"),parse:H2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Rr.transform(la(t))+", "+Rr.transform(la(n))+", "+la(aa.transform(s))+")"},dn={test:e=>Ji.test(e)||bf.test(e)||Ws.test(e),parse:e=>Ji.test(e)?Ji.parse(e):Ws.test(e)?Ws.parse(e):bf.parse(e),transform:e=>Ua(e)?e:e.hasOwnProperty("red")?Ji.transform(e):Ws.transform(e)},wt=(e,t,n)=>-n*e+n*t+e;function od(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function p4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,c=0,f=0;if(!t)a=c=f=n;else{const g=n<.5?n*(1+t):n+t-n*t,x=2*n-g;a=od(x,g,e+1/3),c=od(x,g,e),f=od(x,g,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(f*255),alpha:s}}const ad=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},x4=[bf,Ji,Ws],y4=e=>x4.find(t=>t.test(e));function sg(e){const t=y4(e);let n=t.parse(e);return t===Ws&&(n=p4(n)),n}const G2=(e,t)=>{const n=sg(e),s=sg(t),a={...n};return c=>(a.red=ad(n.red,s.red,c),a.green=ad(n.green,s.green,c),a.blue=ad(n.blue,s.blue,c),a.alpha=wt(n.alpha,s.alpha,c),Ji.transform(a))};function w4(e){var t,n;return isNaN(e)&&Ua(e)&&(((t=e.match(iu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(x2))===null||n===void 0?void 0:n.length)||0)>0}const X2={regex:fE,countKey:"Vars",token:"${v}",parse:Tt},Y2={regex:x2,countKey:"Colors",token:"${c}",parse:dn.parse},Z2={regex:iu,countKey:"Numbers",token:"${n}",parse:fs.parse};function ld(e,{regex:t,countKey:n,token:s,parse:a}){const c=e.tokenised.match(t);c&&(e["num"+n]=c.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...c.map(a)))}function Ic(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ld(n,X2),ld(n,Y2),ld(n,Z2),n}function K2(e){return Ic(e).values}function $2(e){const{values:t,numColors:n,numVars:s,tokenised:a}=Ic(e),c=t.length;return f=>{let g=a;for(let x=0;x<c;x++)x<s?g=g.replace(X2.token,f[x]):x<s+n?g=g.replace(Y2.token,dn.transform(f[x])):g=g.replace(Z2.token,la(f[x]));return g}}const v4=e=>typeof e=="number"?0:e;function C4(e){const t=K2(e);return $2(e)(t.map(v4))}const _i={test:w4,parse:K2,createTransformer:$2,getAnimatableNone:C4},q2=(e,t)=>n=>`${n>0?t:e}`;function Q2(e,t){return typeof e=="number"?n=>wt(e,t,n):dn.test(e)?G2(e,t):e.startsWith("var(")?q2(e,t):ey(e,t)}const J2=(e,t)=>{const n=[...e],s=n.length,a=e.map((c,f)=>Q2(c,t[f]));return c=>{for(let f=0;f<s;f++)n[f]=a[f](c);return n}},b4=(e,t)=>{const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Q2(e[a],t[a]));return a=>{for(const c in s)n[c]=s[c](a);return n}},ey=(e,t)=>{const n=_i.createTransformer(t),s=Ic(e),a=Ic(t);return s.numVars===a.numVars&&s.numColors===a.numColors&&s.numNumbers>=a.numNumbers?Ni(J2(s.values,a.values),n):q2(e,t)},Pa=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},og=(e,t)=>n=>wt(e,t,n);function E4(e){return typeof e=="number"?og:typeof e=="string"?dn.test(e)?G2:ey:Array.isArray(e)?J2:typeof e=="object"?b4:og}function A4(e,t,n){const s=[],a=n||E4(e[0]),c=e.length-1;for(let f=0;f<c;f++){let g=a(e[f],e[f+1]);if(t){const x=Array.isArray(t)?t[f]||Tt:t;g=Ni(x,g)}s.push(g)}return s}function ty(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const c=e.length;if(eh(c===t.length),c===1)return()=>t[0];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=A4(t,s,a),g=f.length,x=m=>{let v=0;if(g>1)for(;v<e.length-2&&!(m<e[v+1]);v++);const C=Pa(e[v],e[v+1],m);return f[v](C)};return n?m=>x(ki(e[0],e[c-1],m)):x}function S4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Pa(0,t,s);e.push(wt(n,1,a))}}function N4(e){const t=[0];return S4(t,e.length-1),t}function T4(e,t){return e.map(n=>n*t)}function I4(e,t){return e.map(()=>t||F2).splice(0,e.length-1)}function Rc({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=c4(s)?s.map(ig):ig(s),c={done:!1,value:t[0]},f=T4(n&&n.length===t.length?n:N4(t),e),g=ty(f,t,{ease:Array.isArray(a)?a:I4(t,a)});return{calculatedDuration:e,next:x=>(c.value=g(x),c.done=x>=e,c)}}function ny(e,t){return t?e*(1e3/t):0}const R4=5;function ry(e,t,n){const s=Math.max(t-R4,0);return ny(n-e(s),t-s)}const cd=.001,k4=.01,ag=10,_4=.05,O4=1;function P4({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let a,c;e4(e<=Ti(ag));let f=1-t;f=ki(_4,O4,f),e=ki(k4,ag,zr(e)),f<1?(a=m=>{const v=m*f,C=v*e,A=v-n,E=Ef(m,f),L=Math.exp(-C);return cd-A/E*L},c=m=>{const C=m*f*e,A=C*n+n,E=Math.pow(f,2)*Math.pow(m,2)*e,L=Math.exp(-C),R=Ef(Math.pow(m,2),f);return(-a(m)+cd>0?-1:1)*((A-E)*L)/R}):(a=m=>{const v=Math.exp(-m*e),C=(m-n)*e+1;return-cd+v*C},c=m=>{const v=Math.exp(-m*e),C=(n-m)*(e*e);return v*C});const g=5/e,x=M4(a,c,g);if(e=Ti(e),isNaN(x))return{stiffness:100,damping:10,duration:e};{const m=Math.pow(x,2)*s;return{stiffness:m,damping:f*2*Math.sqrt(s*m),duration:e}}}const D4=12;function M4(e,t,n){let s=n;for(let a=1;a<D4;a++)s=s-e(s)/t(s);return s}function Ef(e,t){return e*Math.sqrt(1-t*t)}const L4=["duration","bounce"],B4=["stiffness","damping","mass"];function lg(e,t){return t.some(n=>e[n]!==void 0)}function j4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!lg(e,B4)&&lg(e,L4)){const n=P4(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function iy({keyframes:e,restDelta:t,restSpeed:n,...s}){const a=e[0],c=e[e.length-1],f={done:!1,value:a},{stiffness:g,damping:x,mass:m,duration:v,velocity:C,isResolvedFromDuration:A}=j4({...s,velocity:-zr(s.velocity||0)}),E=C||0,L=x/(2*Math.sqrt(g*m)),R=c-a,D=zr(Math.sqrt(g/m)),O=Math.abs(R)<5;n||(n=O?.01:2),t||(t=O?.005:.5);let I;if(L<1){const T=Ef(D,L);I=B=>{const W=Math.exp(-L*D*B);return c-W*((E+L*D*R)/T*Math.sin(T*B)+R*Math.cos(T*B))}}else if(L===1)I=T=>c-Math.exp(-D*T)*(R+(E+D*R)*T);else{const T=D*Math.sqrt(L*L-1);I=B=>{const W=Math.exp(-L*D*B),X=Math.min(T*B,300);return c-W*((E+L*D*R)*Math.sinh(X)+T*R*Math.cosh(X))/T}}return{calculatedDuration:A&&v||null,next:T=>{const B=I(T);if(A)f.done=T>=v;else{let W=E;T!==0&&(L<1?W=ry(I,T,B):W=0);const X=Math.abs(W)<=n,F=Math.abs(c-B)<=t;f.done=X&&F}return f.value=f.done?c:B,f}}}function cg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:f,min:g,max:x,restDelta:m=.5,restSpeed:v}){const C=e[0],A={done:!1,value:C},E=z=>g!==void 0&&z<g||x!==void 0&&z>x,L=z=>g===void 0?x:x===void 0||Math.abs(g-z)<Math.abs(x-z)?g:x;let R=n*t;const D=C+R,O=f===void 0?D:f(D);O!==D&&(R=O-C);const I=z=>-R*Math.exp(-z/s),T=z=>O+I(z),B=z=>{const j=I(z),Q=T(z);A.done=Math.abs(j)<=m,A.value=A.done?O:Q};let W,X;const F=z=>{E(A.value)&&(W=z,X=iy({keyframes:[A.value,L(A.value)],velocity:ry(T,z,A.value),damping:a,stiffness:c,restDelta:m,restSpeed:v}))};return F(0),{calculatedDuration:null,next:z=>{let j=!1;return!X&&W===void 0&&(j=!0,B(z),F(z)),W!==void 0&&z>W?X.next(z-W):(!j&&B(z),A)}}}const F4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>st.update(t,!0),stop:()=>Yr(t),now:()=>sn.isProcessing?sn.timestamp:performance.now()}},ug=2e4;function dg(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ug;)t+=n,s=e.next(t);return t>=ug?1/0:t}const V4={decay:cg,inertia:cg,tween:Rc,keyframes:Rc,spring:iy};function kc({autoplay:e=!0,delay:t=0,driver:n=F4,keyframes:s,type:a="keyframes",repeat:c=0,repeatDelay:f=0,repeatType:g="loop",onPlay:x,onStop:m,onComplete:v,onUpdate:C,...A}){let E=1,L=!1,R,D;const O=()=>{D=new Promise(ee=>{R=ee})};O();let I;const T=V4[a]||Rc;let B;T!==Rc&&typeof s[0]!="number"&&(B=ty([0,100],s,{clamp:!1}),s=[0,100]);const W=T({...A,keyframes:s});let X;g==="mirror"&&(X=T({...A,keyframes:[...s].reverse(),velocity:-(A.velocity||0)}));let F="idle",z=null,j=null,Q=null;W.calculatedDuration===null&&c&&(W.calculatedDuration=dg(W));const{calculatedDuration:fe}=W;let q=1/0,ge=1/0;fe!==null&&(q=fe+f,ge=q*(c+1)-f);let de=0;const H=ee=>{if(j===null)return;E>0&&(j=Math.min(j,ee)),E<0&&(j=Math.min(ee-ge/E,j)),z!==null?de=z:de=Math.round(ee-j)*E;const re=de-t*(E>=0?1:-1),he=E>=0?re<0:re>ge;de=Math.max(re,0),F==="finished"&&z===null&&(de=ge);let ve=de,Ze=W;if(c){const ln=Math.min(de,ge)/q;let cn=Math.floor(ln),Qe=ln%1;!Qe&&ln>=1&&(Qe=1),Qe===1&&cn--,cn=Math.min(cn,c+1),!!(cn%2)&&(g==="reverse"?(Qe=1-Qe,f&&(Qe-=f/q)):g==="mirror"&&(Ze=X)),ve=ki(0,1,Qe)*q}const me=he?{done:!1,value:s[0]}:Ze.next(ve);B&&(me.value=B(me.value));let{done:Ve}=me;!he&&fe!==null&&(Ve=E>=0?de>=ge:de<=0);const dt=z===null&&(F==="finished"||F==="running"&&Ve);return C&&C(me.value),dt&&se(),me},pe=()=>{I&&I.stop(),I=void 0},ae=()=>{F="idle",pe(),R(),O(),j=Q=null},se=()=>{F="finished",v&&v(),pe(),R()},$=()=>{if(L)return;I||(I=n(H));const ee=I.now();x&&x(),z!==null?j=ee-z:(!j||F==="finished")&&(j=ee),F==="finished"&&O(),Q=j,z=null,F="running",I.start()};e&&$();const J={then(ee,re){return D.then(ee,re)},get time(){return zr(de)},set time(ee){ee=Ti(ee),de=ee,z!==null||!I||E===0?z=ee:j=I.now()-ee/E},get duration(){const ee=W.calculatedDuration===null?dg(W):W.calculatedDuration;return zr(ee)},get speed(){return E},set speed(ee){ee===E||!I||(E=ee,J.time=zr(de))},get state(){return F},play:$,pause:()=>{F="paused",z=de},stop:()=>{L=!0,F!=="idle"&&(F="idle",m&&m(),ae())},cancel:()=>{Q!==null&&H(Q),ae()},complete:()=>{F="finished"},sample:ee=>(j=0,H(ee))};return J}function U4(e){let t;return()=>(t===void 0&&(t=e()),t)}const z4=U4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),W4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),El=10,H4=2e4,G4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!M2(t.ease);function X4(e,t,{onUpdate:n,onComplete:s,...a}){if(!(z4()&&W4.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let f=!1,g,x,m=!1;const v=()=>{x=new Promise(T=>{g=T})};v();let{keyframes:C,duration:A=300,ease:E,times:L}=a;if(G4(t,a)){const T=kc({...a,repeat:0,delay:0});let B={done:!1,value:C[0]};const W=[];let X=0;for(;!B.done&&X<H4;)B=T.sample(X),W.push(B.value),X+=El;L=void 0,C=W,A=X-El,E="linear"}const R=n4(e.owner.current,t,C,{...a,duration:A,ease:E,times:L}),D=()=>{m=!1,R.cancel()},O=()=>{m=!0,st.update(D),g(),v()};return R.onfinish=()=>{m||(e.set(r4(C,a)),s&&s(),O())},{then(T,B){return x.then(T,B)},attachTimeline(T){return R.timeline=T,R.onfinish=null,Tt},get time(){return zr(R.currentTime||0)},set time(T){R.currentTime=Ti(T)},get speed(){return R.playbackRate},set speed(T){R.playbackRate=T},get duration(){return zr(A)},play:()=>{f||(R.play(),Yr(D))},pause:()=>R.pause(),stop:()=>{if(f=!0,R.playState==="idle")return;const{currentTime:T}=R;if(T){const B=kc({...a,autoplay:!1});e.setWithVelocity(B.sample(T-El).value,B.sample(T).value,El)}O()},complete:()=>{m||R.finish()},cancel:O}}function Y4({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const a=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Tt,pause:Tt,stop:Tt,then:c=>(c(),Promise.resolve()),cancel:Tt,complete:Tt});return t?kc({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Z4={type:"spring",stiffness:500,damping:25,restSpeed:10},K4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$4={type:"keyframes",duration:.8},q4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q4=(e,{keyframes:t})=>t.length>2?$4:ds.has(e)?e.startsWith("scale")?K4(t[1]):Z4:q4,Af=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_i.test(t)||t==="0")&&!t.startsWith("url(")),J4=new Set(["brightness","contrast","saturate","opacity"]);function eA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(iu)||[];if(!s)return e;const a=n.replace(s,"");let c=J4.has(t)?1:0;return s!==n&&(c*=100),t+"("+c+a+")"}const tA=/([a-z-]*)\(.*?\)/g,Sf={..._i,getAnimatableNone:e=>{const t=e.match(tA);return t?t.map(eA).join(" "):e}},nA={...y2,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Sf,WebkitFilter:Sf},ih=e=>nA[e];function sy(e,t){let n=ih(e);return n!==Sf&&(n=_i),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oy=e=>/^0[^.\s]+$/.test(e);function rA(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||oy(e)}function iA(e,t,n,s){const a=Af(t,n);let c;Array.isArray(n)?c=[...n]:c=[null,n];const f=s.from!==void 0?s.from:e.get();let g;const x=[];for(let m=0;m<c.length;m++)c[m]===null&&(c[m]=m===0?f:c[m-1]),rA(c[m])&&x.push(m),typeof c[m]=="string"&&c[m]!=="none"&&c[m]!=="0"&&(g=c[m]);if(a&&x.length&&g)for(let m=0;m<x.length;m++){const v=x[m];c[v]=sy(t,g)}return c}function sA({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:c,repeatType:f,repeatDelay:g,from:x,elapsed:m,...v}){return!!Object.keys(v).length}function sh(e,t){return e[t]||e.default||e}const oA={skipAnimations:!1},oh=(e,t,n,s={})=>a=>{const c=sh(s,e)||{},f=c.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ti(f);const x=iA(t,e,n,c),m=x[0],v=x[x.length-1],C=Af(e,m),A=Af(e,v);let E={keyframes:x,velocity:t.getVelocity(),ease:"easeOut",...c,delay:-g,onUpdate:L=>{t.set(L),c.onUpdate&&c.onUpdate(L)},onComplete:()=>{a(),c.onComplete&&c.onComplete()}};if(sA(c)||(E={...E,...Q4(e,E)}),E.duration&&(E.duration=Ti(E.duration)),E.repeatDelay&&(E.repeatDelay=Ti(E.repeatDelay)),!C||!A||t4.current||c.type===!1||oA.skipAnimations)return Y4(E);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const L=X4(t,e,E);if(L)return L}return kc(E)};function _c(e){return!!(kn(e)&&e.add)}const ay=e=>/^\-?\d*\.?\d+$/.test(e);function ah(e,t){e.indexOf(t)===-1&&e.push(t)}function lh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ch{constructor(){this.subscriptions=[]}add(t){return ah(this.subscriptions,t),()=>lh(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let c=0;c<a;c++){const f=this.subscriptions[c];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aA=e=>!isNaN(parseFloat(e));class lA{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,a=!0)=>{this.prev=this.current,this.current=s;const{delta:c,timestamp:f}=sn;this.lastUpdated!==f&&(this.timeDelta=c,this.lastUpdated=f,st.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>st.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=aA(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ch);const s=this.events[t].add(n);return t==="change"?()=>{s(),st.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ny(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ho(e,t){return new lA(e,t)}const ly=e=>t=>t.test(e),cA={test:e=>e==="auto",parse:e=>e},cy=[fs,Ie,Rr,ai,pE,mE,cA],Go=e=>cy.find(ly(e)),uA=[...cy,dn,_i],dA=e=>uA.find(ly(e));function fA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ho(n))}function hA(e,t){const n=ou(e,t);let{transitionEnd:s={},transition:a={},...c}=n?e.makeTargetAnimatable(n,!1):{};c={...c,...s};for(const f in c){const g=kE(c[f]);fA(e,f,g)}}function gA(e,t,n){var s,a;const c=Object.keys(t).filter(g=>!e.hasValue(g)),f=c.length;if(f)for(let g=0;g<f;g++){const x=c[g],m=t[x];let v=null;Array.isArray(m)&&(v=m[0]),v===null&&(v=(a=(s=n[x])!==null&&s!==void 0?s:e.readValue(x))!==null&&a!==void 0?a:t[x]),v!=null&&(typeof v=="string"&&(ay(v)||oy(v))?v=parseFloat(v):!dA(v)&&_i.test(m)&&(v=sy(x,m)),e.addValue(x,ho(v,{owner:e})),n[x]===void 0&&(n[x]=v),v!==null&&e.setBaseTarget(x,v))}}function mA(e,t){return t?(t[e]||t.default||t).from:void 0}function pA(e,t,n){const s={};for(const a in e){const c=mA(a,t);if(c!==void 0)s[a]=c;else{const f=n.getValue(a);f&&(s[a]=f.get())}}return s}function xA({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function yA(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function uy(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:f,...g}=e.makeTargetAnimatable(t);const x=e.getValue("willChange");s&&(c=s);const m=[],v=a&&e.animationState&&e.animationState.getState()[a];for(const C in g){const A=e.getValue(C),E=g[C];if(!A||E===void 0||v&&xA(v,C))continue;const L={delay:n,elapsed:0,...sh(c||{},C)};if(window.HandoffAppearAnimations){const O=e.getProps()[d2];if(O){const I=window.HandoffAppearAnimations(O,C,A,st);I!==null&&(L.elapsed=I,L.isHandoff=!0)}}let R=!L.isHandoff&&!yA(A,E);if(L.type==="spring"&&(A.getVelocity()||L.velocity)&&(R=!1),A.animation&&(R=!1),R)continue;A.start(oh(C,A,E,e.shouldReduceMotion&&ds.has(C)?{type:!1}:L));const D=A.animation;_c(x)&&(x.add(C),D.then(()=>x.remove(C))),m.push(D)}return f&&Promise.all(m).then(()=>{f&&hA(e,f)}),m}function Nf(e,t,n={}){const s=ou(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const c=s?()=>Promise.all(uy(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(x=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:C}=a;return wA(e,t,m+x,v,C,n)}:()=>Promise.resolve(),{when:g}=a;if(g){const[x,m]=g==="beforeChildren"?[c,f]:[f,c];return x().then(()=>m())}else return Promise.all([c(),f(n.delay)])}function wA(e,t,n=0,s=0,a=1,c){const f=[],g=(e.variantChildren.size-1)*s,x=a===1?(m=0)=>m*s:(m=0)=>g-m*s;return Array.from(e.variantChildren).sort(vA).forEach((m,v)=>{m.notify("AnimationStart",t),f.push(Nf(m,t,{...c,delay:n+x(v)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(f)}function vA(e,t){return e.sortNodePosition(t)}function CA(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(c=>Nf(e,c,n));s=Promise.all(a)}else if(typeof t=="string")s=Nf(e,t,n);else{const a=typeof t=="function"?ou(e,t,n.custom):t;s=Promise.all(uy(e,a,n))}return s.then(()=>e.notify("AnimationComplete",t))}const bA=[...H0].reverse(),EA=H0.length;function AA(e){return t=>Promise.all(t.map(({animation:n,options:s})=>CA(e,n,s)))}function SA(e){let t=AA(e);const n=TA();let s=!0;const a=(x,m)=>{const v=ou(e,m);if(v){const{transition:C,transitionEnd:A,...E}=v;x={...x,...E,...A}}return x};function c(x){t=x(e)}function f(x,m){const v=e.getProps(),C=e.getVariantContext(!0)||{},A=[],E=new Set;let L={},R=1/0;for(let O=0;O<EA;O++){const I=bA[O],T=n[I],B=v[I]!==void 0?v[I]:C[I],W=_a(B),X=I===m?T.isActive:null;X===!1&&(R=O);let F=B===C[I]&&B!==v[I]&&W;if(F&&s&&e.manuallyAnimateOnMount&&(F=!1),T.protectedKeys={...L},!T.isActive&&X===null||!B&&!T.prevProp||nu(B)||typeof B=="boolean")continue;let j=NA(T.prevProp,B)||I===m&&T.isActive&&!F&&W||O>R&&W,Q=!1;const fe=Array.isArray(B)?B:[B];let q=fe.reduce(a,{});X===!1&&(q={});const{prevResolvedValues:ge={}}=T,de={...ge,...q},H=pe=>{j=!0,E.has(pe)&&(Q=!0,E.delete(pe)),T.needsAnimating[pe]=!0};for(const pe in de){const ae=q[pe],se=ge[pe];if(L.hasOwnProperty(pe))continue;let $=!1;Tc(ae)&&Tc(se)?$=!P2(ae,se):$=ae!==se,$?ae!==void 0?H(pe):E.add(pe):ae!==void 0&&E.has(pe)?H(pe):T.protectedKeys[pe]=!0}T.prevProp=B,T.prevResolvedValues=q,T.isActive&&(L={...L,...q}),s&&e.blockInitialAnimation&&(j=!1),j&&(!F||Q)&&A.push(...fe.map(pe=>({animation:pe,options:{type:I,...x}})))}if(E.size){const O={};E.forEach(I=>{const T=e.getBaseTarget(I);T!==void 0&&(O[I]=T)}),A.push({animation:O})}let D=!!A.length;return s&&(v.initial===!1||v.initial===v.animate)&&!e.manuallyAnimateOnMount&&(D=!1),s=!1,D?t(A):Promise.resolve()}function g(x,m,v){var C;if(n[x].isActive===m)return Promise.resolve();(C=e.variantChildren)===null||C===void 0||C.forEach(E=>{var L;return(L=E.animationState)===null||L===void 0?void 0:L.setActive(x,m)}),n[x].isActive=m;const A=f(v,x);for(const E in n)n[E].protectedKeys={};return A}return{animateChanges:f,setActive:g,setAnimateFunction:c,getState:()=>n}}function NA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!P2(t,e):!1}function Hi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TA(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class IA extends Mi{constructor(t){super(t),t.animationState||(t.animationState=SA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),nu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let RA=0;class kA extends Mi{constructor(){super(...arguments),this.id=RA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const c=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&c.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const _A={animation:{Feature:IA},exit:{Feature:kA}},fg=(e,t)=>Math.abs(e-t);function OA(e,t){const n=fg(e.x,t.x),s=fg(e.y,t.y);return Math.sqrt(n**2+s**2)}class dy{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=dd(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,E=OA(C.offset,{x:0,y:0})>=3;if(!A&&!E)return;const{point:L}=C,{timestamp:R}=sn;this.history.push({...L,timestamp:R});const{onStart:D,onMove:O}=this.handlers;A||(D&&D(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,C)},this.handlePointerMove=(C,A)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=ud(A,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(C,A)=>{this.end();const{onEnd:E,onSessionEnd:L,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=dd(C.type==="pointercancel"?this.lastMoveEventInfo:ud(A,this.transformPagePoint),this.history);this.startEvent&&E&&E(C,D),L&&L(C,D)},!I2(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const f=su(t),g=ud(f,this.transformPagePoint),{point:x}=g,{timestamp:m}=sn;this.history=[{...x,timestamp:m}];const{onSessionStart:v}=n;v&&v(t,dd(g,this.history)),this.removeListeners=Ni(Ur(this.contextWindow,"pointermove",this.handlePointerMove),Ur(this.contextWindow,"pointerup",this.handlePointerUp),Ur(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Yr(this.updatePoint)}}function ud(e,t){return t?{point:t(e.point)}:e}function hg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dd({point:e},t){return{point:e,delta:hg(e,fy(t)),offset:hg(e,PA(t)),velocity:DA(t,.1)}}function PA(e){return e[0]}function fy(e){return e[e.length-1]}function DA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=fy(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Ti(t)));)n--;if(!s)return{x:0,y:0};const c=zr(a.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const f={x:(a.x-s.x)/c,y:(a.y-s.y)/c};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function Bn(e){return e.max-e.min}function Tf(e,t=0,n=.01){return Math.abs(e-t)<=n}function gg(e,t,n,s=.5){e.origin=s,e.originPoint=wt(t.min,t.max,e.origin),e.scale=Bn(n)/Bn(t),(Tf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=wt(n.min,n.max,e.origin)-e.originPoint,(Tf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ca(e,t,n,s){gg(e.x,t.x,n.x,s?s.originX:void 0),gg(e.y,t.y,n.y,s?s.originY:void 0)}function mg(e,t,n){e.min=n.min+t.min,e.max=e.min+Bn(t)}function MA(e,t,n){mg(e.x,t.x,n.x),mg(e.y,t.y,n.y)}function pg(e,t,n){e.min=t.min-n.min,e.max=e.min+Bn(t)}function ua(e,t,n){pg(e.x,t.x,n.x),pg(e.y,t.y,n.y)}function LA(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?wt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?wt(n,e,s.max):Math.min(e,n)),e}function xg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function BA(e,{top:t,left:n,bottom:s,right:a}){return{x:xg(e.x,n,a),y:xg(e.y,t,s)}}function yg(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function jA(e,t){return{x:yg(e.x,t.x),y:yg(e.y,t.y)}}function FA(e,t){let n=.5;const s=Bn(e),a=Bn(t);return a>s?n=Pa(t.min,t.max-s,e.min):s>a&&(n=Pa(e.min,e.max-a,t.min)),ki(0,1,n)}function VA(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const If=.35;function UA(e=If){return e===!1?e=0:e===!0&&(e=If),{x:wg(e,"left","right"),y:wg(e,"top","bottom")}}function wg(e,t,n){return{min:vg(e,t),max:vg(e,n)}}function vg(e,t){return typeof e=="number"?e:e[t]||0}const Cg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hs=()=>({x:Cg(),y:Cg()}),bg=()=>({min:0,max:0}),kt=()=>({x:bg(),y:bg()});function Yn(e){return[e("x"),e("y")]}function hy({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function zA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function WA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function fd(e){return e===void 0||e===1}function Rf({scale:e,scaleX:t,scaleY:n}){return!fd(e)||!fd(t)||!fd(n)}function Yi(e){return Rf(e)||gy(e)||e.z||e.rotate||e.rotateX||e.rotateY}function gy(e){return Eg(e.x)||Eg(e.y)}function Eg(e){return e&&e!=="0%"}function Oc(e,t,n){const s=e-n,a=t*s;return n+a}function Ag(e,t,n,s,a){return a!==void 0&&(e=Oc(e,a,s)),Oc(e,n,s)+t}function kf(e,t=0,n=1,s,a){e.min=Ag(e.min,t,n,s,a),e.max=Ag(e.max,t,n,s,a)}function my(e,{x:t,y:n}){kf(e.x,t.translate,t.scale,t.originPoint),kf(e.y,n.translate,n.scale,n.originPoint)}function HA(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let c,f;for(let g=0;g<a;g++){c=n[g],f=c.projectionDelta;const x=c.instance;x&&x.style&&x.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Gs(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,my(e,f)),s&&Yi(c.latestValues)&&Gs(e,c.latestValues))}t.x=Sg(t.x),t.y=Sg(t.y)}function Sg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function di(e,t){e.min=e.min+t,e.max=e.max+t}function Ng(e,t,[n,s,a]){const c=t[a]!==void 0?t[a]:.5,f=wt(e.min,e.max,c);kf(e,t[n],t[s],f,t.scale)}const GA=["x","scaleX","originX"],XA=["y","scaleY","originY"];function Gs(e,t){Ng(e.x,t,GA),Ng(e.y,t,XA)}function py(e,t){return hy(WA(e.getBoundingClientRect(),t))}function YA(e,t,n){const s=py(e,n),{scroll:a}=t;return a&&(di(s.x,a.offset.x),di(s.y,a.offset.y)),s}const xy=({current:e})=>e?e.ownerDocument.defaultView:null,ZA=new WeakMap;class KA{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(su(v,"page").point)},c=(v,C)=>{const{drag:A,dragPropagation:E,onDragStart:L}=this.getProps();if(A&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=k2(A),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(D=>{let O=this.getAxisMotionValue(D).get()||0;if(Rr.test(O)){const{projection:I}=this.visualElement;if(I&&I.layout){const T=I.layout.layoutBox[D];T&&(O=Bn(T)*(parseFloat(O)/100))}}this.originPoint[D]=O}),L&&st.update(()=>L(v,C),!1,!0);const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},f=(v,C)=>{const{dragPropagation:A,dragDirectionLock:E,onDirectionLock:L,onDrag:R}=this.getProps();if(!A&&!this.openGlobalLock)return;const{offset:D}=C;if(E&&this.currentDirection===null){this.currentDirection=$A(D),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",C.point,D),this.updateAxis("y",C.point,D),this.visualElement.render(),R&&R(v,C)},g=(v,C)=>this.stop(v,C),x=()=>Yn(v=>{var C;return this.getAnimationState(v)==="paused"&&((C=this.getAxisMotionValue(v).animation)===null||C===void 0?void 0:C.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new dy(t,{onSessionStart:a,onStart:c,onMove:f,onSessionEnd:g,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:xy(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&st.update(()=>c(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Al(t,a,this.currentDirection))return;const c=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=LA(f,this.constraints[t],this.elastic[t])),c.set(f)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,c=this.constraints;n&&zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=BA(a.layoutBox,n):this.constraints=!1,this.elastic=UA(s),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Yn(f=>{this.getAxisMotionValue(f)&&(this.constraints[f]=VA(a.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zs(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=YA(s,a.root,this.visualElement.getTransformPagePoint());let f=jA(a.layout.layoutBox,c);if(n){const g=n(zA(f));this.hasMutatedConstraints=!!g,g&&(f=hy(g))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:c,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),x=this.constraints||{},m=Yn(v=>{if(!Al(v,n,this.currentDirection))return;let C=x&&x[v]||{};f&&(C={min:0,max:0});const A=a?200:1e6,E=a?40:1e7,L={type:"inertia",velocity:s?t[v]:0,bounceStiffness:A,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...c,...C};return this.startAxisValueAnimation(v,L)});return Promise.all(m).then(g)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(oh(t,s,0,n))}stopAnimation(){Yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Yn(n=>{const{drag:s}=this.getProps();if(!Al(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:f,max:g}=a.layout.layoutBox[n];c.set(t[n]-wt(f,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zs(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Yn(f=>{const g=this.getAxisMotionValue(f);if(g){const x=g.get();a[f]=FA({min:x,max:x},this.constraints[f])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yn(f=>{if(!Al(f,t,null))return;const g=this.getAxisMotionValue(f),{min:x,max:m}=this.constraints[f];g.set(wt(x,m,a[f]))})}addListeners(){if(!this.visualElement.current)return;ZA.set(this.visualElement,this);const t=this.visualElement.current,n=Ur(t,"pointerdown",x=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(x)}),s=()=>{const{dragConstraints:x}=this.getProps();zs(x)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),s();const f=Fr(window,"resize",()=>this.scalePositionWithinConstraints()),g=a.addEventListener("didUpdate",({delta:x,hasLayoutChanged:m})=>{this.isDragging&&m&&(Yn(v=>{const C=this.getAxisMotionValue(v);C&&(this.originPoint[v]+=x[v].translate,C.set(C.get()+x[v].translate))}),this.visualElement.render())});return()=>{f(),n(),c(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:f=If,dragMomentum:g=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:c,dragElastic:f,dragMomentum:g}}}function Al(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $A(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class qA extends Mi{constructor(t){super(t),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new KA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tg=e=>(t,n)=>{e&&st.update(()=>e(t,n))};class QA extends Mi{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(t){this.session=new dy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Tg(t),onStart:Tg(n),onMove:s,onEnd:(c,f)=>{delete this.session,a&&st.update(()=>a(c,f))}}}mount(){this.removePointerDownListener=Ur(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function JA(){const e=_.useContext(eu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,a=_.useId();return _.useEffect(()=>s(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const Yl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ig(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const n=Ig(e,t.target.x),s=Ig(e,t.target.y);return`${n}% ${s}%`}},e8={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=_i.parse(e);if(a.length>5)return s;const c=_i.createTransformer(e),f=typeof a[0]!="number"?1:0,g=n.x.scale*t.x,x=n.y.scale*t.y;a[0+f]/=g,a[1+f]/=x;const m=wt(g,x,.5);return typeof a[2+f]=="number"&&(a[2+f]/=m),typeof a[3+f]=="number"&&(a[3+f]/=m),c(a)}};class t8 extends ue.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:c}=t;lE(n8),c&&(n.group&&n.group.add(c),s&&s.register&&a&&s.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Yl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:c}=this.props,f=s.projection;return f&&(f.isPresent=c,a||t.layoutDependency!==n||n===void 0?f.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?f.promote():f.relegate()||st.postRender(()=>{const g=f.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yy(e){const[t,n]=JA(),s=_.useContext(X0);return ue.createElement(t8,{...e,layoutGroup:s,switchLayoutGroup:_.useContext(h2),isPresent:t,safeToRemove:n})}const n8={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:e8},wy=["TopLeft","TopRight","BottomLeft","BottomRight"],r8=wy.length,Rg=e=>typeof e=="string"?parseFloat(e):e,kg=e=>typeof e=="number"||Ie.test(e);function i8(e,t,n,s,a,c){a?(e.opacity=wt(0,n.opacity!==void 0?n.opacity:1,s8(s)),e.opacityExit=wt(t.opacity!==void 0?t.opacity:1,0,o8(s))):c&&(e.opacity=wt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let f=0;f<r8;f++){const g=`border${wy[f]}Radius`;let x=_g(t,g),m=_g(n,g);if(x===void 0&&m===void 0)continue;x||(x=0),m||(m=0),x===0||m===0||kg(x)===kg(m)?(e[g]=Math.max(wt(Rg(x),Rg(m),s),0),(Rr.test(m)||Rr.test(x))&&(e[g]+="%")):e[g]=m}(t.rotate||n.rotate)&&(e.rotate=wt(t.rotate||0,n.rotate||0,s))}function _g(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const s8=vy(0,.5,z2),o8=vy(.5,.95,Tt);function vy(e,t,n){return s=>s<e?0:s>t?1:n(Pa(e,t,s))}function Og(e,t){e.min=t.min,e.max=t.max}function Xn(e,t){Og(e.x,t.x),Og(e.y,t.y)}function Pg(e,t,n,s,a){return e-=t,e=Oc(e,1/n,s),a!==void 0&&(e=Oc(e,1/a,s)),e}function a8(e,t=0,n=1,s=.5,a,c=e,f=e){if(Rr.test(t)&&(t=parseFloat(t),t=wt(f.min,f.max,t/100)-f.min),typeof t!="number")return;let g=wt(c.min,c.max,s);e===c&&(g-=t),e.min=Pg(e.min,t,n,g,a),e.max=Pg(e.max,t,n,g,a)}function Dg(e,t,[n,s,a],c,f){a8(e,t[n],t[s],t[a],t.scale,c,f)}const l8=["x","scaleX","originX"],c8=["y","scaleY","originY"];function Mg(e,t,n,s){Dg(e.x,t,l8,n?n.x:void 0,s?s.x:void 0),Dg(e.y,t,c8,n?n.y:void 0,s?s.y:void 0)}function Lg(e){return e.translate===0&&e.scale===1}function Cy(e){return Lg(e.x)&&Lg(e.y)}function u8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function by(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Bg(e){return Bn(e.x)/Bn(e.y)}class d8{constructor(){this.members=[]}add(t){ah(this.members,t),t.scheduleRender()}remove(t){if(lh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jg(e,t,n){let s="";const a=e.x.translate/t.x,c=e.y.translate/t.y;if((a||c)&&(s=`translate3d(${a}px, ${c}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:x,rotateX:m,rotateY:v}=n;x&&(s+=`rotate(${x}deg) `),m&&(s+=`rotateX(${m}deg) `),v&&(s+=`rotateY(${v}deg) `)}const f=e.x.scale*t.x,g=e.y.scale*t.y;return(f!==1||g!==1)&&(s+=`scale(${f}, ${g})`),s||"none"}const f8=(e,t)=>e.depth-t.depth;class h8{constructor(){this.children=[],this.isDirty=!1}add(t){ah(this.children,t),this.isDirty=!0}remove(t){lh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(f8),this.isDirty=!1,this.children.forEach(t)}}function g8(e,t){const n=performance.now(),s=({timestamp:a})=>{const c=a-n;c>=t&&(Yr(s),e(c-t))};return st.read(s,!0),()=>Yr(s)}function m8(e){window.MotionDebug&&window.MotionDebug.record(e)}function p8(e){return e instanceof SVGElement&&e.tagName!=="svg"}function x8(e,t,n){const s=kn(e)?e:ho(e);return s.start(oh("",s,t,n)),s.animation}const Fg=["","X","Y","Z"],y8={visibility:"hidden"},Vg=1e3;let w8=0;const Zi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ey({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(f={},g=t?.()){this.id=w8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zi.totalNodes=Zi.resolvedTargetDeltas=Zi.recalculatedProjection=0,this.nodes.forEach(b8),this.nodes.forEach(T8),this.nodes.forEach(I8),this.nodes.forEach(E8),m8(Zi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new h8)}addEventListener(f,g){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new ch),this.eventHandlers.get(f).add(g)}notifyListeners(f,...g){const x=this.eventHandlers.get(f);x&&x.notify(...g)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p8(f),this.instance=f;const{layoutId:x,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(m||x)&&(this.isLayoutDirty=!0),e){let C;const A=()=>this.root.updateBlockedByResize=!1;e(f,()=>{this.root.updateBlockedByResize=!0,C&&C(),C=g8(A,250),Yl.hasAnimatedSinceResize&&(Yl.hasAnimatedSinceResize=!1,this.nodes.forEach(zg))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&v&&(x||m)&&this.addEventListener("didUpdate",({delta:C,hasLayoutChanged:A,hasRelativeTargetChanged:E,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||v.getDefaultTransition()||P8,{onLayoutAnimationStart:D,onLayoutAnimationComplete:O}=v.getProps(),I=!this.targetLayout||!by(this.targetLayout,L)||E,T=!A&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||A&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(C,T);const B={...sh(R,"layout"),onPlay:D,onComplete:O};(v.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else A||zg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R8),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const C=this.path[v];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:g,layout:x}=this.options;if(g===void 0&&!x)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ug);return}this.isUpdating||this.nodes.forEach(S8),this.isUpdating=!1,this.nodes.forEach(N8),this.nodes.forEach(v8),this.nodes.forEach(C8),this.clearAllSnapshots();const g=performance.now();sn.delta=ki(0,1e3/60,g-sn.timestamp),sn.timestamp=g,sn.isProcessing=!0,nd.update.process(sn),nd.preRender.process(sn),nd.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(A8),this.sharedNodes.forEach(k8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let g=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(g=!1),g&&(this.scroll={animationId:this.root.animationId,phase:f,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const f=this.isLayoutDirty||this.shouldResetTransform,g=this.projectionDelta&&!Cy(this.projectionDelta),x=this.getTransformTemplate(),m=x?x(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;f&&(g||Yi(this.latestValues)||v)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const g=this.measurePageBox();let x=this.removeElementScroll(g);return f&&(x=this.removeTransform(x)),D8(x),{animationId:this.root.animationId,measuredBox:g,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return kt();const g=f.measureViewportBox(),{scroll:x}=this.root;return x&&(di(g.x,x.offset.x),di(g.y,x.offset.y)),g}removeElementScroll(f){const g=kt();Xn(g,f);for(let x=0;x<this.path.length;x++){const m=this.path[x],{scroll:v,options:C}=m;if(m!==this.root&&v&&C.layoutScroll){if(v.isRoot){Xn(g,f);const{scroll:A}=this.root;A&&(di(g.x,-A.offset.x),di(g.y,-A.offset.y))}di(g.x,v.offset.x),di(g.y,v.offset.y)}}return g}applyTransform(f,g=!1){const x=kt();Xn(x,f);for(let m=0;m<this.path.length;m++){const v=this.path[m];!g&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Gs(x,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Yi(v.latestValues)&&Gs(x,v.latestValues)}return Yi(this.latestValues)&&Gs(x,this.latestValues),x}removeTransform(f){const g=kt();Xn(g,f);for(let x=0;x<this.path.length;x++){const m=this.path[x];if(!m.instance||!Yi(m.latestValues))continue;Rf(m.latestValues)&&m.updateSnapshot();const v=kt(),C=m.measurePageBox();Xn(v,C),Mg(g,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Yi(this.latestValues)&&Mg(g,this.latestValues),g}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var g;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==x;if(!(f||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:C,layoutId:A}=this.options;if(!(!this.layout||!(C||A))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ua(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),my(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ua(this.relativeTargetOrigin,this.target,E.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rf(this.parent.latestValues)||gy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const g=this.getLead(),x=!!this.resumingFrom||this!==g;let m=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(m=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:v,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||C))return;Xn(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,E=this.treeScale.y;HA(this.layoutCorrected,this.treeScale,this.path,x),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox);const{target:L}=g;if(!L){this.projectionTransform&&(this.projectionDelta=Hs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Hs(),this.projectionDeltaWithTransform=Hs());const R=this.projectionTransform;ca(this.projectionDelta,this.layoutCorrected,L,this.latestValues),this.projectionTransform=jg(this.projectionDelta,this.treeScale),(this.projectionTransform!==R||this.treeScale.x!==A||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L)),Zi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(f,g=!1){const x=this.snapshot,m=x?x.latestValues:{},v={...this.latestValues},C=Hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const A=kt(),E=x?x.source:void 0,L=this.layout?this.layout.source:void 0,R=E!==L,D=this.getStack(),O=!D||D.members.length<=1,I=!!(R&&!O&&this.options.crossfade===!0&&!this.path.some(O8));this.animationProgress=0;let T;this.mixTargetDelta=B=>{const W=B/1e3;Wg(C.x,f.x,W),Wg(C.y,f.y,W),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ua(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_8(this.relativeTarget,this.relativeTargetOrigin,A,W),T&&u8(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=kt()),Xn(T,this.relativeTarget)),R&&(this.animationValues=v,i8(v,m,this.latestValues,W,I,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Yl.hasAnimatedSinceResize=!0,this.currentAnimation=x8(0,Vg,{...f,onUpdate:g=>{this.mixTargetDelta(g),f.onUpdate&&f.onUpdate(g)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:g,target:x,layout:m,latestValues:v}=f;if(!(!g||!x||!m)){if(this!==f&&this.layout&&m&&Ay(this.options.animationType,this.layout.layoutBox,m.layoutBox)){x=this.target||kt();const C=Bn(this.layout.layoutBox.x);x.x.min=f.target.x.min,x.x.max=x.x.min+C;const A=Bn(this.layout.layoutBox.y);x.y.min=f.target.y.min,x.y.max=x.y.min+A}Xn(g,x),Gs(g,v),ca(this.projectionDeltaWithTransform,this.layoutCorrected,g,v)}}registerSharedNode(f,g){this.sharedNodes.has(f)||this.sharedNodes.set(f,new d8),this.sharedNodes.get(f).add(g);const m=g.options.initialPromotionConfig;g.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(g):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:g}=this.options;return g?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:g}=this.options;return g?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:g,preserveFollowOpacity:x}={}){const m=this.getStack();m&&m.promote(this,x),f&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetRotation(){const{visualElement:f}=this.options;if(!f)return;let g=!1;const{latestValues:x}=f;if((x.rotate||x.rotateX||x.rotateY||x.rotateZ)&&(g=!0),!g)return;const m={};for(let v=0;v<Fg.length;v++){const C="rotate"+Fg[v];x[C]&&(m[C]=x[C],f.setStaticValue(C,0))}f.render();for(const v in m)f.setStaticValue(v,m[v]);f.scheduleRender()}getProjectionStyles(f){var g,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y8;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Xl(f?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const C=this.getLead();if(!this.projectionDelta||!this.layout||!C.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=Xl(f?.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(R.transform=v?v({},""):"none",this.hasProjected=!1),R}const A=C.animationValues||C.latestValues;this.applyTransformsToTarget(),m.transform=jg(this.projectionDeltaWithTransform,this.treeScale,A),v&&(m.transform=v(A,m.transform));const{x:E,y:L}=this.projectionDelta;m.transformOrigin=`${E.origin*100}% ${L.origin*100}% 0`,C.animationValues?m.opacity=C===this?(x=(g=A.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:m.opacity=C===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const R in Sc){if(A[R]===void 0)continue;const{correct:D,applyTo:O}=Sc[R],I=m.transform==="none"?A[R]:D(A[R],C);if(O){const T=O.length;for(let B=0;B<T;B++)m[O[B]]=I}else m[R]=I}return this.options.layoutId&&(m.pointerEvents=C===this?Xl(f?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var g;return(g=f.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(Ug),this.root.sharedNodes.clear()}}}function v8(e){e.updateLayout()}function C8(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:c}=e.options,f=n.source!==e.layout.source;c==="size"?Yn(C=>{const A=f?n.measuredBox[C]:n.layoutBox[C],E=Bn(A);A.min=s[C].min,A.max=A.min+E}):Ay(c,n.layoutBox,s)&&Yn(C=>{const A=f?n.measuredBox[C]:n.layoutBox[C],E=Bn(s[C]);A.max=A.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[C].max=e.relativeTarget[C].min+E)});const g=Hs();ca(g,s,n.layoutBox);const x=Hs();f?ca(x,e.applyTransform(a,!0),n.measuredBox):ca(x,s,n.layoutBox);const m=!Cy(g);let v=!1;if(!e.resumeFrom){const C=e.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:A,layout:E}=C;if(A&&E){const L=kt();ua(L,n.layoutBox,A.layoutBox);const R=kt();ua(R,s,E.layoutBox),by(L,R)||(v=!0),C.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=L,e.relativeParent=C)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:x,layoutDelta:g,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function b8(e){Zi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function E8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function A8(e){e.clearSnapshot()}function Ug(e){e.clearMeasurements()}function S8(e){e.isLayoutDirty=!1}function N8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function T8(e){e.resolveTargetDelta()}function I8(e){e.calcProjection()}function R8(e){e.resetRotation()}function k8(e){e.removeLeadSnapshot()}function Wg(e,t,n){e.translate=wt(t.translate,0,n),e.scale=wt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Hg(e,t,n,s){e.min=wt(t.min,n.min,s),e.max=wt(t.max,n.max,s)}function _8(e,t,n,s){Hg(e.x,t.x,n.x,s),Hg(e.y,t.y,n.y,s)}function O8(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P8={duration:.45,ease:[.4,0,.1,1]},Gg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Xg=Gg("applewebkit/")&&!Gg("chrome/")?Math.round:Tt;function Yg(e){e.min=Xg(e.min),e.max=Xg(e.max)}function D8(e){Yg(e.x),Yg(e.y)}function Ay(e,t,n){return e==="position"||e==="preserve-aspect"&&!Tf(Bg(t),Bg(n),.2)}const M8=Ey({attachResizeListener:(e,t)=>Fr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hd={current:void 0},Sy=Ey({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hd.current){const e=new M8({});e.mount(window),e.setOptions({layoutScroll:!0}),hd.current=e}return hd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),L8={pan:{Feature:QA},drag:{Feature:qA,ProjectionNode:Sy,MeasureLayout:yy}},B8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function j8(e){const t=B8.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function _f(e,t,n=1){const[s,a]=j8(e);if(!s)return;const c=window.getComputedStyle(t).getPropertyValue(s);if(c){const f=c.trim();return ay(f)?parseFloat(f):f}else return vf(a)?_f(a,t,n+1):a}function F8(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const c=a.get();if(!vf(c))return;const f=_f(c,s);f&&a.set(f)});for(const a in t){const c=t[a];if(!vf(c))continue;const f=_f(c,s);f&&(t[a]=f,n||(n={}),n[a]===void 0&&(n[a]=c))}return{target:t,transitionEnd:n}}const V8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ny=e=>V8.has(e),U8=e=>Object.keys(e).some(Ny),Zg=e=>e===fs||e===Ie,Kg=(e,t)=>parseFloat(e.split(", ")[t]),$g=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/);if(a)return Kg(a[1],t);{const c=s.match(/^matrix\((.+)\)$/);return c?Kg(c[1],e):0}},z8=new Set(["x","y","z"]),W8=Va.filter(e=>!z8.has(e));function H8(e){const t=[];return W8.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const go={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:$g(4,13),y:$g(5,14)};go.translateX=go.x;go.translateY=go.y;const G8=(e,t,n)=>{const s=t.measureViewportBox(),a=t.current,c=getComputedStyle(a),{display:f}=c,g={};f==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(m=>{g[m]=go[m](s,c)}),t.render();const x=t.measureViewportBox();return n.forEach(m=>{const v=t.getValue(m);v&&v.jump(g[m]),e[m]=go[m](x,c)}),e},X8=(e,t,n={},s={})=>{t={...t},s={...s};const a=Object.keys(t).filter(Ny);let c=[],f=!1;const g=[];if(a.forEach(x=>{const m=e.getValue(x);if(!e.hasValue(x))return;let v=n[x],C=Go(v);const A=t[x];let E;if(Tc(A)){const L=A.length,R=A[0]===null?1:0;v=A[R],C=Go(v);for(let D=R;D<L&&A[D]!==null;D++)E?eh(Go(A[D])===E):E=Go(A[D])}else E=Go(A);if(C!==E)if(Zg(C)&&Zg(E)){const L=m.get();typeof L=="string"&&m.set(parseFloat(L)),typeof A=="string"?t[x]=parseFloat(A):Array.isArray(A)&&E===Ie&&(t[x]=A.map(parseFloat))}else C?.transform&&E?.transform&&(v===0||A===0)?v===0?m.set(E.transform(v)):t[x]=C.transform(A):(f||(c=H8(e),f=!0),g.push(x),s[x]=s[x]!==void 0?s[x]:t[x],m.jump(A))}),g.length){const x=g.indexOf("height")>=0?window.pageYOffset:null,m=G8(t,e,g);return c.length&&c.forEach(([v,C])=>{e.getValue(v).set(C)}),e.render(),tu&&x!==null&&window.scrollTo({top:x}),{target:m,transitionEnd:s}}else return{target:t,transitionEnd:s}};function Y8(e,t,n,s){return U8(t)?X8(e,t,n,s):{target:t,transitionEnd:s}}const Z8=(e,t,n,s)=>{const a=F8(e,t,s);return t=a.target,s=a.transitionEnd,Y8(e,t,n,s)},Of={current:null},Ty={current:!1};function K8(){if(Ty.current=!0,!!tu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Of.current=e.matches;e.addListener(t),t()}else Of.current=!1}function $8(e,t,n){const{willChange:s}=t;for(const a in t){const c=t[a],f=n[a];if(kn(c))e.addValue(a,c),_c(s)&&s.add(a);else if(kn(f))e.addValue(a,ho(c,{owner:e})),_c(s)&&s.remove(a);else if(f!==c)if(e.hasValue(a)){const g=e.getValue(a);!g.hasAnimated&&g.set(c)}else{const g=e.getStaticValue(a);e.addValue(a,ho(g!==void 0?g:c,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const qg=new WeakMap,Iy=Object.keys(Oa),q8=Iy.length,Qg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Q8=G0.length;class J8{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>st.render(this.render,!1,!0);const{latestValues:g,renderState:x}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=x,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.isControllingVariants=ru(n),this.isVariantNode=f2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{});for(const C in v){const A=v[C];g[C]!==void 0&&kn(A)&&(A.set(g[C],!1),_c(m)&&m.add(C))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,qg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Ty.current||K8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Of.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qg.delete(this.current),this.projection&&this.projection.unmount(),Yr(this.notifyUpdate),Yr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=ds.has(t),a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&st.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),c=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),c()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,a,c){let f,g;for(let x=0;x<q8;x++){const m=Iy[x],{isEnabled:v,Feature:C,ProjectionNode:A,MeasureLayout:E}=Oa[m];A&&(f=A),v(n)&&(!this.features[m]&&C&&(this.features[m]=new C(this)),E&&(g=E))}if((this.type==="html"||this.type==="svg")&&!this.projection&&f){this.projection=new f(this.latestValues,this.parent&&this.parent.projection);const{layoutId:x,layout:m,drag:v,dragConstraints:C,layoutScroll:A,layoutRoot:E}=n;this.projection.setOptions({layoutId:x,layout:m,alwaysMeasureLayout:!!v||C&&zs(C),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:c,layoutScroll:A,layoutRoot:E})}return g}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Qg.length;s++){const a=Qg[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c=t["on"+a];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=$8(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<Q8;s++){const a=G0[s],c=this.props[a];(_a(c)||c===!1)&&(n[a]=c)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ho(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,a=typeof s=="string"||typeof s=="object"?(n=J0(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!kn(c)?c:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ch),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ry extends J8{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:a},c){let f=pA(s,t||{},this);if(a&&(n&&(n=a(n)),s&&(s=a(s)),f&&(f=a(f))),c){gA(this,s,f);const g=Z8(this,s,f,n);n=g.transitionEnd,s=g.target}return{transition:t,transitionEnd:n,...s}}}function eS(e){return window.getComputedStyle(e)}class tS extends Ry{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ds.has(n)){const s=ih(n);return s&&s.default||0}else{const s=eS(t),a=(p2(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return py(t,n)}build(t,n,s,a){Z0(t,n,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Q0(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,a){b2(t,n,s,a)}}class nS extends Ry{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ds.has(n)){const s=ih(n);return s&&s.default||0}return n=E2.has(n)?n:W0(n),t.getAttribute(n)}measureInstanceViewportBox(){return kt()}scrapeMotionValuesFromProps(t,n){return S2(t,n)}build(t,n,s,a){$0(t,n,s,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,s,a){A2(t,n,s,a)}mount(t){this.isSVGTag=q0(t.tagName),super.mount(t)}}const rS=(e,t)=>Y0(e)?new nS(t,{enableHardwareAcceleration:!1}):new tS(t,{enableHardwareAcceleration:!0}),iS={layout:{ProjectionNode:Sy,MeasureLayout:yy}},sS={..._A,...qE,...L8,...iS},Sn=oE((e,t)=>jE(e,t,sS,rS));function ky(){const e=_.useRef(!1);return z0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function oS(){const e=ky(),[t,n]=_.useState(0),s=_.useCallback(()=>{e.current&&n(t+1)},[t]);return[_.useCallback(()=>st.postRender(s),[s]),t]}class aS extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lS({children:e,isPresent:t}){const n=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:c,height:f,top:g,left:x}=a.current;if(t||!s.current||!c||!f)return;s.current.dataset.motionPopId=n;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            top: ${g}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[t]),_.createElement(aS,{isPresent:t,childRef:s,sizeRef:a},_.cloneElement(e,{ref:s}))}const gd=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:c,mode:f})=>{const g=N2(cS),x=_.useId(),m=_.useMemo(()=>({id:x,initial:t,isPresent:n,custom:a,onExitComplete:v=>{g.set(v,!0);for(const C of g.values())if(!C)return;s&&s()},register:v=>(g.set(v,!1),()=>g.delete(v))}),c?void 0:[n]);return _.useMemo(()=>{g.forEach((v,C)=>g.set(C,!1))},[n]),_.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),f==="popLayout"&&(e=_.createElement(lS,{isPresent:n},e)),_.createElement(eu.Provider,{value:m},e)};function cS(){return new Map}function uS(e){return _.useEffect(()=>()=>e(),[])}const Ki=e=>e.key||"";function dS(e,t){e.forEach(n=>{const s=Ki(n);t.set(s,n)})}function fS(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const _y=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:c=!0,mode:f="sync"})=>{const g=_.useContext(X0).forceRender||oS()[0],x=ky(),m=fS(e);let v=m;const C=_.useRef(new Map).current,A=_.useRef(v),E=_.useRef(new Map).current,L=_.useRef(!0);if(z0(()=>{L.current=!1,dS(m,E),A.current=v}),uS(()=>{L.current=!0,E.clear(),C.clear()}),L.current)return _.createElement(_.Fragment,null,v.map(I=>_.createElement(gd,{key:Ki(I),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:c,mode:f},I)));v=[...v];const R=A.current.map(Ki),D=m.map(Ki),O=R.length;for(let I=0;I<O;I++){const T=R[I];D.indexOf(T)===-1&&!C.has(T)&&C.set(T,void 0)}return f==="wait"&&C.size&&(v=[]),C.forEach((I,T)=>{if(D.indexOf(T)!==-1)return;const B=E.get(T);if(!B)return;const W=R.indexOf(T);let X=I;if(!X){const F=()=>{C.delete(T);const z=Array.from(E.keys()).filter(j=>!D.includes(j));if(z.forEach(j=>E.delete(j)),A.current=m.filter(j=>{const Q=Ki(j);return Q===T||z.includes(Q)}),!C.size){if(x.current===!1)return;g(),s&&s()}};X=_.createElement(gd,{key:Ki(B),isPresent:!1,onExitComplete:F,custom:t,presenceAffectsLayout:c,mode:f},B),C.set(T,X)}v.splice(W,0,X)}),v=v.map(I=>{const T=I.key;return C.has(T)?I:_.createElement(gd,{key:Ki(I),isPresent:!0,presenceAffectsLayout:c,mode:f},I)}),_.createElement(_.Fragment,null,C.size?v:v.map(I=>_.cloneElement(I)))};function Jg({onNavigateToRewards:e}){const t=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",n=localStorage.getItem("usuario_id"),s=localStorage.getItem("token"),[a,c]=_.useState(0),[f,g]=_.useState(!1),[x,m]=_.useState(!0),[v,C]=_.useState([]),A=()=>({"Content-Type":"application/json",Authorization:`Bearer ${s}`}),E=async()=>{if(!(!n||!s))try{const D=await fetch(`${t}/obtenerPuntos?usuario_id=${n}`,{headers:A()});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const O=await D.json();c(O.puntos||0)}catch(D){console.error("Error al obtener puntos:",D)}},L=async()=>{if(!(!n||!s))try{const D=await fetch(`${t}/obtenerHistorial?usuario_id=${n}`,{headers:A()});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const I=(await D.json()).sort((T,B)=>new Date(B.date).getTime()-new Date(T.date).getTime());C(I)}catch(D){console.error("Error al obtener historial:",D)}};_.useEffect(()=>{n&&s?(async()=>{m(!0);try{await Promise.all([E(),L()])}catch(O){console.error("Error cargando datos:",O)}finally{m(!1)}})():m(!1)},[n,s]);const R=f?v:v.slice(0,4);return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Hola,"}),y.jsx("h1",{className:"text-gray-900 dark:text-white",children:localStorage.getItem("usuario_nombre")})]}),y.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:y.jsx(Si,{className:"w-10 h-10 text-white"})})]}),y.jsx(Sn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:y.jsx(et,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6 border-0",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Si,{className:"w-5 h-5"}),y.jsx("span",{className:"text-emerald-100",children:"Balance disponible"})]}),y.jsx("div",{className:"space-y-1",children:y.jsx("div",{className:"flex items-baseline gap-1",children:a?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-4xl font-semibold",children:a.toLocaleString()}),y.jsx("span",{className:"text-xl text-emerald-100",children:"ecopoints"})]}):y.jsx("span",{className:"text-sm text-emerald-100 italic",children:"Cargando..."})})}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsxs(Pe,{className:"flex-1 bg-white text-emerald-600 hover:bg-emerald-50",onClick:e,children:[y.jsx(ka,{className:"w-4 h-4 mr-2"}),"Canjear"]}),y.jsx(Pe,{className:"flex-1 bg-emerald-600 border border-white/30 text-white hover:bg-emerald-800",onClick:e,children:"Ver premios"})]})]})})}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Actividad reciente"}),y.jsxs("button",{onClick:()=>g(!f),className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1",children:[f?"Ver menos":"Ver todo",y.jsx(Lb,{className:"w-4 h-4"})]})]}),y.jsx("div",{className:`space-y-3 ${f?"max-h-[400px] overflow-y-auto pr-2":""}`,children:R.map(D=>y.jsx(Sn.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2},children:y.jsx(et,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center bg-emerald-100 dark:bg-emerald-900 ${D.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:D.type==="scan"?y.jsx(Si,{className:"lucide lucide-leaf w-5 h-5 text-emerald-600 dark:text-emerald-400"}):y.jsx(ka,{className:"w-5 h-5 text-orange-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:D.description}),y.jsx("p",{className:"text-gray-500 text-sm dark:text-gray-400",children:D.location})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:`${D.type==="scan"?"text-emerald-600 dark:text-emerald-400":"text-orange-600"} font-semibold`,children:[D.type==="scan"?"+":"-",D.points]}),y.jsx("p",{className:"text-gray-500 text-sm",children:new Date(D.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})})},D.id))})]})]})}var xe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xe||(xe={}));var em=new Map([[xe.QR_CODE,"QR_CODE"],[xe.AZTEC,"AZTEC"],[xe.CODABAR,"CODABAR"],[xe.CODE_39,"CODE_39"],[xe.CODE_93,"CODE_93"],[xe.CODE_128,"CODE_128"],[xe.DATA_MATRIX,"DATA_MATRIX"],[xe.MAXICODE,"MAXICODE"],[xe.ITF,"ITF"],[xe.EAN_13,"EAN_13"],[xe.EAN_8,"EAN_8"],[xe.PDF_417,"PDF_417"],[xe.RSS_14,"RSS_14"],[xe.RSS_EXPANDED,"RSS_EXPANDED"],[xe.UPC_A,"UPC_A"],[xe.UPC_E,"UPC_E"],[xe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),tm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(tm||(tm={}));function hS(e){return Object.values(xe).includes(e)}var Pc;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Pc||(Pc={}));var gS=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Pc.SCAN_TYPE_CAMERA,Pc.SCAN_TYPE_FILE],e}(),Oy=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!em.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,em.get(t))},e}(),nm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Pf;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Pf||(Pf={}));var mS=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Pf.UNKWOWN_ERROR}},e}(),pS=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Dr(e){return typeof e>"u"||e===null}var Xs=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Py=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var s=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(a),f=Object.keys(t),g=0,x=f;g<x.length;g++){var m=x[g];if(c.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Df={exports:{}};(function(e,t){(function(n,s){s(t)})(Po,function(n){function s(S){return S==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,r){S.__proto__=r}||function(S,r){for(var i in r)r.hasOwnProperty(i)&&(S[i]=r[i])};function c(S,r){a(S,r);function i(){this.constructor=S}S.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function f(S,r){var i=Object.setPrototypeOf;i?i(S,r):S.__proto__=r}function g(S,r){r===void 0&&(r=S.constructor);var i=Error.captureStackTrace;i&&i(S,r)}var x=function(S){c(r,S);function r(i){var o=this.constructor,l=S.call(this,i)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),f(l,o.prototype),g(l),l}return r}(Error);class m extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class C extends m{}C.kind="IllegalArgumentException";class A{constructor(r){if(this.binarizer=r,r===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,o,l){const u=this.binarizer.getLuminanceSource().crop(r,i,o,l);return new A(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends m{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class L{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(r,i,o,l,u){for(;u--;)o[l++]=r[i++]}static currentTimeMillis(){return Date.now()}}class D extends m{}D.kind="IndexOutOfBoundsException";class O extends D{constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}O.kind="ArrayIndexOutOfBoundsException";class I{static fill(r,i){for(let o=0,l=r.length;o<l;o++)r[o]=i}static fillWithin(r,i,o,l){I.rangeCheck(r.length,i,o);for(let u=i;u<o;u++)r[u]=l}static rangeCheck(r,i,o){if(i>o)throw new C("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new O(i);if(o>r)throw new O(o)}static asList(...r){return r}static create(r,i,o){return Array.from({length:r}).map(u=>Array.from({length:i}).fill(o))}static createInt32Array(r,i,o){return Array.from({length:r}).map(u=>Int32Array.from({length:i}).fill(o))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let o=0,l=r.length;o<l;o++)if(r[o]!==i[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const o of r)i=31*i+o;return i}static fillUint8Array(r,i){for(let o=0;o!==r.length;o++)r[o]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const o=new Uint8Array(i);return o.set(r),o}return r.slice(0,i)}static copyOfRange(r,i,o){const l=o-i,u=new Int32Array(l);return R.arraycopy(r,i,u,0,l),u}static binarySearch(r,i,o){o===void 0&&(o=I.numberComparator);let l=0,u=r.length-1;for(;l<=u;){const d=u+l>>1,h=o(i,r[d]);if(h>0)l=d+1;else if(h<0)u=d-1;else return d}return-l-1}static numberComparator(r,i){return r-i}}class T{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let o=31;return i=r<<16,i!==0&&(o-=16,r=i),i=r<<8,i!==0&&(o-=8,r=i),i=r<<4,i!==0&&(o-=4,r=i),i=r<<2,i!==0&&(o-=2,r=i),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=B.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=B.makeArray(r);R.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const o=this.bits;let l=Math.floor(r/32),u=o[l];u&=~((1<<(r&31))-1);const d=o.length;for(;u===0;){if(++l===d)return i;u=o[l]}const h=l*32+T.numberOfTrailingZeros(u);return h>i?i:h}getNextUnset(r){const i=this.size;if(r>=i)return i;const o=this.bits;let l=Math.floor(r/32),u=~o[l];u&=~((1<<(r&31))-1);const d=o.length;for(;u===0;){if(++l===d)return i;u=~o[l]}const h=l*32+T.numberOfTrailingZeros(u);return h>i?i:h}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new C;if(i===r)return;i--;const o=Math.floor(r/32),l=Math.floor(i/32),u=this.bits;for(let d=o;d<=l;d++){const h=d>o?0:r&31,w=(2<<(d<l?31:i&31))-(1<<h);u[d]|=w}}clear(){const r=this.bits.length,i=this.bits;for(let o=0;o<r;o++)i[o]=0}isRange(r,i,o){if(i<r||r<0||i>this.size)throw new C;if(i===r)return!0;i--;const l=Math.floor(r/32),u=Math.floor(i/32),d=this.bits;for(let h=l;h<=u;h++){const p=h>l?0:r&31,b=(2<<(h<u?31:i&31))-(1<<p)&4294967295;if((d[h]&b)!==(o?b:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new C("Sizes don't match");const i=this.bits;for(let o=0,l=i.length;o<l;o++)i[o]^=r.bits[o]}toBytes(r,i,o,l){for(let u=0;u<l;u++){let d=0;for(let h=0;h<8;h++)this.get(r)&&(d|=1<<7-h),r++;i[o+u]=d}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,l=this.bits;for(let u=0;u<o;u++){let d=l[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,r[i-u]=d}if(this.size!==o*32){const u=o*32-this.size;let d=r[0]>>>u;for(let h=1;h<o;h++){const p=r[h];d|=p<<32-u,r[h-1]=d,d=p>>>u}r[o-1]=d}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof B))return!1;const i=r;return this.size===i.size&&I.equals(this.bits,i.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let r="";for(let i=0,o=this.size;i<o;i++)i&7||(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new B(this.size,this.bits.slice())}}var W;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var X=W;class F extends m{static getFormatInstance(){return new F}}F.kind="FormatException";var z;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(z||(z={}));class j{constructor(r,i,o,...l){this.valueIdentifier=r,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,j.VALUE_IDENTIFIER_TO_ECI.set(r,this),j.NAME_TO_ECI.set(o,this);const u=this.values;for(let d=0,h=u.length;d!==h;d++){const p=u[d];j.VALUES_TO_ECI.set(p,this)}for(const d of l)j.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new F("incorect value");const i=j.VALUES_TO_ECI.get(r);if(i===void 0)throw new F("incorect value");return i}static getCharacterSetECIByName(r){const i=j.NAME_TO_ECI.get(r);if(i===void 0)throw new F("incorect value");return i}equals(r){if(!(r instanceof j))return!1;const i=r;return this.getName()===i.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(z.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(z.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(z.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(z.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(z.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(z.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(z.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(z.Big5,28,"Big5"),j.GB18030=new j(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(z.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends m{}Q.kind="UnsupportedOperationException";class fe{static decode(r,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!fe.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof j?r:j.getCharacterSetECIByName(r)}static decodeFallback(r,i){const o=this.encodingCharacterSet(i);if(fe.isDecodeFallbackSupported(o)){let l="";for(let u=0,d=r.length;u<d;u++){let h=r[u].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(o.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Q(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(j.UTF8)||r.equals(j.ISO8859_1)||r.equals(j.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class q{static castAsNonUtf8Char(r,i=null){const o=i?i.getName():this.ISO88591;return fe.decode(new Uint8Array([r]),o)}static guessEncoding(r,i){if(i!=null&&i.get(X.CHARACTER_SET)!==void 0)return i.get(X.CHARACTER_SET).toString();const o=r.length;let l=!0,u=!0,d=!0,h=0,p=0,w=0,b=0,N=0,k=0,M=0,V=0,U=0,G=0,K=0;const oe=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let le=0;le<o&&(l||u||d);le++){const ne=r[le]&255;d&&(h>0?ne&128?h--:d=!1:ne&128&&(ne&64?(h++,ne&32?(h++,ne&16?(h++,ne&8?d=!1:b++):w++):p++):d=!1)),l&&(ne>127&&ne<160?l=!1:ne>159&&(ne<192||ne===215||ne===247)&&K++),u&&(N>0?ne<64||ne===127||ne>252?u=!1:N--:ne===128||ne===160||ne>239?u=!1:ne>160&&ne<224?(k++,V=0,M++,M>U&&(U=M)):ne>127?(N++,M=0,V++,V>G&&(G=V)):(M=0,V=0))}return d&&h>0&&(d=!1),u&&N>0&&(u=!1),d&&(oe||p+w+b>0)?q.UTF8:u&&(q.ASSUME_SHIFT_JIS||U>=3||G>=3)?q.SHIFT_JIS:l&&u?U===2&&k===2||K*10>=o?q.SHIFT_JIS:q.ISO88591:l?q.ISO88591:u?q.SHIFT_JIS:d?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let o=-1;function l(d,h,p,w,b,N){if(d==="%%")return"%";if(i[++o]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let k=b?parseInt(b.substr(1)):void 0,M;switch(N){case"s":M=i[o];break;case"c":M=i[o][0];break;case"f":M=parseFloat(i[o]).toFixed(d);break;case"p":M=parseFloat(i[o]).toPrecision(d);break;case"e":M=parseFloat(i[o]).toExponential(d);break;case"x":M=parseInt(i[o]).toString(k||16);break;case"d":M=parseFloat(parseInt(i[o],k||10).toPrecision(d)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(k);let V=parseInt(p),U=p&&p[0]+""=="0"?"0":" ";for(;M.length<V;)M=h!==void 0?M+U:U+M;return M}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,l)}static getBytes(r,i){return fe.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}q.SHIFT_JIS=j.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=j.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=j.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class ge{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=q.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,o){for(let l=i;i<i+o;l++)this.append(r[l]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class de{constructor(r,i,o,l){if(this.width=r,this.height=i,this.rowSize=o,this.bits=l,i==null&&(i=r),this.height=i,r<1||i<1)throw new C("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,o=r[0].length,l=new de(o,i);for(let u=0;u<i;u++){const d=r[u];for(let h=0;h<o;h++)d[h]&&l.set(h,u)}return l}static parseFromString(r,i,o){if(r===null)throw new C("stringRepresentation cannot be null");const l=new Array(r.length);let u=0,d=0,h=-1,p=0,w=0;for(;w<r.length;)if(r.charAt(w)===`
`||r.charAt(w)==="\r"){if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new C("row lengths do not match");d=u,p++}w++}else if(r.substring(w,w+i.length)===i)w+=i.length,l[u]=!0,u++;else if(r.substring(w,w+o.length)===o)w+=o.length,l[u]=!1,u++;else throw new C("illegal character encountered: "+r.substring(w));if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new C("row lengths do not match");p++}const b=new de(h,p);for(let N=0;N<u;N++)l[N]&&b.set(Math.floor(N%h),Math.floor(N/h));return b}get(r,i){const o=i*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,i){const o=i*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new C("input matrix dimensions do not match");const i=new B(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,d=this.height;u<d;u++){const h=u*o,p=r.getRow(u,i).getBitArray();for(let w=0;w<o;w++)l[h+w]^=p[w]}}clear(){const r=this.bits,i=r.length;for(let o=0;o<i;o++)r[o]=0}setRegion(r,i,o,l){if(i<0||r<0)throw new C("Left and top must be nonnegative");if(l<1||o<1)throw new C("Height and width must be at least 1");const u=r+o,d=i+l;if(d>this.height||u>this.width)throw new C("The region must fit inside the matrix");const h=this.rowSize,p=this.bits;for(let w=i;w<d;w++){const b=w*h;for(let N=r;N<u;N++)p[b+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new B(this.width):i.clear();const o=this.rowSize,l=this.bits,u=r*o;for(let d=0;d<o;d++)i.setBulk(d*32,l[u+d]);return i}setRow(r,i){R.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let o=new B(r),l=new B(r);for(let u=0,d=Math.floor((i+1)/2);u<d;u++)o=this.getRow(u,o),l=this.getRow(i-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,o)}getEnclosingRectangle(){const r=this.width,i=this.height,o=this.rowSize,l=this.bits;let u=r,d=i,h=-1,p=-1;for(let w=0;w<i;w++)for(let b=0;b<o;b++){const N=l[w*o+b];if(N!==0){if(w<d&&(d=w),w>p&&(p=w),b*32<u){let k=0;for(;!(N<<31-k&4294967295);)k++;b*32+k<u&&(u=b*32+k)}if(b*32+31>h){let k=31;for(;!(N>>>k);)k--;b*32+k>h&&(h=b*32+k)}}}return h<u||p<d?null:Int32Array.from([u,d,h-u+1,p-d+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const l=o/r;let u=o%r*32;const d=i[o];let h=0;for(;!(d<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,l])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/r);let u=Math.floor(o%r)*32;const d=i[o];let h=31;for(;!(d>>>h);)h--;return u+=h,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof de))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&I.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+I.hashCode(this.bits),r}toString(r="X ",i="  ",o=`
`){return this.buildToString(r,i,o)}buildToString(r,i,o){let l=new ge;for(let u=0,d=this.height;u<d;u++){for(let h=0,p=this.width;h<p;h++)l.append(this.get(h,u)?r:i);l.append(o)}return l.toString()}clone(){return new de(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends m{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class pe extends L{constructor(r){super(r),this.luminances=pe.EMPTY,this.buckets=new Int32Array(pe.LUMINANCE_BUCKETS)}getBlackRow(r,i){const o=this.getLuminanceSource(),l=o.getWidth();i==null||i.getSize()<l?i=new B(l):i.clear(),this.initArrays(l);const u=o.getRow(r,this.luminances),d=this.buckets;for(let p=0;p<l;p++)d[(u[p]&255)>>pe.LUMINANCE_SHIFT]++;const h=pe.estimateBlackPoint(d);if(l<3)for(let p=0;p<l;p++)(u[p]&255)<h&&i.set(p);else{let p=u[0]&255,w=u[1]&255;for(let b=1;b<l-1;b++){const N=u[b+1]&255;(w*4-p-N)/2<h&&i.set(b),p=w,w=N}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight(),l=new de(i,o);this.initArrays(i);const u=this.buckets;for(let p=1;p<5;p++){const w=Math.floor(o*p/5),b=r.getRow(w,this.luminances),N=Math.floor(i*4/5);for(let k=Math.floor(i/5);k<N;k++){const M=b[k]&255;u[M>>pe.LUMINANCE_SHIFT]++}}const d=pe.estimateBlackPoint(u),h=r.getMatrix();for(let p=0;p<o;p++){const w=p*i;for(let b=0;b<i;b++)(h[w+b]&255)<d&&l.set(b,p)}return l}createBinarizer(r){return new pe(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let o=0;o<pe.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(r){const i=r.length;let o=0,l=0,u=0;for(let b=0;b<i;b++)r[b]>u&&(l=b,u=r[b]),r[b]>o&&(o=r[b]);let d=0,h=0;for(let b=0;b<i;b++){const N=b-l,k=r[b]*N*N;k>h&&(d=b,h=k)}if(l>d){const b=l;l=d,d=b}if(d-l<=i/16)throw new H;let p=d-1,w=-1;for(let b=d-1;b>l;b--){const N=b-l,k=N*N*(d-b)*(o-r[b]);k>w&&(p=b,w=k)}return p<<pe.LUMINANCE_SHIFT}}pe.LUMINANCE_BITS=5,pe.LUMINANCE_SHIFT=8-pe.LUMINANCE_BITS,pe.LUMINANCE_BUCKETS=1<<pe.LUMINANCE_BITS,pe.EMPTY=Uint8ClampedArray.from([0]);class ae extends pe{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),o=r.getHeight();if(i>=ae.MINIMUM_DIMENSION&&o>=ae.MINIMUM_DIMENSION){const l=r.getMatrix();let u=i>>ae.BLOCK_SIZE_POWER;i&ae.BLOCK_SIZE_MASK&&u++;let d=o>>ae.BLOCK_SIZE_POWER;o&ae.BLOCK_SIZE_MASK&&d++;const h=ae.calculateBlackPoints(l,u,d,i,o),p=new de(i,o);ae.calculateThresholdForBlock(l,u,d,i,o,h,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new ae(r)}static calculateThresholdForBlock(r,i,o,l,u,d,h){const p=u-ae.BLOCK_SIZE,w=l-ae.BLOCK_SIZE;for(let b=0;b<o;b++){let N=b<<ae.BLOCK_SIZE_POWER;N>p&&(N=p);const k=ae.cap(b,2,o-3);for(let M=0;M<i;M++){let V=M<<ae.BLOCK_SIZE_POWER;V>w&&(V=w);const U=ae.cap(M,2,i-3);let G=0;for(let oe=-2;oe<=2;oe++){const le=d[k+oe];G+=le[U-2]+le[U-1]+le[U]+le[U+1]+le[U+2]}const K=G/25;ae.thresholdBlock(r,V,N,K,l,h)}}}static cap(r,i,o){return r<i?i:r>o?o:r}static thresholdBlock(r,i,o,l,u,d){for(let h=0,p=o*u+i;h<ae.BLOCK_SIZE;h++,p+=u)for(let w=0;w<ae.BLOCK_SIZE;w++)(r[p+w]&255)<=l&&d.set(i+w,o+h)}static calculateBlackPoints(r,i,o,l,u){const d=u-ae.BLOCK_SIZE,h=l-ae.BLOCK_SIZE,p=new Array(o);for(let w=0;w<o;w++){p[w]=new Int32Array(i);let b=w<<ae.BLOCK_SIZE_POWER;b>d&&(b=d);for(let N=0;N<i;N++){let k=N<<ae.BLOCK_SIZE_POWER;k>h&&(k=h);let M=0,V=255,U=0;for(let K=0,oe=b*l+k;K<ae.BLOCK_SIZE;K++,oe+=l){for(let le=0;le<ae.BLOCK_SIZE;le++){const ne=r[oe+le]&255;M+=ne,ne<V&&(V=ne),ne>U&&(U=ne)}if(U-V>ae.MIN_DYNAMIC_RANGE)for(K++,oe+=l;K<ae.BLOCK_SIZE;K++,oe+=l)for(let le=0;le<ae.BLOCK_SIZE;le++)M+=r[oe+le]&255}let G=M>>ae.BLOCK_SIZE_POWER*2;if(U-V<=ae.MIN_DYNAMIC_RANGE&&(G=V/2,w>0&&N>0)){const K=(p[w-1][N]+2*p[w][N-1]+p[w-1][N-1])/4;V<K&&(G=K)}p[w][N]=G}}return p}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class se{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,o,l){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new ge;for(let o=0;o<this.height;o++){const l=this.getRow(o,r);for(let u=0;u<this.width;u++){const d=l[u]&255;let h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",i.append(h)}i.append(`
`)}return i.toString()}}class $ extends se{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const o=this.delegate.getRow(r,i),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let l=0;l<i;l++)o[l]=255-(r[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,o,l){return new $(this.delegate.crop(r,i,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new $(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new $(this.delegate.rotateCounterClockwise45())}}class J extends se{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=J.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return J.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,o){const l=new Uint8ClampedArray(i*o);for(let u=0,d=0,h=r.length;u<h;u+=4,d++){let p;if(r[u+3]===0)p=255;else{const b=r[u],N=r[u+1],k=r[u+2];p=306*b+601*N+117*k+512>>10}l[d]=p}return l}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth(),l=r*o;return i===null?i=this.buffer.slice(l,l+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(l,l+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,o,l){return super.crop(r,i,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),o=i.getContext("2d"),l=r*J.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*d),p=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*d);return i.width=h,i.height=p,o.translate(h/2,p/2),o.rotate(l),o.drawImage(this.canvas,u/-2,d/-2),this.buffer=J.makeBufferFromCanvasImageData(i),this}invert(){return new $(this)}}J.DEGREE_TO_RADIANS=Math.PI/180;class ee{constructor(r,i,o){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||Po||self||window||void 0)&&(globalThis||Po||self||window||void 0).__awaiter||function(S,r,i,o){function l(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function h(b){try{w(o.next(b))}catch(N){d(N)}}function p(b){try{w(o.throw(b))}catch(N){d(N)}}function w(b){b.done?u(b.value):l(b.value).then(h,p)}w((o=o.apply(S,r||[])).next())})};class he{constructor(r,i=500,o){this.reader=r,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of r){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,d=o.label||`Video device ${i.length+1}`,h=o.groupId,p={deviceId:u,label:d,kind:l,groupId:h};i.push(p)}return i})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new ee(i.deviceId,i.label))})}findDeviceById(r){return re(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return re(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(r,i){return re(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(r,i){return re(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,i,o){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,o)})}decodeFromVideoDevice(r,i,o){return re(this,void 0,void 0,function*(){let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,o)})}decodeFromConstraints(r,i,o){return re(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(l,i,o)})}decodeFromStream(r,i,o){return re(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return re(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((i,o)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const o=document.getElementById(r);if(!o)throw new v(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${r}' must be an ${i} element`);return o}decodeFromImage(r,i){if(!r&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,o){if(r===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(r){if(!r)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=r,o}decodeFromVideoUrl(r){if(!r)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=r,o}decodeFromVideoUrlContinuously(r,i){if(!r)throw new v("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,i);return o.src=r,l}_decodeOnLoadImage(r){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,d)=>{if(this._stopAsyncDecode){d(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);u(h)}catch(h){const p=i&&h instanceof H,b=(h instanceof E||h instanceof F)&&o;if(p||b)return setTimeout(l,this._timeBetweenDecodingAttempts,u,d);d(h)}};return new Promise((u,d)=>l(u,d))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(r);i(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof E||l instanceof F,d=l instanceof H;(u||d)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,o){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),o=new J(i),l=new ae(o);return new A(l)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,l;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,l=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,l=r.naturalHeight||r.height)),i.style.width=o+"px",i.style.height=l+"px",i.width=o,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class ve{constructor(r,i,o=i==null?0:8*i.length,l,u,d=R.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=d,this.text=r,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,d==null?this.timestamp=R.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(i.length+r.length);R.arraycopy(i,0,o,0,i.length),R.arraycopy(r,0,o,i.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ze;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var me=Ze,Ve;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ve||(Ve={}));var dt=Ve;class ln{constructor(r,i,o,l,u=-1,d=-1){this.rawBytes=r,this.text=i,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class cn{exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class Qe{constructor(r,i){if(i.length===0)throw new C;this.field=r;const o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),R.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(r===1){o=0;for(let d=0,h=i.length;d!==h;d++){const p=i[d];o=cn.addOrSubtract(o,p)}return o}o=i[0];const l=i.length,u=this.field;for(let d=1;d<l;d++)o=cn.addOrSubtract(u.multiply(r,o),i[d]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){const d=i;i=o,o=d}let l=new Int32Array(o.length);const u=o.length-i.length;R.arraycopy(o,0,l,0,u);for(let d=u;d<o.length;d++)l[d]=cn.addOrSubtract(i[d-u],o[d]);return new Qe(this.field,l)}multiply(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,l=r.coefficients,u=l.length,d=new Int32Array(o+u-1),h=this.field;for(let p=0;p<o;p++){const w=i[p];for(let b=0;b<u;b++)d[p+b]=cn.addOrSubtract(d[p+b],h.multiply(w,l[b]))}return new Qe(h,d)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,o=this.field,l=new Int32Array(i),u=this.coefficients;for(let d=0;d<i;d++)l[d]=o.multiply(u[d],r);return new Qe(o,l)}multiplyByMonomial(r,i){if(r<0)throw new C;if(i===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+r),d=this.field;for(let h=0;h<l;h++)u[h]=d.multiply(o[h],i);return new Qe(d,u)}divide(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new C("Divide by 0");const i=this.field;let o=i.getZero(),l=this;const u=r.getCoefficient(r.getDegree()),d=i.inverse(u);for(;l.getDegree()>=r.getDegree()&&!l.isZero();){const h=l.getDegree()-r.getDegree(),p=i.multiply(l.getCoefficient(l.getDegree()),d),w=r.multiplyByMonomial(h,p),b=i.buildMonomial(h,p);o=o.addOrSubtract(b),l=l.addOrSubtract(w)}return[o,l]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),i===0||o!==1){const l=this.field.log(o);l===0?r+="1":l===1?r+="a":(r+="a^",r+=l)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class kr extends m{}kr.kind="ArithmeticException";class Ue extends cn{constructor(r,i,o){super(),this.primitive=r,this.size=i,this.generatorBase=o;const l=new Int32Array(i);let u=1;for(let h=0;h<i;h++)l[h]=u,u*=2,u>=i&&(u^=r,u&=i-1);this.expTable=l;const d=new Int32Array(i);for(let h=0;h<i-1;h++)d[l[h]]=h;this.logTable=d,this.zero=new Qe(this,Int32Array.from([0])),this.one=new Qe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new C;if(i===0)return this.zero;const o=new Int32Array(r+1);return o[0]=i,new Qe(this,o)}inverse(r){if(r===0)throw new kr;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Ue.AZTEC_DATA_12=new Ue(4201,4096,1),Ue.AZTEC_DATA_10=new Ue(1033,1024,1),Ue.AZTEC_DATA_6=new Ue(67,64,1),Ue.AZTEC_PARAM=new Ue(19,16,1),Ue.QR_CODE_FIELD_256=new Ue(285,256,0),Ue.DATA_MATRIX_FIELD_256=new Ue(301,256,1),Ue.AZTEC_DATA_8=Ue.DATA_MATRIX_FIELD_256,Ue.MAXICODE_FIELD_64=Ue.AZTEC_DATA_6;class Kr extends m{}Kr.kind="ReedSolomonException";class Vn extends m{}Vn.kind="IllegalStateException";class $r{constructor(r){this.field=r}decode(r,i){const o=this.field,l=new Qe(o,r),u=new Int32Array(i);let d=!0;for(let M=0;M<i;M++){const V=l.evaluateAt(o.exp(M+o.getGeneratorBase()));u[u.length-1-M]=V,V!==0&&(d=!1)}if(d)return;const h=new Qe(o,u),p=this.runEuclideanAlgorithm(o.buildMonomial(i,1),h,i),w=p[0],b=p[1],N=this.findErrorLocations(w),k=this.findErrorMagnitudes(b,N);for(let M=0;M<N.length;M++){const V=r.length-1-o.log(N[M]);if(V<0)throw new Kr("Bad error location");r[V]=Ue.addOrSubtract(r[V],k[M])}}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){const M=r;r=i,i=M}const l=this.field;let u=r,d=i,h=l.getZero(),p=l.getOne();for(;d.getDegree()>=(o/2|0);){let M=u,V=h;if(u=d,h=p,u.isZero())throw new Kr("r_{i-1} was zero");d=M;let U=l.getZero();const G=u.getCoefficient(u.getDegree()),K=l.inverse(G);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const oe=d.getDegree()-u.getDegree(),le=l.multiply(d.getCoefficient(d.getDegree()),K);U=U.addOrSubtract(l.buildMonomial(oe,le)),d=d.addOrSubtract(u.multiplyByMonomial(oe,le))}if(p=U.multiply(h).addOrSubtract(V),d.getDegree()>=u.getDegree())throw new Vn("Division algorithm failed to reduce polynomial?")}const w=p.getCoefficient(0);if(w===0)throw new Kr("sigmaTilde(0) was zero");const b=l.inverse(w),N=p.multiplyScalar(b),k=d.multiplyScalar(b);return[N,k]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(i);let l=0;const u=this.field;for(let d=1;d<u.getSize()&&l<i;d++)r.evaluateAt(d)===0&&(o[l]=u.inverse(d),l++);if(l!==i)throw new Kr("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,i){const o=i.length,l=new Int32Array(o),u=this.field;for(let d=0;d<o;d++){const h=u.inverse(i[d]);let p=1;for(let w=0;w<o;w++)if(d!==w){const b=u.multiply(i[w],h),N=b&1?b&-2:b|1;p=u.multiply(p,N)}l[d]=u.multiply(r.evaluateAt(h),u.inverse(p)),u.getGeneratorBase()!==0&&(l[d]=u.multiply(l[d],h))}return l}}var Ot;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Ot||(Ot={}));class Ke{decode(r){this.ddata=r;let i=r.getBits(),o=this.extractBits(i),l=this.correctBits(o),u=Ke.convertBoolArrayToByteArray(l),d=Ke.getEncodedData(l),h=new ln(u,d,null,null);return h.setNumBits(l.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,o=Ot.UPPER,l=Ot.UPPER,u="",d=0;for(;d<i;)if(l===Ot.BINARY){if(i-d<5)break;let h=Ke.readCode(r,d,5);if(d+=5,h===0){if(i-d<11)break;h=Ke.readCode(r,d,11)+31,d+=11}for(let p=0;p<h;p++){if(i-d<8){d=i;break}const w=Ke.readCode(r,d,8);u+=q.castAsNonUtf8Char(w),d+=8}l=o}else{let h=l===Ot.DIGIT?4:5;if(i-d<h)break;let p=Ke.readCode(r,d,h);d+=h;let w=Ke.getCharacter(l,p);w.startsWith("CTRL_")?(o=l,l=Ke.getTable(w.charAt(5)),w.charAt(6)==="L"&&(o=l)):(u+=w,l=o)}return u}static getTable(r){switch(r){case"L":return Ot.LOWER;case"P":return Ot.PUNCT;case"M":return Ot.MIXED;case"D":return Ot.DIGIT;case"B":return Ot.BINARY;case"U":default:return Ot.UPPER}}static getCharacter(r,i){switch(r){case Ot.UPPER:return Ke.UPPER_TABLE[i];case Ot.LOWER:return Ke.LOWER_TABLE[i];case Ot.MIXED:return Ke.MIXED_TABLE[i];case Ot.PUNCT:return Ke.PUNCT_TABLE[i];case Ot.DIGIT:return Ke.DIGIT_TABLE[i];default:throw new Vn("Bad table")}}correctBits(r){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=Ue.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=Ue.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=Ue.AZTEC_DATA_10):(o=12,i=Ue.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=r.length/o;if(u<l)throw new F;let d=r.length%o,h=new Int32Array(u);for(let k=0;k<u;k++,d+=o)h[k]=Ke.readCode(r,d,o);try{new $r(i).decode(h,u-l)}catch(k){throw new F(k)}let p=(1<<o)-1,w=0;for(let k=0;k<l;k++){let M=h[k];if(M===0||M===p)throw new F;(M===1||M===p-1)&&w++}let b=new Array(l*o-w),N=0;for(let k=0;k<l;k++){let M=h[k];if(M===1||M===p-1)b.fill(M>1,N,N+o-1),N+=o-1;else for(let V=o-1;V>=0;--V)b[N++]=(M&1<<V)!==0}return b}extractBits(r){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(i?11:14)+o*4,u=new Int32Array(l),d=new Array(this.totalBitsInLayer(o,i));if(i)for(let h=0;h<u.length;h++)u[h]=h;else{let h=l+1+2*T.truncDivision(T.truncDivision(l,2)-1,15),p=l/2,w=T.truncDivision(h,2);for(let b=0;b<p;b++){let N=b+T.truncDivision(b,15);u[p-b-1]=w-N-1,u[p+b]=w+N+1}}for(let h=0,p=0;h<o;h++){let w=(o-h)*4+(i?9:12),b=h*2,N=l-1-b;for(let k=0;k<w;k++){let M=k*2;for(let V=0;V<2;V++)d[p+M+V]=r.get(u[b+V],u[b+k]),d[p+2*w+M+V]=r.get(u[b+k],u[N-V]),d[p+4*w+M+V]=r.get(u[N-V],u[N-k]),d[p+6*w+M+V]=r.get(u[N-k],u[b+V])}p+=w*8}return d}static readCode(r,i,o){let l=0;for(let u=i;u<i+o;u++)l<<=1,r[u]&&(l|=1);return l}static readByte(r,i){let o=r.length-i;return o>=8?Ke.readCode(r,i,8):Ke.readCode(r,i,o)<<8-o}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let o=0;o<i.length;o++)i[o]=Ke.readByte(r,8*o);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}Ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class je{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,o,l){const u=r-o,d=i-l;return Math.sqrt(u*u+d*d)}static sum(r){let i=0;for(let o=0,l=r.length;o!==l;o++){const u=r[o];i+=u}return i}}class Li{static floatToIntBits(r){return r}}Li.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ye){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Li.floatToIntBits(this.x)+Li.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),l=this.distance(r[0],r[2]);let u,d,h;if(o>=i&&o>=l?(d=r[0],u=r[1],h=r[2]):l>=o&&l>=i?(d=r[1],u=r[0],h=r[2]):(d=r[2],u=r[0],h=r[1]),this.crossProductZ(u,d,h)<0){const p=u;u=h,h=p}r[0]=u,r[1]=d,r[2]=h}static distance(r,i){return je.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,o){const l=i.x,u=i.y;return(o.x-l)*(r.y-u)-(o.y-u)*(r.x-l)}}class Bi{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class gr extends Bi{constructor(r,i,o,l,u){super(r,i),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class tr{constructor(r,i,o,l){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=tr.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),l==null&&(l=r.getHeight()/2|0);const u=i/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let r=this.leftInit,i=this.rightInit,o=this.upInit,l=this.downInit,u=!1,d=!0,h=!1,p=!1,w=!1,b=!1,N=!1;const k=this.width,M=this.height;for(;d;){d=!1;let V=!0;for(;(V||!p)&&i<k;)V=this.containsBlackPoint(o,l,i,!1),V?(i++,d=!0,p=!0):p||i++;if(i>=k){u=!0;break}let U=!0;for(;(U||!w)&&l<M;)U=this.containsBlackPoint(r,i,l,!0),U?(l++,d=!0,w=!0):w||l++;if(l>=M){u=!0;break}let G=!0;for(;(G||!b)&&r>=0;)G=this.containsBlackPoint(o,l,r,!1),G?(r--,d=!0,b=!0):b||r--;if(r<0){u=!0;break}let K=!0;for(;(K||!N)&&o>=0;)K=this.containsBlackPoint(r,i,o,!0),K?(o--,d=!0,N=!0):N||o--;if(o<0){u=!0;break}d&&(h=!0)}if(!u&&h){const V=i-r;let U=null;for(let le=1;U===null&&le<V;le++)U=this.getBlackPointOnSegment(r,l-le,r+le,l);if(U==null)throw new H;let G=null;for(let le=1;G===null&&le<V;le++)G=this.getBlackPointOnSegment(r,o+le,r+le,o);if(G==null)throw new H;let K=null;for(let le=1;K===null&&le<V;le++)K=this.getBlackPointOnSegment(i,o+le,i-le,o);if(K==null)throw new H;let oe=null;for(let le=1;oe===null&&le<V;le++)oe=this.getBlackPointOnSegment(i,l-le,i-le,l);if(oe==null)throw new H;return this.centerEdges(oe,U,K,G)}else throw new H}getBlackPointOnSegment(r,i,o,l){const u=je.round(je.distance(r,i,o,l)),d=(o-r)/u,h=(l-i)/u,p=this.image;for(let w=0;w<u;w++){const b=je.round(r+w*d),N=je.round(i+w*h);if(p.get(b,N))return new ye(b,N)}return null}centerEdges(r,i,o,l){const u=r.getX(),d=r.getY(),h=i.getX(),p=i.getY(),w=o.getX(),b=o.getY(),N=l.getX(),k=l.getY(),M=tr.CORR;return u<this.width/2?[new ye(N-M,k+M),new ye(h+M,p+M),new ye(w-M,b-M),new ye(u+M,d-M)]:[new ye(N+M,k+M),new ye(h+M,p-M),new ye(w-M,b+M),new ye(u-M,d-M)]}containsBlackPoint(r,i,o,l){const u=this.image;if(l){for(let d=r;d<=i;d++)if(u.get(d,o))return!0}else for(let d=r;d<=i;d++)if(u.get(o,d))return!0;return!1}}tr.INIT_SIZE=10,tr.CORR=1;class Eo{static checkAndNudgePoints(r,i){const o=r.getWidth(),l=r.getHeight();let u=!0;for(let d=0;d<i.length&&u;d+=2){const h=Math.floor(i[d]),p=Math.floor(i[d+1]);if(h<-1||h>o||p<-1||p>l)throw new H;u=!1,h===-1?(i[d]=0,u=!0):h===o&&(i[d]=o-1,u=!0),p===-1?(i[d+1]=0,u=!0):p===l&&(i[d+1]=l-1,u=!0)}u=!0;for(let d=i.length-2;d>=0&&u;d-=2){const h=Math.floor(i[d]),p=Math.floor(i[d+1]);if(h<-1||h>o||p<-1||p>l)throw new H;u=!1,h===-1?(i[d]=0,u=!0):h===o&&(i[d]=o-1,u=!0),p===-1?(i[d+1]=0,u=!0):p===l&&(i[d+1]=l-1,u=!0)}}}class ft{constructor(r,i,o,l,u,d,h,p,w){this.a11=r,this.a21=i,this.a31=o,this.a12=l,this.a22=u,this.a32=d,this.a13=h,this.a23=p,this.a33=w}static quadrilateralToQuadrilateral(r,i,o,l,u,d,h,p,w,b,N,k,M,V,U,G){const K=ft.quadrilateralToSquare(r,i,o,l,u,d,h,p);return ft.squareToQuadrilateral(w,b,N,k,M,V,U,G).times(K)}transformPoints(r){const i=r.length,o=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,p=this.a23,w=this.a31,b=this.a32,N=this.a33;for(let k=0;k<i;k+=2){const M=r[k],V=r[k+1],U=u*M+p*V+N;r[k]=(o*M+d*V+w)/U,r[k+1]=(l*M+h*V+b)/U}}transformPointsWithValues(r,i){const o=this.a11,l=this.a12,u=this.a13,d=this.a21,h=this.a22,p=this.a23,w=this.a31,b=this.a32,N=this.a33,k=r.length;for(let M=0;M<k;M++){const V=r[M],U=i[M],G=u*V+p*U+N;r[M]=(o*V+d*U+w)/G,i[M]=(l*V+h*U+b)/G}}static squareToQuadrilateral(r,i,o,l,u,d,h,p){const w=r-o+u-h,b=i-l+d-p;if(w===0&&b===0)return new ft(o-r,u-o,r,l-i,d-l,i,0,0,1);{const N=o-u,k=h-u,M=l-d,V=p-d,U=N*V-k*M,G=(w*V-k*b)/U,K=(N*b-w*M)/U;return new ft(o-r+G*o,h-r+K*h,r,l-i+G*l,p-i+K*p,i,G,K,1)}}static quadrilateralToSquare(r,i,o,l,u,d,h,p){return ft.squareToQuadrilateral(r,i,o,l,u,d,h,p).buildAdjoint()}buildAdjoint(){return new ft(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new ft(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class _r extends Eo{sampleGrid(r,i,o,l,u,d,h,p,w,b,N,k,M,V,U,G,K,oe,le){const ne=ft.quadrilateralToQuadrilateral(l,u,d,h,p,w,b,N,k,M,V,U,G,K,oe,le);return this.sampleGridWithTransform(r,i,o,ne)}sampleGridWithTransform(r,i,o,l){if(i<=0||o<=0)throw new H;const u=new de(i,o),d=new Float32Array(2*i);for(let h=0;h<o;h++){const p=d.length,w=h+.5;for(let b=0;b<p;b+=2)d[b]=b/2+.5,d[b+1]=w;l.transformPoints(d),Eo.checkAndNudgePoints(r,d);try{for(let b=0;b<p;b+=2)r.get(Math.floor(d[b]),Math.floor(d[b+1]))&&u.set(b/2,h)}catch{throw new H}}return u}}class mr{static setGridSampler(r){mr.gridSampler=r}static getInstance(){return mr.gridSampler}}mr.gridSampler=new _r;class Xt{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ji{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(r){let d=o[0];o[0]=o[2],o[2]=d}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new gr(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new H;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(o,i);let l=0;for(let d=0;d<4;d++){let h=o[(this.shift+d)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,i){let o=0;r.forEach((l,u,d)=>{let h=(l>>i-2<<1)+(l&1);o=(o<<3)+h}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(T.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new H}getCorrectedParameterData(r,i){let o,l;i?(o=7,l=2):(o=10,l=4);let u=o-l,d=new Int32Array(o);for(let p=o-1;p>=0;--p)d[p]=r&15,r>>=4;try{new $r(Ue.AZTEC_PARAM).decode(d,u)}catch{throw new H}let h=0;for(let p=0;p<l;p++)h=(h<<4)+d[p];return h}getBullsEyeCorners(r){let i=r,o=r,l=r,u=r,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(i,d,1,-1),k=this.getFirstDifferent(o,d,1,1),M=this.getFirstDifferent(l,d,-1,1),V=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(V,N)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(N,k,M,V))break}i=N,o=k,l=M,u=V,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let h=new ye(i.getX()+.5,i.getY()-.5),p=new ye(o.getX()+.5,o.getY()+.5),w=new ye(l.getX()-.5,l.getY()+.5),b=new ye(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,p,w,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,o,l;try{let h=new tr(this.image).detect();r=h[0],i=h[1],o=h[2],l=h[3]}catch{let p=this.image.getWidth()/2,w=this.image.getHeight()/2;r=this.getFirstDifferent(new Xt(p+7,w-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xt(p+7,w+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Xt(p-7,w+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Xt(p-7,w-7),!1,-1,-1).toResultPoint()}let u=je.round((r.getX()+l.getX()+i.getX()+o.getX())/4),d=je.round((r.getY()+l.getY()+i.getY()+o.getY())/4);try{let h=new tr(this.image,15,u,d).detect();r=h[0],i=h[1],o=h[2],l=h[3]}catch{r=this.getFirstDifferent(new Xt(u+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xt(u+7,d+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Xt(u-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Xt(u-7,d-7),!1,-1,-1).toResultPoint()}return u=je.round((r.getX()+l.getX()+i.getX()+o.getX())/4),d=je.round((r.getY()+l.getY()+i.getY()+o.getY())/4),new Xt(u,d)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,o,l,u){let d=mr.getInstance(),h=this.getDimension(),p=h/2-this.nbCenterLayers,w=h/2+this.nbCenterLayers;return d.sampleGrid(r,h,h,p,p,w,p,w,w,p,w,i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(r,i,o){let l=0,u=this.distanceResultPoint(r,i),d=u/o,h=r.getX(),p=r.getY(),w=d*(i.getX()-r.getX())/u,b=d*(i.getY()-r.getY())/u;for(let N=0;N<o;N++)this.image.get(je.round(h+N*w),je.round(p+N*b))&&(l|=1<<o-N-1);return l}isWhiteOrBlackRectangle(r,i,o,l){let u=3;r=new Xt(r.getX()-u,r.getY()+u),i=new Xt(i.getX()-u,i.getY()-u),o=new Xt(o.getX()+u,o.getY()-u),l=new Xt(l.getX()+u,l.getY()+u);let d=this.getColor(l,r);if(d===0)return!1;let h=this.getColor(r,i);return h!==d||(h=this.getColor(i,o),h!==d)?!1:(h=this.getColor(o,l),h===d)}getColor(r,i){let o=this.distancePoint(r,i),l=(i.getX()-r.getX())/o,u=(i.getY()-r.getY())/o,d=0,h=r.getX(),p=r.getY(),w=this.image.get(r.getX(),r.getY()),b=Math.ceil(o);for(let k=0;k<b;k++)h+=l,p+=u,this.image.get(je.round(h),je.round(p))!==w&&d++;let N=d/o;return N>.1&&N<.9?0:N<=.1===w?1:-1}getFirstDifferent(r,i,o,l){let u=r.getX()+o,d=r.getY()+l;for(;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=o,d+=l;for(u-=o,d-=l;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=o;for(u-=o;this.isValid(u,d)&&this.image.get(u,d)===i;)d+=l;return d-=l,new Xt(u,d)}expandSquare(r,i,o){let l=o/(2*i),u=r[0].getX()-r[2].getX(),d=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,p=(r[0].getY()+r[2].getY())/2,w=new ye(h+l*u,p+l*d),b=new ye(h-l*u,p-l*d);u=r[1].getX()-r[3].getX(),d=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,p=(r[1].getY()+r[3].getY())/2;let N=new ye(h+l*u,p+l*d),k=new ye(h-l*u,p-l*d);return[w,N,b,k]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=je.round(r.getX()),o=je.round(r.getY());return this.isValid(i,o)}distancePoint(r,i){return je.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return je.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class hs{decode(r,i=null){let o=null,l=new ji(r.getBlackMatrix()),u=null,d=null;try{let b=l.detectMirror(!1);u=b.getPoints(),this.reportFoundResultPoints(i,u),d=new Ke().decode(b)}catch(b){o=b}if(d==null)try{let b=l.detectMirror(!0);u=b.getPoints(),this.reportFoundResultPoints(i,u),d=new Ke().decode(b)}catch(b){throw o??b}let h=new ve(d.getText(),d.getRawBytes(),d.getNumBits(),u,me.AZTEC,R.currentTimeMillis()),p=d.getByteSegments();p!=null&&h.putMetadata(dt.BYTE_SEGMENTS,p);let w=d.getECLevel();return w!=null&&h.putMetadata(dt.ERROR_CORRECTION_LEVEL,w),h}reportFoundResultPoints(r,i){if(r!=null){let o=r.get(X.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((l,u,d)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class Ya extends he{constructor(r=500){super(new hs,r)}}class ht{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(X.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),d=this.doDecode(u,i),h=d.getResultMetadata();let p=270;h!==null&&h.get(dt.ORIENTATION)===!0&&(p=p+h.get(dt.ORIENTATION)%360),d.putMetadata(dt.ORIENTATION,p);const w=d.getResultPoints();if(w!==null){const b=u.getHeight();for(let N=0;N<w.length;N++)w[N]=new ye(b-w[N].getY()-1,w[N].getX())}return d}else throw new H}}reset(){}doDecode(r,i){const o=r.getWidth(),l=r.getHeight();let u=new B(o);const d=i&&i.get(X.TRY_HARDER)===!0,h=Math.max(1,l>>(d?8:5));let p;d?p=l:p=15;const w=Math.trunc(l/2);for(let b=0;b<p;b++){const N=Math.trunc((b+1)/2),k=(b&1)===0,M=w+h*(k?N:-N);if(M<0||M>=l)break;try{u=r.getBlackRow(M,u)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(u.reverse(),i&&i.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;i.forEach((G,K)=>U.set(K,G)),U.delete(X.NEED_RESULT_POINT_CALLBACK),i=U}try{const U=this.decodeRow(M,u,i);if(V===1){U.putMetadata(dt.ORIENTATION,180);const G=U.getResultPoints();G!==null&&(G[0]=new ye(o-G[0].getX()-1,G[0].getY()),G[1]=new ye(o-G[1].getX()-1,G[1].getY()))}return U}catch{}}}throw new H}static recordPattern(r,i,o){const l=o.length;for(let w=0;w<l;w++)o[w]=0;const u=r.getSize();if(i>=u)throw new H;let d=!r.get(i),h=0,p=i;for(;p<u;){if(r.get(p)!==d)o[h]++;else{if(++h===l)break;o[h]=1,d=!d}p++}if(!(h===l||h===l-1&&p===u))throw new H}static recordPatternInReverse(r,i,o){let l=o.length,u=r.get(i);for(;i>0&&l>=0;)r.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new H;ht.recordPattern(r,i+1,o)}static patternMatchVariance(r,i,o){const l=r.length;let u=0,d=0;for(let w=0;w<l;w++)u+=r[w],d+=i[w];if(u<d)return Number.POSITIVE_INFINITY;const h=u/d;o*=h;let p=0;for(let w=0;w<l;w++){const b=r[w],N=i[w]*h,k=b>N?b-N:N-b;if(k>o)return Number.POSITIVE_INFINITY;p+=k}return p/u}}class ce extends ht{static findStartPattern(r){const i=r.getSize(),o=r.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),d=o,h=!1;const p=6;for(let w=o;w<i;w++)if(r.get(w)!==h)u[l]++;else{if(l===p-1){let b=ce.MAX_AVG_VARIANCE,N=-1;for(let k=ce.CODE_START_A;k<=ce.CODE_START_C;k++){const M=ht.patternMatchVariance(u,ce.CODE_PATTERNS[k],ce.MAX_INDIVIDUAL_VARIANCE);M<b&&(b=M,N=k)}if(N>=0&&r.isRange(Math.max(0,d-(w-d)/2),d,!1))return Int32Array.from([d,w,N]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,h=!h}throw new H}static decodeCode(r,i,o){ht.recordPattern(r,o,i);let l=ce.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<ce.CODE_PATTERNS.length;d++){const h=ce.CODE_PATTERNS[d],p=this.patternMatchVariance(i,h,ce.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=d)}if(u>=0)return u;throw new H}decodeRow(r,i,o){const l=o&&o.get(X.ASSUME_GS1)===!0,u=ce.findStartPattern(i),d=u[2];let h=0;const p=new Uint8Array(20);p[h++]=d;let w;switch(d){case ce.CODE_START_A:w=ce.CODE_CODE_A;break;case ce.CODE_START_B:w=ce.CODE_CODE_B;break;case ce.CODE_START_C:w=ce.CODE_CODE_C;break;default:throw new F}let b=!1,N=!1,k="",M=u[0],V=u[1];const U=Int32Array.from([0,0,0,0,0,0]);let G=0,K=0,oe=d,le=0,ne=!0,Be=!1,Re=!1;for(;!b;){const bs=N;switch(N=!1,G=K,K=ce.decodeCode(i,U,V),p[h++]=K,K!==ce.CODE_STOP&&(ne=!0),K!==ce.CODE_STOP&&(le++,oe+=le*K),M=V,V+=U.reduce((dv,fv)=>dv+fv,0),K){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new F}switch(w){case ce.CODE_CODE_A:if(K<64)Re===Be?k+=String.fromCharCode(" ".charCodeAt(0)+K):k+=String.fromCharCode(" ".charCodeAt(0)+K+128),Re=!1;else if(K<96)Re===Be?k+=String.fromCharCode(K-64):k+=String.fromCharCode(K+64),Re=!1;else switch(K!==ce.CODE_STOP&&(ne=!1),K){case ce.CODE_FNC_1:l&&(k.length===0?k+="]C1":k+=String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!Be&&Re?(Be=!0,Re=!1):Be&&Re?(Be=!1,Re=!1):Re=!0;break;case ce.CODE_SHIFT:N=!0,w=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:w=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:w=ce.CODE_CODE_C;break;case ce.CODE_STOP:b=!0;break}break;case ce.CODE_CODE_B:if(K<96)Re===Be?k+=String.fromCharCode(" ".charCodeAt(0)+K):k+=String.fromCharCode(" ".charCodeAt(0)+K+128),Re=!1;else switch(K!==ce.CODE_STOP&&(ne=!1),K){case ce.CODE_FNC_1:l&&(k.length===0?k+="]C1":k+=String.fromCharCode(29));break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!Be&&Re?(Be=!0,Re=!1):Be&&Re?(Be=!1,Re=!1):Re=!0;break;case ce.CODE_SHIFT:N=!0,w=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:w=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:w=ce.CODE_CODE_C;break;case ce.CODE_STOP:b=!0;break}break;case ce.CODE_CODE_C:if(K<100)K<10&&(k+="0"),k+=K;else switch(K!==ce.CODE_STOP&&(ne=!1),K){case ce.CODE_FNC_1:l&&(k.length===0?k+="]C1":k+=String.fromCharCode(29));break;case ce.CODE_CODE_A:w=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:w=ce.CODE_CODE_B;break;case ce.CODE_STOP:b=!0;break}break}bs&&(w=w===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const Cn=V-M;if(V=i.getNextUnset(V),!i.isRange(V,Math.min(i.getSize(),V+(V-M)/2),!1))throw new H;if(oe-=le*G,oe%103!==G)throw new E;const ir=k.length;if(ir===0)throw new H;ir>0&&ne&&(w===ce.CODE_CODE_C?k=k.substring(0,ir-2):k=k.substring(0,ir-1));const bn=(u[1]+u[0])/2,nt=M+Cn/2,Kt=p.length,_n=new Uint8Array(Kt);for(let bs=0;bs<Kt;bs++)_n[bs]=p[bs];const Cs=[new ye(bn,r),new ye(nt,r)];return new ve(k,_n,0,Cs,me.CODE_128,new Date().getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;class bt extends ht{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=bt.findAsteriskPattern(i,l),d=i.getNextSet(u[1]),h=i.getSize(),p,w;do{bt.recordPattern(i,d,l);let U=bt.toNarrowWidePattern(l);if(U<0)throw new H;p=bt.patternToChar(U),this.decodeRowResult+=p,w=d;for(let G of l)d+=G;d=i.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let U of l)b+=U;let N=d-w-b;if(d!==h&&N*2<b)throw new H;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,G=0;for(let K=0;K<U;K++)G+=bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(U)!==bt.ALPHABET_STRING.charAt(G%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new H;let k;this.extendedMode?k=bt.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;let M=(u[1]+u[0])/2,V=w+b/2;return new ve(k,null,0,[new ye(M,r),new ye(V,r)],me.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let o=r.getSize(),l=r.getNextSet(0),u=0,d=l,h=!1,p=i.length;for(let w=l;w<o;w++)if(r.get(w)!==h)i[u]++;else{if(u===p-1){if(this.toNarrowWidePattern(i)===bt.ASTERISK_ENCODING&&r.isRange(Math.max(0,d-Math.floor((w-d)/2)),d,!1))return[d,w];d+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,h=!h}throw new H}static toNarrowWidePattern(r){let i=r.length,o=0,l;do{let u=2147483647;for(let p of r)p<u&&p>o&&(u=p);o=u,l=0;let d=0,h=0;for(let p=0;p<i;p++){let w=r[p];w>o&&(h|=1<<i-1-p,l++,d+=w)}if(l===3){for(let p=0;p<i&&l>0;p++){let w=r[p];if(w>o&&(l--,w*2>=d))return-1}return h}}while(l>3);return-1}static patternToChar(r){for(let i=0;i<bt.CHARACTER_ENCODINGS.length;i++)if(bt.CHARACTER_ENCODINGS[i]===r)return bt.ALPHABET_STRING.charAt(i);if(r===bt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(r){let i=r.length,o="";for(let l=0;l<i;l++){let u=r.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let d=r.charAt(l+1),h="\0";switch(u){case"+":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)+32);else throw new F;break;case"$":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)-64);else throw new F;break;case"%":if(d>="A"&&d<="E")h=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")h=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")h=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")h="\0";else if(d==="V")h="@";else if(d==="W")h="`";else if(d==="X"||d==="Y"||d==="Z")h="";else throw new F;break;case"/":if(d>="A"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")h=":";else throw new F;break}o+=h,l++}else o+=u}return o}}bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],bt.ASTERISK_ENCODING=148;class ze extends ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,o){let l=this.decodeStart(i),u=this.decodeEnd(i),d=new ge;ze.decodeMiddle(i,l[1],u[0],d);let h=d.toString(),p=null;o!=null&&(p=o.get(X.ALLOWED_LENGTHS)),p==null&&(p=ze.DEFAULT_ALLOWED_LENGTHS);let w=h.length,b=!1,N=0;for(let V of p){if(w===V){b=!0;break}V>N&&(N=V)}if(!b&&w>N&&(b=!0),!b)throw new F;const k=[new ye(l[1],r),new ye(u[0],r)];return new ve(h,null,0,k,me.ITF,new Date().getTime())}static decodeMiddle(r,i,o,l){let u=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),d.fill(0),h.fill(0);i<o;){ht.recordPattern(r,i,u);for(let w=0;w<5;w++){let b=2*w;d[w]=u[b],h[w]=u[b+1]}let p=ze.decodeDigit(d);l.append(p.toString()),p=this.decodeDigit(h),l.append(p.toString()),u.forEach(function(w){i+=w})}}decodeStart(r){let i=ze.skipWhiteSpace(r),o=ze.findGuardPattern(r,i,ze.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let l=i-1;o>0&&l>=0&&!r.get(l);l--)o--;if(o!==0)throw new H}static skipWhiteSpace(r){const i=r.getSize(),o=r.getNextSet(0);if(o===i)throw new H;return o}decodeEnd(r){r.reverse();try{let i=ze.skipWhiteSpace(r),o;try{o=ze.findGuardPattern(r,i,ze.END_PATTERN_REVERSED[0])}catch(u){u instanceof H&&(o=ze.findGuardPattern(r,i,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let l=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-l,o}finally{r.reverse()}}static findGuardPattern(r,i,o){let l=o.length,u=new Int32Array(l),d=r.getSize(),h=!1,p=0,w=i;u.fill(0);for(let b=i;b<d;b++)if(r.get(b)!==h)u[p]++;else{if(p===l-1){if(ht.patternMatchVariance(u,o,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[w,b];w+=u[0]+u[1],R.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,h=!h}throw new H}static decodeDigit(r){let i=ze.MAX_AVG_VARIANCE,o=-1,l=ze.PATTERNS.length;for(let u=0;u<l;u++){let d=ze.PATTERNS[u],h=ht.patternMatchVariance(r,d,ze.MAX_INDIVIDUAL_VARIANCE);h<i?(i=h,o=u):h===i&&(o=-1)}if(o>=0)return o%10;throw new H}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class gt extends ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),o=gt.findGuardPattern(r,l,!1,this.START_END_PATTERN,u);let d=o[0];l=o[1];let h=d-(l-d);h>=0&&(i=r.isRange(h,d,!1))}return o}static checkChecksum(r){return gt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return gt.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let l=i-1;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new F;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new F;o+=u}return(1e3-o)%10}static decodeEnd(r,i){return gt.findGuardPattern(r,i,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,o,l){return this.findGuardPattern(r,i,o,l,new Int32Array(l.length))}static findGuardPattern(r,i,o,l,u){let d=r.getSize();i=o?r.getNextUnset(i):r.getNextSet(i);let h=0,p=i,w=l.length,b=o;for(let N=i;N<d;N++)if(r.get(N)!==b)u[h]++;else{if(h===w-1){if(ht.patternMatchVariance(u,l,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return Int32Array.from([p,N]);p+=u[0]+u[1];let k=u.slice(2,u.length-1);for(let M=0;M<h-1;M++)u[M]=k[M];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,b=!b}throw new H}static decodeDigit(r,i,o,l){this.recordPattern(r,o,i);let u=this.MAX_AVG_VARIANCE,d=-1,h=l.length;for(let p=0;p<h;p++){let w=l[p],b=ht.patternMatchVariance(i,w,gt.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,d=p)}if(d>=0)return d;throw new H}}gt.MAX_AVG_VARIANCE=.48,gt.MAX_INDIVIDUAL_VARIANCE=.7,gt.START_END_PATTERN=Int32Array.from([1,1,1]),gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Fi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),d=l.toString(),h=Fi.parseExtensionString(d),p=[new ye((o[0]+o[1])/2,r),new ye(u,r)],w=new ve(d,null,0,p,me.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),d=i[1],h=0;for(let w=0;w<5&&d<u;w++){let b=gt.decodeDigit(r,l,d,gt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let N of l)d+=N;b>=10&&(h|=1<<4-w),w!==4&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(o.length!==5)throw new H;let p=this.determineCheckDigit(h);if(Fi.extensionChecksum(o.toString())!==p)throw new H;return d}static extensionChecksum(r){let i=r.length,o=0;for(let l=i-2;l>=0;l-=2)o+=r.charAt(l).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let l=i-1;l>=0;l-=2)o+=r.charAt(l).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new H}static parseExtensionString(r){if(r.length!==5)return null;let i=Fi.parseExtension5String(r);return i==null?null:new Map([[dt.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(r.substring(1)),l=(o/100).toString(),u=o%100,d=u<10?"0"+u:u.toString();return i+l+"."+d}}class gs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),d=l.toString(),h=gs.parseExtensionString(d),p=[new ye((o[0]+o[1])/2,r),new ye(u,r)],w=new ve(d,null,0,p,me.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),d=i[1],h=0;for(let p=0;p<2&&d<u;p++){let w=gt.decodeDigit(r,l,d,gt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let b of l)d+=b;w>=10&&(h|=1<<1-p),p!==1&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(o.length!==2)throw new H;if(parseInt(o.toString())%4!==h)throw new H;return d}static parseExtensionString(r){return r.length!==2?null:new Map([[dt.ISSUE_NUMBER,parseInt(r)]])}}class Ao{static decodeRow(r,i,o){let l=gt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Fi().decodeRow(r,i,l)}catch{return new gs().decodeRow(r,i,l)}}}Ao.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends gt{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=We.L_PATTERNS[r-10],o=new Int32Array(i.length);for(let l=0;l<i.length;l++)o[l]=i[i.length-l-1];We.L_AND_G_PATTERNS[r]=o}}decodeRow(r,i,o){let l=We.findStartGuardPattern(i),u=o==null?null:o.get(X.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ne=new ye((l[0]+l[1])/2,r);u.foundPossibleResultPoint(ne)}let d=this.decodeMiddle(i,l,this.decodeRowStringBuffer),h=d.rowOffset,p=d.resultString;if(u!=null){const ne=new ye(h,r);u.foundPossibleResultPoint(ne)}let w=this.decodeEnd(i,h);if(u!=null){const ne=new ye((w[0]+w[1])/2,r);u.foundPossibleResultPoint(ne)}let b=w[1],N=b+(b-w[0]);if(N>=i.getSize()||!i.isRange(b,N,!1))throw new H;let k=p.toString();if(k.length<8)throw new F;if(!We.checkChecksum(k))throw new E;let M=(l[1]+l[0])/2,V=(w[1]+w[0])/2,U=this.getBarcodeFormat(),G=[new ye(M,r),new ye(V,r)],K=new ve(k,null,0,G,U,new Date().getTime()),oe=0;try{let ne=Ao.decodeRow(r,i,w[1]);K.putMetadata(dt.UPC_EAN_EXTENSION,ne.getText()),K.putAllMetadata(ne.getResultMetadata()),K.addResultPoints(ne.getResultPoints()),oe=ne.getText().length}catch{}let le=o==null?null:o.get(X.ALLOWED_EAN_EXTENSIONS);if(le!=null){let ne=!1;for(let Be in le)if(oe.toString()===Be){ne=!0;break}if(!ne)throw new H}return K}decodeEnd(r,i){return We.findGuardPattern(r,i,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return We.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let o=parseInt(r.charAt(i-1),10);return We.getStandardUPCEANChecksum(r.substring(0,i-1))===o}static getStandardUPCEANChecksum(r){let i=r.length,o=0;for(let l=i-1;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new F;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new F;o+=u}return(1e3-o)%10}}class nr extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),d=i[1],h=0;for(let w=0;w<6&&d<u;w++){let b=We.decodeDigit(r,l,d,We.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let N of l)d+=N;b>=10&&(h|=1<<5-w)}o=nr.determineFirstDigit(o,h),d=We.findGuardPattern(r,d,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&d<u;w++){let b=We.decodeDigit(r,l,d,We.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+b);for(let N of l)d+=N}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return me.EAN_13}static determineFirstDigit(r,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode("0".charCodeAt(0)+o)+r,r;throw new H}}nr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class rr extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),d=i[1];for(let p=0;p<4&&d<u;p++){let w=We.decodeDigit(r,l,d,We.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+w);for(let b of l)d+=b}d=We.findGuardPattern(r,d,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&d<u;p++){let w=We.decodeDigit(r,l,d,We.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+w);for(let b of l)d+=b}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return me.EAN_8}}class Za extends We{constructor(){super(...arguments),this.ean13Reader=new nr}getBarcodeFormat(){return me.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,o))}decodeMiddle(r,i,o){return this.ean13Reader.decodeMiddle(r,i,o)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let o=new ve(i.substring(1),null,null,r.getResultPoints(),me.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new H}reset(){this.ean13Reader.reset()}}class Ae extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,o){const l=this.decodeMiddleCounters.map(w=>w);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=r.getSize();let d=i[1],h=0;for(let w=0;w<6&&d<u;w++){const b=Ae.decodeDigit(r,l,d,Ae.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let N of l)d+=N;b>=10&&(h|=1<<5-w)}let p=Ae.determineNumSysAndCheckDigit(o,h);return{rowOffset:d,resultString:p}}decodeEnd(r,i){return Ae.findGuardPatternWithoutCounters(r,i,!0,Ae.MIDDLE_END_PATTERN)}checkChecksum(r){return We.checkChecksum(Ae.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode("0".charCodeAt(0)+o),d=String.fromCharCode("0".charCodeAt(0)+l);return u+r+d}throw H.getNotFoundInstance()}getBarcodeFormat(){return me.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new ge;o.append(r.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(l),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(l);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}Ae.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ae.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Xe extends ht{constructor(r){super();let i=r==null?null:r.get(X.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new nr),o.push(new Za),o.push(new rr),o.push(new Ae)):(i.indexOf(me.EAN_13)>-1&&o.push(new nr),i.indexOf(me.UPC_A)>-1&&o.push(new Za),i.indexOf(me.EAN_8)>-1&&o.push(new rr),i.indexOf(me.UPC_E)>-1&&o.push(new Ae)),this.readers=o}decodeRow(r,i,o){for(let l of this.readers)try{const u=l.decodeRow(r,i,o),d=u.getBarcodeFormat()===me.EAN_13&&u.getText().charAt(0)==="0",h=o==null?null:o.get(X.POSSIBLE_FORMATS),p=h==null||h.includes(me.UPC_A);if(d&&p){const w=u.getRawBytes(),b=new ve(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),me.UPC_A);return b.putAllMetadata(u.getResultMetadata()),b}return u}catch{}throw new H}reset(){for(let r of this.readers)r.reset()}}class ke extends ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let o=0;o<i.length;o++)if(ht.patternMatchVariance(r,i[o],ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return o;throw new H}static count(r){return je.sum(new Int32Array(r))}static increment(r,i){let o=0,l=i[0];for(let u=1;u<r.length;u++)i[u]>l&&(l=i[u],o=u);r[o]++}static decrement(r,i){let o=0,l=i[0];for(let u=1;u<r.length;u++)i[u]<l&&(l=i[u],o=u);r[o]--}static isFinderPattern(r){let i=r[0]+r[1],o=i+r[2]+r[3],l=i/o;if(l>=ke.MIN_FINDER_PATTERN_RATIO&&l<=ke.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let h of r)h>d&&(d=h),h<u&&(u=h);return d<10*u}return!1}}ke.MAX_AVG_VARIANCE=.2,ke.MAX_INDIVIDUAL_VARIANCE=.45,ke.MIN_FINDER_PATTERN_RATIO=9.5/12,ke.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ft{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Ft))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class en{constructor(r,i,o,l,u){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ye(o,u)),this.resultPoints.push(new ye(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof en))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class Pt{constructor(){}static getRSSvalue(r,i,o){let l=0;for(let p of r)l+=p;let u=0,d=0,h=r.length;for(let p=0;p<h-1;p++){let w;for(w=1,d|=1<<p;w<r[p];w++,d&=~(1<<p)){let b=Pt.combins(l-w-1,h-p-2);if(o&&d===0&&l-w-(h-p-1)>=h-p-1&&(b-=Pt.combins(l-w-(h-p),h-p-2)),h-p-1>1){let N=0;for(let k=l-w-(h-p-2);k>i;k--)N+=Pt.combins(l-w-k-1,h-p-3);b-=N*(h-1-p)}else l-w>i&&b--;u+=b}l-=w}return u}static combins(r,i){let o,l;r-i>i?(l=i,o=r-i):(l=r-i,o=i);let u=1,d=1;for(let h=r;h>o;h--)u*=h,d<=l&&(u/=d,d++);for(;d<=l;)u/=d,d++;return u}}class Or{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let o=12*i,l=new B(o),u=0,h=r[0].getRightChar().getValue();for(let p=11;p>=0;--p)h&1<<p&&l.set(u),u++;for(let p=1;p<r.length;++p){let w=r[p],b=w.getLeftChar().getValue();for(let N=11;N>=0;--N)b&1<<N&&l.set(u),u++;if(w.getRightChar()!=null){let N=w.getRightChar().getValue();for(let k=11;k>=0;--k)N&1<<k&&l.set(u),u++}}return l}}class Dt{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Un{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class yn extends Un{constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===yn.FNC1}}yn.FNC1="$";class Vi extends Un{constructor(r,i,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class zn extends Un{constructor(r,i,o){if(super(r),i<0||i>10||o<0||o>10)throw new F;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===zn.FNC1}isAnyFNC1(){return this.firstDigit===zn.FNC1||this.secondDigit===zn.FNC1}}zn.FNC1=10;class we{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new H;let i=r.substring(0,2);for(let u of we.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===we.VARIABLE_LENGTH?we.processVariableAI(2,u[2],r):we.processFixedAI(2,u[1],r);if(r.length<3)throw new H;let o=r.substring(0,3);for(let u of we.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===we.VARIABLE_LENGTH?we.processVariableAI(3,u[2],r):we.processFixedAI(3,u[1],r);for(let u of we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,u[2],r):we.processFixedAI(4,u[1],r);if(r.length<4)throw new H;let l=r.substring(0,4);for(let u of we.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===we.VARIABLE_LENGTH?we.processVariableAI(4,u[2],r):we.processFixedAI(4,u[1],r);throw new H}static processFixedAI(r,i,o){if(o.length<r)throw new H;let l=o.substring(0,r);if(o.length<r+i)throw new H;let u=o.substring(r,r+i),d=o.substring(r+i),h="("+l+")"+u,p=we.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}static processVariableAI(r,i,o){let l=o.substring(0,r),u;o.length<r+i?u=o.length:u=r+i;let d=o.substring(r,u),h=o.substring(u),p="("+l+")"+d,w=we.parseFieldsInGeneralPurpose(h);return w==null?p:p+w}}we.VARIABLE_LENGTH=[],we.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",we.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",we.VARIABLE_LENGTH,20],["22",we.VARIABLE_LENGTH,29],["30",we.VARIABLE_LENGTH,8],["37",we.VARIABLE_LENGTH,8],["90",we.VARIABLE_LENGTH,30],["91",we.VARIABLE_LENGTH,30],["92",we.VARIABLE_LENGTH,30],["93",we.VARIABLE_LENGTH,30],["94",we.VARIABLE_LENGTH,30],["95",we.VARIABLE_LENGTH,30],["96",we.VARIABLE_LENGTH,30],["97",we.VARIABLE_LENGTH,3],["98",we.VARIABLE_LENGTH,30],["99",we.VARIABLE_LENGTH,30]],we.THREE_DIGIT_DATA_LENGTH=[["240",we.VARIABLE_LENGTH,30],["241",we.VARIABLE_LENGTH,30],["242",we.VARIABLE_LENGTH,6],["250",we.VARIABLE_LENGTH,30],["251",we.VARIABLE_LENGTH,30],["253",we.VARIABLE_LENGTH,17],["254",we.VARIABLE_LENGTH,20],["400",we.VARIABLE_LENGTH,30],["401",we.VARIABLE_LENGTH,30],["402",17],["403",we.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",we.VARIABLE_LENGTH,20],["421",we.VARIABLE_LENGTH,15],["422",3],["423",we.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],we.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",we.VARIABLE_LENGTH,15],["391",we.VARIABLE_LENGTH,18],["392",we.VARIABLE_LENGTH,15],["393",we.VARIABLE_LENGTH,18],["703",we.VARIABLE_LENGTH,30]],we.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",we.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",we.VARIABLE_LENGTH,20],["8003",we.VARIABLE_LENGTH,30],["8004",we.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",we.VARIABLE_LENGTH,30],["8008",we.VARIABLE_LENGTH,12],["8018",18],["8020",we.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",we.VARIABLE_LENGTH,70],["8200",we.VARIABLE_LENGTH,70]];class ms{constructor(r){this.buffer=new ge,this.information=r}decodeAllCodes(r,i){let o=i,l=null;do{let u=this.decodeGeneralPurposeField(o,l),d=we.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&r.append(d),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new zn(this.information.getSize(),zn.FNC1,zn.FNC1):new zn(this.information.getSize(),u-1,zn.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),o=(i-8)/11,l=(i-8)%11;return new zn(r+7,o,l)}extractNumericValueFromBitArray(r,i){return ms.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,o){let l=0;for(let u=0;u<o;++u)r.get(i+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Vi(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Vi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new Vi(this.current.getPosition(),this.buffer.toString()):i=new Vi(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Dt(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new Vi(this.current.getPosition(),this.buffer.toString());return new Dt(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Dt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Vi(this.current.getPosition(),this.buffer.toString());return new Dt(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Dt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Vi(this.current.getPosition(),this.buffer.toString());return new Dt(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Dt(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,8);return l>=232&&l<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new yn(r+5,yn.FNC1);if(i>=5&&i<15)return new yn(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new yn(r+7,""+(o+1));if(o>=90&&o<116)return new yn(r+7,""+(o+7));let l=this.extractNumericValueFromBitArray(r,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new F}return new yn(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new yn(r+5,yn.FNC1);if(i>=5&&i<15)return new yn(r+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new yn(r+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Vn("Decoding invalid alphanumeric value: "+o)}return new yn(r+6,l)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class fu{constructor(r){this.information=r,this.generalDecoder=new ms(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class wn extends fu{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,o)}encodeCompressedGtinWithoutAI(r,i,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}wn.appendCheckDigit(r,o)}static appendCheckDigit(r,i){let o=0;for(let l=0;l<13;l++){let u=r.charAt(l+i).charCodeAt(0)-"0".charCodeAt(0);o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),r.append(o)}}wn.GTIN_SIZE=40;class ps extends wn{constructor(r){super(r)}parseInformation(){let r=new ge;r.append("(01)");let i=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(ps.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,ps.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,ps.HEADER_SIZE+44)}}ps.HEADER_SIZE=1+1+2;class Ka extends fu{constructor(r){super(r)}parseInformation(){let r=new ge;return this.getGeneralDecoder().decodeAllCodes(r,Ka.HEADER_SIZE)}}Ka.HEADER_SIZE=2+1+2;class $a extends wn{constructor(r){super(r)}encodeCompressedWeight(r,i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(r,l);let u=this.checkWeight(l),d=1e5;for(let h=0;h<5;++h)u/d===0&&r.append("0"),d/=10;r.append(u)}}class pr extends $a{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=pr.HEADER_SIZE+$a.GTIN_SIZE+pr.WEIGHT_SIZE)throw new H;let r=new ge;return this.encodeCompressedGtin(r,pr.HEADER_SIZE),this.encodeCompressedWeight(r,pr.HEADER_SIZE+$a.GTIN_SIZE,pr.WEIGHT_SIZE),r.toString()}}pr.HEADER_SIZE=4+1,pr.WEIGHT_SIZE=15;class jw extends pr{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class Fw extends pr{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class xr extends wn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<xr.HEADER_SIZE+wn.GTIN_SIZE)throw new H;let r=new ge;this.encodeCompressedGtin(r,xr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+wn.GTIN_SIZE,xr.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(xr.HEADER_SIZE+wn.GTIN_SIZE+xr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}xr.HEADER_SIZE=5+1+2,xr.LAST_DIGIT_SIZE=2;class un extends wn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<un.HEADER_SIZE+wn.GTIN_SIZE)throw new H;let r=new ge;this.encodeCompressedGtin(r,un.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+wn.GTIN_SIZE,un.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+wn.GTIN_SIZE+un.LAST_DIGIT_SIZE,un.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(un.HEADER_SIZE+wn.GTIN_SIZE+un.LAST_DIGIT_SIZE+un.FIRST_THREE_DIGITS_SIZE,null);return r.append(l.getNewString()),r.toString()}}un.HEADER_SIZE=5+1+2,un.LAST_DIGIT_SIZE=2,un.FIRST_THREE_DIGITS_SIZE=10;class mt extends $a{constructor(r,i,o){super(r),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE+mt.DATE_SIZE)throw new H;let r=new ge;return this.encodeCompressedGtin(r,mt.HEADER_SIZE),this.encodeCompressedWeight(r,mt.HEADER_SIZE+mt.GTIN_SIZE,mt.WEIGHT_SIZE),this.encodeCompressedDate(r,mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,mt.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let d=o;d/10==0&&r.append("0"),r.append(d),u/10==0&&r.append("0"),r.append(u),l/10==0&&r.append("0"),r.append(l)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}mt.HEADER_SIZE=7+1,mt.WEIGHT_SIZE=20,mt.DATE_SIZE=16;function mh(S){try{if(S.get(1))return new ps(S);if(!S.get(2))return new Ka(S);switch(ms.extractNumericValueFromBitArray(S,1,4)){case 4:return new jw(S);case 5:return new Fw(S)}switch(ms.extractNumericValueFromBitArray(S,1,5)){case 12:return new xr(S);case 13:return new un(S)}switch(ms.extractNumericValueFromBitArray(S,1,7)){case 56:return new mt(S,"310","11");case 57:return new mt(S,"320","11");case 58:return new mt(S,"310","13");case 59:return new mt(S,"320","13");case 60:return new mt(S,"310","15");case 61:return new mt(S,"320","15");case 62:return new mt(S,"310","17");case 63:return new mt(S,"320","17")}}catch(r){throw console.log(r),new Vn("unknown decoder: "+S)}}class qr{constructor(r,i,o,l){this.leftchar=r,this.rightchar=i,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof qr?qr.equalsOrNull(r.leftchar,i.leftchar)&&qr.equalsOrNull(r.rightchar,i.rightchar)&&qr.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:qr.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class hu{constructor(r,i,o){this.pairs=r,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof hu?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let o;return r.forEach((l,u)=>{i.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(o=!0)})}),o}}class te extends ke{constructor(r){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,o){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(r,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(u){if(u instanceof H){if(!this.pairs.length)throw new H;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(r,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new H}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let o=i;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let d of r)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(l);try{return this.checkRows(u,o+1)}catch(d){this.verbose&&console.log(d)}}throw new H}static isValidSequence(r){for(let i of te.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let o=!0;for(let l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!=i[l]){o=!1;break}if(o)return!0}return!1}storeRow(r,i){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let d=this.rows[o];if(d.getRowNumber()>r){u=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),o++}u||l||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new hu(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let o of i)if(o.getPairs().length!==r.length){for(let l of o.getPairs())for(let u of r)if(qr.equals(l,u))break}}static isPartialRow(r,i){for(let o of i){let l=!0;for(let u of r){let d=!1;for(let h of o.getPairs())if(u.equals(h)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=Or.buildBitArray(r),l=mh(i).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),d=r[r.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],d[0],d[1]];return new ve(l,null,null,h,me.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let p=this.pairs.get(h);l+=p.getLeftChar().getChecksumPortion(),u++;let w=p.getRightChar();w!=null&&(l+=w.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(r,i){let o;return r.get(i)?(o=r.getNextUnset(i),o=r.getNextSet(o)):(o=r.getNextSet(i),o=r.getNextUnset(o)),o}retrieveNextPair(r,i,o){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,d=!0,h=-1;do this.findNextPair(r,i,h),u=this.parseFoundFinderPattern(r,o,l),u==null?h=te.getNextSecondBar(r,this.startEnd[0]):d=!1;while(d);let p=this.decodeDataCharacter(r,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new H;let w;try{w=this.decodeDataCharacter(r,u,l,!1)}catch(b){w=null,this.verbose&&console.log(b)}return new qr(p,w,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),d;o>=0?d=o:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let h=i.length%2!=0;this.startFromEven&&(h=!h);let p=!1;for(;d<u&&(p=!r.get(d),!!p);)d++;let w=0,b=d;for(let N=d;N<u;N++)if(r.get(N)!=p)l[w]++;else{if(w==3){if(h&&te.reverseCounters(l),te.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=N;return}h&&te.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,w--}else w++;l[w]=1,p=!p}throw new H}static reverseCounters(r){let i=r.length;for(let o=0;o<i/2;++o){let l=r[o];r[o]=r[i-o-1],r[i-o-1]=l}}parseFoundFinderPattern(r,i,o){let l,u,d;if(o){let w=this.startEnd[0]-1;for(;w>=0&&!r.get(w);)w--;w++,l=this.startEnd[0]-w,u=w,d=this.startEnd[1]}else u=this.startEnd[0],d=r.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let h=this.getDecodeFinderCounters();R.arraycopy(h,0,h,1,h.length-1),h[0]=l;let p;try{p=this.parseFinderValue(h,te.FINDER_PATTERNS)}catch{return null}return new en(p,[u,d],u,d,i)}decodeDataCharacter(r,i,o,l){let u=this.getDataCharacterCounters();for(let nt=0;nt<u.length;nt++)u[nt]=0;if(l)te.recordPatternInReverse(r,i.getStartEnd()[0],u);else{te.recordPattern(r,i.getStartEnd()[1],u);for(let nt=0,Kt=u.length-1;nt<Kt;nt++,Kt--){let _n=u[nt];u[nt]=u[Kt],u[Kt]=_n}}let d=17,h=je.sum(new Int32Array(u))/d,p=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new H;let w=this.getOddCounts(),b=this.getEvenCounts(),N=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let nt=0;nt<u.length;nt++){let Kt=1*u[nt]/h,_n=Kt+.5;if(_n<1){if(Kt<.3)throw new H;_n=1}else if(_n>8){if(Kt>8.7)throw new H;_n=8}let Cs=nt/2;nt&1?(b[Cs]=_n,k[Cs]=Kt-_n):(w[Cs]=_n,N[Cs]=Kt-_n)}this.adjustOddEvenCounts(d);let M=4*i.getValue()+(o?0:2)+(l?0:1)-1,V=0,U=0;for(let nt=w.length-1;nt>=0;nt--){if(te.isNotA1left(i,o,l)){let Kt=te.WEIGHTS[M][2*nt];U+=w[nt]*Kt}V+=w[nt]}let G=0;for(let nt=b.length-1;nt>=0;nt--)if(te.isNotA1left(i,o,l)){let Kt=te.WEIGHTS[M][2*nt+1];G+=b[nt]*Kt}let K=U+G;if(V&1||V>13||V<4)throw new H;let oe=(13-V)/2,le=te.SYMBOL_WIDEST[oe],ne=9-le,Be=Pt.getRSSvalue(w,le,!0),Re=Pt.getRSSvalue(b,ne,!1),Cn=te.EVEN_TOTAL_SUBSET[oe],ir=te.GSUM[oe],bn=Be*Cn+Re+ir;return new Ft(bn,K)}static isNotA1left(r,i,o){return!(r.getValue()==0&&i&&o)}adjustOddEvenCounts(r){let i=je.sum(new Int32Array(this.getOddCounts())),o=je.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let d=!1,h=!1;o>13?h=!0:o<4&&(d=!0);let p=i+o-r,w=(i&1)==1,b=(o&1)==0;if(p==1)if(w){if(b)throw new H;u=!0}else{if(!b)throw new H;h=!0}else if(p==-1)if(w){if(b)throw new H;l=!0}else{if(!b)throw new H;d=!0}else if(p==0){if(w){if(!b)throw new H;i<o?(l=!0,h=!0):(u=!0,d=!0)}else if(b)throw new H}else throw new H;if(l){if(u)throw new H;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new H;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class Vw extends Ft{constructor(r,i,o){super(r,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Et extends ke{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,o){const l=this.decodePair(i,!1,r,o);Et.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,r,o);Et.addOrTally(this.possibleRightPairs,u),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Et.checkChecksum(d,h))return Et.constructResult(d,h)}throw new H}static addOrTally(r,i){if(i==null)return;let o=!1;for(let l of r)if(l.getValue()===i.getValue()){l.incrementCount(),o=!0;break}o||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let o=4537077*r.getValue()+i.getValue(),l=new String(o).toString(),u=new ge;for(let w=13-l.length;w>0;w--)u.append("0");u.append(l);let d=0;for(let w=0;w<13;w++){let b=u.charAt(w).charCodeAt(0)-"0".charCodeAt(0);d+=w&1?b:3*b}d=10-d%10,d===10&&(d=0),u.append(d.toString());let h=r.getFinderPattern().getResultPoints(),p=i.getFinderPattern().getResultPoints();return new ve(u.toString(),null,0,[h[0],h[1],p[0],p[1]],me.RSS_14,new Date().getTime())}static checkChecksum(r,i){let o=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(r,i,o,l){try{let u=this.findFinderPattern(r,i),d=this.parseFoundFinderPattern(r,o,i,u),h=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);if(h!=null){let b=(u[0]+u[1])/2;i&&(b=r.getSize()-1-b),h.foundPossibleResultPoint(new ye(b,o))}let p=this.decodeDataCharacter(r,d,!0),w=this.decodeDataCharacter(r,d,!1);return new Vw(1597*p.getValue()+w.getValue(),p.getChecksumPortion()+4*w.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(r,i,o){let l=this.getDataCharacterCounters();for(let G=0;G<l.length;G++)l[G]=0;if(o)ht.recordPatternInReverse(r,i.getStartEnd()[0],l);else{ht.recordPattern(r,i.getStartEnd()[1]+1,l);for(let G=0,K=l.length-1;G<K;G++,K--){let oe=l[G];l[G]=l[K],l[K]=oe}}let u=o?16:15,d=je.sum(new Int32Array(l))/u,h=this.getOddCounts(),p=this.getEvenCounts(),w=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let G=0;G<l.length;G++){let K=l[G]/d,oe=Math.floor(K+.5);oe<1?oe=1:oe>8&&(oe=8);let le=Math.floor(G/2);G&1?(p[le]=oe,b[le]=K-oe):(h[le]=oe,w[le]=K-oe)}this.adjustOddEvenCounts(o,u);let N=0,k=0;for(let G=h.length-1;G>=0;G--)k*=9,k+=h[G],N+=h[G];let M=0,V=0;for(let G=p.length-1;G>=0;G--)M*=9,M+=p[G],V+=p[G];let U=k+3*M;if(o){if(N&1||N>12||N<4)throw new H;let G=(12-N)/2,K=Et.OUTSIDE_ODD_WIDEST[G],oe=9-K,le=Pt.getRSSvalue(h,K,!1),ne=Pt.getRSSvalue(p,oe,!0),Be=Et.OUTSIDE_EVEN_TOTAL_SUBSET[G],Re=Et.OUTSIDE_GSUM[G];return new Ft(le*Be+ne+Re,U)}else{if(V&1||V>10||V<4)throw new H;let G=(10-V)/2,K=Et.INSIDE_ODD_WIDEST[G],oe=9-K,le=Pt.getRSSvalue(h,K,!0),ne=Pt.getRSSvalue(p,oe,!1),Be=Et.INSIDE_ODD_TOTAL_SUBSET[G],Re=Et.INSIDE_GSUM[G];return new Ft(ne*Be+le+Re,U)}}findFinderPattern(r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=r.getSize(),u=!1,d=0;for(;d<l&&(u=!r.get(d),i!==u);)d++;let h=0,p=d;for(let w=d;w<l;w++)if(r.get(w)!==u)o[h]++;else{if(h===3){if(ke.isFinderPattern(o))return[p,w];p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,u=!u}throw new H}parseFoundFinderPattern(r,i,o,l){let u=r.get(l[0]),d=l[0]-1;for(;d>=0&&u!==r.get(d);)d--;d++;const h=l[0]-d,p=this.getDecodeFinderCounters(),w=new Int32Array(p.length);R.arraycopy(p,0,w,1,p.length-1),w[0]=h;const b=this.parseFinderValue(w,Et.FINDER_PATTERNS);let N=d,k=l[1];return o&&(N=r.getSize()-1-N,k=r.getSize()-1-k),new en(b,[d,l[1]],N,k,i)}adjustOddEvenCounts(r,i){let o=je.sum(new Int32Array(this.getOddCounts())),l=je.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,h=!1,p=!1;r?(o>12?d=!0:o<4&&(u=!0),l>12?p=!0:l<4&&(h=!0)):(o>11?d=!0:o<5&&(u=!0),l>10?p=!0:l<4&&(h=!0));let w=o+l-i,b=(o&1)===(r?1:0),N=(l&1)===1;if(w===1)if(b){if(N)throw new H;d=!0}else{if(!N)throw new H;p=!0}else if(w===-1)if(b){if(N)throw new H;u=!0}else{if(!N)throw new H;h=!0}else if(w===0){if(b){if(!N)throw new H;o<l?(u=!0,p=!0):(d=!0,h=!0)}else if(N)throw new H}else throw new H;if(u){if(d)throw new H;ke.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ke.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new H;ke.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&ke.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Et.OUTSIDE_GSUM=[0,161,961,2015,2715],Et.INSIDE_GSUM=[0,336,1036,1516],Et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Et.INSIDE_ODD_WIDEST=[2,4,6,8],Et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xs extends ht{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const o=r?r.get(X.POSSIBLE_FORMATS):null,l=r&&r.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(me.EAN_13)||o.includes(me.UPC_A)||o.includes(me.EAN_8)||o.includes(me.UPC_E))&&this.readers.push(new Xe(r)),o.includes(me.CODE_39)&&this.readers.push(new bt(l)),o.includes(me.CODE_128)&&this.readers.push(new ce),o.includes(me.ITF)&&this.readers.push(new ze),o.includes(me.RSS_14)&&this.readers.push(new Et),o.includes(me.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))):(this.readers.push(new Xe(r)),this.readers.push(new bt),this.readers.push(new Xe(r)),this.readers.push(new ce),this.readers.push(new ze),this.readers.push(new Et),this.readers.push(new te(this.verbose)))}decodeRow(r,i,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(r,i,o)}catch{}throw new H}reset(){this.readers.forEach(r=>r.reset())}}class Uw extends he{constructor(r=500,i){super(new xs(i),r,i)}}class $e{constructor(r,i,o){this.ecCodewords=r,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ye{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fe{constructor(r,i,o,l,u,d){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=d;let h=0;const p=d.getECCodewords(),w=d.getECBlocks();for(let b of w)h+=b.getCount()*(b.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if(r&1||i&1)throw new F;for(let o of Fe.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===i)return o;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Fe(1,10,10,8,8,new $e(5,new Ye(1,3))),new Fe(2,12,12,10,10,new $e(7,new Ye(1,5))),new Fe(3,14,14,12,12,new $e(10,new Ye(1,8))),new Fe(4,16,16,14,14,new $e(12,new Ye(1,12))),new Fe(5,18,18,16,16,new $e(14,new Ye(1,18))),new Fe(6,20,20,18,18,new $e(18,new Ye(1,22))),new Fe(7,22,22,20,20,new $e(20,new Ye(1,30))),new Fe(8,24,24,22,22,new $e(24,new Ye(1,36))),new Fe(9,26,26,24,24,new $e(28,new Ye(1,44))),new Fe(10,32,32,14,14,new $e(36,new Ye(1,62))),new Fe(11,36,36,16,16,new $e(42,new Ye(1,86))),new Fe(12,40,40,18,18,new $e(48,new Ye(1,114))),new Fe(13,44,44,20,20,new $e(56,new Ye(1,144))),new Fe(14,48,48,22,22,new $e(68,new Ye(1,174))),new Fe(15,52,52,24,24,new $e(42,new Ye(2,102))),new Fe(16,64,64,14,14,new $e(56,new Ye(2,140))),new Fe(17,72,72,16,16,new $e(36,new Ye(4,92))),new Fe(18,80,80,18,18,new $e(48,new Ye(4,114))),new Fe(19,88,88,20,20,new $e(56,new Ye(4,144))),new Fe(20,96,96,22,22,new $e(68,new Ye(4,174))),new Fe(21,104,104,24,24,new $e(56,new Ye(6,136))),new Fe(22,120,120,18,18,new $e(68,new Ye(6,175))),new Fe(23,132,132,20,20,new $e(62,new Ye(8,163))),new Fe(24,144,144,22,22,new $e(62,new Ye(8,156),new Ye(2,155))),new Fe(25,8,18,6,16,new $e(7,new Ye(1,5))),new Fe(26,8,32,6,14,new $e(11,new Ye(1,10))),new Fe(27,12,26,10,24,new $e(14,new Ye(1,16))),new Fe(28,12,36,10,16,new $e(18,new Ye(1,22))),new Fe(29,16,36,14,16,new $e(24,new Ye(1,32))),new Fe(30,16,48,14,22,new $e(28,new Ye(1,49)))]}}Fe.VERSIONS=Fe.buildVersions();class gu{constructor(r){const i=r.getHeight();if(i<8||i>144||i&1)throw new F;this.version=gu.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new de(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),o=r.getWidth();return Fe.getVersionForDimensions(i,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let h=!1,p=!1,w=!1,b=!1;do if(o===u&&l===0&&!h)r[i++]=this.readCorner1(u,d)&255,o-=2,l+=2,h=!0;else if(o===u-2&&l===0&&d&3&&!p)r[i++]=this.readCorner2(u,d)&255,o-=2,l+=2,p=!0;else if(o===u+4&&l===2&&!(d&7)&&!w)r[i++]=this.readCorner3(u,d)&255,o-=2,l+=2,w=!0;else if(o===u-2&&l===0&&(d&7)===4&&!b)r[i++]=this.readCorner4(u,d)&255,o-=2,l+=2,b=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(r[i++]=this.readUtah(o,l,u,d)&255),o-=2,l+=2;while(o>=0&&l<d);o+=1,l+=3;do o>=0&&l<d&&!this.readMappingMatrix.get(l,o)&&(r[i++]=this.readUtah(o,l,u,d)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<d);if(i!==this.version.getTotalCodewords())throw new F;return r}readModule(r,i,o,l){return r<0&&(r+=o,i+=4-(o+4&7)),i<0&&(i+=l,r+=4-(l+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,o,l){let u=0;return this.readModule(r-2,i-2,o,l)&&(u|=1),u<<=1,this.readModule(r-2,i-1,o,l)&&(u|=1),u<<=1,this.readModule(r-1,i-2,o,l)&&(u|=1),u<<=1,this.readModule(r-1,i-1,o,l)&&(u|=1),u<<=1,this.readModule(r-1,i,o,l)&&(u|=1),u<<=1,this.readModule(r,i-2,o,l)&&(u|=1),u<<=1,this.readModule(r,i-1,o,l)&&(u|=1),u<<=1,this.readModule(r,i,o,l)&&(u|=1),u}readCorner1(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,1,r,i)&&(o|=1),o<<=1,this.readModule(r-1,2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}readCorner2(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-4,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner3(r,i){let o=0;return this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(0,i-3,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-3,r,i)&&(o|=1),o<<=1,this.readModule(1,i-2,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o}readCorner4(r,i){let o=0;return this.readModule(r-3,0,r,i)&&(o|=1),o<<=1,this.readModule(r-2,0,r,i)&&(o|=1),o<<=1,this.readModule(r-1,0,r,i)&&(o|=1),o<<=1,this.readModule(0,i-2,r,i)&&(o|=1),o<<=1,this.readModule(0,i-1,r,i)&&(o|=1),o<<=1,this.readModule(1,i-1,r,i)&&(o|=1),o<<=1,this.readModule(2,i-1,r,i)&&(o|=1),o<<=1,this.readModule(3,i-1,r,i)&&(o|=1),o}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new C("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=i/l|0,h=o/u|0,p=d*l,w=h*u,b=new de(w,p);for(let N=0;N<d;++N){const k=N*l;for(let M=0;M<h;++M){const V=M*u;for(let U=0;U<l;++U){const G=N*(l+2)+1+U,K=k+U;for(let oe=0;oe<u;++oe){const le=M*(u+2)+1+oe;if(r.get(le,G)){const ne=V+oe;b.set(ne,K)}}}}}return b}}class mu{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const o=i.getECBlocks();let l=0;const u=o.getECBlocks();for(let U of u)l+=U.getCount();const d=new Array(l);let h=0;for(let U of u)for(let G=0;G<U.getCount();G++){const K=U.getDataCodewords(),oe=o.getECCodewords()+K;d[h++]=new mu(K,new Uint8Array(oe))}const w=d[0].codewords.length-o.getECCodewords(),b=w-1;let N=0;for(let U=0;U<b;U++)for(let G=0;G<h;G++)d[G].codewords[U]=r[N++];const k=i.getVersionNumber()===24,M=k?8:h;for(let U=0;U<M;U++)d[U].codewords[w-1]=r[N++];const V=d[0].codewords.length;for(let U=w;U<V;U++)for(let G=0;G<h;G++){const K=k?(G+8)%h:G,oe=k&&K>7?U-1:U;d[K].codewords[oe]=r[N++]}if(N!==r.length)throw new C;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class pu{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new C(""+r);let i=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const d=8-o,h=r<d?r:d,p=d-h,w=255>>8-h<<p;i=(u[l]&w)>>p,r-=h,o+=h,o===8&&(o=0,l++)}if(r>0){for(;r>=8;)i=i<<8|u[l]&255,l++,r-=8;if(r>0){const d=8-r,h=255>>d<<d;i=i<<r|(u[l]&h)>>d,o+=r}}return this.bitOffset=o,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Mt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Mt||(Mt={}));class Qr{static decode(r){const i=new pu(r),o=new ge,l=new ge,u=new Array;let d=Mt.ASCII_ENCODE;do if(d===Mt.ASCII_ENCODE)d=this.decodeAsciiSegment(i,o,l);else{switch(d){case Mt.C40_ENCODE:this.decodeC40Segment(i,o);break;case Mt.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case Mt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case Mt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case Mt.BASE256_ENCODE:this.decodeBase256Segment(i,o,u);break;default:throw new F}d=Mt.ASCII_ENCODE}while(d!==Mt.PAD_ENCODE&&i.available()>0);return l.length()>0&&o.append(l.toString()),new ln(r,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,i,o){let l=!1;do{let u=r.readBits(8);if(u===0)throw new F;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),Mt.ASCII_ENCODE;if(u===129)return Mt.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&i.append("0"),i.append(""+d)}else switch(u){case 230:return Mt.C40_ENCODE;case 231:return Mt.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return Mt.ANSIX12_ENCODE;case 239:return Mt.TEXT_ENCODE;case 240:return Mt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new F;break}}while(r.available()>0);return Mt.ASCII_ENCODE}static decodeC40Segment(r,i){let o=!1;const l=[];let u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else throw new F;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else switch(p){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new F}u=0;break;case 3:o?(i.append(String.fromCharCode(p+224)),o=!1):i.append(String.fromCharCode(p+96)),u=0;break;default:throw new F}}}while(r.available()>0)}static decodeTextSegment(r,i){let o=!1,l=[],u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else throw new F;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w)}else switch(p){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new F}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[p];o?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):i.append(w),u=0}else throw new F;break;default:throw new F}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const o=[];do{if(r.available()===8)return;const l=r.readBits(8);if(l===254)return;this.parseTwoBytes(l,r.readBits(8),o);for(let u=0;u<3;u++){const d=o[u];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new F;break}}}while(r.available()>0)}static parseTwoBytes(r,i,o){let l=(r<<8)+i-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let l=r.readBits(6);if(l===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(r.available()>0)}static decodeBase256Segment(r,i,o){let l=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),l++);let d;if(u===0?d=r.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(r.readBits(8),l++),d<0)throw new F;const h=new Uint8Array(d);for(let p=0;p<d;p++){if(r.available()<8)throw new F;h[p]=this.unrandomize255State(r.readBits(8),l++)}o.push(h);try{i.append(fe.decode(h,q.ISO88591))}catch(p){throw new Vn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(r,i){const o=149*i%255+1,l=r-o;return l>=0?l:l+256}}Qr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qr.TEXT_SHIFT2_SET_CHARS=Qr.C40_SHIFT2_SET_CHARS,Qr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class zw{constructor(){this.rsDecoder=new $r(Ue.DATA_MATRIX_FIELD_256)}decode(r){const i=new gu(r),o=i.getVersion(),l=i.readCodewords(),u=mu.getDataBlocks(l,o);let d=0;for(let w of u)d+=w.getNumDataCodewords();const h=new Uint8Array(d),p=u.length;for(let w=0;w<p;w++){const b=u[w],N=b.getCodewords(),k=b.getNumDataCodewords();this.correctErrors(N,k);for(let M=0;M<k;M++)h[M*p+w]=N[M]}return Qr.decode(h)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new E}for(let l=0;l<i;l++)r[l]=o[l]}}class It{constructor(r){this.image=r,this.rectangleDetector=new tr(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new H;i=this.shiftToModuleCenter(i);const o=i[0],l=i[1],u=i[2],d=i[3];let h=this.transitionsBetween(o,d)+1,p=this.transitionsBetween(u,d)+1;(h&1)===1&&(h+=1),(p&1)===1&&(p+=1),4*h<7*p&&4*p<7*h&&(h=p=Math.max(h,p));let w=It.sampleGrid(this.image,o,l,u,d,h,p);return new Bi(w,[o,l,u,d])}static shiftPoint(r,i,o){let l=(i.getX()-r.getX())/(o+1),u=(i.getY()-r.getY())/(o+1);return new ye(r.getX()+l,r.getY()+u)}static moveAway(r,i,o){let l=r.getX(),u=r.getY();return l<i?l-=1:l+=1,u<o?u-=1:u+=1,new ye(l,u)}detectSolid1(r){let i=r[0],o=r[1],l=r[3],u=r[2],d=this.transitionsBetween(i,o),h=this.transitionsBetween(o,l),p=this.transitionsBetween(l,u),w=this.transitionsBetween(u,i),b=d,N=[u,i,o,l];return b>h&&(b=h,N[0]=i,N[1]=o,N[2]=l,N[3]=u),b>p&&(b=p,N[0]=o,N[1]=l,N[2]=u,N[3]=i),b>w&&(N[0]=l,N[1]=u,N[2]=i,N[3]=o),N}detectSolid2(r){let i=r[0],o=r[1],l=r[2],u=r[3],d=this.transitionsBetween(i,u),h=It.shiftPoint(o,l,(d+1)*4),p=It.shiftPoint(l,o,(d+1)*4),w=this.transitionsBetween(h,i),b=this.transitionsBetween(p,u);return w<b?(r[0]=i,r[1]=o,r[2]=l,r[3]=u):(r[0]=o,r[1]=l,r[2]=u,r[3]=i),r}correctTopRight(r){let i=r[0],o=r[1],l=r[2],u=r[3],d=this.transitionsBetween(i,u),h=this.transitionsBetween(o,u),p=It.shiftPoint(i,o,(h+1)*4),w=It.shiftPoint(l,o,(d+1)*4);d=this.transitionsBetween(p,u),h=this.transitionsBetween(w,u);let b=new ye(u.getX()+(l.getX()-o.getX())/(d+1),u.getY()+(l.getY()-o.getY())/(d+1)),N=new ye(u.getX()+(i.getX()-o.getX())/(h+1),u.getY()+(i.getY()-o.getY())/(h+1));if(!this.isValid(b))return this.isValid(N)?N:null;if(!this.isValid(N))return b;let k=this.transitionsBetween(p,b)+this.transitionsBetween(w,b),M=this.transitionsBetween(p,N)+this.transitionsBetween(w,N);return k>M?b:N}shiftToModuleCenter(r){let i=r[0],o=r[1],l=r[2],u=r[3],d=this.transitionsBetween(i,u)+1,h=this.transitionsBetween(l,u)+1,p=It.shiftPoint(i,o,h*4),w=It.shiftPoint(l,o,d*4);d=this.transitionsBetween(p,u)+1,h=this.transitionsBetween(w,u)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let b=(i.getX()+o.getX()+l.getX()+u.getX())/4,N=(i.getY()+o.getY()+l.getY()+u.getY())/4;i=It.moveAway(i,b,N),o=It.moveAway(o,b,N),l=It.moveAway(l,b,N),u=It.moveAway(u,b,N);let k,M;return p=It.shiftPoint(i,o,h*4),p=It.shiftPoint(p,u,d*4),k=It.shiftPoint(o,i,h*4),k=It.shiftPoint(k,l,d*4),w=It.shiftPoint(l,u,h*4),w=It.shiftPoint(w,o,d*4),M=It.shiftPoint(u,l,h*4),M=It.shiftPoint(M,i,d*4),[p,k,w,M]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,o,l,u,d,h){return mr.getInstance().sampleGrid(r,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(r,i){let o=Math.trunc(r.getX()),l=Math.trunc(r.getY()),u=Math.trunc(i.getX()),d=Math.trunc(i.getY()),h=Math.abs(d-l)>Math.abs(u-o);if(h){let U=o;o=l,l=U,U=u,u=d,d=U}let p=Math.abs(u-o),w=Math.abs(d-l),b=-p/2,N=l<d?1:-1,k=o<u?1:-1,M=0,V=this.image.get(h?l:o,h?o:l);for(let U=o,G=l;U!==u;U+=k){let K=this.image.get(h?G:U,h?U:G);if(K!==V&&(M++,V=K),b+=w,b>0){if(G===d)break;G+=N,b-=p}}return M}}class Jr{constructor(){this.decoder=new zw}decode(r,i=null){let o,l;if(i!=null&&i.has(X.PURE_BARCODE)){const w=Jr.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(w),l=Jr.NO_POINTS}else{const w=new It(r.getBlackMatrix()).detect();o=this.decoder.decode(w.getBits()),l=w.getPoints()}const u=o.getRawBytes(),d=new ve(o.getText(),u,8*u.length,l,me.DATA_MATRIX,R.currentTimeMillis()),h=o.getByteSegments();h!=null&&d.putMetadata(dt.BYTE_SEGMENTS,h);const p=o.getECLevel();return p!=null&&d.putMetadata(dt.ERROR_CORRECTION_LEVEL,p),d}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i==null||o==null)throw new H;const l=this.moduleSize(i,r);let u=i[1];const d=o[1];let h=i[0];const w=(o[0]-h+1)/l,b=(d-u+1)/l;if(w<=0||b<=0)throw new H;const N=l/2;u+=N,h+=N;const k=new de(w,b);for(let M=0;M<b;M++){const V=u+M*l;for(let U=0;U<w;U++)r.get(h+U*l,V)&&k.set(U,M)}return k}static moduleSize(r,i){const o=i.getWidth();let l=r[0];const u=r[1];for(;l<o&&i.get(l,u);)l++;if(l===o)throw new H;const d=l-r[0];if(d===0)throw new H;return d}}Jr.NO_POINTS=[];class Ww extends he{constructor(r=500){super(new Jr,r)}}var ys;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(ys||(ys={}));class rt{constructor(r,i,o){this.value=r,this.stringValue=i,this.bits=o,rt.FOR_BITS.set(o,this),rt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return rt.L;case"M":return rt.M;case"Q":return rt.Q;case"H":return rt.H;default:throw new v(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof rt))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=rt.FOR_BITS.size)throw new C;return rt.FOR_BITS.get(r)}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.L=new rt(ys.L,"L",1),rt.M=new rt(ys.M,"M",0),rt.Q=new rt(ys.Q,"Q",3),rt.H=new rt(ys.H,"H",2);class tn{constructor(r){this.errorCorrectionLevel=rt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return T.bitCount(r^i)}static decodeFormatInformation(r,i){const o=tn.doDecodeFormatInformation(r,i);return o!==null?o:tn.doDecodeFormatInformation(r^tn.FORMAT_INFO_MASK_QR,i^tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of tn.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===r||d===i)return new tn(u[1]);let h=tn.numBitsDiffering(r,d);h<o&&(l=u[1],o=h),r!==i&&(h=tn.numBitsDiffering(i,d),h<o&&(l=u[1],o=h))}return o<=3?new tn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof tn))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}tn.FORMAT_INFO_MASK_QR=21522,tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const o of i)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class P{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ee{constructor(r,i,...o){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),d=o[0].getECBlocks();for(const h of d)l+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new F;try{return this.getVersionForNumber((r-17)/4)}catch{throw new F}}static getVersionForNumber(r){if(r<1||r>40)throw new C;return Ee.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<Ee.VERSION_DECODE_INFO.length;l++){const u=Ee.VERSION_DECODE_INFO[l];if(u===r)return Ee.getVersionForNumber(l+7);const d=tn.numBitsDiffering(r,u);d<i&&(o=l+7,i=d)}return i<=3?Ee.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new de(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let d=0;d<o;d++)l===0&&(d===0||d===o-1)||l===o-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}Ee.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ee.VERSIONS=[new Ee(1,new Int32Array(0),new Y(7,new P(1,19)),new Y(10,new P(1,16)),new Y(13,new P(1,13)),new Y(17,new P(1,9))),new Ee(2,Int32Array.from([6,18]),new Y(10,new P(1,34)),new Y(16,new P(1,28)),new Y(22,new P(1,22)),new Y(28,new P(1,16))),new Ee(3,Int32Array.from([6,22]),new Y(15,new P(1,55)),new Y(26,new P(1,44)),new Y(18,new P(2,17)),new Y(22,new P(2,13))),new Ee(4,Int32Array.from([6,26]),new Y(20,new P(1,80)),new Y(18,new P(2,32)),new Y(26,new P(2,24)),new Y(16,new P(4,9))),new Ee(5,Int32Array.from([6,30]),new Y(26,new P(1,108)),new Y(24,new P(2,43)),new Y(18,new P(2,15),new P(2,16)),new Y(22,new P(2,11),new P(2,12))),new Ee(6,Int32Array.from([6,34]),new Y(18,new P(2,68)),new Y(16,new P(4,27)),new Y(24,new P(4,19)),new Y(28,new P(4,15))),new Ee(7,Int32Array.from([6,22,38]),new Y(20,new P(2,78)),new Y(18,new P(4,31)),new Y(18,new P(2,14),new P(4,15)),new Y(26,new P(4,13),new P(1,14))),new Ee(8,Int32Array.from([6,24,42]),new Y(24,new P(2,97)),new Y(22,new P(2,38),new P(2,39)),new Y(22,new P(4,18),new P(2,19)),new Y(26,new P(4,14),new P(2,15))),new Ee(9,Int32Array.from([6,26,46]),new Y(30,new P(2,116)),new Y(22,new P(3,36),new P(2,37)),new Y(20,new P(4,16),new P(4,17)),new Y(24,new P(4,12),new P(4,13))),new Ee(10,Int32Array.from([6,28,50]),new Y(18,new P(2,68),new P(2,69)),new Y(26,new P(4,43),new P(1,44)),new Y(24,new P(6,19),new P(2,20)),new Y(28,new P(6,15),new P(2,16))),new Ee(11,Int32Array.from([6,30,54]),new Y(20,new P(4,81)),new Y(30,new P(1,50),new P(4,51)),new Y(28,new P(4,22),new P(4,23)),new Y(24,new P(3,12),new P(8,13))),new Ee(12,Int32Array.from([6,32,58]),new Y(24,new P(2,92),new P(2,93)),new Y(22,new P(6,36),new P(2,37)),new Y(26,new P(4,20),new P(6,21)),new Y(28,new P(7,14),new P(4,15))),new Ee(13,Int32Array.from([6,34,62]),new Y(26,new P(4,107)),new Y(22,new P(8,37),new P(1,38)),new Y(24,new P(8,20),new P(4,21)),new Y(22,new P(12,11),new P(4,12))),new Ee(14,Int32Array.from([6,26,46,66]),new Y(30,new P(3,115),new P(1,116)),new Y(24,new P(4,40),new P(5,41)),new Y(20,new P(11,16),new P(5,17)),new Y(24,new P(11,12),new P(5,13))),new Ee(15,Int32Array.from([6,26,48,70]),new Y(22,new P(5,87),new P(1,88)),new Y(24,new P(5,41),new P(5,42)),new Y(30,new P(5,24),new P(7,25)),new Y(24,new P(11,12),new P(7,13))),new Ee(16,Int32Array.from([6,26,50,74]),new Y(24,new P(5,98),new P(1,99)),new Y(28,new P(7,45),new P(3,46)),new Y(24,new P(15,19),new P(2,20)),new Y(30,new P(3,15),new P(13,16))),new Ee(17,Int32Array.from([6,30,54,78]),new Y(28,new P(1,107),new P(5,108)),new Y(28,new P(10,46),new P(1,47)),new Y(28,new P(1,22),new P(15,23)),new Y(28,new P(2,14),new P(17,15))),new Ee(18,Int32Array.from([6,30,56,82]),new Y(30,new P(5,120),new P(1,121)),new Y(26,new P(9,43),new P(4,44)),new Y(28,new P(17,22),new P(1,23)),new Y(28,new P(2,14),new P(19,15))),new Ee(19,Int32Array.from([6,30,58,86]),new Y(28,new P(3,113),new P(4,114)),new Y(26,new P(3,44),new P(11,45)),new Y(26,new P(17,21),new P(4,22)),new Y(26,new P(9,13),new P(16,14))),new Ee(20,Int32Array.from([6,34,62,90]),new Y(28,new P(3,107),new P(5,108)),new Y(26,new P(3,41),new P(13,42)),new Y(30,new P(15,24),new P(5,25)),new Y(28,new P(15,15),new P(10,16))),new Ee(21,Int32Array.from([6,28,50,72,94]),new Y(28,new P(4,116),new P(4,117)),new Y(26,new P(17,42)),new Y(28,new P(17,22),new P(6,23)),new Y(30,new P(19,16),new P(6,17))),new Ee(22,Int32Array.from([6,26,50,74,98]),new Y(28,new P(2,111),new P(7,112)),new Y(28,new P(17,46)),new Y(30,new P(7,24),new P(16,25)),new Y(24,new P(34,13))),new Ee(23,Int32Array.from([6,30,54,78,102]),new Y(30,new P(4,121),new P(5,122)),new Y(28,new P(4,47),new P(14,48)),new Y(30,new P(11,24),new P(14,25)),new Y(30,new P(16,15),new P(14,16))),new Ee(24,Int32Array.from([6,28,54,80,106]),new Y(30,new P(6,117),new P(4,118)),new Y(28,new P(6,45),new P(14,46)),new Y(30,new P(11,24),new P(16,25)),new Y(30,new P(30,16),new P(2,17))),new Ee(25,Int32Array.from([6,32,58,84,110]),new Y(26,new P(8,106),new P(4,107)),new Y(28,new P(8,47),new P(13,48)),new Y(30,new P(7,24),new P(22,25)),new Y(30,new P(22,15),new P(13,16))),new Ee(26,Int32Array.from([6,30,58,86,114]),new Y(28,new P(10,114),new P(2,115)),new Y(28,new P(19,46),new P(4,47)),new Y(28,new P(28,22),new P(6,23)),new Y(30,new P(33,16),new P(4,17))),new Ee(27,Int32Array.from([6,34,62,90,118]),new Y(30,new P(8,122),new P(4,123)),new Y(28,new P(22,45),new P(3,46)),new Y(30,new P(8,23),new P(26,24)),new Y(30,new P(12,15),new P(28,16))),new Ee(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new P(3,117),new P(10,118)),new Y(28,new P(3,45),new P(23,46)),new Y(30,new P(4,24),new P(31,25)),new Y(30,new P(11,15),new P(31,16))),new Ee(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new P(7,116),new P(7,117)),new Y(28,new P(21,45),new P(7,46)),new Y(30,new P(1,23),new P(37,24)),new Y(30,new P(19,15),new P(26,16))),new Ee(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new P(5,115),new P(10,116)),new Y(28,new P(19,47),new P(10,48)),new Y(30,new P(15,24),new P(25,25)),new Y(30,new P(23,15),new P(25,16))),new Ee(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new P(13,115),new P(3,116)),new Y(28,new P(2,46),new P(29,47)),new Y(30,new P(42,24),new P(1,25)),new Y(30,new P(23,15),new P(28,16))),new Ee(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new P(17,115)),new Y(28,new P(10,46),new P(23,47)),new Y(30,new P(10,24),new P(35,25)),new Y(30,new P(19,15),new P(35,16))),new Ee(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new P(17,115),new P(1,116)),new Y(28,new P(14,46),new P(21,47)),new Y(30,new P(29,24),new P(19,25)),new Y(30,new P(11,15),new P(46,16))),new Ee(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new P(13,115),new P(6,116)),new Y(28,new P(14,46),new P(23,47)),new Y(30,new P(44,24),new P(7,25)),new Y(30,new P(59,16),new P(1,17))),new Ee(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new P(12,121),new P(7,122)),new Y(28,new P(12,47),new P(26,48)),new Y(30,new P(39,24),new P(14,25)),new Y(30,new P(22,15),new P(41,16))),new Ee(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new P(6,121),new P(14,122)),new Y(28,new P(6,47),new P(34,48)),new Y(30,new P(46,24),new P(10,25)),new Y(30,new P(2,15),new P(64,16))),new Ee(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new P(17,122),new P(4,123)),new Y(28,new P(29,46),new P(14,47)),new Y(30,new P(49,24),new P(10,25)),new Y(30,new P(24,15),new P(46,16))),new Ee(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new P(4,122),new P(18,123)),new Y(28,new P(13,46),new P(32,47)),new Y(30,new P(48,24),new P(14,25)),new Y(30,new P(42,15),new P(32,16))),new Ee(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new P(20,117),new P(4,118)),new Y(28,new P(40,47),new P(7,48)),new Y(30,new P(43,24),new P(22,25)),new Y(30,new P(10,15),new P(67,16))),new Ee(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new P(19,118),new P(6,119)),new Y(28,new P(18,47),new P(31,48)),new Y(30,new P(34,24),new P(34,25)),new Y(30,new P(20,15),new P(61,16)))];var Vt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(Vt||(Vt={}));class Wn{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let o=0;o<i;o++)for(let l=0;l<i;l++)this.isMasked(o,l)&&r.flip(l,o)}}Wn.values=new Map([[Vt.DATA_MASK_000,new Wn(Vt.DATA_MASK_000,(S,r)=>(S+r&1)===0)],[Vt.DATA_MASK_001,new Wn(Vt.DATA_MASK_001,(S,r)=>(S&1)===0)],[Vt.DATA_MASK_010,new Wn(Vt.DATA_MASK_010,(S,r)=>r%3===0)],[Vt.DATA_MASK_011,new Wn(Vt.DATA_MASK_011,(S,r)=>(S+r)%3===0)],[Vt.DATA_MASK_100,new Wn(Vt.DATA_MASK_100,(S,r)=>(Math.floor(S/2)+Math.floor(r/3)&1)===0)],[Vt.DATA_MASK_101,new Wn(Vt.DATA_MASK_101,(S,r)=>S*r%6===0)],[Vt.DATA_MASK_110,new Wn(Vt.DATA_MASK_110,(S,r)=>S*r%6<3)],[Vt.DATA_MASK_111,new Wn(Vt.DATA_MASK_111,(S,r)=>(S+r+S*r%3&1)===0)]]);class Hw{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new F;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const i=this.bitMatrix.getHeight();let o=0;const l=i-7;for(let u=i-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=i-8;u<i;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=tn.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return Ee.getVersionForNumber(i);let o=0;const l=r-11;for(let d=5;d>=0;d--)for(let h=r-9;h>=l;h--)o=this.copyBit(h,d,o);let u=Ee.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;o=0;for(let d=5;d>=0;d--)for(let h=r-9;h>=l;h--)o=this.copyBit(d,h,o);if(u=Ee.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new F}copyBit(r,i,o){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),o=Wn.values.get(r.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let d=!0;const h=new Uint8Array(i.getTotalCodewords());let p=0,w=0,b=0;for(let N=l-1;N>0;N-=2){N===6&&N--;for(let k=0;k<l;k++){const M=d?l-1-k:k;for(let V=0;V<2;V++)u.get(N-V,M)||(b++,w<<=1,this.bitMatrix.get(N-V,M)&&(w|=1),b===8&&(h[p++]=w,b=0,w=0))}d=!d}if(p!==i.getTotalCodewords())throw new F;return h}remask(){if(this.parsedFormatInfo===null)return;const r=Wn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,o=r.getWidth();i<o;i++)for(let l=i+1,u=r.getHeight();l<u;l++)r.get(i,l)!==r.get(l,i)&&(r.flip(l,i),r.flip(i,l))}}class xu{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,o){if(r.length!==i.getTotalCodewords())throw new C;const l=i.getECBlocksForLevel(o);let u=0;const d=l.getECBlocks();for(const V of d)u+=V.getCount();const h=new Array(u);let p=0;for(const V of d)for(let U=0;U<V.getCount();U++){const G=V.getDataCodewords(),K=l.getECCodewordsPerBlock()+G;h[p++]=new xu(G,new Uint8Array(K))}const w=h[0].codewords.length;let b=h.length-1;for(;b>=0&&h[b].codewords.length!==w;)b--;b++;const N=w-l.getECCodewordsPerBlock();let k=0;for(let V=0;V<N;V++)for(let U=0;U<p;U++)h[U].codewords[V]=r[k++];for(let V=b;V<p;V++)h[V].codewords[N]=r[k++];const M=h[0].codewords.length;for(let V=N;V<M;V++)for(let U=0;U<p;U++){const G=U<b?V:V+1;h[U].codewords[G]=r[k++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Hn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Hn||(Hn={}));class Se{constructor(r,i,o,l){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=l,Se.FOR_BITS.set(l,this),Se.FOR_VALUE.set(r,this)}static forBits(r){const i=Se.FOR_BITS.get(r);if(i===void 0)throw new C;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Se))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}Se.FOR_BITS=new Map,Se.FOR_VALUE=new Map,Se.TERMINATOR=new Se(Hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Se.NUMERIC=new Se(Hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Se.ALPHANUMERIC=new Se(Hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Se.STRUCTURED_APPEND=new Se(Hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Se.BYTE=new Se(Hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Se.ECI=new Se(Hn.ECI,"ECI",Int32Array.from([0,0,0]),7),Se.KANJI=new Se(Hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Se.FNC1_FIRST_POSITION=new Se(Hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Se.FNC1_SECOND_POSITION=new Se(Hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Se.HANZI=new Se(Hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class xt{static decode(r,i,o,l){const u=new pu(r);let d=new ge;const h=new Array;let p=-1,w=-1;try{let b=null,N=!1,k;do{if(u.available()<4)k=Se.TERMINATOR;else{const M=u.readBits(4);k=Se.forBits(M)}switch(k){case Se.TERMINATOR:break;case Se.FNC1_FIRST_POSITION:case Se.FNC1_SECOND_POSITION:N=!0;break;case Se.STRUCTURED_APPEND:if(u.available()<16)throw new F;p=u.readBits(8),w=u.readBits(8);break;case Se.ECI:const M=xt.parseECIValue(u);if(b=j.getCharacterSetECIByValue(M),b===null)throw new F;break;case Se.HANZI:const V=u.readBits(4),U=u.readBits(k.getCharacterCountBits(i));V===xt.GB2312_SUBSET&&xt.decodeHanziSegment(u,d,U);break;default:const G=u.readBits(k.getCharacterCountBits(i));switch(k){case Se.NUMERIC:xt.decodeNumericSegment(u,d,G);break;case Se.ALPHANUMERIC:xt.decodeAlphanumericSegment(u,d,G,N);break;case Se.BYTE:xt.decodeByteSegment(u,d,G,b,h,l);break;case Se.KANJI:xt.decodeKanjiSegment(u,d,G);break;default:throw new F}break}}while(k!==Se.TERMINATOR)}catch{throw new F}return new ln(r,d.toString(),h.length===0?null:h,o===null?null:o.toString(),p,w)}static decodeHanziSegment(r,i,o){if(o*13>r.available())throw new F;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const d=r.readBits(13);let h=d/96<<8&4294967295|d%96;h<959?h+=41377:h+=42657,l[u]=h>>8&255,l[u+1]=h&255,u+=2,o--}try{i.append(fe.decode(l,q.GB2312))}catch(d){throw new F(d)}}static decodeKanjiSegment(r,i,o){if(o*13>r.available())throw new F;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const d=r.readBits(13);let h=d/192<<8&4294967295|d%192;h<7936?h+=33088:h+=49472,l[u]=h>>8,l[u+1]=h,u+=2,o--}try{i.append(fe.decode(l,q.SHIFT_JIS))}catch(d){throw new F(d)}}static decodeByteSegment(r,i,o,l,u,d){if(8*o>r.available())throw new F;const h=new Uint8Array(o);for(let w=0;w<o;w++)h[w]=r.readBits(8);let p;l===null?p=q.guessEncoding(h,d):p=l.getName();try{i.append(fe.decode(h,p))}catch(w){throw new F(w)}u.push(h)}static toAlphaNumericChar(r){if(r>=xt.ALPHANUMERIC_CHARS.length)throw new F;return xt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,o,l){const u=i.length();for(;o>1;){if(r.available()<11)throw new F;const d=r.readBits(11);i.append(xt.toAlphaNumericChar(Math.floor(d/45))),i.append(xt.toAlphaNumericChar(d%45)),o-=2}if(o===1){if(r.available()<6)throw new F;i.append(xt.toAlphaNumericChar(r.readBits(6)))}if(l)for(let d=u;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,String.fromCharCode(29)))}static decodeNumericSegment(r,i,o){for(;o>=3;){if(r.available()<10)throw new F;const l=r.readBits(10);if(l>=1e3)throw new F;i.append(xt.toAlphaNumericChar(Math.floor(l/100))),i.append(xt.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(xt.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(r.available()<7)throw new F;const l=r.readBits(7);if(l>=100)throw new F;i.append(xt.toAlphaNumericChar(Math.floor(l/10))),i.append(xt.toAlphaNumericChar(l%10))}else if(o===1){if(r.available()<4)throw new F;const l=r.readBits(4);if(l>=10)throw new F;i.append(xt.toAlphaNumericChar(l))}}static parseECIValue(r){const i=r.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=r.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=r.readBits(16);return(i&31)<<16&4294967295|o}throw new F}}xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",xt.GB2312_SUBSET=1;class ph{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class Gw{constructor(){this.rsDecoder=new $r(Ue.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(de.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const o=new Hw(r);let l=null;try{return this.decodeBitMatrixParser(o,i)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,i);return u.setOther(new ph(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(r,i){const o=r.readVersion(),l=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),d=xu.getDataBlocks(u,o,l);let h=0;for(const b of d)h+=b.getNumDataCodewords();const p=new Uint8Array(h);let w=0;for(const b of d){const N=b.getCodewords(),k=b.getNumDataCodewords();this.correctErrors(N,k);for(let M=0;M<k;M++)p[w++]=N[M]}return xt.decode(p,o,l,i)}correctErrors(r,i){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-i)}catch{throw new E}for(let l=0;l<i;l++)r[l]=o[l]}}class yu extends ye{constructor(r,i,o){super(r,i),this.estimatedModuleSize=o}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const l=(this.getX()+i)/2,u=(this.getY()+r)/2,d=(this.estimatedModuleSize+o)/2;return new yu(l,u,d)}}class qa{constructor(r,i,o,l,u,d,h){this.image=r,this.startX=i,this.startY=o,this.width=l,this.height=u,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,o=this.width,l=r+o,u=this.startY+i/2,d=new Int32Array(3),h=this.image;for(let p=0;p<i;p++){const w=u+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));d[0]=0,d[1]=0,d[2]=0;let b=r;for(;b<l&&!h.get(b,w);)b++;let N=0;for(;b<l;){if(h.get(b,w))if(N===1)d[1]++;else if(N===2){if(this.foundPatternCross(d)){const k=this.handlePossibleCenter(d,w,b);if(k!==null)return k}d[0]=d[2],d[1]=1,d[2]=0,N=1}else d[++N]++;else N===1&&N++,d[N]++;b++}if(this.foundPatternCross(d)){const k=this.handlePossibleCenter(d,w,l);if(k!==null)return k}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,o=i/2;for(let l=0;l<3;l++)if(Math.abs(i-r[l])>=o)return!1;return!0}crossCheckVertical(r,i,o,l){const u=this.image,d=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let p=r;for(;p>=0&&u.get(i,p)&&h[1]<=o;)h[1]++,p--;if(p<0||h[1]>o)return NaN;for(;p>=0&&!u.get(i,p)&&h[0]<=o;)h[0]++,p--;if(h[0]>o)return NaN;for(p=r+1;p<d&&u.get(i,p)&&h[1]<=o;)h[1]++,p++;if(p===d||h[1]>o)return NaN;for(;p<d&&!u.get(i,p)&&h[2]<=o;)h[2]++,p++;if(h[2]>o)return NaN;const w=h[0]+h[1]+h[2];return 5*Math.abs(w-l)>=2*l?NaN:this.foundPatternCross(h)?qa.centerFromEnd(h,p):NaN}handlePossibleCenter(r,i,o){const l=r[0]+r[1]+r[2],u=qa.centerFromEnd(r,o),d=this.crossCheckVertical(i,u,2*r[1],l);if(!isNaN(d)){const h=(r[0]+r[1]+r[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(h,d,u))return w.combineEstimate(d,u,h);const p=new yu(u,d,h);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class wu extends ye{constructor(r,i,o,l){super(r,i),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,o){if(Math.abs(i-this.getY())<=r&&Math.abs(o-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,o){const l=this.count+1,u=(this.count*this.getX()+i)/l,d=(this.count*this.getY()+r)/l,h=(this.count*this.estimatedModuleSize+o)/l;return new wu(u,d,h,l)}}class Xw{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ut{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(X.TRY_HARDER)!==void 0,o=r!=null&&r.get(X.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),d=l.getWidth();let h=Math.floor(3*u/(4*Ut.MAX_MODULES));(h<Ut.MIN_SKIP||i)&&(h=Ut.MIN_SKIP);let p=!1;const w=new Int32Array(5);for(let N=h-1;N<u&&!p;N+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let k=0;for(let M=0;M<d;M++)if(l.get(M,N))(k&1)===1&&k++,w[k]++;else if(k&1)w[k]++;else if(k===4)if(Ut.foundPatternCross(w)){if(this.handlePossibleCenter(w,N,M,o)===!0)if(h=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>w[2]&&(N+=U-w[2]-h,M=d-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,k=3;continue}k=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,k=3;else w[++k]++;Ut.foundPatternCross(w)&&this.handlePossibleCenter(w,N,d,o)===!0&&(h=w[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return ye.orderBestPatterns(b),new Xw(b)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let u=0;u<5;u++){const d=r[u];if(d===0)return!1;i+=d}if(i<7)return!1;const o=i/7,l=o/2;return Math.abs(o-r[0])<l&&Math.abs(o-r[1])<l&&Math.abs(3*o-r[2])<3*l&&Math.abs(o-r[3])<l&&Math.abs(o-r[4])<l}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,o,l){const u=this.getCrossCheckStateCount();let d=0;const h=this.image;for(;r>=d&&i>=d&&h.get(i-d,r-d);)u[2]++,d++;if(r<d||i<d)return!1;for(;r>=d&&i>=d&&!h.get(i-d,r-d)&&u[1]<=o;)u[1]++,d++;if(r<d||i<d||u[1]>o)return!1;for(;r>=d&&i>=d&&h.get(i-d,r-d)&&u[0]<=o;)u[0]++,d++;if(u[0]>o)return!1;const p=h.getHeight(),w=h.getWidth();for(d=1;r+d<p&&i+d<w&&h.get(i+d,r+d);)u[2]++,d++;if(r+d>=p||i+d>=w)return!1;for(;r+d<p&&i+d<w&&!h.get(i+d,r+d)&&u[3]<o;)u[3]++,d++;if(r+d>=p||i+d>=w||u[3]>=o)return!1;for(;r+d<p&&i+d<w&&h.get(i+d,r+d)&&u[4]<o;)u[4]++,d++;if(u[4]>=o)return!1;const b=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(b-l)<2*l&&Ut.foundPatternCross(u)}crossCheckVertical(r,i,o,l){const u=this.image,d=u.getHeight(),h=this.getCrossCheckStateCount();let p=r;for(;p>=0&&u.get(i,p);)h[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(i,p)&&h[1]<=o;)h[1]++,p--;if(p<0||h[1]>o)return NaN;for(;p>=0&&u.get(i,p)&&h[0]<=o;)h[0]++,p--;if(h[0]>o)return NaN;for(p=r+1;p<d&&u.get(i,p);)h[2]++,p++;if(p===d)return NaN;for(;p<d&&!u.get(i,p)&&h[3]<o;)h[3]++,p++;if(p===d||h[3]>=o)return NaN;for(;p<d&&u.get(i,p)&&h[4]<o;)h[4]++,p++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-l)>=2*l?NaN:Ut.foundPatternCross(h)?Ut.centerFromEnd(h,p):NaN}crossCheckHorizontal(r,i,o,l){const u=this.image,d=u.getWidth(),h=this.getCrossCheckStateCount();let p=r;for(;p>=0&&u.get(p,i);)h[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(p,i)&&h[1]<=o;)h[1]++,p--;if(p<0||h[1]>o)return NaN;for(;p>=0&&u.get(p,i)&&h[0]<=o;)h[0]++,p--;if(h[0]>o)return NaN;for(p=r+1;p<d&&u.get(p,i);)h[2]++,p++;if(p===d)return NaN;for(;p<d&&!u.get(p,i)&&h[3]<o;)h[3]++,p++;if(p===d||h[3]>=o)return NaN;for(;p<d&&u.get(p,i)&&h[4]<o;)h[4]++,p++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-l)>=l?NaN:Ut.foundPatternCross(h)?Ut.centerFromEnd(h,p):NaN}handlePossibleCenter(r,i,o,l){const u=r[0]+r[1]+r[2]+r[3]+r[4];let d=Ut.centerFromEnd(r,o),h=this.crossCheckVertical(i,Math.floor(d),r[2],u);if(!isNaN(h)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(h),r[2],u),!isNaN(d)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(d),r[2],u)))){const p=u/7;let w=!1;const b=this.possibleCenters;for(let N=0,k=b.length;N<k;N++){const M=b[N];if(M.aboutEquals(p,h,d)){b[N]=M.combineEstimate(h,d,p),w=!0;break}}if(!w){const N=new wu(d,h,p);b.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Ut.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const o=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Ut.CENTER_QUORUM&&(r++,i+=d.getEstimatedModuleSize());if(r<3)return!1;const l=i/o;let u=0;for(const d of this.possibleCenters)u+=Math.abs(d.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new H;const i=this.possibleCenters;let o;if(r>3){let l=0,u=0;for(const p of this.possibleCenters){const w=p.getEstimatedModuleSize();l+=w,u+=w*w}o=l/r;let d=Math.sqrt(u/r-o*o);i.sort((p,w)=>{const b=Math.abs(w.getEstimatedModuleSize()-o),N=Math.abs(p.getEstimatedModuleSize()-o);return b<N?-1:b>N?1:0});const h=Math.max(.2*o,d);for(let p=0;p<i.length&&i.length>3;p++){const w=i[p];Math.abs(w.getEstimatedModuleSize()-o)>h&&(i.splice(p,1),p--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();o=l/i.length,i.sort((u,d)=>{if(d.getCount()===u.getCount()){const h=Math.abs(d.getEstimatedModuleSize()-o),p=Math.abs(u.getEstimatedModuleSize()-o);return h<p?1:h>p?-1:0}else return d.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Ut.CENTER_QUORUM=2,Ut.MIN_SKIP=3,Ut.MAX_MODULES=57;class So{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(X.NEED_RESULT_POINT_CALLBACK);const o=new Ut(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const i=r.getTopLeft(),o=r.getTopRight(),l=r.getBottomLeft(),u=this.calculateModuleSize(i,o,l);if(u<1)throw new H("No pattern found in proccess finder.");const d=So.computeDimension(i,o,l,u),h=Ee.getProvisionalVersionForDimension(d),p=h.getDimensionForVersion()-7;let w=null;if(h.getAlignmentPatternCenters().length>0){const M=o.getX()-i.getX()+l.getX(),V=o.getY()-i.getY()+l.getY(),U=1-3/p,G=Math.floor(i.getX()+U*(M-i.getX())),K=Math.floor(i.getY()+U*(V-i.getY()));for(let oe=4;oe<=16;oe<<=1)try{w=this.findAlignmentInRegion(u,G,K,oe);break}catch(le){if(!(le instanceof H))throw le}}const b=So.createTransform(i,o,l,w,d),N=So.sampleGrid(this.image,b,d);let k;return w===null?k=[l,i,o]:k=[l,i,o,w],new Bi(N,k)}static createTransform(r,i,o,l,u){const d=u-3.5;let h,p,w,b;return l!==null?(h=l.getX(),p=l.getY(),w=d-3,b=w):(h=i.getX()-r.getX()+o.getX(),p=i.getY()-r.getY()+o.getY(),w=d,b=d),ft.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,w,b,3.5,d,r.getX(),r.getY(),i.getX(),i.getY(),h,p,o.getX(),o.getY())}static sampleGrid(r,i,o){return mr.getInstance().sampleGridWithTransform(r,o,o,i)}static computeDimension(r,i,o,l){const u=je.round(ye.distance(r,i)/l),d=je.round(ye.distance(r,o)/l);let h=Math.floor((u+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new H("Dimensions could be not found.")}return h}calculateModuleSize(r,i,o){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,o,l){let u=this.sizeOfBlackWhiteBlackRun(r,i,o,l),d=1,h=r-(o-r);h<0?(d=r/(r-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let p=Math.floor(i-(l-i)*d);return d=1,p<0?(d=i/(i-p),p=0):p>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(p-i),p=this.image.getHeight()-1),h=Math.floor(r+(h-r)*d),u+=this.sizeOfBlackWhiteBlackRun(r,i,h,p),u-1}sizeOfBlackWhiteBlackRun(r,i,o,l){const u=Math.abs(l-i)>Math.abs(o-r);if(u){let M=r;r=i,i=M,M=o,o=l,l=M}const d=Math.abs(o-r),h=Math.abs(l-i);let p=-d/2;const w=r<o?1:-1,b=i<l?1:-1;let N=0;const k=o+w;for(let M=r,V=i;M!==k;M+=w){const U=u?V:M,G=u?M:V;if(N===1===this.image.get(U,G)){if(N===2)return je.distance(M,V,r,i);N++}if(p+=h,p>0){if(V===l)break;V+=b,p-=d}}return N===2?je.distance(o+w,l,r,i):NaN}findAlignmentInRegion(r,i,o,l){const u=Math.floor(l*r),d=Math.max(0,i-u),h=Math.min(this.image.getWidth()-1,i+u);if(h-d<r*3)throw new H("Alignment top exceeds estimated module size.");const p=Math.max(0,o-u),w=Math.min(this.image.getHeight()-1,o+u);if(w-p<r*3)throw new H("Alignment bottom exceeds estimated module size.");return new qa(this.image,d,p,h-d,w-p,r,this.resultPointCallback).find()}}class ei{constructor(){this.decoder=new Gw}getDecoder(){return this.decoder}decode(r,i){let o,l;if(i!=null&&i.get(X.PURE_BARCODE)!==void 0){const p=ei.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(p,i),l=ei.NO_POINTS}else{const p=new So(r.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(p.getBits(),i),l=p.getPoints()}o.getOther()instanceof ph&&o.getOther().applyMirroredCorrection(l);const u=new ve(o.getText(),o.getRawBytes(),void 0,l,me.QR_CODE,void 0),d=o.getByteSegments();d!==null&&u.putMetadata(dt.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!==null&&u.putMetadata(dt.ERROR_CORRECTION_LEVEL,h),o.hasStructuredAppend()&&(u.putMetadata(dt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(dt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(i===null||o===null)throw new H;const l=this.moduleSize(i,r);let u=i[1],d=o[1],h=i[0],p=o[0];if(h>=p||u>=d)throw new H;if(d-u!==p-h&&(p=h+(d-u),p>=r.getWidth()))throw new H;const w=Math.round((p-h+1)/l),b=Math.round((d-u+1)/l);if(w<=0||b<=0)throw new H;if(b!==w)throw new H;const N=Math.floor(l/2);u+=N,h+=N;const k=h+Math.floor((w-1)*l)-p;if(k>0){if(k>N)throw new H;h-=k}const M=u+Math.floor((b-1)*l)-d;if(M>0){if(M>N)throw new H;u-=M}const V=new de(w,b);for(let U=0;U<b;U++){const G=u+Math.floor(U*l);for(let K=0;K<w;K++)r.get(h+Math.floor(K*l),G)&&V.set(K,U)}return V}static moduleSize(r,i){const o=i.getHeight(),l=i.getWidth();let u=r[0],d=r[1],h=!0,p=0;for(;u<l&&d<o;){if(h!==i.get(u,d)){if(++p===5)break;h=!h}u++,d++}if(u===l||d===o)throw new H;return(u-r[0])/7}}ei.NO_POINTS=new Array;class Te{PDF417Common(){}static getBitCountSum(r){return je.sum(r)}static toIntArray(r){if(r==null||!r.length)return Te.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let o=0;for(const l of r)i[o++]=l;return i}static getCodeword(r){const i=I.binarySearch(Te.SYMBOL_TABLE,r&262143);return i<0?-1:(Te.CODEWORD_TABLE[i]-1)%Te.NUMBER_OF_CODEWORDS}}Te.NUMBER_OF_CODEWORDS=929,Te.MAX_CODEWORDS_IN_BARCODE=Te.NUMBER_OF_CODEWORDS-1,Te.MIN_ROWS_IN_BARCODE=3,Te.MAX_ROWS_IN_BARCODE=90,Te.MODULES_IN_CODEWORD=17,Te.MODULES_IN_STOP_PATTERN=18,Te.BARS_IN_MODULE=8,Te.EMPTY_INT_ARRAY=new Int32Array([]),Te.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Te.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Yw{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Oe{static detectMultiple(r,i,o){let l=r.getBlackMatrix(),u=Oe.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=Oe.detect(o,l)),new Yw(l,u)}static detect(r,i){const o=new Array;let l=0,u=0,d=!1;for(;l<i.getHeight();){const h=Oe.findVertices(i,l,u);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,u=0;for(const p of o)p[1]!=null&&(l=Math.trunc(Math.max(l,p[1].getY()))),p[3]!=null&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=Oe.ROW_STEP;continue}if(d=!0,o.push(h),!r)break;h[2]!=null?(u=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return o}static findVertices(r,i,o){const l=r.getHeight(),u=r.getWidth(),d=new Array(8);return Oe.copyToResult(d,Oe.findRowsWithPattern(r,l,u,i,o,Oe.START_PATTERN),Oe.INDEXES_START_PATTERN),d[4]!=null&&(o=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),Oe.copyToResult(d,Oe.findRowsWithPattern(r,l,u,i,o,Oe.STOP_PATTERN),Oe.INDEXES_STOP_PATTERN),d}static copyToResult(r,i,o){for(let l=0;l<o.length;l++)r[o[l]]=i[l]}static findRowsWithPattern(r,i,o,l,u,d){const h=new Array(4);let p=!1;const w=new Int32Array(d.length);for(;l<i;l+=Oe.ROW_STEP){let N=Oe.findGuardPattern(r,u,l,o,!1,d,w);if(N!=null){for(;l>0;){const k=Oe.findGuardPattern(r,u,--l,o,!1,d,w);if(k!=null)N=k;else{l++;break}}h[0]=new ye(N[0],l),h[1]=new ye(N[1],l),p=!0;break}}let b=l+1;if(p){let N=0,k=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;b<i;b++){const M=Oe.findGuardPattern(r,k[0],b,o,!1,d,w);if(M!=null&&Math.abs(k[0]-M[0])<Oe.MAX_PATTERN_DRIFT&&Math.abs(k[1]-M[1])<Oe.MAX_PATTERN_DRIFT)k=M,N=0;else{if(N>Oe.SKIPPED_ROW_COUNT_MAX)break;N++}}b-=N+1,h[2]=new ye(k[0],b),h[3]=new ye(k[1],b)}return b-l<Oe.BARCODE_MIN_HEIGHT&&I.fill(h,null),h}static findGuardPattern(r,i,o,l,u,d,h){I.fillWithin(h,0,h.length,0);let p=i,w=0;for(;r.get(p,o)&&p>0&&w++<Oe.MAX_PIXEL_DRIFT;)p--;let b=p,N=0,k=d.length;for(let M=u;b<l;b++)if(r.get(b,o)!==M)h[N]++;else{if(N===k-1){if(Oe.patternMatchVariance(h,d,Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE)return new Int32Array([p,b]);p+=h[0]+h[1],R.arraycopy(h,2,h,0,N-1),h[N-1]=0,h[N]=0,N--}else N++;h[N]=1,M=!M}return N===k-1&&Oe.patternMatchVariance(h,d,Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE?new Int32Array([p,b-1]):null}static patternMatchVariance(r,i,o){let l=r.length,u=0,d=0;for(let w=0;w<l;w++)u+=r[w],d+=i[w];if(u<d)return 1/0;let h=u/d;o*=h;let p=0;for(let w=0;w<l;w++){let b=r[w],N=i[w]*h,k=b>N?b-N:N-b;if(k>o)return 1/0;p+=k}return p/u}}Oe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Oe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Oe.MAX_AVG_VARIANCE=.42,Oe.MAX_INDIVIDUAL_VARIANCE=.8,Oe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Oe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Oe.MAX_PIXEL_DRIFT=3,Oe.MAX_PATTERN_DRIFT=5,Oe.SKIPPED_ROW_COUNT_MAX=25,Oe.ROW_STEP=5,Oe.BARCODE_MIN_HEIGHT=10;class Yt{constructor(r,i){if(i.length===0)throw new C;this.field=r;let o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),R.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)i=this.field.add(this.field.multiply(r,i),this.coefficients[l]);return i}add(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,o=r.coefficients;if(i.length>o.length){let d=i;i=o,o=d}let l=new Int32Array(o.length),u=o.length-i.length;R.arraycopy(o,0,l,0,u);for(let d=u;d<o.length;d++)l[d]=this.field.add(i[d-u],o[d]);return new Yt(this.field,l)}subtract(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Yt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Yt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,l=r.coefficients,u=l.length,d=new Int32Array(o+u-1);for(let h=0;h<o;h++){let p=i[h];for(let w=0;w<u;w++)d[h+w]=this.field.add(d[h+w],this.field.multiply(p,l[w]))}return new Yt(this.field,d)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new Yt(this.field,i)}multiplyScalar(r){if(r===0)return new Yt(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new Yt(this.field,o)}multiplyByMonomial(r,i){if(r<0)throw new C;if(i===0)return new Yt(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+r);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new Yt(this.field,l)}toString(){let r=new ge;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(i===0||o!==1)&&r.append(o),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class Zw{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}inverse(r){if(r===0)throw new kr;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class vu extends Zw{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let l=0;l<r;l++)this.expTable[l]=o,o=o*i%r;for(let l=0;l<r-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Yt(this,new Int32Array([0])),this.one=new Yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new C;if(i===0)return this.zero;let o=new Int32Array(r+1);return o[0]=i,new Yt(this,o)}}vu.PDF417_GF=new vu(Te.NUMBER_OF_CODEWORDS,3);class xh{constructor(){this.field=vu.PDF417_GF}decode(r,i,o){let l=new Yt(this.field,r),u=new Int32Array(i),d=!1;for(let V=i;V>0;V--){let U=l.evaluateAt(this.field.exp(V));u[i-V]=U,U!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(o!=null)for(const V of o){let U=this.field.exp(r.length-1-V),G=new Yt(this.field,new Int32Array([this.field.subtract(0,U),1]));h=h.multiply(G)}let p=new Yt(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),p,i),b=w[0],N=w[1],k=this.findErrorLocations(b),M=this.findErrorMagnitudes(N,b,k);for(let V=0;V<k.length;V++){let U=r.length-1-this.field.log(k[V]);if(U<0)throw E.getChecksumInstance();r[U]=this.field.subtract(r[U],M[V])}return k.length}runEuclideanAlgorithm(r,i,o){if(r.getDegree()<i.getDegree()){let k=r;r=i,i=k}let l=r,u=i,d=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let k=l,M=d;if(l=u,d=h,l.isZero())throw E.getChecksumInstance();u=k;let V=this.field.getZero(),U=l.getCoefficient(l.getDegree()),G=this.field.inverse(U);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let K=u.getDegree()-l.getDegree(),oe=this.field.multiply(u.getCoefficient(u.getDegree()),G);V=V.add(this.field.buildMonomial(K,oe)),u=u.subtract(l.multiplyByMonomial(K,oe))}h=V.multiply(d).subtract(M).negative()}let p=h.getCoefficient(0);if(p===0)throw E.getChecksumInstance();let w=this.field.inverse(p),b=h.multiply(w),N=u.multiply(w);return[b,N]}findErrorLocations(r){let i=r.getDegree(),o=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)r.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==i)throw E.getChecksumInstance();return o}findErrorMagnitudes(r,i,o){let l=i.getDegree(),u=new Int32Array(l);for(let w=1;w<=l;w++)u[l-w]=this.field.multiply(w,i.getCoefficient(w));let d=new Yt(this.field,u),h=o.length,p=new Int32Array(h);for(let w=0;w<h;w++){let b=this.field.inverse(o[w]),N=this.field.subtract(0,r.evaluateAt(b)),k=this.field.inverse(d.evaluateAt(b));p[w]=this.field.multiply(N,k)}return p}}class Ui{constructor(r,i,o,l,u){r instanceof Ui?this.constructor_2(r):this.constructor_1(r,i,o,l,u)}constructor_1(r,i,o,l,u){const d=i==null||o==null,h=l==null||u==null;if(d&&h)throw new H;d?(i=new ye(0,l.getY()),o=new ye(0,u.getY())):h&&(l=new ye(r.getWidth()-1,i.getY()),u=new ye(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=i,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new Ui(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,o){let l=this.topLeft,u=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(r>0){let p=o?this.topLeft:this.topRight,w=Math.trunc(p.getY()-r);w<0&&(w=0);let b=new ye(p.getX(),w);o?l=b:d=b}if(i>0){let p=o?this.bottomLeft:this.bottomRight,w=Math.trunc(p.getY()+i);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let b=new ye(p.getX(),w);o?u=b:h=b}return new Ui(this.image,l,u,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Kw{constructor(r,i,o,l){this.columnCount=r,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class No{constructor(){this.buffer=""}static form(r,i){let o=-1;function l(d,h,p,w,b,N){if(d==="%%")return"%";if(i[++o]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let k=b?parseInt(b.substr(1)):void 0,M;switch(N){case"s":M=i[o];break;case"c":M=i[o][0];break;case"f":M=parseFloat(i[o]).toFixed(d);break;case"p":M=parseFloat(i[o]).toPrecision(d);break;case"e":M=parseFloat(i[o]).toExponential(d);break;case"x":M=parseInt(i[o]).toString(k||16);break;case"d":M=parseFloat(parseInt(i[o],k||10).toPrecision(d)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(k);let V=parseInt(p),U=p&&p[0]+""=="0"?"0":" ";for(;M.length<V;)M=h!==void 0?M+U:U+M;return M}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,l)}format(r,...i){this.buffer+=No.form(r,i)}toString(){return this.buffer}}class To{constructor(r){this.boundingBox=new Ui(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let o=1;o<To.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(r)-o;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(r)+o,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new No;let i=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return r.toString()}}To.MAX_NEARBY_DISTANCE=5;class Io{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>r?(r=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===r&&i.push(u.getKey())}return Te.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class yh extends To{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,w=1,b=0;for(let N=d;N<h;N++){if(i[N]==null)continue;let k=i[N],M=k.getRowNumber()-p;if(M===0)b++;else if(M===1)w=Math.max(w,b),b=1,p=k.getRowNumber();else if(M<0||k.getRowNumber()>=r.getRowCount()||M>N)i[N]=null;else{let V;w>2?V=(w-2)*M:V=M;let U=V>=N;for(let G=1;G<=V&&!U;G++)U=i[N-G]!=null;U?i[N]=null:(p=k.getRowNumber(),b=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),p=-1;for(let w=u;w<d;w++){if(h[w]==null)continue;let b=h[w];b.setRowNumberAsRowIndicatorColumn();let N=b.getRowNumber()-p;N===0||(N===1?p=b.getRowNumber():b.getRowNumber()>=r.getRowCount()?h[w]=null:p=b.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new Io,o=new Io,l=new Io,u=new Io;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let p=h.getValue()%30,w=h.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:o.setValue(p*3+1);break;case 1:u.setValue(p/3),l.setValue(p%3);break;case 2:i.setValue(p+1);break}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Te.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Te.MAX_ROWS_IN_BARCODE)return null;let d=new Kw(i.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,d),d}removeIncorrectCodewords(r,i){for(let o=0;o<r.length;o++){let l=r[o];if(r[o]==null)continue;let u=l.getValue()%30,d=l.getRowNumber();if(d>i.getRowCount()){r[o]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(r[o]=null);break;case 2:u+1!==i.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ro{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Te.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&i[o]!=null&&r[o].getRowNumber()===i[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(r[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[o];h!=null&&(u=Ro.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[o];h!=null&&(u=Ro.adjustRowNumberIfValid(l,u,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,o){if(!this.detectionResultColumns[r-1])return;let l=o[i],u=this.detectionResultColumns[r-1].getCodewords(),d=u;this.detectionResultColumns[r+1]!=null&&(d=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=u[i],h[3]=d[i],i>0&&(h[0]=o[i-1],h[4]=u[i-1],h[5]=d[i-1]),i>1&&(h[8]=o[i-2],h[10]=u[i-2],h[11]=d[i-2]),i<o.length-1&&(h[1]=o[i+1],h[6]=u[i+1],h[7]=d[i+1]),i<o.length-2&&(h[9]=o[i+2],h[12]=u[i+2],h[13]=d[i+2]);for(let p of h)if(Ro.adjustRowNumber(l,p))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new No;for(let o=0;o<r.getCodewords().length;o++){i.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class ko{constructor(r,i,o,l){this.rowNumber=ko.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==ko.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}ko.BARCODE_ROW_UNKNOWN=-1;class vn{static initialize(){for(let r=0;r<Te.SYMBOL_TABLE.length;r++){let i=Te.SYMBOL_TABLE[r],o=i&1;for(let l=0;l<Te.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===o;)u+=1,i>>=1;o=i&1,vn.RATIOS_TABLE[r]||(vn.RATIOS_TABLE[r]=new Array(Te.BARS_IN_MODULE)),vn.RATIOS_TABLE[r][Te.BARS_IN_MODULE-l-1]=Math.fround(u/Te.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=vn.getDecodedCodewordValue(vn.sampleBitCounts(r));return i!==-1?i:vn.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=je.sum(r),o=new Int32Array(Te.BARS_IN_MODULE),l=0,u=0;for(let d=0;d<Te.MODULES_IN_CODEWORD;d++){let h=i/(2*Te.MODULES_IN_CODEWORD)+d*i/Te.MODULES_IN_CODEWORD;u+r[l]<=h&&(u+=r[l],l++),o[l]++}return o}static getDecodedCodewordValue(r){let i=vn.getBitValue(r);return Te.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let o=0;o<r.length;o++)for(let l=0;l<r[o];l++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=je.sum(r),o=new Array(Te.BARS_IN_MODULE);if(i>1)for(let d=0;d<o.length;d++)o[d]=Math.fround(r[d]/i);let l=Li.MAX_VALUE,u=-1;this.bSymbolTableReady||vn.initialize();for(let d=0;d<vn.RATIOS_TABLE.length;d++){let h=0,p=vn.RATIOS_TABLE[d];for(let w=0;w<Te.BARS_IN_MODULE;w++){let b=Math.fround(p[w]-o[w]);if(h+=Math.fround(b*b),h>=l)break}h<l&&(l=h,u=Te.SYMBOL_TABLE[d])}return u}}vn.bSymbolTableReady=!1,vn.RATIOS_TABLE=new Array(Te.SYMBOL_TABLE.length).map(S=>new Array(Te.BARS_IN_MODULE));class wh{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class vh{static parseLong(r,i=void 0){return parseInt(r,i)}}class Ch extends m{}Ch.kind="NullPointerException";class $w{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,o){if(r==null)throw new Ch;if(i<0||i>r.length||o<0||i+o>r.length||i+o<0)throw new D;if(o===0)return;for(let l=0;l<o;l++)this.write(r[i+l])}flush(){}close(){}}class qw extends m{}class Qw extends $w{constructor(r=32){if(super(),this.count=0,r<0)throw new C("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new qw;o=T.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,o){if(i<0||i>r.length||o<0||i+o-r.length>0)throw new D;this.ensureCapacity(this.count+o),R.arraycopy(r,i,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Je;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Je||(Je={}));function bh(){if(typeof window<"u")return window.BigInt||null;if(typeof Po<"u")return Po.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qa;function ti(S){if(typeof Qa>"u"&&(Qa=bh()),Qa===null)throw new Error("BigInt is not supported!");return Qa(S)}function Jw(){let S=[];S[0]=ti(1);let r=ti(900);S[1]=r;for(let i=2;i<16;i++)S[i]=S[i-1]*r;return S}class Z{static decode(r,i){let o=new ge(""),l=j.ISO8859_1;o.enableDecoding(l);let u=1,d=r[u++],h=new wh;for(;u<r[0];){switch(d){case Z.TEXT_COMPACTION_MODE_LATCH:u=Z.textCompaction(r,u,o);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:u=Z.byteCompaction(d,r,l,u,o);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:u=Z.numericCompaction(r,u,o);break;case Z.ECI_CHARSET:j.getCharacterSetECIByValue(r[u++]);break;case Z.ECI_GENERAL_PURPOSE:u+=2;break;case Z.ECI_USER_DEFINED:u++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Z.decodeMacroBlock(r,u,h);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new F;default:u--,u=Z.textCompaction(r,u,o);break}if(u<r.length)d=r[u++];else throw F.getFormatInstance()}if(o.length()===0)throw F.getFormatInstance();let p=new ln(null,o.toString(),null,i);return p.setOther(h),p}static decodeMacroBlock(r,i,o){if(i+Z.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw F.getFormatInstance();let l=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<Z.NUMBER_OF_SEQUENCE_CODEWORDS;h++,i++)l[h]=r[i];o.setSegmentIndex(T.parseInt(Z.decodeBase900toBase10(l,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ge;i=Z.textCompaction(r,i,u),o.setFileId(u.toString());let d=-1;for(r[i]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<r[0];)switch(r[i]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ge;i=Z.textCompaction(r,i+1,h),o.setFileName(h.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new ge;i=Z.textCompaction(r,i+1,p),o.setSender(p.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new ge;i=Z.textCompaction(r,i+1,w),o.setAddressee(w.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new ge;i=Z.numericCompaction(r,i+1,b),o.setSegmentCount(T.parseInt(b.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new ge;i=Z.numericCompaction(r,i+1,N),o.setTimestamp(vh.parseLong(N.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new ge;i=Z.numericCompaction(r,i+1,k),o.setChecksum(T.parseInt(k.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new ge;i=Z.numericCompaction(r,i+1,M),o.setFileSize(vh.parseLong(M.toString()));break;default:throw F.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(d!==-1){let h=i-d;o.isLastSegment()&&h--,o.setOptionalData(I.copyOfRange(r,d,d+h))}return i}static textCompaction(r,i,o){let l=new Int32Array((r[0]-i)*2),u=new Int32Array((r[0]-i)*2),d=0,h=!1;for(;i<r[0]&&!h;){let p=r[i++];if(p<Z.TEXT_COMPACTION_MODE_LATCH)l[d]=p/30,l[d+1]=p%30,d+=2;else switch(p){case Z.TEXT_COMPACTION_MODE_LATCH:l[d++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,h=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=r[i++],u[d]=p,d++;break}}return Z.decodeTextCompaction(l,u,d,o),i}static decodeTextCompaction(r,i,o,l){let u=Je.ALPHA,d=Je.ALPHA,h=0;for(;h<o;){let p=r[h],w="";switch(u){case Je.ALPHA:if(p<26)w=String.fromCharCode(65+p);else switch(p){case 26:w=" ";break;case Z.LL:u=Je.LOWER;break;case Z.ML:u=Je.MIXED;break;case Z.PS:d=u,u=Je.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.LOWER:if(p<26)w=String.fromCharCode(97+p);else switch(p){case 26:w=" ";break;case Z.AS:d=u,u=Je.ALPHA_SHIFT;break;case Z.ML:u=Je.MIXED;break;case Z.PS:d=u,u=Je.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.MIXED:if(p<Z.PL)w=Z.MIXED_CHARS[p];else switch(p){case Z.PL:u=Je.PUNCT;break;case 26:w=" ";break;case Z.LL:u=Je.LOWER;break;case Z.AL:u=Je.ALPHA;break;case Z.PS:d=u,u=Je.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.PUNCT:if(p<Z.PAL)w=Z.PUNCT_CHARS[p];else switch(p){case Z.PAL:u=Je.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.ALPHA_SHIFT:if(u=d,p<26)w=String.fromCharCode(65+p);else switch(p){case 26:w=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.PUNCT_SHIFT:if(u=d,p<Z.PAL)w=Z.PUNCT_CHARS[p];else switch(p){case Z.PAL:u=Je.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[h]);break;case Z.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break}w!==""&&l.append(w),h++}}static byteCompaction(r,i,o,l,u){let d=new Qw,h=0,p=0,w=!1;switch(r){case Z.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),N=i[l++];for(;l<i[0]&&!w;)switch(b[h++]=N,p=900*p+N,N=i[l++],N){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:l--,w=!0;break;default:if(h%5===0&&h>0){for(let k=0;k<6;++k)d.write(Number(ti(p)>>ti(8*(5-k))));p=0,h=0}break}l===i[0]&&N<Z.TEXT_COMPACTION_MODE_LATCH&&(b[h++]=N);for(let k=0;k<h;k++)d.write(b[k]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!w;){let k=i[l++];if(k<Z.TEXT_COMPACTION_MODE_LATCH)h++,p=900*p+k;else switch(k){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:l--,w=!0;break}if(h%5===0&&h>0){for(let M=0;M<6;++M)d.write(Number(ti(p)>>ti(8*(5-M))));p=0,h=0}}break}return u.append(fe.decode(d.toByteArray(),o)),l}static numericCompaction(r,i,o){let l=0,u=!1,d=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!u;){let h=r[i++];if(i===r[0]&&(u=!0),h<Z.TEXT_COMPACTION_MODE_LATCH)d[l]=h,l++;else switch(h){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%Z.MAX_NUMERIC_CODEWORDS===0||h===Z.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(Z.decodeBase900toBase10(d,l)),l=0)}return i}static decodeBase900toBase10(r,i){let o=ti(0);for(let u=0;u<i;u++)o+=Z.EXP900[i-u-1]*ti(r[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new F;return l.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=bh()?Jw():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class De{constructor(){}static decode(r,i,o,l,u,d,h){let p=new Ui(r,i,o,l,u),w=null,b=null,N;for(let V=!0;;V=!1){if(i!=null&&(w=De.getRowIndicatorColumn(r,p,i,!0,d,h)),l!=null&&(b=De.getRowIndicatorColumn(r,p,l,!1,d,h)),N=De.merge(w,b),N==null)throw H.getNotFoundInstance();let U=N.getBoundingBox();if(V&&U!=null&&(U.getMinY()<p.getMinY()||U.getMaxY()>p.getMaxY()))p=U;else break}N.setBoundingBox(p);let k=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,w),N.setDetectionResultColumn(k,b);let M=w!=null;for(let V=1;V<=k;V++){let U=M?V:k-V;if(N.getDetectionResultColumn(U)!==void 0)continue;let G;U===0||U===k?G=new yh(p,U===0):G=new To(p),N.setDetectionResultColumn(U,G);let K=-1,oe=K;for(let le=p.getMinY();le<=p.getMaxY();le++){if(K=De.getStartColumn(N,U,le,M),K<0||K>p.getMaxX()){if(oe===-1)continue;K=oe}let ne=De.detectCodeword(r,p.getMinX(),p.getMaxX(),M,K,le,d,h);ne!=null&&(G.setCodeword(le,ne),oe=K,d=Math.min(d,ne.getWidth()),h=Math.max(h,ne.getWidth()))}}return De.createDecoderResult(N)}static merge(r,i){if(r==null&&i==null)return null;let o=De.getBarcodeMetadata(r,i);if(o==null)return null;let l=Ui.merge(De.adjustBoundingBox(r),De.adjustBoundingBox(i));return new Ro(o,l)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let o=De.getMax(i),l=0;for(let h of i)if(l+=o-h,h>0)break;let u=r.getCodewords();for(let h=0;l>0&&u[h]==null;h++)l--;let d=0;for(let h=i.length-1;h>=0&&(d+=o-i[h],!(i[h]>0));h--);for(let h=u.length-1;d>0&&u[h]==null;h--)d--;return r.getBoundingBox().addMissingRows(l,d,r.isLeft())}static getMax(r){let i=-1;for(let o of r)i=Math.max(i,o);return i}static getBarcodeMetadata(r,i){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(r,i,o,l,u,d){let h=new yh(i,l);for(let p=0;p<2;p++){let w=p===0?1:-1,b=Math.trunc(Math.trunc(o.getX()));for(let N=Math.trunc(Math.trunc(o.getY()));N<=i.getMaxY()&&N>=i.getMinY();N+=w){let k=De.detectCodeword(r,0,r.getWidth(),l,b,N,u,d);k!=null&&(h.setCodeword(N,k),l?b=k.getStartX():b=k.getEndX())}}return h}static adjustCodewordCount(r,i){let o=i[0][1],l=o.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-De.getNumberOfECCodeWords(r.getBarcodeECLevel());if(l.length===0){if(u<1||u>Te.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(r){let i=De.createBarcodeMatrix(r);De.adjustCodewordCount(r,i);let o=new Array,l=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],d=new Array;for(let p=0;p<r.getBarcodeRowCount();p++)for(let w=0;w<r.getBarcodeColumnCount();w++){let b=i[p][w+1].getValue(),N=p*r.getBarcodeColumnCount()+w;b.length===0?o.push(N):b.length===1?l[N]=b[0]:(d.push(N),u.push(b))}let h=new Array(u.length);for(let p=0;p<h.length;p++)h[p]=u[p];return De.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),l,Te.toIntArray(o),Te.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(r,i,o,l,u){let d=new Int32Array(l.length),h=100;for(;h-- >0;){for(let p=0;p<d.length;p++)i[l[p]]=u[p][d[p]];try{return De.decodeCodewords(i,r,o)}catch(p){if(!(p instanceof E))throw p}if(d.length===0)throw E.getChecksumInstance();for(let p=0;p<d.length;p++)if(d[p]<u[p].length-1){d[p]++;break}else if(d[p]=0,p===d.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new Io;let o=0;for(let l of r.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][o].setValue(u.getValue())}}}o++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,o,l){let u=l?1:-1,d=null;if(De.isValidBarcodeColumn(r,i-u)&&(d=r.getDetectionResultColumn(i-u).getCodeword(o)),d!=null)return l?d.getEndX():d.getStartX();if(d=r.getDetectionResultColumn(i).getCodewordNearby(o),d!=null)return l?d.getStartX():d.getEndX();if(De.isValidBarcodeColumn(r,i-u)&&(d=r.getDetectionResultColumn(i-u).getCodewordNearby(o)),d!=null)return l?d.getEndX():d.getStartX();let h=0;for(;De.isValidBarcodeColumn(r,i-u);){i-=u;for(let p of r.getDetectionResultColumn(i).getCodewords())if(p!=null)return(l?p.getEndX():p.getStartX())+u*h*(p.getEndX()-p.getStartX());h++}return l?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,o,l,u,d,h,p){u=De.adjustCodewordStartColumn(r,i,o,l,u,d);let w=De.getModuleBitCount(r,i,o,l,u,d);if(w==null)return null;let b,N=je.sum(w);if(l)b=u+N;else{for(let V=0;V<w.length/2;V++){let U=w[V];w[V]=w[w.length-1-V],w[w.length-1-V]=U}b=u,u=b-N}if(!De.checkCodewordSkew(N,h,p))return null;let k=vn.getDecodedValue(w),M=Te.getCodeword(k);return M===-1?null:new ko(u,b,De.getCodewordBucketNumber(k),M)}static getModuleBitCount(r,i,o,l,u,d){let h=u,p=new Int32Array(8),w=0,b=l?1:-1,N=l;for(;(l?h<o:h>=i)&&w<p.length;)r.get(h,d)===N?(p[w]++,h+=b):(w++,N=!N);return w===p.length||h===(l?o:i)&&w===p.length-1?p:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,o,l,u,d){let h=u,p=l?-1:1;for(let w=0;w<2;w++){for(;(l?h>=i:h<o)&&l===r.get(h,d);){if(Math.abs(u-h)>De.CODEWORD_SKEW_SIZE)return u;h+=p}p=-p,l=!l}return h}static checkCodewordSkew(r,i,o){return i-De.CODEWORD_SKEW_SIZE<=r&&r<=o+De.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,o){if(r.length===0)throw F.getFormatInstance();let l=1<<i+1,u=De.correctErrors(r,o,l);De.verifyCodewordCount(r,l);let d=Z.decode(r,""+i);return d.setErrorsCorrected(u),d.setErasures(o.length),d}static correctErrors(r,i,o){if(i!=null&&i.length>o/2+De.MAX_ERRORS||o<0||o>De.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return De.errorCorrection.decode(r,o,i)}static verifyCodewordCount(r,i){if(r.length<4)throw F.getFormatInstance();let o=r[0];if(o>r.length)throw F.getFormatInstance();if(o===0)if(i<r.length)r[0]=r.length-i;else throw F.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),o=0,l=i.length-1;for(;!((r&1)!==o&&(o=r&1,l--,l<0));)i[l]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return De.getCodewordBucketNumber(De.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new No;for(let o=0;o<r.length;o++){i.format("Row %2d: ",o);for(let l=0;l<r[o].length;l++){let u=r[o][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}De.CODEWORD_SKEW_SIZE=2,De.MAX_ERRORS=3,De.MAX_EC_CODEWORDS=512,De.errorCorrection=new xh;class Zt{decode(r,i=null){let o=Zt.decode(r,i,!1);if(o==null||o.length===0||o[0]==null)throw H.getNotFoundInstance();return o[0]}decodeMultiple(r,i=null){try{return Zt.decode(r,i,!0)}catch(o){throw o instanceof F||o instanceof E?H.getNotFoundInstance():o}}static decode(r,i,o){const l=new Array,u=Oe.detectMultiple(r,i,o);for(const d of u.getPoints()){const h=De.decode(u.getBits(),d[4],d[5],d[6],d[7],Zt.getMinCodewordWidth(d),Zt.getMaxCodewordWidth(d)),p=new ve(h.getText(),h.getRawBytes(),void 0,d,me.PDF_417);p.putMetadata(dt.ERROR_CORRECTION_LEVEL,h.getECLevel());const w=h.getOther();w!=null&&p.putMetadata(dt.PDF417_EXTRA_METADATA,w),l.push(p)}return l.map(d=>d)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?T.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Zt.getMaxWidth(r[0],r[4]),Zt.getMaxWidth(r[6],r[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.max(Zt.getMaxWidth(r[1],r[5]),Zt.getMaxWidth(r[7],r[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Zt.getMinWidth(r[0],r[4]),Zt.getMinWidth(r[6],r[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.min(Zt.getMinWidth(r[1],r[5]),Zt.getMinWidth(r[7],r[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ja extends m{}Ja.kind="ReaderException";class Eh{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!s(r)&&r.get(X.TRY_HARDER)===!0,o=s(r)?null:r.get(X.POSSIBLE_FORMATS),l=new Array;if(!s(o)){const u=o.some(d=>d===me.UPC_A||d===me.UPC_E||d===me.EAN_13||d===me.EAN_8||d===me.CODABAR||d===me.CODE_39||d===me.CODE_93||d===me.CODE_128||d===me.ITF||d===me.RSS_14||d===me.RSS_EXPANDED);u&&!i&&l.push(new xs(r,this.verbose)),o.includes(me.QR_CODE)&&l.push(new ei),o.includes(me.DATA_MATRIX)&&l.push(new Jr),o.includes(me.AZTEC)&&l.push(new hs),o.includes(me.PDF_417)&&l.push(new Zt),u&&i&&l.push(new xs(r,this.verbose))}l.length===0&&(i||l.push(new xs(r,this.verbose)),l.push(new ei),l.push(new Jr),l.push(new hs),l.push(new Zt),i&&l.push(new xs(r,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Ja("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(o){if(o instanceof Ja)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class ev extends he{constructor(r=null,i=500){const o=new Eh;o.setHints(r),super(o,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class tv extends he{constructor(r=500){super(new Zt,r)}}class nv extends he{constructor(r=500){super(new ei,r)}}var Cu;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Cu||(Cu={}));var Lt=Cu;class bu{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Qe(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let o=i[i.length-1];const l=this.field;for(let u=i.length;u<=r;u++){const d=o.multiply(new Qe(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(d),o=d}}return i[r]}encode(r,i){if(i===0)throw new C("No error correction bytes");const o=r.length-i;if(o<=0)throw new C("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(o);R.arraycopy(r,0,u,0,o);let d=new Qe(this.field,u);d=d.multiplyByMonomial(i,1);const p=d.divide(l)[1].getCoefficients(),w=i-p.length;for(let b=0;b<w;b++)r[o+b]=0;R.arraycopy(p,0,r,o+w,p.length)}}class At{constructor(){}static applyMaskPenaltyRule1(r){return At.applyMaskPenaltyRule1Internal(r,!0)+At.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const o=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let d=0;d<u-1;d++){const h=o[d];for(let p=0;p<l-1;p++){const w=h[p];w===h[p+1]&&w===o[d+1][p]&&w===o[d+1][p+1]&&i++}}return At.N2*i}static applyMaskPenaltyRule3(r){let i=0;const o=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let d=0;d<u;d++)for(let h=0;h<l;h++){const p=o[d];h+6<l&&p[h]===1&&p[h+1]===0&&p[h+2]===1&&p[h+3]===1&&p[h+4]===1&&p[h+5]===0&&p[h+6]===1&&(At.isWhiteHorizontal(p,h-4,h)||At.isWhiteHorizontal(p,h+7,h+11))&&i++,d+6<u&&o[d][h]===1&&o[d+1][h]===0&&o[d+2][h]===1&&o[d+3][h]===1&&o[d+4][h]===1&&o[d+5][h]===0&&o[d+6][h]===1&&(At.isWhiteVertical(o,h,d-4,d)||At.isWhiteVertical(o,h,d+7,d+11))&&i++}return i*At.N3}static isWhiteHorizontal(r,i,o){i=Math.max(i,0),o=Math.min(o,r.length);for(let l=i;l<o;l++)if(r[l]===1)return!1;return!0}static isWhiteVertical(r,i,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let u=o;u<l;u++)if(r[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const o=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let p=0;p<u;p++){const w=o[p];for(let b=0;b<l;b++)w[b]===1&&i++}const d=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*At.N4}static getDataMaskBit(r,i,o){let l,u;switch(r){case 0:l=o+i&1;break;case 1:l=o&1;break;case 2:l=i%3;break;case 3:l=(o+i)%3;break;case 4:l=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:u=o*i,l=(u&1)+u%3;break;case 6:u=o*i,l=(u&1)+u%3&1;break;case 7:u=o*i,l=u%3+(o+i&1)&1;break;default:throw new C("Invalid mask pattern: "+r)}return l===0}static applyMaskPenaltyRule1Internal(r,i){let o=0;const l=i?r.getHeight():r.getWidth(),u=i?r.getWidth():r.getHeight(),d=r.getArray();for(let h=0;h<l;h++){let p=0,w=-1;for(let b=0;b<u;b++){const N=i?d[h][b]:d[b][h];N===w?p++:(p>=5&&(o+=At.N1+(p-5)),p=1,w=N)}p>=5&&(o+=At.N1+(p-5))}return o}}At.N1=3,At.N2=3,At.N3=40,At.N4=10;class el{constructor(r,i){this.width=r,this.height=i;const o=new Array(i);for(let l=0;l!==i;l++)o[l]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,o){this.bytes[i][r]=o}setBoolean(r,i,o){this.bytes[i][r]=o?1:0}clear(r){for(const i of this.bytes)I.fill(i,r)}equals(r){if(!(r instanceof el))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],d=i.bytes[o];for(let h=0,p=this.width;h<p;++h)if(u[h]!==d[h])return!1}return!0}toString(){const r=new ge;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i];for(let u=0,d=this.width;u<d;++u)switch(l[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class zi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new ge;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<zi.NUM_MASK_PATTERNS}}zi.NUM_MASK_PATTERNS=8;class tt extends m{}tt.kind="WriterException";class Ne{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,o,l,u){Ne.clearMatrix(u),Ne.embedBasicPatterns(o,u),Ne.embedTypeInfo(i,l,u),Ne.maybeEmbedVersionInfo(o,u),Ne.embedDataBits(r,l,u)}static embedBasicPatterns(r,i){Ne.embedPositionDetectionPatternsAndSeparators(i),Ne.embedDarkDotAtLeftBottomCorner(i),Ne.maybeEmbedPositionAdjustmentPatterns(r,i),Ne.embedTimingPatterns(i)}static embedTypeInfo(r,i,o){const l=new B;Ne.makeTypeInfoBits(r,i,l);for(let u=0,d=l.getSize();u<d;++u){const h=l.get(l.getSize()-1-u),p=Ne.TYPE_INFO_COORDINATES[u],w=p[0],b=p[1];if(o.setBoolean(w,b,h),u<8){const N=o.getWidth()-u-1,k=8;o.setBoolean(N,k,h)}else{const k=o.getHeight()-7+(u-8);o.setBoolean(8,k,h)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const o=new B;Ne.makeVersionInfoBits(r,o);let l=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const h=o.get(l);l--,i.setBoolean(u,i.getHeight()-11+d,h),i.setBoolean(i.getHeight()-11+d,u,h)}}static embedDataBits(r,i,o){let l=0,u=-1,d=o.getWidth()-1,h=o.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<o.getHeight();){for(let p=0;p<2;++p){const w=d-p;if(!Ne.isEmpty(o.get(w,h)))continue;let b;l<r.getSize()?(b=r.get(l),++l):b=!1,i!==255&&At.getDataMaskBit(i,w,h)&&(b=!b),o.setBoolean(w,h,b)}h+=u}u=-u,h+=u,d-=2}if(l!==r.getSize())throw new tt("Not all bits consumed: "+l+"/"+r.getSize())}static findMSBSet(r){return 32-T.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new C("0 polynomial");const o=Ne.findMSBSet(i);for(r<<=o-1;Ne.findMSBSet(r)>=o;)r^=i<<Ne.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,i,o){if(!zi.isValidMaskPattern(i))throw new tt("Invalid mask pattern");const l=r.getBits()<<3|i;o.appendBits(l,5);const u=Ne.calculateBCHCode(l,Ne.TYPE_INFO_POLY);o.appendBits(u,10);const d=new B;if(d.appendBits(Ne.TYPE_INFO_MASK_PATTERN,15),o.xor(d),o.getSize()!==15)throw new tt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const o=Ne.calculateBCHCode(r.getVersionNumber(),Ne.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new tt("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const o=(i+1)%2;Ne.isEmpty(r.get(i,6))&&r.setNumber(i,6,o),Ne.isEmpty(r.get(6,i))&&r.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new tt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,o){for(let l=0;l<8;++l){if(!Ne.isEmpty(o.get(r+l,i)))throw new tt;o.setNumber(r+l,i,0)}}static embedVerticalSeparationPattern(r,i,o){for(let l=0;l<7;++l){if(!Ne.isEmpty(o.get(r,i+l)))throw new tt;o.setNumber(r,i+l,0)}}static embedPositionAdjustmentPattern(r,i,o){for(let l=0;l<5;++l){const u=Ne.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)o.setNumber(r+d,i+l,u[d])}}static embedPositionDetectionPattern(r,i,o){for(let l=0;l<7;++l){const u=Ne.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)o.setNumber(r+d,i+l,u[d])}}static embedPositionDetectionPatternsAndSeparators(r){const i=Ne.POSITION_DETECTION_PATTERN[0].length;Ne.embedPositionDetectionPattern(0,0,r),Ne.embedPositionDetectionPattern(r.getWidth()-i,0,r),Ne.embedPositionDetectionPattern(0,r.getWidth()-i,r);const o=8;Ne.embedHorizontalSeparationPattern(0,o-1,r),Ne.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),Ne.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const l=7;Ne.embedVerticalSeparationPattern(l,0,r),Ne.embedVerticalSeparationPattern(r.getHeight()-l-1,0,r),Ne.embedVerticalSeparationPattern(l,r.getHeight()-l,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,l=Ne.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,d=l.length;u!==d;u++){const h=l[u];if(h>=0)for(let p=0;p!==d;p++){const w=l[p];w>=0&&Ne.isEmpty(i.get(w,h))&&Ne.embedPositionAdjustmentPattern(w-2,h-2,i)}}}}Ne.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ne.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ne.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ne.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ne.VERSION_INFO_POLY=7973,Ne.TYPE_INFO_POLY=1335,Ne.TYPE_INFO_MASK_PATTERN=21522;class rv{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ot{constructor(){}static calculateMaskPenalty(r){return At.applyMaskPenaltyRule1(r)+At.applyMaskPenaltyRule2(r)+At.applyMaskPenaltyRule3(r)+At.applyMaskPenaltyRule4(r)}static encode(r,i,o=null){let l=ot.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(Lt.CHARACTER_SET)!==void 0;u&&(l=o.get(Lt.CHARACTER_SET).toString());const d=this.chooseMode(r,l),h=new B;if(d===Se.BYTE&&(u||ot.DEFAULT_BYTE_MODE_ENCODING!==l)){const le=j.getCharacterSetECIByName(l);le!==void 0&&this.appendECI(le,h)}this.appendModeInfo(d,h);const p=new B;this.appendBytes(r,d,p,l);let w;if(o!==null&&o.get(Lt.QR_VERSION)!==void 0){const le=Number.parseInt(o.get(Lt.QR_VERSION).toString(),10);w=Ee.getVersionForNumber(le);const ne=this.calculateBitsNeeded(d,h,p,w);if(!this.willFit(ne,w,i))throw new tt("Data too big for requested version")}else w=this.recommendVersion(i,d,h,p);const b=new B;b.appendBitArray(h);const N=d===Se.BYTE?p.getSizeInBytes():r.length;this.appendLengthInfo(N,w,d,b),b.appendBitArray(p);const k=w.getECBlocksForLevel(i),M=w.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(M,b);const V=this.interleaveWithECBytes(b,w.getTotalCodewords(),M,k.getNumBlocks()),U=new zi;U.setECLevel(i),U.setMode(d),U.setVersion(w);const G=w.getDimensionForVersion(),K=new el(G,G),oe=this.chooseMaskPattern(V,i,w,K);return U.setMaskPattern(oe),Ne.buildMatrix(V,i,w,oe,K),U.setMatrix(K),U}static recommendVersion(r,i,o,l){const u=this.calculateBitsNeeded(i,o,l,Ee.getVersionForNumber(1)),d=this.chooseVersion(u,r),h=this.calculateBitsNeeded(i,o,l,d);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,i,o,l){return i.getSize()+r.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(r){return r<ot.ALPHANUMERIC_TABLE.length?ot.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(j.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return Se.KANJI;let o=!1,l=!1;for(let u=0,d=r.length;u<d;++u){const h=r.charAt(u);if(ot.isDigit(h))o=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Se.BYTE}return l?Se.ALPHANUMERIC:o?Se.NUMERIC:Se.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=fe.encode(r,j.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,i,o,l){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<zi.NUM_MASK_PATTERNS;h++){Ne.buildMatrix(r,i,o,h,l);let p=this.calculateMaskPenalty(l);p<u&&(u=p,d=h)}return d}static chooseVersion(r,i){for(let o=1;o<=40;o++){const l=Ee.getVersionForNumber(o);if(ot.willFit(r,l,i))return l}throw new tt("Data too big")}static willFit(r,i,o){const l=i.getTotalCodewords(),d=i.getECBlocksForLevel(o).getTotalECCodewords(),h=l-d,p=(r+7)/8;return h>=p}static terminateBits(r,i){const o=r*8;if(i.getSize()>o)throw new tt("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let d=0;d<4&&i.getSize()<o;++d)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let d=l;d<8;d++)i.appendBit(!1);const u=r-i.getSizeInBytes();for(let d=0;d<u;++d)i.appendBits(d&1?17:236,8);if(i.getSize()!==o)throw new tt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,o,l,u,d){if(l>=o)throw new tt("Block ID too large");const h=r%o,p=o-h,w=Math.floor(r/o),b=w+1,N=Math.floor(i/o),k=N+1,M=w-N,V=b-k;if(M!==V)throw new tt("EC bytes mismatch");if(o!==p+h)throw new tt("RS blocks mismatch");if(r!==(N+M)*p+(k+V)*h)throw new tt("Total bytes mismatch");l<p?(u[0]=N,d[0]=M):(u[0]=k,d[0]=V)}static interleaveWithECBytes(r,i,o,l){if(r.getSizeInBytes()!==o)throw new tt("Number of bits and data bytes does not match");let u=0,d=0,h=0;const p=new Array;for(let b=0;b<l;++b){const N=new Int32Array(1),k=new Int32Array(1);ot.getNumDataBytesAndNumECBytesForBlockID(i,o,l,b,N,k);const M=N[0],V=new Uint8Array(M);r.toBytes(8*u,V,0,M);const U=ot.generateECBytes(V,k[0]);p.push(new rv(V,U)),d=Math.max(d,M),h=Math.max(h,U.length),u+=N[0]}if(o!==u)throw new tt("Data bytes does not match offset");const w=new B;for(let b=0;b<d;++b)for(const N of p){const k=N.getDataBytes();b<k.length&&w.appendBits(k[b],8)}for(let b=0;b<h;++b)for(const N of p){const k=N.getErrorCorrectionBytes();b<k.length&&w.appendBits(k[b],8)}if(i!==w.getSizeInBytes())throw new tt("Interleaving error: "+i+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(r,i){const o=r.length,l=new Int32Array(o+i);for(let d=0;d<o;d++)l[d]=r[d]&255;new bu(Ue.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let d=0;d<i;d++)u[d]=l[o+d];return u}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,o,l){const u=o.getCharacterCountBits(i);if(r>=1<<u)throw new tt(r+" is bigger than "+((1<<u)-1));l.appendBits(r,u)}static appendBytes(r,i,o,l){switch(i){case Se.NUMERIC:ot.appendNumericBytes(r,o);break;case Se.ALPHANUMERIC:ot.appendAlphanumericBytes(r,o);break;case Se.BYTE:ot.append8BitBytes(r,o,l);break;case Se.KANJI:ot.appendKanjiBytes(r,o);break;default:throw new tt("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=ot.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const o=r.length;let l=0;for(;l<o;){const u=ot.getDigit(r.charAt(l));if(l+2<o){const d=ot.getDigit(r.charAt(l+1)),h=ot.getDigit(r.charAt(l+2));i.appendBits(u*100+d*10+h,10),l+=3}else if(l+1<o){const d=ot.getDigit(r.charAt(l+1));i.appendBits(u*10+d,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(r,i){const o=r.length;let l=0;for(;l<o;){const u=ot.getAlphanumericCode(r.charCodeAt(l));if(u===-1)throw new tt;if(l+1<o){const d=ot.getAlphanumericCode(r.charCodeAt(l+1));if(d===-1)throw new tt;i.appendBits(u*45+d,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(r,i,o){let l;try{l=fe.encode(r,o)}catch(u){throw new tt(u)}for(let u=0,d=l.length;u!==d;u++){const h=l[u];i.appendBits(h,8)}}static appendKanjiBytes(r,i){let o;try{o=fe.encode(r,j.SJIS)}catch(u){throw new tt(u)}const l=o.length;for(let u=0;u<l;u+=2){const d=o[u]&255,h=o[u+1]&255,p=d<<8&4294967295|h;let w=-1;if(p>=33088&&p<=40956?w=p-33088:p>=57408&&p<=60351&&(w=p-49472),w===-1)throw new tt("Invalid byte sequence");const b=(w>>8)*192+(w&255);i.appendBits(b,13)}}static appendECI(r,i){i.appendBits(Se.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}ot.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ot.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class Wi{write(r,i,o,l=null){if(r.length===0)throw new C("Found empty contents");if(i<0||o<0)throw new C("Requested dimensions are too small: "+i+"x"+o);let u=rt.L,d=Wi.QUIET_ZONE_SIZE;l!==null&&(l.get(Lt.ERROR_CORRECTION)!==void 0&&(u=rt.fromString(l.get(Lt.ERROR_CORRECTION).toString())),l.get(Lt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(Lt.MARGIN).toString(),10)));const h=ot.encode(r,u,l);return this.renderResult(h,i,o,d)}writeToDom(r,i,o,l,u=null){typeof r=="string"&&(r=document.querySelector(r));const d=this.write(i,o,l,u);r&&r.appendChild(d)}renderResult(r,i,o,l){const u=r.getMatrix();if(u===null)throw new Vn;const d=u.getWidth(),h=u.getHeight(),p=d+l*2,w=h+l*2,b=Math.max(i,p),N=Math.max(o,w),k=Math.min(Math.floor(b/p),Math.floor(N/w)),M=Math.floor((b-d*k)/2),V=Math.floor((N-h*k)/2),U=this.createSVGElement(b,N);for(let G=0,K=V;G<h;G++,K+=k)for(let oe=0,le=M;oe<d;oe++,le+=k)if(u.get(oe,G)===1){const ne=this.createSvgRectElement(le,K,k,k);U.appendChild(ne)}return U}createSVGElement(r,i){const o=document.createElementNS(Wi.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(r,i,o,l){const u=document.createElementNS(Wi.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Wi.QUIET_ZONE_SIZE=4,Wi.SVG_NS="http://www.w3.org/2000/svg";class ws{encode(r,i,o,l,u){if(r.length===0)throw new C("Found empty contents");if(i!==me.QR_CODE)throw new C("Can only encode QR_CODE, but got "+i);if(o<0||l<0)throw new C(`Requested dimensions are too small: ${o}x${l}`);let d=rt.L,h=ws.QUIET_ZONE_SIZE;u!==null&&(u.get(Lt.ERROR_CORRECTION)!==void 0&&(d=rt.fromString(u.get(Lt.ERROR_CORRECTION).toString())),u.get(Lt.MARGIN)!==void 0&&(h=Number.parseInt(u.get(Lt.MARGIN).toString(),10)));const p=ot.encode(r,d,u);return ws.renderResult(p,o,l,h)}static renderResult(r,i,o,l){const u=r.getMatrix();if(u===null)throw new Vn;const d=u.getWidth(),h=u.getHeight(),p=d+l*2,w=h+l*2,b=Math.max(i,p),N=Math.max(o,w),k=Math.min(Math.floor(b/p),Math.floor(N/w)),M=Math.floor((b-d*k)/2),V=Math.floor((N-h*k)/2),U=new de(b,N);for(let G=0,K=V;G<h;G++,K+=k)for(let oe=0,le=M;oe<d;oe++,le+=k)u.get(oe,G)===1&&U.setRegion(le,K,k,k);return U}}ws.QUIET_ZONE_SIZE=4;class iv{encode(r,i,o,l,u){let d;switch(i){case me.QR_CODE:d=new ws;break;default:throw new C("No encoder available for format "+i)}return d.encode(r,i,o,l,u)}}class yr extends se{constructor(r,i,o,l,u,d,h,p){if(super(d,h),this.yuvData=r,this.dataWidth=i,this.dataHeight=o,this.left=l,this.top=u,l+d>i||u+h>o)throw new C("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(d,h)}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(r+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,l,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=r*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return R.arraycopy(this.yuvData,u,l,0,o),l;for(let d=0;d<i;d++){const h=d*r;R.arraycopy(this.yuvData,u,l,h,r),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,o,l){return new yr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,o,l,!1)}renderThumbnail(){const r=this.getWidth()/yr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/yr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const h=d*r;for(let p=0;p<r;p++){const w=l[u+p*yr.THUMBNAIL_SCALE_FACTOR]&255;o[h+p]=4278190080|w*65793}u+=this.dataWidth*yr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/yr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/yr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const d=u+r/2;for(let h=u,p=u+r-1;h<d;h++,p--){const w=o[h];o[h]=o[p],o[p]=w}}}invert(){return new $(this)}}yr.THUMBNAIL_SCALE_FACTOR=2;class Eu extends se{constructor(r,i,o,l,u,d,h){if(super(i,o),this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=h,r.BYTES_PER_ELEMENT===4){const p=i*o,w=new Uint8ClampedArray(p);for(let b=0;b<p;b++){const N=r[b],k=N>>16&255,M=N>>7&510,V=N&255;w[b]=(k+M+V)/4&255}this.luminances=w}else this.luminances=r;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=o),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(r+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,l,i,0,o),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=r*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return R.arraycopy(this.luminances,u,l,0,o),l;for(let d=0;d<i;d++){const h=d*r;R.arraycopy(this.luminances,u,l,h,r),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,o,l){return new Eu(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new $(this)}}class Ah extends j{static forName(r){return this.getCharacterSetECIByName(r)}}class Au{}Au.ISO_8859_1=j.ISO8859_1;class Sh{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Nh{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class sv{constructor(r){this.previous=r}getPrevious(){return this.previous}}class vs extends sv{constructor(r,i,o){super(r),this.value=i,this.bitCount=o}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new vs(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vs(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+T.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Su extends vs{constructor(r,i,o){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(r,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(r,i){return new Su(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ov(S,r,i){return new Su(S,r,i)}function _o(S,r,i){return new vs(S,r,i)}const av=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ni=0,tl=1,Gn=2,Th=3,wr=4,lv=new vs(null,0,0),Nu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function cv(S){for(let r of S)I.fill(r,-1);return S[ni][wr]=0,S[tl][wr]=0,S[tl][ni]=28,S[Th][wr]=0,S[Gn][wr]=0,S[Gn][ni]=15,S}const Ih=cv(I.createInt32Array(6,6));class vr{constructor(r,i,o,l){this.token=r,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let o=this.bitCount,l=this.token;if(r!==this.mode){let d=Nu[this.mode][r];l=_o(l,d&65535,d>>16),o+=d>>16}let u=r===Gn?4:5;return l=_o(l,i,u),new vr(l,r,0,o+u)}shiftAndAppend(r,i){let o=this.token,l=this.mode===Gn?4:5;return o=_o(o,Ih[this.mode][r],l),o=_o(o,i,5),new vr(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(r){let i=this.token,o=this.mode,l=this.bitCount;if(this.mode===wr||this.mode===Gn){let h=Nu[o][ni];i=_o(i,h&65535,h>>16),l+=h>>16,o=ni}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new vr(i,o,this.binaryShiftByteCount+1,l+u);return d.binaryShiftByteCount===2047+31&&(d=d.endBinaryShift(r+1)),d}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=ov(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new vr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(Nu[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=vr.calculateBinaryShiftCost(r)-vr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let l=this.endBinaryShift(r.length).token;l!==null;l=l.getPrevious())i.unshift(l);let o=new B;for(const l of i)l.appendTo(o,r);return o}toString(){return q.format("%s bits=%d bytes=%d",av[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}vr.INITIAL_STATE=new vr(lv,ni,0,0);function uv(S){const r=q.getCharCode(" "),i=q.getCharCode("."),o=q.getCharCode(",");S[ni][r]=1;const l=q.getCharCode("Z"),u=q.getCharCode("A");for(let k=u;k<=l;k++)S[ni][k]=k-u+2;S[tl][r]=1;const d=q.getCharCode("z"),h=q.getCharCode("a");for(let k=h;k<=d;k++)S[tl][k]=k-h+2;S[Gn][r]=1;const p=q.getCharCode("9"),w=q.getCharCode("0");for(let k=w;k<=p;k++)S[Gn][k]=k-w+2;S[Gn][o]=12,S[Gn][i]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let k=0;k<b.length;k++)S[Th][q.getCharCode(b[k])]=k;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<N.length;k++)q.getCharCode(N[k])>0&&(S[wr][q.getCharCode(N[k])]=k);return S}const Tu=uv(I.createInt32Array(5,256));class Oo{constructor(r){this.text=r}encode(){const r=q.getCharCode(" "),i=q.getCharCode(`
`);let o=Nh.singletonList(vr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case q.getCharCode("\r"):d=h===i?2:0;break;case q.getCharCode("."):d=h===r?3:0;break;case q.getCharCode(","):d=h===r?4:0;break;case q.getCharCode(":"):d=h===r?5:0;break;default:d=0}d>0?(o=Oo.updateStateListForPair(o,u,d),u++):o=this.updateStateListForChar(o,u)}return Nh.min(o,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const o=[];for(let l of r)this.updateStateForChar(l,i,o);return Oo.simplifyStates(o)}updateStateForChar(r,i,o){let l=this.text[i]&255,u=Tu[r.getMode()][l]>0,d=null;for(let h=0;h<=wr;h++){let p=Tu[h][l];if(p>0){if(d==null&&(d=r.endBinaryShift(i)),!u||h===r.getMode()||h===Gn){const w=d.latchAndAppend(h,p);o.push(w)}if(!u&&Ih[r.getMode()][h]>=0){const w=d.shiftAndAppend(h,p);o.push(w)}}}if(r.getBinaryShiftByteCount()>0||Tu[r.getMode()][l]===0){let h=r.addBinaryShiftChar(i);o.push(h)}}static updateStateListForPair(r,i,o){const l=[];for(let u of r)this.updateStateForPair(u,i,o,l);return this.simplifyStates(l)}static updateStateForPair(r,i,o,l){let u=r.endBinaryShift(i);if(l.push(u.latchAndAppend(wr,o)),r.getMode()!==wr&&l.push(u.shiftAndAppend(wr,o)),o===3||o===4){let d=u.latchAndAppend(Gn,16-o).latchAndAppend(Gn,1);l.push(d)}if(r.getBinaryShiftByteCount()>0){let d=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(d)}}static simplifyStates(r){let i=[];for(const o of r){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(i=i.filter(d=>d!==u))}l&&i.push(o)}return i}}class He{constructor(){}static encodeBytes(r){return He.encode(r,He.DEFAULT_EC_PERCENT,He.DEFAULT_AZTEC_LAYERS)}static encode(r,i,o){let l=new Oo(r).encode(),u=T.truncDivision(l.getSize()*i,100)+11,d=l.getSize()+u,h,p,w,b,N;if(o!==He.DEFAULT_AZTEC_LAYERS){if(h=o<0,p=Math.abs(o),p>(h?He.MAX_NB_BITS_COMPACT:He.MAX_NB_BITS))throw new C(q.format("Illegal value %s for layers",o));w=He.totalBitsInLayer(p,h),b=He.WORD_SIZE[p];let ne=w-w%b;if(N=He.stuffBits(l,b),N.getSize()+u>ne)throw new C("Data to large for user specified layer");if(h&&N.getSize()>b*64)throw new C("Data to large for user specified layer")}else{b=0,N=null;for(let ne=0;;ne++){if(ne>He.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(h=ne<=3,p=h?ne+1:ne,w=He.totalBitsInLayer(p,h),d>w)continue;(N==null||b!==He.WORD_SIZE[p])&&(b=He.WORD_SIZE[p],N=He.stuffBits(l,b));let Be=w-w%b;if(!(h&&N.getSize()>b*64)&&N.getSize()+u<=Be)break}}let k=He.generateCheckWords(N,w,b),M=N.getSize()/b,V=He.generateModeMessage(h,p,M),U=(h?11:14)+p*4,G=new Int32Array(U),K;if(h){K=U;for(let ne=0;ne<G.length;ne++)G[ne]=ne}else{K=U+1+2*T.truncDivision(T.truncDivision(U,2)-1,15);let ne=T.truncDivision(U,2),Be=T.truncDivision(K,2);for(let Re=0;Re<ne;Re++){let Cn=Re+T.truncDivision(Re,15);G[ne-Re-1]=Be-Cn-1,G[ne+Re]=Be+Cn+1}}let oe=new de(K);for(let ne=0,Be=0;ne<p;ne++){let Re=(p-ne)*4+(h?9:12);for(let Cn=0;Cn<Re;Cn++){let ir=Cn*2;for(let bn=0;bn<2;bn++)k.get(Be+ir+bn)&&oe.set(G[ne*2+bn],G[ne*2+Cn]),k.get(Be+Re*2+ir+bn)&&oe.set(G[ne*2+Cn],G[U-1-ne*2-bn]),k.get(Be+Re*4+ir+bn)&&oe.set(G[U-1-ne*2-bn],G[U-1-ne*2-Cn]),k.get(Be+Re*6+ir+bn)&&oe.set(G[U-1-ne*2-Cn],G[ne*2+bn])}Be+=Re*8}if(He.drawModeMessage(oe,h,K,V),h)He.drawBullsEye(oe,T.truncDivision(K,2),5);else{He.drawBullsEye(oe,T.truncDivision(K,2),7);for(let ne=0,Be=0;ne<T.truncDivision(U,2)-1;ne+=15,Be+=16)for(let Re=T.truncDivision(K,2)&1;Re<K;Re+=2)oe.set(T.truncDivision(K,2)-Be,Re),oe.set(T.truncDivision(K,2)+Be,Re),oe.set(Re,T.truncDivision(K,2)-Be),oe.set(Re,T.truncDivision(K,2)+Be)}let le=new Sh;return le.setCompact(h),le.setSize(K),le.setLayers(p),le.setCodeWords(M),le.setMatrix(oe),le}static drawBullsEye(r,i,o){for(let l=0;l<o;l+=2)for(let u=i-l;u<=i+l;u++)r.set(u,i-l),r.set(u,i+l),r.set(i-l,u),r.set(i+l,u);r.set(i-o,i-o),r.set(i-o+1,i-o),r.set(i-o,i-o+1),r.set(i+o,i-o),r.set(i+o,i-o+1),r.set(i+o,i+o-1)}static generateModeMessage(r,i,o){let l=new B;return r?(l.appendBits(i-1,2),l.appendBits(o-1,6),l=He.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(o-1,11),l=He.generateCheckWords(l,40,4)),l}static drawModeMessage(r,i,o,l){let u=T.truncDivision(o,2);if(i)for(let d=0;d<7;d++){let h=u-3+d;l.get(d)&&r.set(h,u-5),l.get(d+7)&&r.set(u+5,h),l.get(20-d)&&r.set(h,u+5),l.get(27-d)&&r.set(u-5,h)}else for(let d=0;d<10;d++){let h=u-5+d+T.truncDivision(d,5);l.get(d)&&r.set(h,u-7),l.get(d+10)&&r.set(u+7,h),l.get(29-d)&&r.set(h,u+7),l.get(39-d)&&r.set(u-7,h)}}static generateCheckWords(r,i,o){let l=r.getSize()/o,u=new bu(He.getGF(o)),d=T.truncDivision(i,o),h=He.bitsToWords(r,o,d);u.encode(h,d-l);let p=i%o,w=new B;w.appendBits(0,p);for(const b of Array.from(h))w.appendBits(b,o);return w}static bitsToWords(r,i,o){let l=new Int32Array(o),u,d;for(u=0,d=r.getSize()/i;u<d;u++){let h=0;for(let p=0;p<i;p++)h|=r.get(u*i+p)?1<<i-p-1:0;l[u]=h}return l}static getGF(r){switch(r){case 4:return Ue.AZTEC_PARAM;case 6:return Ue.AZTEC_DATA_6;case 8:return Ue.AZTEC_DATA_8;case 10:return Ue.AZTEC_DATA_10;case 12:return Ue.AZTEC_DATA_12;default:throw new C("Unsupported word size "+r)}}static stuffBits(r,i){let o=new B,l=r.getSize(),u=(1<<i)-2;for(let d=0;d<l;d+=i){let h=0;for(let p=0;p<i;p++)(d+p>=l||r.get(d+p))&&(h|=1<<i-1-p);(h&u)===u?(o.appendBits(h&u,i),d--):h&u?o.appendBits(h,i):(o.appendBits(h|1,i),d--)}return o}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}He.DEFAULT_EC_PERCENT=33,He.DEFAULT_AZTEC_LAYERS=0,He.MAX_NB_BITS=32,He.MAX_NB_BITS_COMPACT=4,He.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class nl{encode(r,i,o,l){return this.encodeWithHints(r,i,o,l,null)}encodeWithHints(r,i,o,l,u){let d=Au.ISO_8859_1,h=He.DEFAULT_EC_PERCENT,p=He.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Lt.CHARACTER_SET)&&(d=Ah.forName(u.get(Lt.CHARACTER_SET).toString())),u.has(Lt.ERROR_CORRECTION)&&(h=T.parseInt(u.get(Lt.ERROR_CORRECTION).toString())),u.has(Lt.AZTEC_LAYERS)&&(p=T.parseInt(u.get(Lt.AZTEC_LAYERS).toString()))),nl.encodeLayers(r,i,o,l,d,h,p)}static encodeLayers(r,i,o,l,u,d,h){if(i!==me.AZTEC)throw new C("Can only encode AZTEC, but got "+i);let p=He.encode(q.getBytes(r,u),d,h);return nl.renderResult(p,o,l)}static renderResult(r,i,o){let l=r.getMatrix();if(l==null)throw new Vn;let u=l.getWidth(),d=l.getHeight(),h=Math.max(i,u),p=Math.max(o,d),w=Math.min(h/u,p/d),b=(h-u*w)/2,N=(p-d*w)/2,k=new de(h,p);for(let M=0,V=N;M<d;M++,V+=w)for(let U=0,G=b;U<u;U++,G+=w)l.get(U,M)&&k.setRegion(G,V,w,w);return k}}n.AbstractExpandedDecoder=fu,n.ArgumentException=v,n.ArithmeticException=kr,n.AztecCode=Sh,n.AztecCodeReader=hs,n.AztecCodeWriter=nl,n.AztecDecoder=Ke,n.AztecDetector=ji,n.AztecDetectorResult=gr,n.AztecEncoder=He,n.AztecHighLevelEncoder=Oo,n.AztecPoint=Xt,n.BarcodeFormat=me,n.Binarizer=L,n.BinaryBitmap=A,n.BitArray=B,n.BitMatrix=de,n.BitSource=pu,n.BrowserAztecCodeReader=Ya,n.BrowserBarcodeReader=Uw,n.BrowserCodeReader=he,n.BrowserDatamatrixCodeReader=Ww,n.BrowserMultiFormatReader=ev,n.BrowserPDF417Reader=tv,n.BrowserQRCodeReader=nv,n.BrowserQRCodeSvgWriter=Wi,n.CharacterSetECI=j,n.ChecksumException=E,n.Code128Reader=ce,n.Code39Reader=bt,n.DataMatrixDecodedBitStreamParser=Qr,n.DataMatrixReader=Jr,n.DecodeHintType=X,n.DecoderResult=ln,n.DefaultGridSampler=_r,n.DetectorResult=Bi,n.EAN13Reader=nr,n.EncodeHintType=Lt,n.Exception=m,n.FormatException=F,n.GenericGF=Ue,n.GenericGFPoly=Qe,n.GlobalHistogramBinarizer=pe,n.GridSampler=Eo,n.GridSamplerInstance=mr,n.HTMLCanvasElementLuminanceSource=J,n.HybridBinarizer=ae,n.ITFReader=ze,n.IllegalArgumentException=C,n.IllegalStateException=Vn,n.InvertedLuminanceSource=$,n.LuminanceSource=se,n.MathUtils=je,n.MultiFormatOneDReader=xs,n.MultiFormatReader=Eh,n.MultiFormatWriter=iv,n.NotFoundException=H,n.OneDReader=ht,n.PDF417DecodedBitStreamParser=Z,n.PDF417DecoderErrorCorrection=xh,n.PDF417Reader=Zt,n.PDF417ResultMetadata=wh,n.PerspectiveTransform=ft,n.PlanarYUVLuminanceSource=yr,n.QRCodeByteMatrix=el,n.QRCodeDataMask=Wn,n.QRCodeDecodedBitStreamParser=xt,n.QRCodeDecoderErrorCorrectionLevel=rt,n.QRCodeDecoderFormatInformation=tn,n.QRCodeEncoder=ot,n.QRCodeEncoderQRCode=zi,n.QRCodeMaskUtil=At,n.QRCodeMatrixUtil=Ne,n.QRCodeMode=Se,n.QRCodeReader=ei,n.QRCodeVersion=Ee,n.QRCodeWriter=ws,n.RGBLuminanceSource=Eu,n.RSS14Reader=Et,n.RSSExpandedReader=te,n.ReaderException=Ja,n.ReedSolomonDecoder=$r,n.ReedSolomonEncoder=bu,n.ReedSolomonException=Kr,n.Result=ve,n.ResultMetadataType=dt,n.ResultPoint=ye,n.StringUtils=q,n.UnsupportedOperationException=Q,n.VideoInputDevice=ee,n.WhiteRectangleDetector=tr,n.WriterException=tt,n.ZXingArrays=I,n.ZXingCharset=Ah,n.ZXingInteger=T,n.ZXingStandardCharsets=Au,n.ZXingStringBuilder=ge,n.ZXingStringEncoding=fe,n.ZXingSystem=R,n.createAbstractExpandedDecoder=mh,Object.defineProperty(n,"__esModule",{value:!0})})})(Df,Df.exports);var ct=Df.exports;const xS=Uf(ct),yS=Pm({__proto__:null,default:xS},[ct]);var rm=function(){function e(t,n,s){if(this.formatMap=new Map([[xe.QR_CODE,ct.BarcodeFormat.QR_CODE],[xe.AZTEC,ct.BarcodeFormat.AZTEC],[xe.CODABAR,ct.BarcodeFormat.CODABAR],[xe.CODE_39,ct.BarcodeFormat.CODE_39],[xe.CODE_93,ct.BarcodeFormat.CODE_93],[xe.CODE_128,ct.BarcodeFormat.CODE_128],[xe.DATA_MATRIX,ct.BarcodeFormat.DATA_MATRIX],[xe.MAXICODE,ct.BarcodeFormat.MAXICODE],[xe.ITF,ct.BarcodeFormat.ITF],[xe.EAN_13,ct.BarcodeFormat.EAN_13],[xe.EAN_8,ct.BarcodeFormat.EAN_8],[xe.PDF_417,ct.BarcodeFormat.PDF_417],[xe.RSS_14,ct.BarcodeFormat.RSS_14],[xe.RSS_EXPANDED,ct.BarcodeFormat.RSS_EXPANDED],[xe.UPC_A,ct.BarcodeFormat.UPC_A],[xe.UPC_E,ct.BarcodeFormat.UPC_E],[xe.UPC_EAN_EXTENSION,ct.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!yS)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var a=this.createZXingFormats(t),c=new Map;c.set(ct.DecodeHintType.POSSIBLE_FORMATS,a),c.set(ct.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(s,a){try{s(n.decode(t))}catch(c){a(c)}})},e.prototype.decode=function(t){var n=new ct.MultiFormatReader(this.verbose,this.hints),s=new ct.HTMLCanvasElementLuminanceSource(t),a=new ct.BinaryBitmap(new ct.HybridBinarizer(s)),c=n.decode(a);return{text:c.text,format:Oy.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var c=a[s];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),wS=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(v){try{m(s.next(v))}catch(C){f(C)}}function x(v){try{m(s.throw(v))}catch(C){f(C)}}function m(v){v.done?c(v.value):a(v.value).then(g,x)}m((s=s.apply(e,t||[])).next())})},vS=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(v){return x([m,v])}}function x(m){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(c=m[0]&2?a.return:m[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,m[1])).done)return c;switch(a=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){n.label=m[1];break}if(m[0]===6&&n.label<c[1]){n.label=c[1],c=m;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(m);break}c[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],a=0}finally{s=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},im=function(){function e(t,n,s){if(this.formatMap=new Map([[xe.QR_CODE,"qr_code"],[xe.AZTEC,"aztec"],[xe.CODABAR,"codabar"],[xe.CODE_39,"code_39"],[xe.CODE_93,"code_93"],[xe.CODE_128,"code_128"],[xe.DATA_MATRIX,"data_matrix"],[xe.ITF,"itf"],[xe.EAN_13,"ean_13"],[xe.EAN_8,"ean_8"],[xe.PDF_417,"pdf417"],[xe.UPC_A,"upc_a"],[xe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return wS(this,void 0,void 0,function(){var n,s;return vS(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:Oy.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,s=0,a=0,c=t;a<c.length;a++){var f=c[a],g=f.boundingBox.width*f.boundingBox.height;g>s&&(s=g,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var c=a[s];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),sm=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(v){try{m(s.next(v))}catch(C){f(C)}}function x(v){try{m(s.throw(v))}catch(C){f(C)}}function m(v){v.done?c(v.value):a(v.value).then(g,x)}m((s=s.apply(e,t||[])).next())})},om=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(v){return x([m,v])}}function x(m){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(c=m[0]&2?a.return:m[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,m[1])).done)return c;switch(a=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){n.label=m[1];break}if(m[0]===6&&n.label<c[1]){n.label=c[1],c=m;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(m);break}c[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],a=0}finally{s=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},CS=function(){function e(t,n,s,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&im.isSupported()?(this.primaryDecoder=new im(t,s,a),this.secondaryDecoder=new rm(t,s,a)):this.primaryDecoder=new rm(t,s,a)}return e.prototype.decodeAsync=function(t){return sm(this,void 0,void 0,function(){var n;return om(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return sm(this,void 0,void 0,function(){var n,s;return om(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(s=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,s=this.executionResults;n<s.length;n++){var a=s[n];t+=a}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),uh=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Dc=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(v){try{m(s.next(v))}catch(C){f(C)}}function x(v){try{m(s.throw(v))}catch(C){f(C)}}function m(v){v.done?c(v.value):a(v.value).then(g,x)}m((s=s.apply(e,t||[])).next())})},Mc=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(v){return x([m,v])}}function x(m){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(c=m[0]&2?a.return:m[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,m[1])).done)return c;switch(a=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){n.label=m[1];break}if(m[0]===6&&n.label<c[1]){n.label=c[1],c=m;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(m);break}c[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],a=0}finally{s=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dy=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),bS=function(e){uh(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Dy),ES=function(e){uh(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(bS),AS=function(e){uh(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Dy),SS=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new ES(this.track)},e.prototype.torchFeature=function(){return new AS(this.track)},e}(),NS=function(){function e(t,n,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,s,a){return Dc(this,void 0,void 0,function(){var c,f;return Mc(this,function(g){switch(g.label){case 0:return c=new e(t,n,a),s.aspectRatio?(f={aspectRatio:s.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:g.sent(),g.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,s=function(){setTimeout(t,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Dc(this,void 0,void 0,function(){return Mc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,s){var a=t.mediaStream.getVideoTracks(),c=a.length,f=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++f,f>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new SS(this.getFirstTrackOrFail())},e}(),TS=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,s){return Dc(this,void 0,void 0,function(){return Mc(this,function(a){return[2,NS.create(t,this.mediaStream,n,s)]})})},e.create=function(t){return Dc(this,void 0,void 0,function(){var n,s;return Mc(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=a.sent(),[2,new e(s)]}})})},e}(),am=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(v){try{m(s.next(v))}catch(C){f(C)}}function x(v){try{m(s.throw(v))}catch(C){f(C)}}function m(v){v.done?c(v.value):a(v.value).then(g,x)}m((s=s.apply(e,t||[])).next())})},lm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(v){return x([m,v])}}function x(m){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(c=m[0]&2?a.return:m[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,m[1])).done)return c;switch(a=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){n.label=m[1];break}if(m[0]===6&&n.label<c[1]){n.label=c[1],c=m;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(m);break}c[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],a=0}finally{s=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},IS=function(){function e(){}return e.failIfNotSupported=function(){return am(this,void 0,void 0,function(){return lm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return am(this,void 0,void 0,function(){return lm(this,function(n){return[2,TS.create(t)]})})},e}(),RS=globalThis&&globalThis.__awaiter||function(e,t,n,s){function a(c){return c instanceof n?c:new n(function(f){f(c)})}return new(n||(n=Promise))(function(c,f){function g(v){try{m(s.next(v))}catch(C){f(C)}}function x(v){try{m(s.throw(v))}catch(C){f(C)}}function m(v){v.done?c(v.value):a(v.value).then(g,x)}m((s=s.apply(e,t||[])).next())})},kS=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(v){return x([m,v])}}function x(m){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(n=0)),n;)try{if(s=1,a&&(c=m[0]&2?a.return:m[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,m[1])).done)return c;switch(a=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){n.label=m[1];break}if(m[0]===6&&n.label<c[1]){n.label=c[1],c=m;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(m);break}c[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(v){m=[6,v],a=0}finally{s=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},_S=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Xs.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Xs.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return RS(this,void 0,void 0,function(){var t,n,s,a,c,f,g;return kS(this,function(x){switch(x.label){case 0:return t=function(m){for(var v=m.getVideoTracks(),C=0,A=v;C<A.length;C++){var E=A[C];E.enabled=!1,E.stop(),m.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=x.sent(),a=[],c=0,f=s;c<f.length;c++)g=f[c],g.kind==="videoinput"&&a.push({id:g.deviceId,label:g.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var s=function(c){for(var f=[],g=0,x=c;g<x.length;g++){var m=x[g];m.kind==="video"&&f.push({id:m.id,label:m.label})}t(f)},a=MediaStreamTrack;a.getSources(s)})},e}(),St;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(St||(St={}));var OS=function(){function e(){this.state=St.NOT_STARTED,this.onGoingTransactionNewState=St.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=St.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=St.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==St.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case St.UNKNOWN:throw"Transition from unknown is not allowed";case St.NOT_STARTED:this.failIfNewStateIs(t,[St.PAUSED]);break;case St.SCANNING:break;case St.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var s=0,a=n;s<a.length;s++){var c=a[s];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),PS=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===St.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==St.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===St.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===St.PAUSED},e}(),DS=function(){function e(){}return e.create=function(){return new PS(new OS)},e}(),MS=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),On=function(e){MS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(gS),LS=function(){function e(t,n){this.logger=n,this.fps=On.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=On.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Py.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Dr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),md=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new pS(this.verbose),this.qrcode=new CS(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=DS.create()}return e.prototype.start=function(t,n,s,a){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;a?f=a:f=this.verbose?this.logger.log:function(){};var g=LS.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=x,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:On.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var C=this,A=this.stateManagerProxy.startTransition(St.SCANNING);return new Promise(function(E,L){var R=m?g.videoConstraints:C.createVideoConstraints(t);if(!R){A.cancel(),L("videoConstraints should be defined");return}var D={};(!m||g.aspectRatio)&&(D.aspectRatio=g.aspectRatio);var O={onRenderSurfaceReady:function(I,T){C.setupUi(I,T,g),C.isScanning=!0,C.foreverScan(g,s,f)}};IS.failIfNotSupported().then(function(I){I.create(R).then(function(T){return T.render(c.element,D,O).then(function(B){C.renderedCamera=B,A.execute(),E(null)}).catch(function(B){A.cancel(),L(B)})}).catch(function(T){A.cancel(),L(Xs.errorGettingUserMedia(T))})}).catch(function(I){A.cancel(),L(Xs.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(St.PAUSED),this.showPausedState(),(Dr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(St.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(St.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var c=document.getElementById(On.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),s(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,n){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Dr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,c){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var g=f.width,x=f.height,m=document.getElementById(s.elementId),v=m.clientWidth?m.clientWidth:On.DEFAULT_WIDTH,C=Math.max(m.clientHeight?m.clientHeight:x,On.FILE_SCAN_MIN_HEIGHT),A=s.computeCanvasDrawConfig(g,x,v,C);if(n){var E=s.createCanvasElement(v,C,"qr-canvas-visible");E.style.display="inline-block",m.appendChild(E);var L=E.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=v,L.canvas.height=C,L.drawImage(f,0,0,g,x,A.x,A.y,A.width,A.height)}var R=On.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(f.width,A.width),O=Math.max(f.height,A.height),I=D+2*R,T=O+2*R,B=s.createCanvasElement(I,T);m.appendChild(B);var W=B.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=I,W.canvas.height=T,W.drawImage(f,0,0,g,x,R,R,D,O);try{s.qrcode.decodeRobustlyAsync(B).then(function(X){a(nm.createFromQrcodeResult(X))}).catch(c)}catch(X){c("QR code parse error, error = ".concat(X))}},f.onerror=c,f.onabort=c,f.onstalled=c,f.onsuspend=c,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return _S.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Py.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[xe.QR_CODE,xe.AZTEC,xe.CODABAR,xe.CODE_39,xe.CODE_93,xe.CODE_128,xe.DATA_MATRIX,xe.MAXICODE,xe.ITF,xe.EAN_13,xe.EAN_8,xe.PDF_417,xe.RSS_14,xe.RSS_EXPANDED,xe.UPC_A,xe.UPC_E,xe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],a=0,c=t.formatsToSupport;a<c.length;a++){var f=c[a];hS(f)?s.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Dr(t))return!0;if(!Dr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Dr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Dr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,s){var a=this,c=s.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,n,c),g=function(m){if(m<On.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(On.MIN_QR_BOX_SIZE,"px.")},x=function(m){return m>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};g(f.width),g(f.height),f.width=x(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return s},e.prototype.setupUi=function(t,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,s);var a=Dr(s.qrbox)?{width:t,height:n}:s.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=s.isShadedBoxEnabled()&&c.height<=n,g={x:0,y:0,width:t,height:n},x=f?this.getShadedRegionBounds(t,n,c):g,m=this.createCanvasElement(x.width,x.height),v={willReadFrequently:!0},C=m.getContext("2d",v);C.canvas.width=x.width,C.canvas.height=x.height,this.element.append(m),f&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=C,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Xs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,nm.createFromQrcodeResult(a)),s.possiblyUpdateShaders(!0),!0}).catch(function(a){s.possiblyUpdateShaders(!1);var c=Xs.codeParseError(a);return n(c,mS.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,s){var a=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),f=c.videoWidth/c.clientWidth,g=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*f,m=this.qrRegion.height*g,v=this.qrRegion.x*f,C=this.qrRegion.y*g;this.context.drawImage(c,v,C,x,m,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,s)},a.getTimeoutFps(t.fps))};this.scanContext(n,s).then(function(E){!E&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,s).finally(function(){A()})):A()}).catch(function(E){a.logger.logError("Error happend while scanning context",E),A()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",s="deviceId",a={user:!0,environment:!0},c="exact",f=function(L){if(L in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(L,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var m=t.facingMode;if(typeof m=="string"){if(f(m))return{facingMode:m}}else if(typeof m=="object")if(c in m){if(f(m["".concat(c)]))return{facingMode:{exact:m["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(c in C)return{deviceId:{exact:C["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var A=typeof C;throw"Invalid type of 'deviceId' = ".concat(A)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,n,s,a){if(t<=s&&n<=a){var c=(s-t)/2,f=(a-n)/2;return{x:c,y:f,width:t,height:n}}else{var g=t,x=n;return t>s&&(n=s/t*n,t=s),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,s,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?On.BORDER_SHADER_MATCH_COLOR:On.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,s){var a=t,c=n,f=document.createElement("canvas");return f.style.width="".concat(a,"px"),f.style.height="".concat(c,"px"),f.style.display="none",f.id=Dr(s)?"qr-canvas":s,f},e.prototype.getShadedRegionBounds=function(t,n,s){if(s.width>t||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,n,s,a){if(!(n-a.width<1||s-a.height<1)){var c=document.createElement("div");c.style.position="absolute";var f=(n-a.width)/2,g=(s-a.height)/2;if(c.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(On.SHADED_REGION_ELEMENT_ID),n-a.width<11||s-a.height<11)this.hasBorderShaders=!1;else{var x=5,m=40;this.insertShaderBorders(c,m,x,-x,null,0,!0),this.insertShaderBorders(c,m,x,-x,null,0,!1),this.insertShaderBorders(c,m,x,null,-x,0,!0),this.insertShaderBorders(c,m,x,null,-x,0,!1),this.insertShaderBorders(c,x,m+x,-x,null,-x,!0),this.insertShaderBorders(c,x,m+x,null,-x,-x,!0),this.insertShaderBorders(c,x,m+x,-x,null,-x,!1),this.insertShaderBorders(c,x,m+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,s,a,c,f,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=On.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(s,"px"),a!==null&&(x.style.top="".concat(a,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),g?x.style.left="".concat(f,"px"):x.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var cm;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(cm||(cm={}));var BS=e=>{switch(e){case"success":return VS;case"info":return zS;case"warning":return US;case"error":return WS;default:return null}},jS=Array(12).fill(0),FS=({visible:e,className:t})=>ue.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ue.createElement("div",{className:"sonner-spinner"},jS.map((n,s)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),VS=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),US=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zS=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WS=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HS=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GS=()=>{let[e,t]=ue.useState(document.hidden);return ue.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Mf=1,XS=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Mf++,c=this.toasts.find(g=>g.id===a),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(g=>g.id===a?(this.publish({...g,...e,id:a,title:n}),{...g,...e,id:a,dismissible:f,title:n}):g):this.addToast({title:n,...s,dismissible:f,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,c,f=s.then(async x=>{if(c=["resolve",x],ue.isValidElement(x))a=!1,this.create({id:n,type:"default",message:x});else if(ZS(x)&&!x.ok){a=!1;let m=typeof t.error=="function"?await t.error(`HTTP error! status: ${x.status}`):t.error,v=typeof t.description=="function"?await t.description(`HTTP error! status: ${x.status}`):t.description;this.create({id:n,type:"error",message:m,description:v})}else if(t.success!==void 0){a=!1;let m=typeof t.success=="function"?await t.success(x):t.success,v=typeof t.description=="function"?await t.description(x):t.description;this.create({id:n,type:"success",message:m,description:v})}}).catch(async x=>{if(c=["reject",x],t.error!==void 0){a=!1;let m=typeof t.error=="function"?await t.error(x):t.error,v=typeof t.description=="function"?await t.description(x):t.description;this.create({id:n,type:"error",message:m,description:v})}}).finally(()=>{var x;a&&(this.dismiss(n),n=void 0),(x=t.finally)==null||x.call(t)}),g=()=>new Promise((x,m)=>f.then(()=>c[0]==="reject"?m(c[1]):x(c[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:g}:Object.assign(n,{unwrap:g})},this.custom=(e,t)=>{let n=t?.id||Mf++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},En=new XS,YS=(e,t)=>{let n=t?.id||Mf++;return En.addToast({title:e,...t,id:n}),n},ZS=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",KS=YS,$S=()=>En.toasts,qS=()=>En.getActiveToasts(),be=Object.assign(KS,{success:En.success,info:En.info,warning:En.warning,error:En.error,custom:En.custom,message:En.message,promise:En.promise,dismiss:En.dismiss,loading:En.loading},{getHistory:$S,getToasts:qS});function QS(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}QS(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sl(e){return e.label!==void 0}var JS=3,e6="32px",t6="16px",um=4e3,n6=356,r6=14,i6=20,s6=200;function or(...e){return e.filter(Boolean).join(" ")}function o6(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var a6=e=>{var t,n,s,a,c,f,g,x,m,v,C;let{invert:A,toast:E,unstyled:L,interacting:R,setHeights:D,visibleToasts:O,heights:I,index:T,toasts:B,expanded:W,removeToast:X,defaultRichColors:F,closeButton:z,style:j,cancelButtonStyle:Q,actionButtonStyle:fe,className:q="",descriptionClassName:ge="",duration:de,position:H,gap:pe,loadingIcon:ae,expandByDefault:se,classNames:$,icons:J,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:re}=e,[he,ve]=ue.useState(null),[Ze,me]=ue.useState(null),[Ve,dt]=ue.useState(!1),[ln,cn]=ue.useState(!1),[Qe,kr]=ue.useState(!1),[Ue,Kr]=ue.useState(!1),[Vn,$r]=ue.useState(!1),[Ot,Ke]=ue.useState(0),[je,Li]=ue.useState(0),ye=ue.useRef(E.duration||de||um),Bi=ue.useRef(null),gr=ue.useRef(null),tr=T===0,Eo=T+1<=O,ft=E.type,_r=E.dismissible!==!1,mr=E.className||"",Xt=E.descriptionClassName||"",ji=ue.useMemo(()=>I.findIndex(Ae=>Ae.toastId===E.id)||0,[I,E.id]),hs=ue.useMemo(()=>{var Ae;return(Ae=E.closeButton)!=null?Ae:z},[E.closeButton,z]),Ya=ue.useMemo(()=>E.duration||de||um,[E.duration,de]),ht=ue.useRef(0),ce=ue.useRef(0),bt=ue.useRef(0),ze=ue.useRef(null),[gt,Fi]=H.split("-"),gs=ue.useMemo(()=>I.reduce((Ae,Xe,ke)=>ke>=ji?Ae:Ae+Xe.height,0),[I,ji]),Ao=GS(),We=E.invert||A,nr=ft==="loading";ce.current=ue.useMemo(()=>ji*pe+gs,[ji,gs]),ue.useEffect(()=>{ye.current=Ya},[Ya]),ue.useEffect(()=>{dt(!0)},[]),ue.useEffect(()=>{let Ae=gr.current;if(Ae){let Xe=Ae.getBoundingClientRect().height;return Li(Xe),D(ke=>[{toastId:E.id,height:Xe,position:E.position},...ke]),()=>D(ke=>ke.filter(Ft=>Ft.toastId!==E.id))}},[D,E.id]),ue.useLayoutEffect(()=>{if(!Ve)return;let Ae=gr.current,Xe=Ae.style.height;Ae.style.height="auto";let ke=Ae.getBoundingClientRect().height;Ae.style.height=Xe,Li(ke),D(Ft=>Ft.find(en=>en.toastId===E.id)?Ft.map(en=>en.toastId===E.id?{...en,height:ke}:en):[{toastId:E.id,height:ke,position:E.position},...Ft])},[Ve,E.title,E.description,D,E.id]);let rr=ue.useCallback(()=>{cn(!0),Ke(ce.current),D(Ae=>Ae.filter(Xe=>Xe.toastId!==E.id)),setTimeout(()=>{X(E)},s6)},[E,X,D,ce]);ue.useEffect(()=>{if(E.promise&&ft==="loading"||E.duration===1/0||E.type==="loading")return;let Ae;return W||R||re&&Ao?(()=>{if(bt.current<ht.current){let Xe=new Date().getTime()-ht.current;ye.current=ye.current-Xe}bt.current=new Date().getTime()})():ye.current!==1/0&&(ht.current=new Date().getTime(),Ae=setTimeout(()=>{var Xe;(Xe=E.onAutoClose)==null||Xe.call(E,E),rr()},ye.current)),()=>clearTimeout(Ae)},[W,R,E,ft,re,Ao,rr]),ue.useEffect(()=>{E.delete&&rr()},[rr,E.delete]);function Za(){var Ae,Xe,ke;return J!=null&&J.loading?ue.createElement("div",{className:or($?.loader,(Ae=E?.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":ft==="loading"},J.loading):ae?ue.createElement("div",{className:or($?.loader,(Xe=E?.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":ft==="loading"},ae):ue.createElement(FS,{className:or($?.loader,(ke=E?.classNames)==null?void 0:ke.loader),visible:ft==="loading"})}return ue.createElement("li",{tabIndex:0,ref:gr,className:or(q,mr,$?.toast,(t=E?.classNames)==null?void 0:t.toast,$?.default,$?.[ft],(n=E?.classNames)==null?void 0:n[ft]),"data-sonner-toast":"","data-rich-colors":(s=E.richColors)!=null?s:F,"data-styled":!(E.jsx||E.unstyled||L),"data-mounted":Ve,"data-promise":!!E.promise,"data-swiped":Vn,"data-removed":ln,"data-visible":Eo,"data-y-position":gt,"data-x-position":Fi,"data-index":T,"data-front":tr,"data-swiping":Qe,"data-dismissible":_r,"data-type":ft,"data-invert":We,"data-swipe-out":Ue,"data-swipe-direction":Ze,"data-expanded":!!(W||se&&Ve),style:{"--index":T,"--toasts-before":T,"--z-index":B.length-T,"--offset":`${ln?Ot:ce.current}px`,"--initial-height":se?"auto":`${je}px`,...j,...E.style},onDragEnd:()=>{kr(!1),ve(null),ze.current=null},onPointerDown:Ae=>{nr||!_r||(Bi.current=new Date,Ke(ce.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(kr(!0),ze.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Xe,ke,Ft;if(Ue||!_r)return;ze.current=null;let en=Number(((Ae=gr.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pt=Number(((Xe=gr.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Or=new Date().getTime()-((ke=Bi.current)==null?void 0:ke.getTime()),Dt=he==="x"?en:Pt,Un=Math.abs(Dt)/Or;if(Math.abs(Dt)>=i6||Un>.11){Ke(ce.current),(Ft=E.onDismiss)==null||Ft.call(E,E),me(he==="x"?en>0?"right":"left":Pt>0?"down":"up"),rr(),Kr(!0),$r(!1);return}kr(!1),ve(null)},onPointerMove:Ae=>{var Xe,ke,Ft,en;if(!ze.current||!_r||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let Pt=Ae.clientY-ze.current.y,Or=Ae.clientX-ze.current.x,Dt=(ke=e.swipeDirections)!=null?ke:o6(H);!he&&(Math.abs(Or)>1||Math.abs(Pt)>1)&&ve(Math.abs(Or)>Math.abs(Pt)?"x":"y");let Un={x:0,y:0};he==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&Pt<0||Dt.includes("bottom")&&Pt>0)&&(Un.y=Pt):he==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&Or<0||Dt.includes("right")&&Or>0)&&(Un.x=Or),(Math.abs(Un.x)>0||Math.abs(Un.y)>0)&&$r(!0),(Ft=gr.current)==null||Ft.style.setProperty("--swipe-amount-x",`${Un.x}px`),(en=gr.current)==null||en.style.setProperty("--swipe-amount-y",`${Un.y}px`)}},hs&&!E.jsx?ue.createElement("button",{"aria-label":ee,"data-disabled":nr,"data-close-button":!0,onClick:nr||!_r?()=>{}:()=>{var Ae;rr(),(Ae=E.onDismiss)==null||Ae.call(E,E)},className:or($?.closeButton,(a=E?.classNames)==null?void 0:a.closeButton)},(c=J?.close)!=null?c:HS):null,E.jsx||_.isValidElement(E.title)?E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title:ue.createElement(ue.Fragment,null,ft||E.icon||E.promise?ue.createElement("div",{"data-icon":"",className:or($?.icon,(f=E?.classNames)==null?void 0:f.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||Za():null,E.type!=="loading"?E.icon||J?.[ft]||BS(ft):null):null,ue.createElement("div",{"data-content":"",className:or($?.content,(g=E?.classNames)==null?void 0:g.content)},ue.createElement("div",{"data-title":"",className:or($?.title,(x=E?.classNames)==null?void 0:x.title)},typeof E.title=="function"?E.title():E.title),E.description?ue.createElement("div",{"data-description":"",className:or(ge,Xt,$?.description,(m=E?.classNames)==null?void 0:m.description)},typeof E.description=="function"?E.description():E.description):null),_.isValidElement(E.cancel)?E.cancel:E.cancel&&Sl(E.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||Q,onClick:Ae=>{var Xe,ke;Sl(E.cancel)&&_r&&((ke=(Xe=E.cancel).onClick)==null||ke.call(Xe,Ae),rr())},className:or($?.cancelButton,(v=E?.classNames)==null?void 0:v.cancelButton)},E.cancel.label):null,_.isValidElement(E.action)?E.action:E.action&&Sl(E.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||fe,onClick:Ae=>{var Xe,ke;Sl(E.action)&&((ke=(Xe=E.action).onClick)==null||ke.call(Xe,Ae),!Ae.defaultPrevented&&rr())},className:or($?.actionButton,(C=E?.classNames)==null?void 0:C.actionButton)},E.action.label):null))};function dm(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function l6(e,t){let n={};return[e,t].forEach((s,a)=>{let c=a===1,f=c?"--mobile-offset":"--offset",g=c?t6:e6;function x(m){["top","right","bottom","left"].forEach(v=>{n[`${f}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?x(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?n[`${f}-${m}`]=g:n[`${f}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):x(g)}),n}var c6=_.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:f,className:g,offset:x,mobileOffset:m,theme:v="light",richColors:C,duration:A,style:E,visibleToasts:L=JS,toastOptions:R,dir:D=dm(),gap:O=r6,loadingIcon:I,icons:T,containerAriaLabel:B="Notifications",pauseWhenPageIsHidden:W}=e,[X,F]=ue.useState([]),z=ue.useMemo(()=>Array.from(new Set([s].concat(X.filter(re=>re.position).map(re=>re.position)))),[X,s]),[j,Q]=ue.useState([]),[fe,q]=ue.useState(!1),[ge,de]=ue.useState(!1),[H,pe]=ue.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=ue.useRef(null),se=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=ue.useRef(null),J=ue.useRef(!1),ee=ue.useCallback(re=>{F(he=>{var ve;return(ve=he.find(Ze=>Ze.id===re.id))!=null&&ve.delete||En.dismiss(re.id),he.filter(({id:Ze})=>Ze!==re.id)})},[]);return ue.useEffect(()=>En.subscribe(re=>{if(re.dismiss){F(he=>he.map(ve=>ve.id===re.id?{...ve,delete:!0}:ve));return}setTimeout(()=>{Xx.flushSync(()=>{F(he=>{let ve=he.findIndex(Ze=>Ze.id===re.id);return ve!==-1?[...he.slice(0,ve),{...he[ve],...re},...he.slice(ve+1)]:[re,...he]})})})}),[]),ue.useEffect(()=>{if(v!=="system"){pe(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:he})=>{pe(he?"dark":"light")})}catch{re.addListener(({matches:ve})=>{try{pe(ve?"dark":"light")}catch(Ze){console.error(Ze)}})}},[v]),ue.useEffect(()=>{X.length<=1&&q(!1)},[X]),ue.useEffect(()=>{let re=he=>{var ve,Ze;a.every(me=>he[me]||he.code===me)&&(q(!0),(ve=ae.current)==null||ve.focus()),he.code==="Escape"&&(document.activeElement===ae.current||(Ze=ae.current)!=null&&Ze.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[a]),ue.useEffect(()=>{if(ae.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,J.current=!1)}},[ae.current]),ue.createElement("section",{ref:t,"aria-label":`${B} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((re,he)=>{var ve;let[Ze,me]=re.split("-");return X.length?ue.createElement("ol",{key:re,dir:D==="auto"?dm():D,tabIndex:-1,ref:ae,className:g,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Ze,"data-lifted":fe&&X.length>1&&!c,"data-x-position":me,style:{"--front-toast-height":`${((ve=j[0])==null?void 0:ve.height)||0}px`,"--width":`${n6}px`,"--gap":`${O}px`,...E,...l6(x,m)},onBlur:Ve=>{J.current&&!Ve.currentTarget.contains(Ve.relatedTarget)&&(J.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||J.current||(J.current=!0,$.current=Ve.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{ge||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Ve=>{Ve.target instanceof HTMLElement&&Ve.target.dataset.dismissible==="false"||de(!0)},onPointerUp:()=>de(!1)},X.filter(Ve=>!Ve.position&&he===0||Ve.position===re).map((Ve,dt)=>{var ln,cn;return ue.createElement(a6,{key:Ve.id,icons:T,index:dt,toast:Ve,defaultRichColors:C,duration:(ln=R?.duration)!=null?ln:A,className:R?.className,descriptionClassName:R?.descriptionClassName,invert:n,visibleToasts:L,closeButton:(cn=R?.closeButton)!=null?cn:f,interacting:ge,position:re,style:R?.style,unstyled:R?.unstyled,classNames:R?.classNames,cancelButtonStyle:R?.cancelButtonStyle,actionButtonStyle:R?.actionButtonStyle,removeToast:ee,toasts:X.filter(Qe=>Qe.position==Ve.position),heights:j.filter(Qe=>Qe.position==Ve.position),setHeights:Q,expandByDefault:c,gap:O,loadingIcon:I,expanded:fe,pauseWhenPageIsHidden:W,swipeDirections:e.swipeDirections})})):null}))}),es;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(es||(es={}));var da;(function(e){e.Rear="REAR",e.Front="FRONT"})(da||(da={}));var Lf;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(Lf||(Lf={}));class u6 extends j0{async getPhoto(t){return new Promise(async(n,s)=>{if(t.webUseInput||t.source===es.Photos)this.fileInputExperience(t,n,s);else if(t.source===es.Prompt){let a=document.querySelector("pwa-action-sheet");a||(a=document.createElement("pwa-action-sheet"),document.body.appendChild(a)),a.header=t.promptLabelHeader||"Photo",a.cancelable=!1,a.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],a.addEventListener("onSelection",async c=>{c.detail===0?this.fileInputExperience(t,n,s):this.cameraExperience(t,n,s)})}else this.cameraExperience(t,n,s)})}async pickImages(t){return new Promise(async(n,s)=>{this.multipleFileInputExperience(n,s)})}async cameraExperience(t,n,s){if(customElements.get("pwa-camera-modal")){const a=document.createElement("pwa-camera-modal");a.facingMode=t.direction===da.Front?"user":"environment",document.body.appendChild(a);try{await a.componentOnReady(),a.addEventListener("onPhoto",async c=>{const f=c.detail;f===null?s(new Js("User cancelled photos app")):f instanceof Error?s(f):n(await this._getCameraPhoto(f,t)),a.dismiss(),document.body.removeChild(a)}),a.present()}catch{this.fileInputExperience(t,n,s)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,s)}fileInputExperience(t,n,s){let a=document.querySelector("#_capacitor-camera-input");const c=()=>{var f;(f=a.parentNode)===null||f===void 0||f.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input",a.type="file",a.hidden=!0,document.body.appendChild(a),a.addEventListener("change",f=>{const g=a.files[0];let x="jpeg";if(g.type==="image/png"?x="png":g.type==="image/gif"&&(x="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const m=new FileReader;m.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:m.result,format:x});else if(t.resultType==="base64"){const v=m.result.split(",")[1];n({base64String:v,format:x})}c()}),m.readAsDataURL(g)}else n({webPath:URL.createObjectURL(g),format:x}),c()}),a.addEventListener("cancel",f=>{s(new Js("User cancelled photos app")),c()})),a.accept="image/*",a.capture=!0,t.source===es.Photos||t.source===es.Prompt?a.removeAttribute("capture"):t.direction===da.Front?a.capture="user":t.direction===da.Rear&&(a.capture="environment"),a.click()}multipleFileInputExperience(t,n){let s=document.querySelector("#_capacitor-camera-input-multiple");const a=()=>{var c;(c=s.parentNode)===null||c===void 0||c.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input-multiple",s.type="file",s.hidden=!0,s.multiple=!0,document.body.appendChild(s),s.addEventListener("change",c=>{const f=[];for(let g=0;g<s.files.length;g++){const x=s.files[g];let m="jpeg";x.type==="image/png"?m="png":x.type==="image/gif"&&(m="gif"),f.push({webPath:URL.createObjectURL(x),format:m})}t({photos:f}),a()}),s.addEventListener("cancel",c=>{n(new Js("User cancelled photos app")),a()})),s.accept="image/*",s.click()}_getCameraPhoto(t,n){return new Promise((s,a)=>{const c=new FileReader,f=t.type.split("/")[1];n.resultType==="uri"?s({webPath:URL.createObjectURL(t),format:f,saved:!1}):(c.readAsDataURL(t),c.onloadend=()=>{const g=c.result;n.resultType==="dataUrl"?s({dataUrl:g,format:f,saved:!1}):s({base64String:g.split(",")[1],format:f,saved:!1})},c.onerror=g=>{a(g)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const fm=vo("Camera",{web:()=>new u6}),d6="modulepreload",f6=function(e){return"/"+e},hm={},h6=function(t,n,s){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(c=>{if(c=f6(c),c in hm)return;hm[c]=!0;const f=c.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(!!s)for(let v=a.length-1;v>=0;v--){const C=a[v];if(C.href===c&&(!f||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${g}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":d6,f||(m.as="script",m.crossOrigin=""),m.href=c,document.head.appendChild(m),f)return new Promise((v,C)=>{m.addEventListener("load",v),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t()).catch(c=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c})},g6=vo("Device",{web:()=>h6(()=>import("./web-ea14fb0c.js"),[]).then(e=>new e.DeviceWeb)}),m6=`
  .zoom-slider::-webkit-slider-thumb {
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #10b981;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  .zoom-slider::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #10b981;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    box-sizing: border-box;
  }
`;function p6({onScanSuccess:e}){const[t,n]=_.useState(!1),[s,a]=_.useState(!1),[c,f]=_.useState(0),[g,x]=_.useState(null),[m,v]=_.useState(1),[C,A]=_.useState(!1),[E,L]=_.useState(null),[R,D]=_.useState(!1),O=_.useRef(null),I=_.useRef(!1),T=_.useRef(null);localStorage.getItem("usuario_id");const B=localStorage.getItem("token"),W=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",X=1,F=4,z=.5,j=()=>({"Content-Type":"application/json",Authorization:`Bearer ${B}`});_.useEffect(()=>{(async()=>{try{const ee=await g6.getInfo(),re=Cc.isNativePlatform();if(D(re),console.log("Platform:",ee.platform,"Native:",re),re)L(!0),x(null);else{const he=typeof md<"u"&&typeof md.getCameras=="function";if(L(he),!he){be.error("Tu navegador no soporta el escner de QR");return}try{(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(Ze=>Ze.stop()),x(!0)}catch{x(!1)}}}catch(ee){console.error("Error checking compatibility:",ee),L(!1)}})()},[]);const Q=async()=>{try{console.log("Starting native camera scan...");const J=await fm.requestPermissions();if(console.log("Camera permissions:",J),J.camera!=="granted"){be.error("Permiso de cmara denegado. Por favor, actvalo en los ajustes de la aplicacin."),x(!1);return}x(!0),n(!0);const ee=await fm.getPhoto({quality:90,allowEditing:!1,resultType:Lf.DataUrl,promptLabelHeader:"Escanear QR",promptLabelCancel:"Cancelar",promptLabelPhoto:"Desde galera",promptLabelPicture:"Tomar foto",source:es.Camera});console.log("Image captured with Capacitor Camera"),$("QR_SIMULADO_NATIVO_12345")}catch(J){console.error("Native camera error:",J),J.message?.includes("cancel")||J==="User cancelled photos app"?(console.log("User cancelled camera"),n(!1)):(x(!1),n(!1),be.error("Error al acceder a la cmara: "+(J.message||J)))}},fe=async()=>{try{(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(he=>he.stop()),x(!0),n(!0),O.current&&I.current&&await se();const ee=new md("qr-reader");O.current=ee;const re={fps:10,qrbox:{width:250,height:250},aspectRatio:1,supportedFormats:[xe.QR_CODE]};try{await ee.start({facingMode:"environment"},re,async he=>{$(he)},he=>{})}catch(he){if(console.error("Error with rear camera:",he),he.message?.includes("environment")||he.message?.includes("rear"))try{be.info("Intentando con cmara frontal..."),await ee.start({facingMode:"user"},re,async ve=>{$(ve)},ve=>{})}catch(ve){throw console.error("Front camera also failed:",ve),ve}else throw he}setTimeout(async()=>{try{const he=document.querySelector("#qr-reader video");if(he&&he.srcObject){const Ze=he.srcObject.getVideoTracks()[0];T.current=Ze;const me=q(Ze);A(me)}}catch(he){console.warn("Error setting up zoom:",he)}},1e3),I.current=!0,be.success("Cmara activa - Enfoca el QR dentro del recuadro")}catch(J){if(console.error("Scanner initialization error:",J),x(!1),n(!1),O.current)try{await O.current.stop(),await O.current.clear()}catch(ee){console.warn("Error stopping scanner:",ee)}O.current=null,I.current=!1,T.current=null,J.name==="NotAllowedError"||J.message?.includes("permission")?be.error("Permiso de cmara denegado. Por favor, permite el acceso a la cmara."):J.name==="NotFoundError"?be.error("No se encontr ninguna cmara disponible."):be.error("Error al iniciar la cmara: "+J.message)}},q=J=>{try{return J.getCapabilities().zoom!==void 0}catch{return!1}},ge=J=>{const ee=document.querySelector("#qr-reader video");if(ee){const re=J;ee.style.transform=`scale(${re})`,ee.style.transformOrigin="center center",ee.style.width=`${100*re}%`,ee.style.height=`${100*re}%`}v(J)},de=J=>{const ee=parseFloat(J.target.value);ge(ee)},H=()=>{const J=Math.min(m+z,F);ge(J)},pe=()=>{const J=Math.max(m-z,X);ge(J)},ae=async()=>{if(E===!1){be.error("Tu navegador no es compatible con el escner de QR");return}console.log("Starting scan, isNative:",R),R?await Q():await fe()},se=async()=>{const J=document.querySelector("#qr-reader video");if(J&&(J.style.transform="none",J.style.width="100%",J.style.height="100%"),T.current&&(T.current.stop(),T.current=null),O.current&&I.current)try{await O.current.stop(),await O.current.clear(),I.current=!1}catch(ee){console.warn("Error stopping scanner:",ee),I.current=!1}O.current=null,n(!1),A(!1),v(1)},$=async J=>{if(!B){be.error("No ests autenticado. Inicia sesin nuevamente.");return}await se();try{const ee=await fetch(`${W}/validarQR`,{method:"POST",headers:j(),body:JSON.stringify({codigo_qr:J})});if(!ee.ok){if(ee.status===401){be.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${ee.status}`)}const re=await ee.json(),he=re.puntos_obtenidos||0;f(he),a(!0);try{e?.({type:"scan",points:he,description:re.mensaje||"Escaneo QR",location:re.ubicacion||void 0})}catch(ve){console.error("onScanSuccess handler threw:",ve)}be.success(`${re.mensaje||"Escaneo exitoso"}! Ganaste ${he} ecopoints `)}catch(ee){console.error("Error processing QR:",ee),f(0),be.error("Error al procesar el cdigo QR. Intenta nuevamente.")}setTimeout(()=>{a(!1)},3e3)};return _.useEffect(()=>()=>{se()},[]),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsx("style",{children:m6}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-4",children:y.jsx(Ac,{className:"w-8 h-8 text-emerald-600"})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Escanear QR"}),y.jsx("p",{className:"text-gray-500",children:R?"Toca el botn para abrir la cmara y escanear el QR":"Escanea el cdigo QR del punto de reciclaje para ganar ecopoints"}),E===!1&&y.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-300 rounded-lg",children:y.jsx("p",{className:"text-red-700 text-sm",children:"Tu navegador no es compatible con el escner de QR. Prueba con Chrome, Firefox o Safari en dispositivos mviles."})}),g===!1&&y.jsx("div",{className:"mt-4 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:y.jsx("p",{className:"text-yellow-700 text-sm",children:"Permiso de cmara denegado. Por favor, permite el acceso a la cmara."})}),R&&y.jsx("div",{className:"mt-4 p-3 bg-blue-100 border border-blue-300 rounded-lg",children:y.jsx("p",{className:"text-blue-700 text-sm",children:"Modo nativo activo - Usando cmara del dispositivo"})})]}),!R&&y.jsx(et,{className:"overflow-hidden border-2 border-gray-200",children:y.jsxs("div",{className:"relative aspect-square bg-gray-900",children:[!t&&!s&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx(Y1,{className:"w-16 h-16 text-gray-400 mx-auto"}),y.jsx("p",{className:"text-gray-400",children:"Toca el botn para iniciar el escaneo"}),g===!1&&y.jsx("p",{className:"text-yellow-400 text-sm",children:"Permisos de cmara requeridos"})]})}),y.jsx("div",{id:"qr-reader",className:`w-full h-full ${t?"":"hidden"}`}),t&&y.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-emerald-400 rounded-lg",children:y.jsx(Sn.div,{className:"absolute top-0 left-0 right-0 h-1 bg-emerald-400 rounded-full",animate:{top:["0%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})}),y.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:y.jsxs("div",{className:"text-center space-y-3",children:[y.jsx(Sn.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0},children:y.jsx(Ac,{className:"w-16 h-16 text-emerald-400 mx-auto"})}),y.jsx("p",{className:"text-white font-medium",children:"Escaneando cdigo QR..."}),!C&&t&&y.jsx("p",{className:"text-yellow-300 text-sm",children:"Usando zoom digital"})]})})]}),y.jsx(_y,{children:s&&y.jsx(Sn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-emerald-600 flex items-center justify-center z-20",children:y.jsxs("div",{className:"text-center text-white space-y-4",children:[y.jsx(Sn.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:y.jsx(o2,{className:"w-20 h-20 mx-auto"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Escaneo exitoso!"}),y.jsx("p",{className:"text-emerald-100 mb-4",children:"Has ganado"}),y.jsxs(Sn.p,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"text-white text-5xl font-bold",children:["+",c]}),y.jsx("p",{className:"text-emerald-100 mt-2",children:"ecopoints"})]})]})})})]})}),!R&&t&&y.jsx(et,{className:"p-4 bg-blue-50 border-blue-200",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Control de Zoom ",!C&&"(Digital)"]}),y.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[m.toFixed(1),"x"]})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(Pe,{size:"sm",onClick:pe,disabled:m<=X,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:y.jsx(zb,{className:"w-4 h-4"})}),y.jsx("div",{className:"flex-1",children:y.jsx("input",{type:"range",min:X,max:F,step:.1,value:m,onChange:de,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer zoom-slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(m-X)/(F-X)*100}%, #e5e7eb ${(m-X)/(F-X)*100}%, #e5e7eb 100%)`}})}),y.jsx(Pe,{size:"sm",onClick:H,disabled:m>=F,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:y.jsx(Gb,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex justify-between text-xs text-blue-600",children:[y.jsxs("span",{children:[X,"x"]}),y.jsx("span",{className:"font-medium",children:C?"Zoom ptico":"Zoom digital"}),y.jsxs("span",{children:[F,"x"]})]})]})}),y.jsx("div",{className:"space-y-3",children:t?y.jsxs(Pe,{className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 text-lg font-semibold",onClick:se,children:[y.jsx(bo,{className:"w-6 h-6 mr-3"}),R?"Cancelar":"Detener escaneo"]}):y.jsxs(Pe,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 text-lg font-semibold",onClick:ae,disabled:s||E===!1||g===!1,children:[y.jsx(Y1,{className:"w-6 h-6 mr-3"}),E===!1?"Navegador no compatible":g===!1?"Permiso de cmara denegado":R?"Abrir cmara para escanear QR":"Iniciar escaneo con cmara"]})}),y.jsx(et,{className:"p-4 bg-emerald-50 border-emerald-200",children:y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-emerald-900 font-semibold",children:R?"Instrucciones para APK:":"Consejos:"}),y.jsxs("ul",{className:"text-emerald-700 space-y-1 ml-4",children:[R?y.jsxs(y.Fragment,{children:[y.jsx("li",{children:' Toca "Abrir cmara" para acceder a la cmara nativa'}),y.jsx("li",{children:" Toma una foto del cdigo QR"}),y.jsx("li",{children:" La app procesar automticamente el QR"}),y.jsx("li",{children:" Asegrate de tener buena iluminacin"})]}):y.jsxs(y.Fragment,{children:[y.jsx("li",{children:" Usa la barra de zoom para acercar o alejar la imagen"}),y.jsx("li",{children:" Mantn el QR dentro del cuadro verde"}),y.jsx("li",{children:" Asegrate de tener buena iluminacin"}),y.jsx("li",{children:" El zoom digital funciona en todos los dispositivos"})]}),g===!1&&y.jsx("li",{className:"text-yellow-600 font-semibold",children:" Permite el acceso a la cmara en tu dispositivo"})]})]})})]})}function x6(){const e="https://ecopoints.hvd.lat/api",t=localStorage.getItem("usuario_id"),[n,s]=_.useState([]),[a,c]=_.useState(!0);return _.useEffect(()=>{if(!t)return;(async()=>{try{const g=await fetch(`${e}/obtenerHistorial?usuario_id=${t}`);if(!g.ok)throw new Error("Error al obtener historial");const x=await g.json();s(x)}catch{}finally{c(!1)}})()},[t]),a?y.jsx("div",{className:"text-center text-gray-500 mt-10",children:"Cargando historial..."}):y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Historial de actividad"}),n.length===0?y.jsx("p",{className:"text-gray-500",children:"No hay actividades registradas an."}):n.map(f=>y.jsx(Sn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:y.jsxs(et,{className:"p-4 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:f.type==="scan"?y.jsx(Si,{className:"w-5 h-5 text-emerald-600"}):y.jsx(ka,{className:"w-5 h-5 text-orange-600"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900",children:f.description}),y.jsx("p",{className:"text-gray-500 text-sm",children:f.location})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:`${f.type==="scan"?"text-emerald-600":"text-orange-600"}`,children:[f.type==="scan"?"+":"-",f.points]}),y.jsx("p",{className:"text-gray-500 text-sm",children:new Date(f.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})},f.id))]})}var y6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w6=y6.reduce((e,t)=>{const n=V0(`Primitive.${t}`),s=_.forwardRef((a,c)=>{const{asChild:f,...g}=a,x=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(x,{...g,ref:c})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),v6="Separator",gm="horizontal",C6=["horizontal","vertical"],My=_.forwardRef((e,t)=>{const{decorative:n,orientation:s=gm,...a}=e,c=b6(s)?s:gm,g=n?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return y.jsx(w6.div,{"data-orientation":c,...g,...a,ref:t})});My.displayName=v6;function b6(e){return C6.includes(e)}var E6=My;function gn({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return y.jsx(E6,{"data-slot":"separator-root",decorative:n,orientation:t,className:Gt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}const A6=r2("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Zl({className:e,variant:t,asChild:n=!1,...s}){const a=n?n2:"span";return y.jsx(a,{"data-slot":"badge",className:Gt(A6({variant:t}),e),...s})}function Ht(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function S6(e,t){const n=_.createContext(t),s=c=>{const{children:f,...g}=c,x=_.useMemo(()=>g,Object.values(g));return y.jsx(n.Provider,{value:x,children:f})};s.displayName=e+"Provider";function a(c){const f=_.useContext(n);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[s,a]}function Ha(e,t=[]){let n=[];function s(c,f){const g=_.createContext(f),x=n.length;n=[...n,f];const m=C=>{const{scope:A,children:E,...L}=C,R=A?.[e]?.[x]||g,D=_.useMemo(()=>L,Object.values(L));return y.jsx(R.Provider,{value:D,children:E})};m.displayName=c+"Provider";function v(C,A){const E=A?.[e]?.[x]||g,L=_.useContext(E);if(L)return L;if(f!==void 0)return f;throw new Error(`\`${C}\` must be used within \`${c}\``)}return[m,v]}const a=()=>{const c=n.map(f=>_.createContext(f));return function(g){const x=g?.[e]||c;return _.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return a.scopeName=e,[s,N6(a,...t)]}function N6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const f=s.reduce((g,{useScope:x,scopeName:m})=>{const C=x(c)[`__scope${m}`];return{...g,...C}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}var mo=globalThis?.document?_.useLayoutEffect:()=>{},T6=Xf[" useInsertionEffect ".trim().toString()]||mo;function au({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,c,f]=I6({defaultProp:t,onChange:n}),g=e!==void 0,x=g?e:a;{const v=_.useRef(e!==void 0);_.useEffect(()=>{const C=v.current;C!==g&&console.warn(`${s} is changing from ${C?"controlled":"uncontrolled"} to ${g?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=g},[g,s])}const m=_.useCallback(v=>{if(g){const C=R6(v)?v(e):v;C!==e&&f.current?.(C)}else c(v)},[g,e,c,f]);return[x,m]}function I6({defaultProp:e,onChange:t}){const[n,s]=_.useState(e),a=_.useRef(n),c=_.useRef(t);return T6(()=>{c.current=t},[t]),_.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,s,c]}function R6(e){return typeof e=="function"}function k6(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function _6(e){const[t,n]=_.useState(void 0);return mo(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let f,g;if("borderBoxSize"in c){const x=c.borderBoxSize,m=Array.isArray(x)?x[0]:x;f=m.inlineSize,g=m.blockSize}else f=e.offsetWidth,g=e.offsetHeight;n({width:f,height:g})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}function O6(e){const t=P6(e),n=_.forwardRef((s,a)=>{const{children:c,...f}=s,g=_.Children.toArray(c),x=g.find(M6);if(x){const m=x.props.children,v=g.map(C=>C===x?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:C);return y.jsx(t,{...f,ref:a,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return y.jsx(t,{...f,ref:a,children:c})});return n.displayName=`${e}.Slot`,n}function P6(e){const t=_.forwardRef((n,s)=>{const{children:a,...c}=n;if(_.isValidElement(a)){const f=B6(a),g=L6(c,a.props);return a.type!==_.Fragment&&(g.ref=s?Fa(s,f):f),_.cloneElement(a,g)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D6=Symbol("radix.slottable");function M6(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D6}function L6(e,t){const n={...t};for(const s in t){const a=e[s],c=t[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...g)=>{const x=c(...g);return a(...g),x}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...e,...n}}function B6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var j6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jt=j6.reduce((e,t)=>{const n=O6(`Primitive.${t}`),s=_.forwardRef((a,c)=>{const{asChild:f,...g}=a,x=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(x,{...g,ref:c})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function F6(e,t){e&&B0.flushSync(()=>e.dispatchEvent(t))}var lu="Switch",[V6,wI]=Ha(lu),[U6,z6]=V6(lu),Ly=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:c,required:f,disabled:g,value:x="on",onCheckedChange:m,form:v,...C}=e,[A,E]=_.useState(null),L=er(t,T=>E(T)),R=_.useRef(!1),D=A?v||!!A.closest("form"):!0,[O,I]=au({prop:a,defaultProp:c??!1,onChange:m,caller:lu});return y.jsxs(U6,{scope:n,checked:O,disabled:g,children:[y.jsx(Jt.button,{type:"button",role:"switch","aria-checked":O,"aria-required":f,"data-state":Vy(O),"data-disabled":g?"":void 0,disabled:g,value:x,...C,ref:L,onClick:Ht(e.onClick,T=>{I(B=>!B),D&&(R.current=T.isPropagationStopped(),R.current||T.stopPropagation())})}),D&&y.jsx(Fy,{control:A,bubbles:!R.current,name:s,value:x,checked:O,required:f,disabled:g,form:v,style:{transform:"translateX(-100%)"}})]})});Ly.displayName=lu;var By="SwitchThumb",jy=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=z6(By,n);return y.jsx(Jt.span,{"data-state":Vy(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});jy.displayName=By;var W6="SwitchBubbleInput",Fy=_.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},c)=>{const f=_.useRef(null),g=er(f,c),x=k6(n),m=_6(t);return _.useEffect(()=>{const v=f.current;if(!v)return;const C=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(C,"checked").set;if(x!==n&&E){const L=new Event("click",{bubbles:s});E.call(v,n),v.dispatchEvent(L)}},[x,n,s]),y.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:g,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Fy.displayName=W6;function Vy(e){return e?"checked":"unchecked"}var H6=Ly,G6=jy;function hn({className:e,...t}){return y.jsx(H6,{"data-slot":"switch",className:Gt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:y.jsx(G6,{"data-slot":"switch-thumb",className:Gt("bg-green-600 data-[state=checked]:bg-blue-700 dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Er({className:e,type:t,...n}){return y.jsx("input",{type:t,"data-slot":"input",className:Gt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var X6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y6=X6.reduce((e,t)=>{const n=V0(`Primitive.${t}`),s=_.forwardRef((a,c)=>{const{asChild:f,...g}=a,x=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(x,{...g,ref:c})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Z6="Label",Uy=_.forwardRef((e,t)=>y.jsx(Y6.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Uy.displayName=Z6;var K6=Uy;function Ar({className:e,...t}){return y.jsx(K6,{"data-slot":"label",className:Gt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function $6({theme:e="light",onToggleTheme:t,onClose:n}){return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Configuracin"}),y.jsx(Pe,{variant:"ghost",size:"icon",onClick:n,className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx(bo,{className:"w-5 h-5"})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Apariencia"}),y.jsx(et,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?y.jsx(Wb,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):y.jsx(Kb,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Modo oscuro"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ahorra batera y reduce el brillo"})]})]}),y.jsx(hn,{checked:e==="dark",onCheckedChange:t})]})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Acerca de"}),y.jsxs(et,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Versin 1.0.0"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" 2025 EcoPoints"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-4",children:"Una aplicacin para incentivar el reciclaje y cuidar nuestro planeta."})]})]})]})}function q6({onClose:e}){const[t,n]=_.useState({newRewards:!0,recyclingReminders:!0,achievements:!0,promotions:!1,weeklyReport:!0,emailNotifications:!0,pushNotifications:!0,soundEnabled:!0});return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notificaciones"}),y.jsx(Pe,{variant:"ghost",size:"icon",onClick:e,className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx(bo,{className:"w-5 h-5"})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Notificaciones Push"}),y.jsxs(et,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(s2,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Activar notificaciones"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe alertas en tu dispositivo"})]})]}),y.jsx(hn,{checked:t.pushNotifications,onCheckedChange:s=>{n({...t,pushNotifications:s}),be.success(s?"Notificaciones activadas":"Notificaciones desactivadas")}})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Sonido"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Reproducir sonido al recibir notificaciones"})]}),y.jsx(hn,{checked:t.soundEnabled,onCheckedChange:s=>n({...t,soundEnabled:s})})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tipos de notificaciones"}),y.jsxs(et,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Nuevas recompensas"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Cuando hay nuevos premios disponibles"})]}),y.jsx(hn,{checked:t.newRewards,onCheckedChange:s=>n({...t,newRewards:s})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recordatorios de reciclaje"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Notificaciones semanales para reciclar"})]}),y.jsx(hn,{checked:t.recyclingReminders,onCheckedChange:s=>n({...t,recyclingReminders:s})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Logros desbloqueados"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Celebra tus nuevos logros"})]}),y.jsx(hn,{checked:t.achievements,onCheckedChange:s=>n({...t,achievements:s})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Promociones"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ofertas especiales y descuentos"})]}),y.jsx(hn,{checked:t.promotions,onCheckedChange:s=>n({...t,promotions:s})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Reporte semanal"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Resumen de tu actividad ecolgica"})]}),y.jsx(hn,{checked:t.weeklyReport,onCheckedChange:s=>n({...t,weeklyReport:s})})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Correo electrnico"}),y.jsx(et,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Us,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Notificaciones por email"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe resmenes por correo"})]})]}),y.jsx(hn,{checked:t.emailNotifications,onCheckedChange:s=>n({...t,emailNotifications:s})})]})})]}),y.jsx(et,{className:"p-4 bg-card-notas border-card-notas dark:bg-card-notas  dark:border-card-notas",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(i2,{className:"w-5 h-5 text-card-notas dark:text-card-notas mt-0.5"}),y.jsx("div",{children:y.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"Las notificaciones te ayudan a mantener tus hbitos de reciclaje y no perderte ninguna recompensa."})})]})})]})}function Q6({onClose:e}){const[t,n]=_.useState(!1),[s,a]=_.useState(!1),[c,f]=_.useState(!1),[g,x]=_.useState(!1),[m,v]=_.useState(!1),[C,A]=_.useState({current:"",new:"",confirm:""}),[E,L]=_.useState({twoFactorAuth:!1,profilePublic:!0,shareStats:!0,showInLeaderboard:!0,location:!0,dataCollection:!0}),R=async()=>{if(!C.current||!C.new||!C.confirm){be.error("Todos los campos son obligatorios");return}if(C.new!==C.confirm){be.error("Las contraseas no coinciden");return}if(C.new.length<6){be.error("La contrasea debe tener al menos 6 caracteres");return}if(C.new===C.current){be.error("La nueva contrasea debe ser diferente a la actual");return}v(!0);try{const D=localStorage.getItem("usuario_id")||"2",O={usuario_id:parseInt(D),contrasena_actual:C.current,nueva_contrasena:C.new},I=await fetch("https://ecopoints.hvd.lat/api/actualizarContrasena",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),T=await I.json();I.ok?(be.success(T.mensaje||"Contrasea actualizada exitosamente"),n(!1),A({current:"",new:"",confirm:""})):T.error&&T.error.includes("incorrecta")?be.error("La contrasea actual es incorrecta"):be.error(T.error||"Error al cambiar la contrasea")}catch{be.error("Error de conexin. Intenta nuevamente.")}finally{v(!1)}};return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Privacidad y Seguridad"}),y.jsx(Pe,{variant:"ghost",size:"icon",onClick:e,className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx(bo,{className:"w-5 h-5"})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Seguridad de cuenta"}),y.jsxs(et,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>n(!t),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(wf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsx("span",{children:"Cambiar contrasea"})]}),y.jsx(pi,{className:"w-5 h-5"})]}),t&&y.jsxs("div",{className:"space-y-4 pt-4 border-t dark:border-gray-700",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"current-password",children:"Contrasea actual"}),y.jsxs("div",{className:"relative",children:[y.jsx(Gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx(Er,{id:"current-password",type:s?"text":"password",className:"pl-10 pr-10",value:C.current,onChange:D=>A({...C,current:D.target.value}),placeholder:"Ingresa tu contrasea actual",disabled:m}),y.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:m,children:s?y.jsx(to,{className:"w-5 h-5"}):y.jsx(no,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"new-password",children:"Nueva contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Er,{id:"new-password",type:c?"text":"password",value:C.new,onChange:D=>A({...C,new:D.target.value}),placeholder:"Mnimo 6 caracteres",disabled:m}),y.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:m,children:c?y.jsx(to,{className:"w-5 h-5"}):y.jsx(no,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"confirm-password",children:"Confirmar contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Er,{id:"confirm-password",type:g?"text":"password",value:C.confirm,onChange:D=>A({...C,confirm:D.target.value}),placeholder:"Repite tu nueva contrasea",disabled:m}),y.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:m,children:g?y.jsx(to,{className:"w-5 h-5"}):y.jsx(no,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(Pe,{variant:"outline",onClick:()=>{n(!1),A({current:"",new:"",confirm:""})},className:"flex-1",disabled:m,children:"Cancelar"}),y.jsx(Pe,{onClick:R,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",disabled:m,children:m?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Actualizando..."]}):"Actualizar contrasea"})]})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Zb,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Autenticacin de dos factores"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Mayor seguridad para tu cuenta"})]})]}),y.jsx(hn,{checked:E.twoFactorAuth,onCheckedChange:D=>{L({...E,twoFactorAuth:D}),be.success(D?"2FA activado":"2FA desactivado")}})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Privacidad de datos"}),y.jsxs(et,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Perfil pblico"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Otros usuarios pueden ver tu perfil"})]}),y.jsx(hn,{checked:E.profilePublic,onCheckedChange:D=>L({...E,profilePublic:D})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Compartir estadsticas"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Visible en el ranking global"})]}),y.jsx(hn,{checked:E.shareStats,onCheckedChange:D=>L({...E,shareStats:D})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Mostrar en leaderboard"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aparecer en tablas de posiciones"})]}),y.jsx(hn,{checked:E.showInLeaderboard,onCheckedChange:D=>L({...E,showInLeaderboard:D})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Ubicacin"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para encontrar estaciones cercanas"})]}),y.jsx(hn,{checked:E.location,onCheckedChange:D=>L({...E,location:D})})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recopilacin de datos"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para mejorar la experiencia"})]}),y.jsx(hn,{checked:E.dataCollection,onCheckedChange:D=>L({...E,dataCollection:D})})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Gestin de datos"}),y.jsxs(et,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>be.success("Descargando tus datos..."),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(jb,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsx("span",{children:"Descargar mis datos"})]}),y.jsx(pi,{className:"w-5 h-5"})]}),y.jsxs(Pe,{variant:"outline",className:"w-full justify-between text-red-600 dark:text-red-600 dark:bg-gray-700 dark:border-gray-600",onClick:()=>be.error("Para eliminar tu cuenta, contacta a soporte"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(i2,{className:"w-5 h-5"}),y.jsx("span",{children:"Eliminar mi cuenta"})]}),y.jsx(pi,{className:"w-5 h-5"})]})]})]}),y.jsx(et,{className:"p-4 bg-card-notas border-card-notas dark:bg-card-notas  dark:border-card-notas",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(l2,{className:"w-5 h-5 text-card-notas dark:text-card-notas mt-0.5"}),y.jsx("div",{children:y.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"Tu privacidad es importante. Protegemos tus datos con encriptacin de grado bancario."})})]})})]})}function J6({onClose:e}){return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Ayuda y Soporte"}),y.jsx(Pe,{variant:"ghost",size:"icon",onClick:e,className:"dark:text-white dark:hover:bg-gray-800",children:y.jsx(bo,{className:"w-5 h-5"})})]}),y.jsxs(et,{className:"p-4 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-950 dark:to-green-950 border-emerald-200 dark:border-emerald-800",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx(a2,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),y.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Necesitas ayuda?"})]}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Estamos aqu para ayudarte. Contctanos por cualquiera de estos medios."})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Contacto"}),y.jsxs(et,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>be.success("Abriendo chat..."),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ub,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Chat en vivo"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Disponible 24/7"})]})]}),y.jsx(pi,{className:"w-5 h-5"})]}),y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="mailto:soporte@ecopoints.com"},children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Us,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Email"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"soporte@ecopoints.com"})]})]}),y.jsx(Z1,{className:"w-5 h-5"})]}),y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="tel:+51987654321"},children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Hb,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-gray-900 dark:text-white",children:"Telfono"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"+51 987 654 321"})]})]}),y.jsx(Z1,{className:"w-5 h-5"})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Preguntas frecuentes"}),y.jsxs(et,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo gano puntos?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Escanea cdigos QR en nuestras estaciones de reciclaje. Cada escaneo te otorga entre 10 y 100 puntos segn el material reciclado."})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo canjeo mis puntos?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Ve a la seccin de Recompensas, elige el premio que desees y presiona "Canjear". Los cdigos se envan a tu email.'})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Dnde encuentro estaciones de reciclaje?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Actualmente tenemos estaciones en Miraflores, San Isidro, Surco y Barranco. Prximamente en ms distritos."})]}),y.jsx(gn,{className:"dark:bg-gray-700"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Los puntos expiran?"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No, tus EcoPoints nunca expiran. Acumlalos todo el tiempo que quieras."})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tutoriales"}),y.jsxs(et,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>be.success("Abriendo tutorial..."),children:[y.jsx("span",{children:"Cmo escanear cdigos QR"}),y.jsx(pi,{className:"w-5 h-5"})]}),y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>be.success("Abriendo tutorial..."),children:[y.jsx("span",{children:"Gua de reciclaje correcto"}),y.jsx(pi,{className:"w-5 h-5"})]}),y.jsxs(Pe,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>be.success("Abriendo tutorial..."),children:[y.jsx("span",{children:"Cmo subir de nivel"}),y.jsx(pi,{className:"w-5 h-5"})]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Reportar un problema"}),y.jsxs(et,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Encontraste un error? Aydanos a mejorar reportndolo."}),y.jsxs(Pe,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>be.success("Gracias por tu reporte. Nos pondremos en contacto pronto."),children:[y.jsx(Xb,{className:"w-4 h-4 mr-2"}),"Enviar reporte"]})]})]}),y.jsxs(et,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[y.jsx("h3",{className:"text-gray-900 dark:text-white mb-3",children:"Sguenos"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx(Pe,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://instagram.com","_blank"),children:"Instagram"}),y.jsx(Pe,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://facebook.com","_blank"),children:"Facebook"}),y.jsx(Pe,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://twitter.com","_blank"),children:"Twitter"}),y.jsx(Pe,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://tiktok.com","_blank"),children:"TikTok"})]})]})]})}function eN({onViewStation:e,onLogout:t,theme:n="light",onToggleTheme:s}){const a=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",c=localStorage.getItem("usuario_id"),f=localStorage.getItem("token"),[g,x]=_.useState(null),[m,v]=_.useState(null),[C,A]=_.useState([]),[E,L]=_.useState(!0),R=()=>({"Content-Type":"application/json",Authorization:`Bearer ${f}`}),D=async()=>{if(!(!c||!f))try{const de=await fetch(`${a}/obtenerPuntos?usuario_id=${c}`,{headers:R()});if(!de.ok){if(de.status===401)return;throw new Error(`HTTP error! status: ${de.status}`)}const H=await de.json();v(Number(H.puntos)||0)}catch{v(0)}},O=async()=>{if(!(!c||!f)){L(!0);try{const de=await fetch(`${a}/obtenerHistorial?usuario_id=${c}`,{headers:R()});if(!de.ok){if(de.status===401)return;throw new Error(`HTTP error! status: ${de.status}`)}const pe=(await de.json()).filter(ae=>ae.type==="scan").map(ae=>({id:ae.id?.toString()||Math.random().toString(),type:"scan",description:ae.descripcion||"Escaneo QR",location:ae.ubicacion||"EcoPoints",points:ae.puntos||0,date:ae.fecha||new Date().toISOString()}));A(pe)}catch{A([])}finally{L(!1)}}},I=async()=>{if(!(!c||!f))try{const de=await fetch(`${a}/obtenerHistorialCanjes?usuario_id=${c}`,{headers:R()});if(de.ok){const H=await de.json();if(Array.isArray(H)&&H.length>0){const pe=H.map(ae=>({id:`canje-${ae.id}`,type:"redeem",description:`Canje: ${ae.nombre_convenio||"Recompensa"}`,location:ae.ubicacion||"EcoPoints",points:ae.puntos_utilizados||0,date:ae.fecha_canje||new Date().toISOString()}));A(ae=>[...ae,...pe])}}}catch{}};_.useEffect(()=>{(async()=>{c&&f?await Promise.all([D(),O(),I()]):(L(!1),v(0))})()},[c,f]);const B=C.filter(de=>de.type==="scan").length,W=[{nivel:1,escaneosRequeridos:0,nombre:"Eco Novice"},{nivel:2,escaneosRequeridos:10,nombre:"Eco Warrior"},{nivel:3,escaneosRequeridos:50,nombre:"Eco Hero"},{nivel:4,escaneosRequeridos:100,nombre:"Eco Champion"},{nivel:5,escaneosRequeridos:500,nombre:"Eco Master"},{nivel:6,escaneosRequeridos:1e3,nombre:"Eco Legend"},{nivel:7,escaneosRequeridos:5e3,nombre:"Eco Guardian"}],F=(de=>{for(let H=W.length-1;H>=0;H--)if(de>=W[H].escaneosRequeridos)return W[H];return W[0]})(B),z=F.nivel,j=W.find(de=>de.nivel===z+1),Q=j?j.escaneosRequeridos-B:0,q=(()=>{if(!j)return 100;const de=W.find(ae=>ae.nivel===z),H=B-(de?.escaneosRequeridos||0),pe=j.escaneosRequeridos-(de?.escaneosRequeridos||0);return H/pe*100})(),ge=()=>`Nivel ${z} - ${F.nombre}`;return g==="configuracion"?y.jsx($6,{onClose:()=>x(null),theme:n,onToggleTheme:s}):g==="notificaciones"?y.jsx(q6,{onClose:()=>x(null)}):g==="privacidad"?y.jsx(Q6,{onClose:()=>x(null)}):g==="ayuda"?y.jsx(J6,{onClose:()=>x(null)}):y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"relative inline-block mb-4",children:[y.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:y.jsx(U0,{className:"w-12 h-12 text-white"})}),y.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-yellow-400 rounded-full border-4 border-white dark:border-gray-900 flex items-center justify-center",children:y.jsx(X1,{className:"w-4 h-4 text-yellow-800"})})]}),y.jsx("h1",{className:"text-gray-900 dark:text-white mb-1",children:localStorage.getItem("usuario_nombre")}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:localStorage.getItem("usuario_correo")}),y.jsx(Zl,{className:"mt-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-300",children:ge()})]}),y.jsx(et,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:y.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center dark:bg-gray-800",children:[y.jsx(pd,{icon:y.jsx(Si,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),label:"Puntos",value:m!==null?m.toLocaleString():"...",type:"puntos"}),y.jsx(pd,{icon:y.jsx($b,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),label:"Escaneos",value:E?"...":B.toLocaleString(),type:"escaneos"}),y.jsx(pd,{icon:y.jsx(X1,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),label:"Nivel",value:z,type:"nivel"})]})}),y.jsx(et,{className:"p-4 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-950 dark:to-blue-950 dark:border-gray-700",children:y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Prximo nivel"}),y.jsx("p",{className:"text-gray-900 dark:text-white",children:E?"...":j?`${Q} escaneo${Q!==1?"s":""} ms`:"Nivel mximo alcanzado!"})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:y.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-2 rounded-full transition-all",style:{width:`${q}%`}})}),j&&y.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:["Hacia ",j.nombre]})]})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(gn,{className:"my-2"}),y.jsx(Ss,{icon:y.jsx(Ac,{className:"w-5 h-5"}),label:"Puntos de recoleccin",onClick:()=>x("")}),y.jsx(Ss,{icon:y.jsx(Yb,{className:"w-5 h-5"}),label:"Configuracin",onClick:()=>x("configuracion")}),y.jsx(Ss,{icon:y.jsx(s2,{className:"w-5 h-5"}),label:"Notificaciones",onClick:()=>x("notificaciones")}),y.jsx(Ss,{icon:y.jsx(l2,{className:"w-5 h-5"}),label:"Privacidad y seguridad",onClick:()=>x("privacidad")}),y.jsx(gn,{className:"my-4"}),y.jsx(Ss,{icon:y.jsx(a2,{className:"w-5 h-5"}),label:"Ayuda y soporte",onClick:()=>x("ayuda")}),y.jsx(Ss,{icon:y.jsx(Vb,{className:"w-5 h-5"}),label:"Cerrar sesin",className:"text-red-600",onClick:t})]}),y.jsxs("div",{className:"text-center pt-4",children:[y.jsx("p",{className:"text-gray-400",children:"EcoPoints v1.0.0"}),y.jsx("p",{className:"text-gray-400",children:" 2025 EcoPoints. Todos los derechos reservados."})]})]})}function pd({icon:e,label:t,value:n,type:s}){const a={puntos:"bg-emerald-100 dark:bg-emerald-900",escaneos:"bg-blue-100 dark:bg-blue-900",nivel:"bg-purple-100 dark:bg-purple-900",info:"bg-blue-100 dark:bg-blue-900"},f=`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-2 ${a[s]||a.info}`;return y.jsxs("div",{children:[y.jsx("div",{className:f,children:e}),y.jsx("p",{className:"text-gray-900 dark:text-white font-semibold",children:n}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:t})]})}function Ss({icon:e,label:t,className:n="",onClick:s}){return y.jsxs(Pe,{variant:"ghost",className:`w-full justify-between hover:bg-gray-50 dark:hover:bg-gray-800 dark:text-white ${n}`,onClick:s,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[e,y.jsx("span",{children:t})]}),y.jsx(pi,{className:"w-5 h-5"})]})}function mm(e){const t=tN(e),n=_.forwardRef((s,a)=>{const{children:c,...f}=s,g=_.Children.toArray(c),x=g.find(rN);if(x){const m=x.props.children,v=g.map(C=>C===x?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:C);return y.jsx(t,{...f,ref:a,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return y.jsx(t,{...f,ref:a,children:c})});return n.displayName=`${e}.Slot`,n}function tN(e){const t=_.forwardRef((n,s)=>{const{children:a,...c}=n;if(_.isValidElement(a)){const f=sN(a),g=iN(c,a.props);return a.type!==_.Fragment&&(g.ref=s?Fa(s,f):f),_.cloneElement(a,g)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nN=Symbol("radix.slottable");function rN(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nN}function iN(e,t){const n={...t};for(const s in t){const a=e[s],c=t[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...g)=>{const x=c(...g);return a(...g),x}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...e,...n}}function sN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function oN(e){const t=e+"CollectionProvider",[n,s]=Ha(t),[a,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),f=R=>{const{scope:D,children:O}=R,I=ue.useRef(null),T=ue.useRef(new Map).current;return y.jsx(a,{scope:D,itemMap:T,collectionRef:I,children:O})};f.displayName=t;const g=e+"CollectionSlot",x=mm(g),m=ue.forwardRef((R,D)=>{const{scope:O,children:I}=R,T=c(g,O),B=er(D,T.collectionRef);return y.jsx(x,{ref:B,children:I})});m.displayName=g;const v=e+"CollectionItemSlot",C="data-radix-collection-item",A=mm(v),E=ue.forwardRef((R,D)=>{const{scope:O,children:I,...T}=R,B=ue.useRef(null),W=er(D,B),X=c(v,O);return ue.useEffect(()=>(X.itemMap.set(B,{ref:B,...T}),()=>void X.itemMap.delete(B))),y.jsx(A,{[C]:"",ref:W,children:I})});E.displayName=v;function L(R){const D=c(e+"CollectionConsumer",R);return ue.useCallback(()=>{const I=D.collectionRef.current;if(!I)return[];const T=Array.from(I.querySelectorAll(`[${C}]`));return Array.from(D.itemMap.values()).sort((X,F)=>T.indexOf(X.ref.current)-T.indexOf(F.ref.current))},[D.collectionRef,D.itemMap])}return[{Provider:f,Slot:m,ItemSlot:E},L,s]}var aN=Xf[" useId ".trim().toString()]||(()=>{}),lN=0;function fa(e){const[t,n]=_.useState(aN());return mo(()=>{e||n(s=>s??String(lN++))},[e]),e||(t?`radix-${t}`:"")}function po(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>t.current?.(...n),[])}var cN=_.createContext(void 0);function zy(e){const t=_.useContext(cN);return e||t||"ltr"}var xd="rovingFocusGroup.onEntryFocus",uN={bubbles:!1,cancelable:!0},Ga="RovingFocusGroup",[Bf,Wy,dN]=oN(Ga),[fN,Hy]=Ha(Ga,[dN]),[hN,gN]=fN(Ga),Gy=_.forwardRef((e,t)=>y.jsx(Bf.Provider,{scope:e.__scopeRovingFocusGroup,children:y.jsx(Bf.Slot,{scope:e.__scopeRovingFocusGroup,children:y.jsx(mN,{...e,ref:t})})}));Gy.displayName=Ga;var mN=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:c,currentTabStopId:f,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:x,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...C}=e,A=_.useRef(null),E=er(t,A),L=zy(c),[R,D]=au({prop:f,defaultProp:g??null,onChange:x,caller:Ga}),[O,I]=_.useState(!1),T=po(m),B=Wy(n),W=_.useRef(!1),[X,F]=_.useState(0);return _.useEffect(()=>{const z=A.current;if(z)return z.addEventListener(xd,T),()=>z.removeEventListener(xd,T)},[T]),y.jsx(hN,{scope:n,orientation:s,dir:L,loop:a,currentTabStopId:R,onItemFocus:_.useCallback(z=>D(z),[D]),onItemShiftTab:_.useCallback(()=>I(!0),[]),onFocusableItemAdd:_.useCallback(()=>F(z=>z+1),[]),onFocusableItemRemove:_.useCallback(()=>F(z=>z-1),[]),children:y.jsx(Jt.div,{tabIndex:O||X===0?-1:0,"data-orientation":s,...C,ref:E,style:{outline:"none",...e.style},onMouseDown:Ht(e.onMouseDown,()=>{W.current=!0}),onFocus:Ht(e.onFocus,z=>{const j=!W.current;if(z.target===z.currentTarget&&j&&!O){const Q=new CustomEvent(xd,uN);if(z.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const fe=B().filter(pe=>pe.focusable),q=fe.find(pe=>pe.active),ge=fe.find(pe=>pe.id===R),H=[q,ge,...fe].filter(Boolean).map(pe=>pe.ref.current);Zy(H,v)}}W.current=!1}),onBlur:Ht(e.onBlur,()=>I(!1))})})}),Xy="RovingFocusGroupItem",Yy=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:c,children:f,...g}=e,x=fa(),m=c||x,v=gN(Xy,n),C=v.currentTabStopId===m,A=Wy(n),{onFocusableItemAdd:E,onFocusableItemRemove:L,currentTabStopId:R}=v;return _.useEffect(()=>{if(s)return E(),()=>L()},[s,E,L]),y.jsx(Bf.ItemSlot,{scope:n,id:m,focusable:s,active:a,children:y.jsx(Jt.span,{tabIndex:C?0:-1,"data-orientation":v.orientation,...g,ref:t,onMouseDown:Ht(e.onMouseDown,D=>{s?v.onItemFocus(m):D.preventDefault()}),onFocus:Ht(e.onFocus,()=>v.onItemFocus(m)),onKeyDown:Ht(e.onKeyDown,D=>{if(D.key==="Tab"&&D.shiftKey){v.onItemShiftTab();return}if(D.target!==D.currentTarget)return;const O=yN(D,v.orientation,v.dir);if(O!==void 0){if(D.metaKey||D.ctrlKey||D.altKey||D.shiftKey)return;D.preventDefault();let T=A().filter(B=>B.focusable).map(B=>B.ref.current);if(O==="last")T.reverse();else if(O==="prev"||O==="next"){O==="prev"&&T.reverse();const B=T.indexOf(D.currentTarget);T=v.loop?wN(T,B+1):T.slice(B+1)}setTimeout(()=>Zy(T))}}),children:typeof f=="function"?f({isCurrentTabStop:C,hasTabStop:R!=null}):f})})});Yy.displayName=Xy;var pN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xN(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yN(e,t,n){const s=xN(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return pN[s]}function Zy(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function wN(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var vN=Gy,CN=Yy;function bN(e,t){return _.useReducer((n,s)=>t[n][s]??n,e)}var Xa=e=>{const{present:t,children:n}=e,s=EN(t),a=typeof n=="function"?n({present:s.isPresent}):_.Children.only(n),c=er(s.ref,AN(a));return typeof n=="function"||s.isPresent?_.cloneElement(a,{ref:c}):null};Xa.displayName="Presence";function EN(e){const[t,n]=_.useState(),s=_.useRef(null),a=_.useRef(e),c=_.useRef("none"),f=e?"mounted":"unmounted",[g,x]=bN(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=Nl(s.current);c.current=g==="mounted"?m:"none"},[g]),mo(()=>{const m=s.current,v=a.current;if(v!==e){const A=c.current,E=Nl(m);e?x("MOUNT"):E==="none"||m?.display==="none"?x("UNMOUNT"):x(v&&A!==E?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,x]),mo(()=>{if(t){let m;const v=t.ownerDocument.defaultView??window,C=E=>{const R=Nl(s.current).includes(CSS.escape(E.animationName));if(E.target===t&&R&&(x("ANIMATION_END"),!a.current)){const D=t.style.animationFillMode;t.style.animationFillMode="forwards",m=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=D)})}},A=E=>{E.target===t&&(c.current=Nl(s.current))};return t.addEventListener("animationstart",A),t.addEventListener("animationcancel",C),t.addEventListener("animationend",C),()=>{v.clearTimeout(m),t.removeEventListener("animationstart",A),t.removeEventListener("animationcancel",C),t.removeEventListener("animationend",C)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:_.useCallback(m=>{s.current=m?getComputedStyle(m):null,n(m)},[])}}function Nl(e){return e?.animationName||"none"}function AN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cu="Tabs",[SN,vI]=Ha(cu,[Hy]),Ky=Hy(),[NN,dh]=SN(cu),$y=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:c,orientation:f="horizontal",dir:g,activationMode:x="automatic",...m}=e,v=zy(g),[C,A]=au({prop:s,onChange:a,defaultProp:c??"",caller:cu});return y.jsx(NN,{scope:n,baseId:fa(),value:C,onValueChange:A,orientation:f,dir:v,activationMode:x,children:y.jsx(Jt.div,{dir:v,"data-orientation":f,...m,ref:t})})});$y.displayName=cu;var qy="TabsList",Qy=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,c=dh(qy,n),f=Ky(n);return y.jsx(vN,{asChild:!0,...f,orientation:c.orientation,dir:c.dir,loop:s,children:y.jsx(Jt.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:t})})});Qy.displayName=qy;var Jy="TabsTrigger",ew=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...c}=e,f=dh(Jy,n),g=Ky(n),x=rw(f.baseId,s),m=iw(f.baseId,s),v=s===f.value;return y.jsx(CN,{asChild:!0,...g,focusable:!a,active:v,children:y.jsx(Jt.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:x,...c,ref:t,onMouseDown:Ht(e.onMouseDown,C=>{!a&&C.button===0&&C.ctrlKey===!1?f.onValueChange(s):C.preventDefault()}),onKeyDown:Ht(e.onKeyDown,C=>{[" ","Enter"].includes(C.key)&&f.onValueChange(s)}),onFocus:Ht(e.onFocus,()=>{const C=f.activationMode!=="manual";!v&&!a&&C&&f.onValueChange(s)})})})});ew.displayName=Jy;var tw="TabsContent",nw=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:c,...f}=e,g=dh(tw,n),x=rw(g.baseId,s),m=iw(g.baseId,s),v=s===g.value,C=_.useRef(v);return _.useEffect(()=>{const A=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(A)},[]),y.jsx(Xa,{present:a||v,children:({present:A})=>y.jsx(Jt.div,{"data-state":v?"active":"inactive","data-orientation":g.orientation,role:"tabpanel","aria-labelledby":x,hidden:!A,id:m,tabIndex:0,...f,ref:t,style:{...e.style,animationDuration:C.current?"0s":void 0},children:A&&c})})});nw.displayName=tw;function rw(e,t){return`${e}-trigger-${t}`}function iw(e,t){return`${e}-content-${t}`}var TN=$y,IN=Qy,RN=ew,kN=nw;function _N({className:e,...t}){return y.jsx(TN,{"data-slot":"tabs",className:Gt("flex flex-col gap-2",e),...t})}function ON({className:e,...t}){return y.jsx(IN,{"data-slot":"tabs-list",className:Gt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Tl({className:e,...t}){return y.jsx(RN,{"data-slot":"tabs-trigger",className:Gt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Il({className:e,...t}){return y.jsx(kN,{"data-slot":"tabs-content",className:Gt("flex-1 outline-none",e),...t})}function PN(e,t=globalThis?.document){const n=po(e);_.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var DN="DismissableLayer",jf="dismissableLayer.update",MN="dismissableLayer.pointerDownOutside",LN="dismissableLayer.focusOutside",pm,sw=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ow=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:f,onDismiss:g,...x}=e,m=_.useContext(sw),[v,C]=_.useState(null),A=v?.ownerDocument??globalThis?.document,[,E]=_.useState({}),L=er(t,F=>C(F)),R=Array.from(m.layers),[D]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=R.indexOf(D),I=v?R.indexOf(v):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,B=I>=O,W=FN(F=>{const z=F.target,j=[...m.branches].some(Q=>Q.contains(z));!B||j||(a?.(F),f?.(F),F.defaultPrevented||g?.())},A),X=VN(F=>{const z=F.target;[...m.branches].some(Q=>Q.contains(z))||(c?.(F),f?.(F),F.defaultPrevented||g?.())},A);return PN(F=>{I===m.layers.size-1&&(s?.(F),!F.defaultPrevented&&g&&(F.preventDefault(),g()))},A),_.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(pm=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),xm(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=pm)}},[v,A,n,m]),_.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),xm())},[v,m]),_.useEffect(()=>{const F=()=>E({});return document.addEventListener(jf,F),()=>document.removeEventListener(jf,F)},[]),y.jsx(Jt.div,{...x,ref:L,style:{pointerEvents:T?B?"auto":"none":void 0,...e.style},onFocusCapture:Ht(e.onFocusCapture,X.onFocusCapture),onBlurCapture:Ht(e.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Ht(e.onPointerDownCapture,W.onPointerDownCapture)})});ow.displayName=DN;var BN="DismissableLayerBranch",jN=_.forwardRef((e,t)=>{const n=_.useContext(sw),s=_.useRef(null),a=er(t,s);return _.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),y.jsx(Jt.div,{...e,ref:a})});jN.displayName=BN;function FN(e,t=globalThis?.document){const n=po(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const c=g=>{if(g.target&&!s.current){let x=function(){aw(MN,n,m,{discrete:!0})};const m={originalEvent:g};g.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=x,t.addEventListener("click",a.current,{once:!0})):x()}else t.removeEventListener("click",a.current);s.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function VN(e,t=globalThis?.document){const n=po(e),s=_.useRef(!1);return _.useEffect(()=>{const a=c=>{c.target&&!s.current&&aw(LN,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function xm(){const e=new CustomEvent(jf);document.dispatchEvent(e)}function aw(e,t,n,{discrete:s}){const a=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?F6(a,c):a.dispatchEvent(c)}var yd="focusScope.autoFocusOnMount",wd="focusScope.autoFocusOnUnmount",ym={bubbles:!1,cancelable:!0},UN="FocusScope",lw=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...f}=e,[g,x]=_.useState(null),m=po(a),v=po(c),C=_.useRef(null),A=er(t,R=>x(R)),E=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let R=function(T){if(E.paused||!g)return;const B=T.target;g.contains(B)?C.current=B:li(C.current,{select:!0})},D=function(T){if(E.paused||!g)return;const B=T.relatedTarget;B!==null&&(g.contains(B)||li(C.current,{select:!0}))},O=function(T){if(document.activeElement===document.body)for(const W of T)W.removedNodes.length>0&&li(g)};document.addEventListener("focusin",R),document.addEventListener("focusout",D);const I=new MutationObserver(O);return g&&I.observe(g,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",D),I.disconnect()}}},[s,g,E.paused]),_.useEffect(()=>{if(g){vm.add(E);const R=document.activeElement;if(!g.contains(R)){const O=new CustomEvent(yd,ym);g.addEventListener(yd,m),g.dispatchEvent(O),O.defaultPrevented||(zN(YN(cw(g)),{select:!0}),document.activeElement===R&&li(g))}return()=>{g.removeEventListener(yd,m),setTimeout(()=>{const O=new CustomEvent(wd,ym);g.addEventListener(wd,v),g.dispatchEvent(O),O.defaultPrevented||li(R??document.body,{select:!0}),g.removeEventListener(wd,v),vm.remove(E)},0)}}},[g,m,v,E]);const L=_.useCallback(R=>{if(!n&&!s||E.paused)return;const D=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,O=document.activeElement;if(D&&O){const I=R.currentTarget,[T,B]=WN(I);T&&B?!R.shiftKey&&O===B?(R.preventDefault(),n&&li(T,{select:!0})):R.shiftKey&&O===T&&(R.preventDefault(),n&&li(B,{select:!0})):O===I&&R.preventDefault()}},[n,s,E.paused]);return y.jsx(Jt.div,{tabIndex:-1,...f,ref:A,onKeyDown:L})});lw.displayName=UN;function zN(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(li(s,{select:t}),document.activeElement!==n)return}function WN(e){const t=cw(e),n=wm(t,e),s=wm(t.reverse(),e);return[n,s]}function cw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wm(e,t){for(const n of e)if(!HN(n,{upTo:t}))return n}function HN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GN(e){return e instanceof HTMLInputElement&&"select"in e}function li(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&GN(e)&&t&&e.select()}}var vm=XN();function XN(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Cm(e,t),e.unshift(t)},remove(t){e=Cm(e,t),e[0]?.resume()}}}function Cm(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function YN(e){return e.filter(t=>t.tagName!=="A")}var ZN="Portal",uw=_.forwardRef((e,t)=>{const{container:n,...s}=e,[a,c]=_.useState(!1);mo(()=>c(!0),[]);const f=n||a&&globalThis?.document?.body;return f?Xx.createPortal(y.jsx(Jt.div,{...s,ref:t}),f):null});uw.displayName=ZN;var vd=0;function KN(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bm()),document.body.insertAdjacentElement("beforeend",e[1]??bm()),vd++,()=>{vd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vd--}},[])}function bm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nr=function(){return Nr=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Nr.apply(this,arguments)};function dw(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function $N(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,c;s<a;s++)(c||!(s in t))&&(c||(c=Array.prototype.slice.call(t,0,s)),c[s]=t[s]);return e.concat(c||Array.prototype.slice.call(t))}var Kl="right-scroll-bar-position",$l="width-before-scroll-bar",qN="with-scroll-bars-hidden",QN="--removed-body-scroll-bar-size";function Cd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function JN(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var eT=typeof window<"u"?_.useLayoutEffect:_.useEffect,Em=new WeakMap;function tT(e,t){var n=JN(t||null,function(s){return e.forEach(function(a){return Cd(a,s)})});return eT(function(){var s=Em.get(n);if(s){var a=new Set(s),c=new Set(e),f=n.current;a.forEach(function(g){c.has(g)||Cd(g,null)}),c.forEach(function(g){a.has(g)||Cd(g,f)})}Em.set(n,e)},[e]),n}function nT(e){return e}function rT(e,t){t===void 0&&(t=nT);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var f=t(c,s);return n.push(f),function(){n=n.filter(function(g){return g!==f})}},assignSyncMedium:function(c){for(s=!0;n.length;){var f=n;n=[],f.forEach(c)}n={push:function(g){return c(g)},filter:function(){return n}}},assignMedium:function(c){s=!0;var f=[];if(n.length){var g=n;n=[],g.forEach(c),f=n}var x=function(){var v=f;f=[],v.forEach(c)},m=function(){return Promise.resolve().then(x)};m(),n={push:function(v){f.push(v),m()},filter:function(v){return f=f.filter(v),n}}}};return a}function iT(e){e===void 0&&(e={});var t=rT(null);return t.options=Nr({async:!0,ssr:!1},e),t}var fw=function(e){var t=e.sideCar,n=dw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,Nr({},n))};fw.isSideCarExport=!0;function sT(e,t){return e.useMedium(t),fw}var hw=iT(),bd=function(){},uu=_.forwardRef(function(e,t){var n=_.useRef(null),s=_.useState({onScrollCapture:bd,onWheelCapture:bd,onTouchMoveCapture:bd}),a=s[0],c=s[1],f=e.forwardProps,g=e.children,x=e.className,m=e.removeScrollBar,v=e.enabled,C=e.shards,A=e.sideCar,E=e.noRelative,L=e.noIsolation,R=e.inert,D=e.allowPinchZoom,O=e.as,I=O===void 0?"div":O,T=e.gapMode,B=dw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=A,X=tT([n,t]),F=Nr(Nr({},B),a);return _.createElement(_.Fragment,null,v&&_.createElement(W,{sideCar:hw,removeScrollBar:m,shards:C,noRelative:E,noIsolation:L,inert:R,setCallbacks:c,allowPinchZoom:!!D,lockRef:n,gapMode:T}),f?_.cloneElement(_.Children.only(g),Nr(Nr({},F),{ref:X})):_.createElement(I,Nr({},F,{className:x,ref:X}),g))});uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uu.classNames={fullWidth:$l,zeroRight:Kl};var Am,oT=function(){if(Am)return Am;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oT();return t&&e.setAttribute("nonce",t),e}function lT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aT())&&(lT(t,n),cT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dT=function(){var e=uT();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gw=function(){var e=dT(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},fT={left:0,top:0,right:0,gap:0},Ed=function(e){return parseInt(e||"",10)||0},hT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ed(n),Ed(s),Ed(a)]},gT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fT;var t=hT(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},mT=gw(),ro="data-scroll-locked",pT=function(e,t,n,s){var a=e.left,c=e.top,f=e.right,g=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qN,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(g,"px ").concat(s,`;
  }
  body[`).concat(ro,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(g,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(g,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kl,` {
    right: `).concat(g,"px ").concat(s,`;
  }
  
  .`).concat($l,` {
    margin-right: `).concat(g,"px ").concat(s,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat($l," .").concat($l,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ro,`] {
    `).concat(QN,": ").concat(g,`px;
  }
`)},Sm=function(){var e=parseInt(document.body.getAttribute(ro)||"0",10);return isFinite(e)?e:0},xT=function(){_.useEffect(function(){return document.body.setAttribute(ro,(Sm()+1).toString()),function(){var e=Sm()-1;e<=0?document.body.removeAttribute(ro):document.body.setAttribute(ro,e.toString())}},[])},yT=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;xT();var c=_.useMemo(function(){return gT(a)},[a]);return _.createElement(mT,{styles:pT(c,!t,a,n?"":"!important")})},Ff=!1;if(typeof window<"u")try{var Rl=Object.defineProperty({},"passive",{get:function(){return Ff=!0,!0}});window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Ff=!1}var Ns=Ff?{passive:!1}:!1,wT=function(e){return e.tagName==="TEXTAREA"},mw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wT(e)&&n[t]==="visible")},vT=function(e){return mw(e,"overflowY")},CT=function(e){return mw(e,"overflowX")},Nm=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=pw(e,s);if(a){var c=xw(e,s),f=c[1],g=c[2];if(f>g)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},bT=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},ET=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},pw=function(e,t){return e==="v"?vT(t):CT(t)},xw=function(e,t){return e==="v"?bT(t):ET(t)},AT=function(e,t){return e==="h"&&t==="rtl"?-1:1},ST=function(e,t,n,s,a){var c=AT(e,window.getComputedStyle(t).direction),f=c*s,g=n.target,x=t.contains(g),m=!1,v=f>0,C=0,A=0;do{if(!g)break;var E=xw(e,g),L=E[0],R=E[1],D=E[2],O=R-D-c*L;(L||O)&&pw(e,g)&&(C+=O,A+=L);var I=g.parentNode;g=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!x&&g!==document.body||x&&(t.contains(g)||t===g));return(v&&(a&&Math.abs(C)<1||!a&&f>C)||!v&&(a&&Math.abs(A)<1||!a&&-f>A))&&(m=!0),m},kl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Tm=function(e){return[e.deltaX,e.deltaY]},Im=function(e){return e&&"current"in e?e.current:e},NT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IT=0,Ts=[];function RT(e){var t=_.useRef([]),n=_.useRef([0,0]),s=_.useRef(),a=_.useState(IT++)[0],c=_.useState(gw)[0],f=_.useRef(e);_.useEffect(function(){f.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var R=$N([e.lockRef.current],(e.shards||[]).map(Im),!0).filter(Boolean);return R.forEach(function(D){return D.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),R.forEach(function(D){return D.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var g=_.useCallback(function(R,D){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!f.current.allowPinchZoom;var O=kl(R),I=n.current,T="deltaX"in R?R.deltaX:I[0]-O[0],B="deltaY"in R?R.deltaY:I[1]-O[1],W,X=R.target,F=Math.abs(T)>Math.abs(B)?"h":"v";if("touches"in R&&F==="h"&&X.type==="range")return!1;var z=Nm(F,X);if(!z)return!0;if(z?W=F:(W=F==="v"?"h":"v",z=Nm(F,X)),!z)return!1;if(!s.current&&"changedTouches"in R&&(T||B)&&(s.current=W),!W)return!0;var j=s.current||W;return ST(j,D,R,j==="h"?T:B,!0)},[]),x=_.useCallback(function(R){var D=R;if(!(!Ts.length||Ts[Ts.length-1]!==c)){var O="deltaY"in D?Tm(D):kl(D),I=t.current.filter(function(W){return W.name===D.type&&(W.target===D.target||D.target===W.shadowParent)&&NT(W.delta,O)})[0];if(I&&I.should){D.cancelable&&D.preventDefault();return}if(!I){var T=(f.current.shards||[]).map(Im).filter(Boolean).filter(function(W){return W.contains(D.target)}),B=T.length>0?g(D,T[0]):!f.current.noIsolation;B&&D.cancelable&&D.preventDefault()}}},[]),m=_.useCallback(function(R,D,O,I){var T={name:R,delta:D,target:O,should:I,shadowParent:kT(O)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(B){return B!==T})},1)},[]),v=_.useCallback(function(R){n.current=kl(R),s.current=void 0},[]),C=_.useCallback(function(R){m(R.type,Tm(R),R.target,g(R,e.lockRef.current))},[]),A=_.useCallback(function(R){m(R.type,kl(R),R.target,g(R,e.lockRef.current))},[]);_.useEffect(function(){return Ts.push(c),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:A}),document.addEventListener("wheel",x,Ns),document.addEventListener("touchmove",x,Ns),document.addEventListener("touchstart",v,Ns),function(){Ts=Ts.filter(function(R){return R!==c}),document.removeEventListener("wheel",x,Ns),document.removeEventListener("touchmove",x,Ns),document.removeEventListener("touchstart",v,Ns)}},[]);var E=e.removeScrollBar,L=e.inert;return _.createElement(_.Fragment,null,L?_.createElement(c,{styles:TT(a)}):null,E?_.createElement(yT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _T=sT(hw,RT);var yw=_.forwardRef(function(e,t){return _.createElement(uu,Nr({},e,{ref:t,sideCar:_T}))});yw.classNames=uu.classNames;const OT=yw;var PT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Is=new WeakMap,_l=new WeakMap,Ol={},Ad=0,ww=function(e){return e&&(e.host||ww(e.parentNode))},DT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=ww(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MT=function(e,t,n,s){var a=DT(t,Array.isArray(e)?e:[e]);Ol[n]||(Ol[n]=new WeakMap);var c=Ol[n],f=[],g=new Set,x=new Set(a),m=function(C){!C||g.has(C)||(g.add(C),m(C.parentNode))};a.forEach(m);var v=function(C){!C||x.has(C)||Array.prototype.forEach.call(C.children,function(A){if(g.has(A))v(A);else try{var E=A.getAttribute(s),L=E!==null&&E!=="false",R=(Is.get(A)||0)+1,D=(c.get(A)||0)+1;Is.set(A,R),c.set(A,D),f.push(A),R===1&&L&&_l.set(A,!0),D===1&&A.setAttribute(n,"true"),L||A.setAttribute(s,"true")}catch(O){console.error("aria-hidden: cannot operate on ",A,O)}})};return v(t),g.clear(),Ad++,function(){f.forEach(function(C){var A=Is.get(C)-1,E=c.get(C)-1;Is.set(C,A),c.set(C,E),A||(_l.has(C)||C.removeAttribute(s),_l.delete(C)),E||C.removeAttribute(n)}),Ad--,Ad||(Is=new WeakMap,Is=new WeakMap,_l=new WeakMap,Ol={})}},LT=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t||PT(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),MT(s,a,n,"aria-hidden")):function(){return null}};function BT(e){const t=jT(e),n=_.forwardRef((s,a)=>{const{children:c,...f}=s,g=_.Children.toArray(c),x=g.find(VT);if(x){const m=x.props.children,v=g.map(C=>C===x?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:C);return y.jsx(t,{...f,ref:a,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return y.jsx(t,{...f,ref:a,children:c})});return n.displayName=`${e}.Slot`,n}function jT(e){const t=_.forwardRef((n,s)=>{const{children:a,...c}=n;if(_.isValidElement(a)){const f=zT(a),g=UT(c,a.props);return a.type!==_.Fragment&&(g.ref=s?Fa(s,f):f),_.cloneElement(a,g)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FT=Symbol("radix.slottable");function VT(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FT}function UT(e,t){const n={...t};for(const s in t){const a=e[s],c=t[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...g)=>{const x=c(...g);return a(...g),x}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...e,...n}}function zT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var du="Dialog",[vw,CI]=Ha(du),[WT,hr]=vw(du),Cw=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:c,modal:f=!0}=e,g=_.useRef(null),x=_.useRef(null),[m,v]=au({prop:s,defaultProp:a??!1,onChange:c,caller:du});return y.jsx(WT,{scope:t,triggerRef:g,contentRef:x,contentId:fa(),titleId:fa(),descriptionId:fa(),open:m,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(C=>!C),[v]),modal:f,children:n})};Cw.displayName=du;var bw="DialogTrigger",HT=_.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=hr(bw,n),c=er(t,a.triggerRef);return y.jsx(Jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gh(a.open),...s,ref:c,onClick:Ht(e.onClick,a.onOpenToggle)})});HT.displayName=bw;var fh="DialogPortal",[GT,Ew]=vw(fh,{forceMount:void 0}),Aw=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,c=hr(fh,t);return y.jsx(GT,{scope:t,forceMount:n,children:_.Children.map(s,f=>y.jsx(Xa,{present:n||c.open,children:y.jsx(uw,{asChild:!0,container:a,children:f})}))})};Aw.displayName=fh;var Lc="DialogOverlay",Sw=_.forwardRef((e,t)=>{const n=Ew(Lc,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,c=hr(Lc,e.__scopeDialog);return c.modal?y.jsx(Xa,{present:s||c.open,children:y.jsx(YT,{...a,ref:t})}):null});Sw.displayName=Lc;var XT=BT("DialogOverlay.RemoveScroll"),YT=_.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=hr(Lc,n);return y.jsx(OT,{as:XT,allowPinchZoom:!0,shards:[a.contentRef],children:y.jsx(Jt.div,{"data-state":gh(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ls="DialogContent",Nw=_.forwardRef((e,t)=>{const n=Ew(ls,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,c=hr(ls,e.__scopeDialog);return y.jsx(Xa,{present:s||c.open,children:c.modal?y.jsx(ZT,{...a,ref:t}):y.jsx(KT,{...a,ref:t})})});Nw.displayName=ls;var ZT=_.forwardRef((e,t)=>{const n=hr(ls,e.__scopeDialog),s=_.useRef(null),a=er(t,n.contentRef,s);return _.useEffect(()=>{const c=s.current;if(c)return LT(c)},[]),y.jsx(Tw,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ht(e.onCloseAutoFocus,c=>{c.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ht(e.onPointerDownOutside,c=>{const f=c.detail.originalEvent,g=f.button===0&&f.ctrlKey===!0;(f.button===2||g)&&c.preventDefault()}),onFocusOutside:Ht(e.onFocusOutside,c=>c.preventDefault())})}),KT=_.forwardRef((e,t)=>{const n=hr(ls,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return y.jsx(Tw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(s.current||n.triggerRef.current?.focus(),c.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(s.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const f=c.target;n.triggerRef.current?.contains(f)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}})}),Tw=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:c,...f}=e,g=hr(ls,n),x=_.useRef(null),m=er(t,x);return KN(),y.jsxs(y.Fragment,{children:[y.jsx(lw,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:c,children:y.jsx(ow,{role:"dialog",id:g.contentId,"aria-describedby":g.descriptionId,"aria-labelledby":g.titleId,"data-state":gh(g.open),...f,ref:m,onDismiss:()=>g.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx($T,{titleId:g.titleId}),y.jsx(QT,{contentRef:x,descriptionId:g.descriptionId})]})]})}),hh="DialogTitle",Iw=_.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=hr(hh,n);return y.jsx(Jt.h2,{id:a.titleId,...s,ref:t})});Iw.displayName=hh;var Rw="DialogDescription",kw=_.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=hr(Rw,n);return y.jsx(Jt.p,{id:a.descriptionId,...s,ref:t})});kw.displayName=Rw;var _w="DialogClose",Ow=_.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=hr(_w,n);return y.jsx(Jt.button,{type:"button",...s,ref:t,onClick:Ht(e.onClick,()=>a.onOpenChange(!1))})});Ow.displayName=_w;function gh(e){return e?"open":"closed"}var Pw="DialogTitleWarning",[bI,Dw]=S6(Pw,{contentName:ls,titleName:hh,docsSlug:"dialog"}),$T=({titleId:e})=>{const t=Dw(Pw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qT="DialogDescriptionWarning",QT=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dw(qT).contentName}}.`;return _.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},JT=Cw,eI=Aw,Mw=Sw,Lw=Nw,tI=Iw,nI=kw,rI=Ow;function Rm({...e}){return y.jsx(JT,{"data-slot":"dialog",...e})}function iI({...e}){return y.jsx(eI,{"data-slot":"dialog-portal",...e})}const Bw=_.forwardRef(({className:e,...t},n)=>y.jsx(Mw,{ref:n,"data-slot":"dialog-overlay",className:Gt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Bw.displayName=Mw.displayName;const Vf=_.forwardRef(({className:e,children:t,...n},s)=>y.jsxs(iI,{children:[y.jsx(Bw,{}),y.jsxs(Lw,{ref:s,"data-slot":"dialog-content",className:Gt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,y.jsxs(rI,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[y.jsx(bo,{}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vf.displayName=Lw.displayName;function km({className:e,...t}){return y.jsx("div",{"data-slot":"dialog-header",className:Gt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function sI({className:e,...t}){return y.jsx("div",{"data-slot":"dialog-footer",className:Gt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function _m({className:e,...t}){return y.jsx(tI,{"data-slot":"dialog-title",className:Gt("text-lg leading-none font-semibold",e),...t})}function oI({className:e,...t}){return y.jsx(nI,{"data-slot":"dialog-description",className:Gt("text-muted-foreground text-sm",e),...t})}const aI="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Om(e){const[t,n]=_.useState(!1),s=()=>{n(!0)},{src:a,alt:c,style:f,className:g,...x}=e;return t?y.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${g??""}`,style:f,children:y.jsx("div",{className:"flex items-center justify-center w-full h-full",children:y.jsx("img",{src:aI,alt:"Error loading image",...x,"data-original-url":a})})}):y.jsx("img",{src:a,alt:c,className:g,style:f,...x,onError:s})}function lI({onRedeem:e}){const t=window.location.hostname==="localhost"?"/api":"https://ecopoints.hvd.lat/api",n=localStorage.getItem("usuario_id"),s=localStorage.getItem("token"),[a,c]=_.useState([]),[f,g]=_.useState(!0),[x,m]=_.useState(null),[v,C]=_.useState(!1),[A,E]=_.useState(null),[L,R]=_.useState(0),D=()=>({"Content-Type":"application/json",Authorization:`Bearer ${s}`}),O=j=>{if(!j)return"other";const Q=j.toLowerCase();return Q.includes("bembos")||Q.includes("mcdonald")||Q.includes("burger")||Q.includes("kfc")||Q.includes("pizza")||Q.includes("restaurant")||Q.includes("comida")||Q.includes("hamburguesa")||Q.includes("combo")?"restaurant":Q.includes("caf")||Q.includes("cafe")||Q.includes("starbucks")||Q.includes("coffee")||Q.includes("barista")||Q.includes("tostado")?"cafe":Q.includes("retail")||Q.includes("tienda")||Q.includes("super")||Q.includes("market")||Q.includes("ropa")||Q.includes("zara")||Q.includes("h&m")||Q.includes("moda")||Q.includes("store")?"retail":Q.includes("cine")||Q.includes("movie")||Q.includes("teatro")||Q.includes("entertainment")||Q.includes("diversion")||Q.includes("pelicula")?"entertainment":"other"},I=async()=>{g(!0);try{const j=await fetch(`${t}/listarConvenios`,{headers:D()});if(!j.ok){if(j.status===401){be.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${j.status}`)}const fe=(await j.json()).map(q=>({id:q.id.toString(),name:q.titulo||q.nombre||"Convenio sin ttulo",brand:q.empresa||"Empresa no especificada",description:q.descripcion||"Sin descripcin",points:parseInt(q.puntos_requeridos)||0,category:O(q.empresa),image:q.imagen_url||q.logo_url||"https://images.unsplash.com/photo-1542831371-29b0f74f9d13?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdG9jayUyMG1lYWx8ZW58MXx8fHwxNzYzMTk2NzU5fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",validity:q.vigencia||"30 das",stock:parseInt(q.stock)||0}));c(fe)}catch{be.error("No se pudieron cargar los premios."),c([])}finally{g(!1)}},T=async()=>{if(!(!n||!s))try{const j=await fetch(`${t}/obtenerPuntos?usuario_id=${n}`,{headers:D()});if(!j.ok){if(j.status===401){be.error("Sesin expirada. Inicia sesin nuevamente.");return}throw new Error(`HTTP error! status: ${j.status}`)}const Q=await j.json();R(Q.puntos||0)}catch{R(0)}},B=async j=>{if(!n||!s){be.error("Error: Sesin de usuario no encontrada.");return}m(null);try{const Q=await fetch(`${t}/canjearPuntos`,{method:"POST",headers:D(),body:JSON.stringify({usuario_id:parseInt(n),convenio_id:parseInt(j.id)})}),fe=await Q.json();if(!Q.ok||fe.error)throw fe.error&&fe.error.includes("puntos insuficientes")?new Error("No tienes suficientes puntos para este canje."):fe.error&&fe.error.includes("stock")?new Error("Este premio ya no est disponible."):new Error(fe.error||"Error al procesar el canje.");if(fe.mensaje&&(fe.mensaje.includes("xito")||fe.mensaje.includes("exito")))e(j),E({...j,codigo_entrega:fe.codigo_entrega}),C(!0),fe.puntos_restantes!==void 0?R(fe.puntos_restantes):await T(),await I(),be.success(fe.mensaje||"Canje realizado exitosamente!"),setTimeout(()=>{C(!1),E(null)},15e3);else throw new Error(fe.mensaje||"Error desconocido al procesar el canje.")}catch(Q){be.error(Q.message||"Error de conexin. Intntalo ms tarde.")}};_.useEffect(()=>{I(),n&&s&&T()},[n,s]);const W=j=>{const Q=L||0,fe=j.stock>0;Q>=j.points&&fe?m(j):fe?be.error("No tienes suficientes ecopoints"):be.error("Este premio ya no est disponible.")},X=()=>{x&&B(x)},F=j=>!j||j==="all"?a:a.filter(Q=>Q.category.toLowerCase()===j.toLowerCase()),z=({reward:j})=>{const fe=(L||0)>=j.points,q=j.stock>0,ge=fe&&q;return y.jsxs(et,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:y.jsx(Om,{src:j.image,alt:j.name,className:"w-full h-full object-cover"})}),y.jsx("div",{className:"absolute top-2 left-2",children:q?y.jsxs(Zl,{className:"bg-green-500 text-white flex items-center gap-1",children:[y.jsx(td,{className:"w-3 h-3"}),"Stock: ",j.stock]}):y.jsxs(Zl,{className:"bg-red-500 text-white flex items-center gap-1",children:[y.jsx(td,{className:"w-3 h-3"}),"Sin stock"]})})]}),y.jsxs("div",{className:"p-4 space-y-3",children:[y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center gap-2 mb-1",children:y.jsx("span",{className:"text-gray-500 dark:text-white",children:j.brand})}),y.jsx("h3",{className:"text-gray-900 dark:text-blue-700",children:j.name}),y.jsx("p",{className:"text-gray-500 line-clamp-2",children:j.description})]}),y.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Si,{className:"w-4 h-4 text-emerald-600"}),y.jsx("span",{className:"text-gray-900 dark:text-white",children:j.points}),y.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"pts"})]}),y.jsx(Pe,{size:"sm",onClick:()=>W(j),disabled:!ge,className:ge?"bg-emerald-600 hover:bg-emerald-700":q?"bg-amber-500 hover:bg-amber-600":"bg-gray-400 cursor-not-allowed",children:ge?"Canjear":q?"Insuficiente":"Sin stock"})]}),j.validity&&y.jsxs("p",{className:"text-gray-400",children:["Vlido por ",j.validity]})]})]})};return y.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-gray-900 mb-2 dark:text-white",children:"Premios"}),y.jsx("p",{className:"text-black dark:text-white/80",children:"Canjea tus ecopoints por premios increbles"})]}),y.jsx(et,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-emerald-100 mb-1",children:"Tus ecopoints"}),y.jsxs("div",{className:"flex items-baseline gap-2",children:[y.jsx("span",{className:"text-3xl font-semibold",children:L.toLocaleString()}),y.jsx("span",{className:"text-emerald-100",children:"puntos"})]})]}),y.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:y.jsx(ka,{className:"w-8 h-8"})})]})}),y.jsxs(_N,{defaultValue:"all",className:"w-full",children:[y.jsxs(ON,{className:"w-full grid grid-cols-4",children:[y.jsx(Tl,{value:"all",children:"Todos"}),y.jsx(Tl,{value:"restaurant",children:"Comida"}),y.jsx(Tl,{value:"cafe",children:"Caf"}),y.jsx(Tl,{value:"retail",children:"Retail"})]}),f?y.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"Cargando premios..."}):a.length===0?y.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"No se encontraron premios disponibles."}):y.jsxs(y.Fragment,{children:[y.jsx(Il,{value:"all",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:F("all").map(j=>y.jsx(z,{reward:j},j.id))})}),y.jsx(Il,{value:"restaurant",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:F("restaurant").map(j=>y.jsx(z,{reward:j},j.id))})}),y.jsx(Il,{value:"cafe",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:F("cafe").map(j=>y.jsx(z,{reward:j},j.id))})}),y.jsx(Il,{value:"retail",className:"mt-6",children:y.jsx("div",{className:"grid grid-cols-1 gap-4",children:F("retail").map(j=>y.jsx(z,{reward:j},j.id))})})]})]}),y.jsx(Rm,{open:!!x,onOpenChange:j=>!j&&m(null),children:y.jsxs(Vf,{children:[y.jsxs(km,{children:[y.jsx(_m,{children:"Confirmar canje"}),y.jsx(oI,{children:"Ests seguro de canjear tus ecopoints por este premio?"})]}),x&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg overflow-hidden",children:y.jsx(Om,{src:x.image,alt:x.name,className:"w-full h-full object-cover"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500",children:x.brand}),y.jsx("h3",{className:"text-gray-900",children:x.name}),y.jsx("p",{className:"text-gray-600 mt-2",children:x.description})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[y.jsxs("span",{className:"text-gray-700 flex items-center gap-2",children:[y.jsx(td,{className:"w-4 h-4"}),"Stock disponible:"]}),y.jsx(Zl,{className:x.stock>0?"bg-green-500":"bg-red-500",children:x.stock>0?`${x.stock} unidades`:"Sin stock"})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Costo:"}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Si,{className:"w-5 h-5 text-emerald-600"}),y.jsxs("span",{className:"text-gray-900",children:[x.points," puntos"]})]})]}),y.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-lg",children:[y.jsx("span",{className:"text-gray-700",children:"Tu saldo despus:"}),y.jsxs("span",{className:"text-gray-900",children:[(L||0)-x.points," puntos"]})]})]}),y.jsxs(sI,{children:[y.jsx(Pe,{variant:"outline",onClick:()=>m(null),children:"Cancelar"}),y.jsx(Pe,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:X,disabled:x?.stock===0,children:x?.stock===0?"Sin stock":"Confirmar canje"})]})]})}),y.jsx(Rm,{open:v,onOpenChange:C,children:y.jsxs(Vf,{className:"sm:max-w-md",children:[y.jsx(km,{children:y.jsx(_m,{children:"Canje Exitoso"})}),y.jsxs("div",{className:"text-center space-y-4 py-6",children:[y.jsx(Sn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-emerald-100 rounded-full mx-auto",children:y.jsx(o2,{className:"w-12 h-12 text-emerald-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 mb-2",children:"Canje exitoso!"}),y.jsxs("p",{className:"text-gray-600",children:["Has canjeado ",A?.points," ecopoints"]})]}),A&&y.jsxs(et,{className:"p-4 bg-emerald-50 border border-emerald-200",children:[y.jsxs("p",{className:"text-emerald-900 font-semibold mb-1",children:[A.brand," - ",A.name]}),A.codigo_entrega&&y.jsxs("div",{className:"bg-white p-3 rounded-lg mt-2 shadow-inner border border-gray-100",children:[y.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tu cdigo de canje:"}),y.jsx("p",{className:"text-xl font-mono text-emerald-700 break-words font-bold bg-gray-50 p-2 rounded border",children:A.codigo_entrega}),y.jsx(Pe,{size:"sm",variant:"outline",className:"mt-3 w-full",onClick:()=>{navigator.clipboard.writeText(A.codigo_entrega||""),be.success("Cdigo copiado al portapapeles")},children:" Copiar cdigo"})]}),y.jsx("p",{className:"text-emerald-700 mt-3 text-sm",children:" Presenta este cdigo en el establecimiento para reclamar tu premio"})]}),y.jsx(Pe,{className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:()=>C(!1),children:"Entendido"})]})]})})]})}function cI({currentView:e,onNavigate:t}){const n=[{id:"home",icon:Fb,label:"Inicio"},{id:"scan",icon:Ac,label:"Escanear"},{id:"rewards",icon:ka,label:"Premios"},{id:"profile",icon:U0,label:"Perfil"}];return y.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto",children:y.jsx("div",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg",children:y.jsx("div",{className:"grid grid-cols-4 h-16",children:n.map(s=>{const a=s.icon,c=e===s.id;return y.jsxs("button",{onClick:()=>t(s.id),className:`flex flex-col items-center justify-center gap-1 transition-colors ${c?"text-emerald-600 dark:text-emerald-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[y.jsx(a,{className:`w-6 h-6 ${c?"fill-emerald-100 dark:fill-emerald-900":""}`}),y.jsx("span",{className:"text-xs",children:s.label})]},s.id)})})})})}const uI=_.createContext(void 0),dI={setTheme:e=>{},themes:[]},fI=()=>{var e;return(e=_.useContext(uI))!==null&&e!==void 0?e:dI},hI=({...e})=>{const{theme:t="system"}=fI();return y.jsx(c6,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function gI(e){return"error"in e||e&&typeof e.mensaje=="string"&&!e.token&&!e.usuario}function mI({onLoginSuccess:e}){const[t,n]=_.useState(!0),[s,a]=_.useState({nombre:"",email:"",password:""}),[c,f]=_.useState(!1),[g,x]=_.useState(!1),[m,v]=_.useState(""),[C,A]=_.useState("login"),[E,L]=_.useState({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""}),[R,D]=_.useState(!1),[O,I]=_.useState(!1),[T,B]=_.useState(!1),W="https://ecopoints.hvd.lat/api",X=$=>{const{name:J,value:ee}=$.target;a(re=>({...re,[J]:ee})),v("")},F=$=>{const{name:J,value:ee}=$.target;L(re=>({...re,[J]:ee}))},z=()=>!s.email||!s.password?(be.error("El email y la contrasea son obligatorios"),!1):!t&&!s.nombre?(be.error("El nombre completo es obligatorio"),!1):s.password.length<6?(be.error("La contrasea debe tener al menos 6 caracteres"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?!0:(be.error("Por favor, ingresa un email vlido"),!1),j=$=>{const J=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;switch($){case"request":return E.email?J.test(E.email)?!0:(be.error("Por favor, ingresa un email vlido"),!1):(be.error("El email es obligatorio"),!1);case"verify":return!E.codigo||E.codigo.length!==6?(be.error("El cdigo debe tener 6 dgitos"),!1):!0;case"reset":return!E.nuevaContrasena||!E.confirmarContrasena?(be.error("Ambas contraseas son obligatorias"),!1):E.nuevaContrasena.length<6?(be.error("La contrasea debe tener al menos 6 caracteres"),!1):E.nuevaContrasena!==E.confirmarContrasena?(be.error("Las contraseas no coinciden"),!1):!0;default:return!1}},Q=async()=>{if(j("request")){f(!0);try{const $=await fetch(`${W}/solicitarReset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.email})});if(!$.ok){const ee=await $.text();throw new Error(`Error ${$.status}: ${ee}`)}const J=await $.json();be.success(J.mensaje||"Cdigo enviado a tu email"),D(!0)}catch($){be.error($.message||"Error al enviar el cdigo de verificacin")}finally{f(!1)}}},fe=async()=>{if(j("verify")){f(!0);try{const $=await fetch(`${W}/verificarCodigo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.email,codigo:E.codigo})});if(!$.ok){const ee=await $.text();throw new Error(`Error ${$.status}: ${ee}`)}const J=await $.json();be.success(J.mensaje||"Cdigo verificado correctamente"),L(ee=>({...ee,tokenTemporal:J.token_temporal,usuarioId:J.usuario_id})),A("reset")}catch($){be.error($.message||"Error al verificar el cdigo")}finally{f(!1)}}},q=async()=>{if(j("reset")){f(!0);try{const $=await fetch(`${W}/actualizarContrasena`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token_temporal:E.tokenTemporal,nueva_contrasena:E.nuevaContrasena})});if(!$.ok){const ee=await $.text();throw new Error(`Error ${$.status}: ${ee}`)}const J=await $.json();be.success(J.mensaje||"Contrasea actualizada exitosamente"),A("login"),D(!1),L({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""})}catch($){be.error($.message||"Error al actualizar la contrasea")}finally{f(!1)}}},ge=async $=>{if($.preventDefault(),!z())return;f(!0),v("");const J=t?"logeoUsuario":"registrarUsuario";try{const ee=await fetch(`${W}/${J}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t?{email:s.email,password:s.password}:{nombre:s.nombre,email:s.email,password:s.password})}),re=await ee.json();if(!ee.ok){let he="Error desconocido";if(gI(re))he=re.error||re.mensaje||"Error desconocido";else if(typeof re=="object"&&re!==null){const ve=re;he=ve.mensaje||ve.message||"Error desconocido"}if(he.toLowerCase().includes("incorrect")||he.toLowerCase().includes("invalid")||he.toLowerCase().includes("credenciales")||ee.status===401)v("Correo electrnico o contrasea incorrectos");else throw new Error(he);return}if(t){const he=re;be.success(he.mensaje||"Inicio de sesin exitoso"),localStorage.setItem("usuario_id",he.usuario.id),localStorage.setItem("usuario_nombre",he.usuario.nombre),localStorage.setItem("usuario_correo",he.usuario.correo),localStorage.setItem("token",he.token),e(he.usuario.id,he.token,he.usuario.nombre)}else{const he=re;be.success(he.mensaje||"Registro exitoso. Ahora inicia sesin."),n(!0),a(ve=>({nombre:"",email:ve.email,password:""}))}}catch(ee){ee.message.includes("Failed to fetch")||ee.message.includes("CORS")?be.error("Error de conexin CORS. Contacta al administrador."):m||be.error(ee.message||"Error de conexin con el servidor")}finally{f(!1)}},de=()=>{x(!g)},H=$=>{c||(n($),v(""),$&&a(J=>({...J,nombre:""})))},pe=()=>{A("request"),L($=>({...$,email:s.email})),D(!1)},ae=()=>{A("login"),D(!1),L({email:"",codigo:"",nuevaContrasena:"",confirmarContrasena:"",tokenTemporal:"",usuarioId:""})},se=()=>{switch(C){case"request":return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:ae,disabled:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:y.jsx(Ho,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recuperar contrasea"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Te enviaremos un cdigo de verificacin a tu email"})]})]}),R?y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 dark:bg-emerald-900 rounded-full",children:y.jsx(Bb,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-gray-900 dark:text-white mb-2 text-xl font-semibold",children:"Cdigo enviado!"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Hemos enviado un cdigo de 6 dgitos a:"}),y.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 mt-2 font-medium",children:E.email})]}),y.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:y.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:" Revisa tu bandeja de entrada y busca el cdigo de verificacin."})}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Ya recibiste el cdigo?"}),y.jsxs(Pe,{className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",onClick:()=>A("verify"),type:"button",children:[y.jsx(wf,{className:"w-4 h-4 mr-2"}),"Ingresar cdigo de verificacin"]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recibiste el email?"}),y.jsxs(Pe,{variant:"outline",className:"w-full",onClick:()=>D(!1),disabled:c,type:"button",children:[y.jsx(Us,{className:"w-4 h-4 mr-2"}),"Reenviar cdigo"]})]}),y.jsxs(Pe,{variant:"ghost",className:"w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-950",onClick:ae,disabled:c,type:"button",children:[y.jsx(Ho,{className:"w-4 h-4 mr-2"}),"Volver al inicio de sesin"]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mb-6",children:y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Ingresa tu correo electrnico y te enviaremos un cdigo de 6 dgitos para restablecer tu contrasea."})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"reset-email",className:"text-sm font-medium",children:"Correo electrnico"}),y.jsxs("div",{className:"relative",children:[y.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Er,{id:"reset-email",name:"email",type:"email",placeholder:"tu@email.com",value:E.email,onChange:F,className:"pl-10",required:!0,disabled:c})]})]}),y.jsx(Pe,{onClick:Q,disabled:c,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",type:"button",children:c?y.jsxs(y.Fragment,{children:[y.jsx(vl,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando cdigo..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Us,{className:"w-4 h-4 mr-2"}),"Enviar cdigo de verificacin"]})}),y.jsx("div",{className:"mt-4",children:y.jsxs(Pe,{variant:"ghost",className:"w-full text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-950",onClick:ae,disabled:c,type:"button",children:[y.jsx(Ho,{className:"w-4 h-4 mr-2"}),"Volver al inicio de sesin"]})})]})]});case"verify":return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>A("request"),disabled:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:y.jsx(Ho,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Verificar cdigo"}),y.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Ingresa el cdigo de 6 dgitos que enviamos a ",E.email]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"codigo",className:"text-sm font-medium",children:"Cdigo de verificacin"}),y.jsxs("div",{className:"relative",children:[y.jsx(wf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Er,{id:"codigo",name:"codigo",type:"text",placeholder:"123456",value:E.codigo,onChange:F,className:"pl-10 text-center text-lg font-mono tracking-widest",required:!0,disabled:c,maxLength:6,pattern:"[0-9]{6}"})]})]}),y.jsx(Pe,{onClick:fe,disabled:c,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",type:"button",children:c?y.jsxs(y.Fragment,{children:[y.jsx(vl,{className:"w-4 h-4 mr-2 animate-spin"}),"Verificando..."]}):"Verificar cdigo"})]});case"reset":return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>A("verify"),disabled:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",type:"button",children:y.jsx(Ho,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Nueva contrasea"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Crea una nueva contrasea para tu cuenta"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"nuevaContrasena",className:"text-sm font-medium",children:"Nueva contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Er,{id:"nuevaContrasena",name:"nuevaContrasena",type:O?"text":"password",placeholder:"",value:E.nuevaContrasena,onChange:F,className:"pl-10 pr-10",required:!0,disabled:c,minLength:6}),y.jsx("button",{type:"button",onClick:()=>I(!O),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:O?y.jsx(to,{className:"w-4 h-4"}):y.jsx(no,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"confirmarContrasena",className:"text-sm font-medium",children:"Confirmar contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Er,{id:"confirmarContrasena",name:"confirmarContrasena",type:T?"text":"password",placeholder:"",value:E.confirmarContrasena,onChange:F,className:"pl-10 pr-10",required:!0,disabled:c,minLength:6}),y.jsx("button",{type:"button",onClick:()=>B(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:T?y.jsx(to,{className:"w-4 h-4"}):y.jsx(no,{className:"w-4 h-4"})})]})]}),y.jsx(Pe,{onClick:q,disabled:c,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",type:"button",children:c?y.jsxs(y.Fragment,{children:[y.jsx(vl,{className:"w-4 h-4 mr-2 animate-spin"}),"Actualizando..."]}):"Actualizar contrasea"})]});default:return null}};return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 flex items-center justify-center p-4",children:y.jsxs("div",{className:"max-w-md w-full",children:[y.jsxs(Sn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center mb-8",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-white rounded-full shadow-lg mb-4",children:y.jsx(Si,{className:"w-24 h-24 text-emerald-600"})}),y.jsx("h1",{className:"text-white mb-2 text-4xl font-medium",children:"EcoPoints"}),y.jsx("p",{className:"text-emerald-100 font-medium mb-4",children:"Recicla, gana puntos y cambia el mundo"})]}),y.jsx(Sn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:y.jsx(et,{className:"p-8 shadow-2xl",children:C==="login"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex gap-2 mb-6 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[y.jsx("button",{onClick:()=>H(!0),disabled:c,className:`flex-1 py-2 rounded-md transition-all ${t?"bg-emerald-300 text-emerald-400 dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow font-medium":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"} disabled:opacity-50 disabled:cursor-not-allowed`,type:"button",children:"Iniciar sesin"}),y.jsx("button",{onClick:()=>H(!1),disabled:c,className:`flex-1 py-2 rounded-md transition-all ${t?"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200":"bg-emerald-300 text-emerald-400 dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow font-medium"} disabled:opacity-50 disabled:cursor-not-allowed`,type:"button",children:"Registrarse"})]}),y.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[y.jsx(_y,{mode:"wait",children:!t&&y.jsxs(Sn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"space-y-2 overflow-hidden",children:[y.jsx(Ar,{htmlFor:"nombre",className:"text-sm font-medium",children:"Nombre completo"}),y.jsxs("div",{className:"relative",children:[y.jsx(U0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Er,{id:"nombre",name:"nombre",type:"text",placeholder:"Mara Rodriguez",value:s.nombre,onChange:X,className:"pl-10",required:!t,disabled:c,minLength:2})]})]},"name-field")}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"email",className:"text-sm font-medium",children:"Correo electrnico"}),y.jsxs("div",{className:"relative",children:[y.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Er,{id:"email",name:"email",type:"email",placeholder:"tu@email.com",value:s.email,onChange:X,className:"pl-10",required:!0,disabled:c,autoComplete:"email"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Ar,{htmlFor:"password",className:"text-sm font-medium",children:"Contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx(Gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx(Er,{id:"password",name:"password",type:g?"text":"password",placeholder:"",value:s.password,onChange:X,className:"pl-10 pr-10",required:!0,disabled:c,autoComplete:t?"current-password":"new-password",minLength:6}),y.jsx("button",{type:"button",onClick:de,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:c,children:g?y.jsx(to,{className:"w-4 h-4"}):y.jsx(no,{className:"w-4 h-4"})})]}),y.jsx("p",{className:"text-xs text-gray-500",children:"Mnimo 6 caracteres"})]}),m&&y.jsx(Sn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg dark:bg-red-700 dark:border-red-600",children:y.jsx("p",{className:"text-red-700 text-sm text-center",children:m})}),y.jsx(Pe,{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",children:c?y.jsxs(y.Fragment,{children:[y.jsx(vl,{className:"w-4 h-4 mr-2 animate-spin"}),t?"Iniciando sesin...":"Registrando..."]}):t?"Iniciar sesin":"Crear cuenta"})]}),t&&y.jsx("div",{className:"mt-4 text-center",children:y.jsx("button",{type:"button",onClick:pe,className:"text-emerald-600 hover:text-emerald-700 hover:underline transition-colors text-sm",disabled:c,children:"Olvidaste tu contrasea?"})}),y.jsx("div",{className:"mt-6 p-4 bg-emerald-50 dark:bg-emerald-950 rounded-lg border border-emerald-200 dark:border-emerald-800",children:y.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 text-center text-sm",children:[" nete a nuestra comunidad de"," ",y.jsx("span",{className:"font-semibold",children:t?"recicladores":"ms de 1,000 usuarios"})," ","comprometidos con el planeta"]})})]}):se()})}),y.jsx(Sn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mt-6 text-emerald-100",children:y.jsx("p",{className:"text-sm",children:"Al continuar, aceptas nuestros trminos y condiciones"})})]})})}const oi=vo("PushNotifications",{}),pI=()=>(_.useEffect(()=>((async()=>{let t=await oi.checkPermissions();if(t.receive==="prompt"&&(t=await oi.requestPermissions()),t.receive!=="granted"){alert("El permiso para notificaciones no fue concedido.");return}await oi.register(),oi.addListener("registration",n=>{console.info("Dispositivo registrado para notificaciones. TOKEN:",n.value)}),oi.addListener("registrationError",n=>{console.error("Error en el registro de notificaciones:",n)}),oi.addListener("pushNotificationReceived",n=>{console.log("Notificacin recibida en primer plano:",n),alert(`Nuevo Convenio: ${n.title}
${n.body}`)}),oi.addListener("pushNotificationActionPerformed",n=>{console.log("Accin de notificacin realizada:",n);const s=n.notification.data;s.detailsId&&console.log(`Redirigir a la pgina del convenio: ${s.detailsId}`)})})(),()=>{oi.removeAllListeners()}),[]),null);function xI(){const[e,t]=_.useState(!1),[n,s]=_.useState(!0),[a,c]=_.useState("home"),[f,g]=_.useState(0),[x,m]=_.useState("light");_.useEffect(()=>{(async()=>{try{typeof As<"u"&&(await As.setOverlaysWebView({overlay:!1}),x==="light"?(await As.setStyle({style:bc.Dark}),await As.setBackgroundColor({color:"#c6d4cc"})):(await As.setStyle({style:bc.Light}),await As.setBackgroundColor({color:"#121f2f"})))}catch{console.log("StatusBar not available in web environment")}})()},[x]),_.useEffect(()=>{(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?m("dark"):m("light")})();const D=window.matchMedia("(prefers-color-scheme: dark)"),O=I=>{m(I.matches?"dark":"light")};return D.addEventListener("change",O),()=>D.removeEventListener("change",O)},[]),_.useEffect(()=>{if(x==="dark"){document.documentElement.classList.add("dark");const R=document.querySelector('meta[name="theme-color"]');R&&R.setAttribute("content","#121f2f")}else{document.documentElement.classList.remove("dark");const R=document.querySelector('meta[name="theme-color"]');R&&R.setAttribute("content","#c6d4cc")}},[x]);const v=()=>{m(R=>R==="light"?"dark":"light")};_.useEffect(()=>{localStorage.getItem("usuario_id")&&t(!0),s(!1)},[]);const C=()=>{localStorage.removeItem("usuario_id"),t(!1)},A=R=>{g(D=>D-R.points)},E=R=>{g(D=>D+R.points)},L=()=>{switch(a){case"home":return y.jsx(Jg,{onNavigateToRewards:()=>c("rewards")});case"scan":return y.jsx(p6,{onScanSuccess:E});case"history":return y.jsx(x6,{});case"profile":return y.jsx(eN,{onLogout:C,theme:x,onToggleTheme:v});case"rewards":return y.jsx(lI,{balance:f,onRedeem:A});default:return y.jsx(Jg,{onNavigateToRewards:()=>c("rewards")})}};return n?y.jsx("div",{className:"flex items-center justify-center h-screen text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-900 safe-area-inset-top safe-area-inset-bottom",children:"Cargando..."}):e?y.jsxs(y.Fragment,{children:[y.jsx("style",{children:`
          /* Reset seguro para altura completa */
          html, body, #root {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
          }
          
          /* Contenedor principal que respeta safe areas */
          .app-main-container {
            height: 100vh;
            height: 100dvh; /* Altura dinmica para mviles */
            
            flex-direction: column;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
          }
          
          /* Contenido scrollable que ocupa el espacio disponible */
          .scrollable-container {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE/Edge */
          }
          
          .scrollable-container::-webkit-scrollbar {
            display: none; /* Chrome/Safari */
          }
          
          /* Navigation bar fija que respeta safe area inferior */
          .nav-container {
            padding-bottom: env(safe-area-inset-bottom);
            background: inherit;
          }
          
          /* Asegurar que el contenido no se esconda bajo notch */
          .safe-top {
            padding-top: env(safe-area-inset-top);
          }
          
          .safe-bottom {
            padding-bottom: env(safe-area-inset-bottom);
          }
        `}),y.jsxs("div",{className:"app-main-container bg-gradient-to-b from-emerald-50 dark:from-gray-900 dark:to-gray-800",children:[y.jsx(pI,{}),y.jsxs("div",{className:"max-w-md mx-auto h-full flex flex-col shadow-xl dark:shadow-gray-900 bg-white dark:bg-gray-900 relative",children:[y.jsx("div",{className:"scrollable-container safe-top",children:L()}),y.jsx("div",{className:"nav-container bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:y.jsx(cI,{currentView:a,onNavigate:c})})]}),y.jsx(hI,{})]})]}):y.jsx(mI,{onLoginSuccess:R=>{localStorage.setItem("usuario_id",R),t(!0)}})}Yx(document.getElementById("root")).render(y.jsx(xI,{}));export{j0 as W};
