function Ag(r,i){for(var a=0;a<i.length;a++){const f=i[a];if(typeof f!="string"&&!Array.isArray(f)){for(const m in f)if(m!=="default"&&!(m in r)){const p=Object.getOwnPropertyDescriptor(f,m);p&&Object.defineProperty(r,m,p.get?p:{enumerable:!0,get:()=>f[m]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))f(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&f(y)}).observe(document,{childList:!0,subtree:!0});function a(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function f(m){if(m.ep)return;m.ep=!0;const p=a(m);fetch(m.href,p)}})();var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cd={exports:{}},Ma={},Ed={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function Ny(){if(m1)return ht;m1=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function D(K){return K===null||typeof K!="object"?null:(K=S&&K[S]||K["@@iterator"],typeof K=="function"?K:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,F={};function W(K,de,Ee){this.props=K,this.context=de,this.refs=F,this.updater=Ee||L}W.prototype.isReactComponent={},W.prototype.setState=function(K,de){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,de,"setState")},W.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function V(){}V.prototype=W.prototype;function ee(K,de,Ee){this.props=K,this.context=de,this.refs=F,this.updater=Ee||L}var X=ee.prototype=new V;X.constructor=ee,z(X,W.prototype),X.isPureReactComponent=!0;var ne=Array.isArray,fe=Object.prototype.hasOwnProperty,ue={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function Q(K,de,Ee){var Te,Ve={},Ce=null,Ye=null;if(de!=null)for(Te in de.ref!==void 0&&(Ye=de.ref),de.key!==void 0&&(Ce=""+de.key),de)fe.call(de,Te)&&!Z.hasOwnProperty(Te)&&(Ve[Te]=de[Te]);var De=arguments.length-2;if(De===1)Ve.children=Ee;else if(1<De){for(var ot=Array(De),kt=0;kt<De;kt++)ot[kt]=arguments[kt+2];Ve.children=ot}if(K&&K.defaultProps)for(Te in De=K.defaultProps,De)Ve[Te]===void 0&&(Ve[Te]=De[Te]);return{$$typeof:r,type:K,key:Ce,ref:Ye,props:Ve,_owner:ue.current}}function le(K,de){return{$$typeof:r,type:K.type,key:de,ref:K.ref,props:K.props,_owner:K._owner}}function ge(K){return typeof K=="object"&&K!==null&&K.$$typeof===r}function me(K){var de={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Ee){return de[Ee]})}var ce=/\/+/g;function xe(K,de){return typeof K=="object"&&K!==null&&K.key!=null?me(""+K.key):de.toString(36)}function je(K,de,Ee,Te,Ve){var Ce=typeof K;(Ce==="undefined"||Ce==="boolean")&&(K=null);var Ye=!1;if(K===null)Ye=!0;else switch(Ce){case"string":case"number":Ye=!0;break;case"object":switch(K.$$typeof){case r:case i:Ye=!0}}if(Ye)return Ye=K,Ve=Ve(Ye),K=Te===""?"."+xe(Ye,0):Te,ne(Ve)?(Ee="",K!=null&&(Ee=K.replace(ce,"$&/")+"/"),je(Ve,de,Ee,"",function(kt){return kt})):Ve!=null&&(ge(Ve)&&(Ve=le(Ve,Ee+(!Ve.key||Ye&&Ye.key===Ve.key?"":(""+Ve.key).replace(ce,"$&/")+"/")+K)),de.push(Ve)),1;if(Ye=0,Te=Te===""?".":Te+":",ne(K))for(var De=0;De<K.length;De++){Ce=K[De];var ot=Te+xe(Ce,De);Ye+=je(Ce,de,Ee,ot,Ve)}else if(ot=D(K),typeof ot=="function")for(K=ot.call(K),De=0;!(Ce=K.next()).done;)Ce=Ce.value,ot=Te+xe(Ce,De++),Ye+=je(Ce,de,Ee,ot,Ve);else if(Ce==="object")throw de=String(K),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return Ye}function te(K,de,Ee){if(K==null)return K;var Te=[],Ve=0;return je(K,Te,"","",function(Ce){return de.call(Ee,Ce,Ve++)}),Te}function _e(K){if(K._status===-1){var de=K._result;de=de(),de.then(function(Ee){(K._status===0||K._status===-1)&&(K._status=1,K._result=Ee)},function(Ee){(K._status===0||K._status===-1)&&(K._status=2,K._result=Ee)}),K._status===-1&&(K._status=0,K._result=de)}if(K._status===1)return K._result.default;throw K._result}var pe={current:null},ie={transition:null},Oe={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ue};function be(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:te,forEach:function(K,de,Ee){te(K,function(){de.apply(this,arguments)},Ee)},count:function(K){var de=0;return te(K,function(){de++}),de},toArray:function(K){return te(K,function(de){return de})||[]},only:function(K){if(!ge(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},ht.Component=W,ht.Fragment=a,ht.Profiler=m,ht.PureComponent=ee,ht.StrictMode=f,ht.Suspense=N,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,ht.act=be,ht.cloneElement=function(K,de,Ee){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Te=z({},K.props),Ve=K.key,Ce=K.ref,Ye=K._owner;if(de!=null){if(de.ref!==void 0&&(Ce=de.ref,Ye=ue.current),de.key!==void 0&&(Ve=""+de.key),K.type&&K.type.defaultProps)var De=K.type.defaultProps;for(ot in de)fe.call(de,ot)&&!Z.hasOwnProperty(ot)&&(Te[ot]=de[ot]===void 0&&De!==void 0?De[ot]:de[ot])}var ot=arguments.length-2;if(ot===1)Te.children=Ee;else if(1<ot){De=Array(ot);for(var kt=0;kt<ot;kt++)De[kt]=arguments[kt+2];Te.children=De}return{$$typeof:r,type:K.type,key:Ve,ref:Ce,props:Te,_owner:Ye}},ht.createContext=function(K){return K={$$typeof:y,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:p,_context:K},K.Consumer=K},ht.createElement=Q,ht.createFactory=function(K){var de=Q.bind(null,K);return de.type=K,de},ht.createRef=function(){return{current:null}},ht.forwardRef=function(K){return{$$typeof:b,render:K}},ht.isValidElement=ge,ht.lazy=function(K){return{$$typeof:T,_payload:{_status:-1,_result:K},_init:_e}},ht.memo=function(K,de){return{$$typeof:E,type:K,compare:de===void 0?null:de}},ht.startTransition=function(K){var de=ie.transition;ie.transition={};try{K()}finally{ie.transition=de}},ht.unstable_act=be,ht.useCallback=function(K,de){return pe.current.useCallback(K,de)},ht.useContext=function(K){return pe.current.useContext(K)},ht.useDebugValue=function(){},ht.useDeferredValue=function(K){return pe.current.useDeferredValue(K)},ht.useEffect=function(K,de){return pe.current.useEffect(K,de)},ht.useId=function(){return pe.current.useId()},ht.useImperativeHandle=function(K,de,Ee){return pe.current.useImperativeHandle(K,de,Ee)},ht.useInsertionEffect=function(K,de){return pe.current.useInsertionEffect(K,de)},ht.useLayoutEffect=function(K,de){return pe.current.useLayoutEffect(K,de)},ht.useMemo=function(K,de){return pe.current.useMemo(K,de)},ht.useReducer=function(K,de,Ee){return pe.current.useReducer(K,de,Ee)},ht.useRef=function(K){return pe.current.useRef(K)},ht.useState=function(K){return pe.current.useState(K)},ht.useSyncExternalStore=function(K,de,Ee){return pe.current.useSyncExternalStore(K,de,Ee)},ht.useTransition=function(){return pe.current.useTransition()},ht.version="18.3.1",ht}var g1;function Df(){return g1||(g1=1,Ed.exports=Ny()),Ed.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function Ty(){if(p1)return Ma;p1=1;var r=Df(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,m=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function y(b,N,E){var T,S={},D=null,L=null;E!==void 0&&(D=""+E),N.key!==void 0&&(D=""+N.key),N.ref!==void 0&&(L=N.ref);for(T in N)f.call(N,T)&&!p.hasOwnProperty(T)&&(S[T]=N[T]);if(b&&b.defaultProps)for(T in N=b.defaultProps,N)S[T]===void 0&&(S[T]=N[T]);return{$$typeof:i,type:b,key:D,ref:L,props:S,_owner:m.current}}return Ma.Fragment=a,Ma.jsx=y,Ma.jsxs=y,Ma}var x1;function Iy(){return x1||(x1=1,Cd.exports=Ty()),Cd.exports}var C=Iy(),mc={},bd={exports:{}},Cr={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function Ry(){return y1||(y1=1,(function(r){function i(ie,Oe){var be=ie.length;ie.push(Oe);e:for(;0<be;){var K=be-1>>>1,de=ie[K];if(0<m(de,Oe))ie[K]=Oe,ie[be]=de,be=K;else break e}}function a(ie){return ie.length===0?null:ie[0]}function f(ie){if(ie.length===0)return null;var Oe=ie[0],be=ie.pop();if(be!==Oe){ie[0]=be;e:for(var K=0,de=ie.length,Ee=de>>>1;K<Ee;){var Te=2*(K+1)-1,Ve=ie[Te],Ce=Te+1,Ye=ie[Ce];if(0>m(Ve,be))Ce<de&&0>m(Ye,Ve)?(ie[K]=Ye,ie[Ce]=be,K=Ce):(ie[K]=Ve,ie[Te]=be,K=Te);else if(Ce<de&&0>m(Ye,be))ie[K]=Ye,ie[Ce]=be,K=Ce;else break e}}return Oe}function m(ie,Oe){var be=ie.sortIndex-Oe.sortIndex;return be!==0?be:ie.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var y=Date,b=y.now();r.unstable_now=function(){return y.now()-b}}var N=[],E=[],T=1,S=null,D=3,L=!1,z=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(ie){for(var Oe=a(E);Oe!==null;){if(Oe.callback===null)f(E);else if(Oe.startTime<=ie)f(E),Oe.sortIndex=Oe.expirationTime,i(N,Oe);else break;Oe=a(E)}}function ne(ie){if(F=!1,X(ie),!z)if(a(N)!==null)z=!0,_e(fe);else{var Oe=a(E);Oe!==null&&pe(ne,Oe.startTime-ie)}}function fe(ie,Oe){z=!1,F&&(F=!1,V(Q),Q=-1),L=!0;var be=D;try{for(X(Oe),S=a(N);S!==null&&(!(S.expirationTime>Oe)||ie&&!me());){var K=S.callback;if(typeof K=="function"){S.callback=null,D=S.priorityLevel;var de=K(S.expirationTime<=Oe);Oe=r.unstable_now(),typeof de=="function"?S.callback=de:S===a(N)&&f(N),X(Oe)}else f(N);S=a(N)}if(S!==null)var Ee=!0;else{var Te=a(E);Te!==null&&pe(ne,Te.startTime-Oe),Ee=!1}return Ee}finally{S=null,D=be,L=!1}}var ue=!1,Z=null,Q=-1,le=5,ge=-1;function me(){return!(r.unstable_now()-ge<le)}function ce(){if(Z!==null){var ie=r.unstable_now();ge=ie;var Oe=!0;try{Oe=Z(!0,ie)}finally{Oe?xe():(ue=!1,Z=null)}}else ue=!1}var xe;if(typeof ee=="function")xe=function(){ee(ce)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,te=je.port2;je.port1.onmessage=ce,xe=function(){te.postMessage(null)}}else xe=function(){W(ce,0)};function _e(ie){Z=ie,ue||(ue=!0,xe())}function pe(ie,Oe){Q=W(function(){ie(r.unstable_now())},Oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){z||L||(z=!0,_e(fe))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return a(N)},r.unstable_next=function(ie){switch(D){case 1:case 2:case 3:var Oe=3;break;default:Oe=D}var be=D;D=Oe;try{return ie()}finally{D=be}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,Oe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var be=D;D=ie;try{return Oe()}finally{D=be}},r.unstable_scheduleCallback=function(ie,Oe,be){var K=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?K+be:K):be=K,ie){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=be+de,ie={id:T++,callback:Oe,priorityLevel:ie,startTime:be,expirationTime:de,sortIndex:-1},be>K?(ie.sortIndex=be,i(E,ie),a(N)===null&&ie===a(E)&&(F?(V(Q),Q=-1):F=!0,pe(ne,be-K))):(ie.sortIndex=de,i(N,ie),z||L||(z=!0,_e(fe))),ie},r.unstable_shouldYield=me,r.unstable_wrapCallback=function(ie){var Oe=D;return function(){var be=D;D=Oe;try{return ie.apply(this,arguments)}finally{D=be}}}})(Sd)),Sd}var w1;function ky(){return w1||(w1=1,Ad.exports=Ry()),Ad.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function _y(){if(v1)return Cr;v1=1;var r=Df(),i=ky();function a(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,m={};function p(t,o){y(t,o),y(t+"Capture",o)}function y(t,o){for(m[t]=o,t=0;t<o.length;t++)f.add(o[t])}var b=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},S={};function D(t){return N.call(S,t)?!0:N.call(T,t)?!1:E.test(t)?S[t]=!0:(T[t]=!0,!1)}function L(t,o,d,g){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z(t,o,d,g){if(o===null||typeof o>"u"||L(t,o,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function F(t,o,d,g,v,A,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=t,this.type=o,this.sanitizeURL=A,this.removeEmptyString=_}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){W[t]=new F(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];W[o]=new F(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){W[t]=new F(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){W[t]=new F(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){W[t]=new F(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){W[t]=new F(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){W[t]=new F(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){W[t]=new F(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){W[t]=new F(t,5,!1,t.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function ee(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(V,ee);W[o]=new F(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(V,ee);W[o]=new F(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(V,ee);W[o]=new F(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){W[t]=new F(t,1,!1,t.toLowerCase(),null,!1,!1)}),W.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){W[t]=new F(t,1,!1,t.toLowerCase(),null,!0,!0)});function X(t,o,d,g){var v=W.hasOwnProperty(o)?W[o]:null;(v!==null?v.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(z(o,d,v,g)&&(d=null),g||v===null?D(o)&&(d===null?t.removeAttribute(o):t.setAttribute(o,""+d)):v.mustUseProperty?t[v.propertyName]=d===null?v.type===3?!1:"":d:(o=v.attributeName,g=v.attributeNamespace,d===null?t.removeAttribute(o):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,g?t.setAttributeNS(g,o,d):t.setAttribute(o,d))))}var ne=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),ue=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),me=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Oe(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,K;function de(t){if(K===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);K=o&&o[1]||""}return`
`+K+t}var Ee=!1;function Te(t,o){if(!t||Ee)return"";Ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ae){var g=ae}Reflect.construct(t,[],o)}else{try{o.call()}catch(ae){g=ae}t.call(o.prototype)}else{try{throw Error()}catch(ae){g=ae}t()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var v=ae.stack.split(`
`),A=g.stack.split(`
`),_=v.length-1,j=A.length-1;1<=_&&0<=j&&v[_]!==A[j];)j--;for(;1<=_&&0<=j;_--,j--)if(v[_]!==A[j]){if(_!==1||j!==1)do if(_--,j--,0>j||v[_]!==A[j]){var H=`
`+v[_].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=_&&0<=j);break}}}finally{Ee=!1,Error.prepareStackTrace=d}return(t=t?t.displayName||t.name:"")?de(t):""}function Ve(t){switch(t.tag){case 5:return de(t.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ue:return"Portal";case le:return"Profiler";case Q:return"StrictMode";case xe:return"Suspense";case je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case me:return(t.displayName||"Context")+".Consumer";case ge:return(t._context.displayName||"Context")+".Provider";case ce:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return o=t.displayName||null,o!==null?o:Ce(t.type)||"Memo";case _e:o=t._payload,t=t._init;try{return Ce(t(o))}catch{}}return null}function Ye(t){var o=t.type;switch(t.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=o.render,t=t.displayName||t.name||"",o.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(o);case 8:return o===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ot(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kt(t){var o=ot(t)?"checked":"value",d=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),g=""+t[o];if(!t.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,A=d.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return v.call(this)},set:function(_){g=""+_,A.call(this,_)}}),Object.defineProperty(t,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(_){g=""+_},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function Dt(t){t._valueTracker||(t._valueTracker=kt(t))}function En(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return t&&(g=ot(t)?t.checked?"true":"false":t.value),t=g,t!==d?(o.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hr(t,o){var d=o.checked;return be({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??t._wrapperState.initialChecked})}function ir(t,o){var d=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;d=De(o.value!=null?o.value:d),t._wrapperState={initialChecked:g,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ei(t,o){o=o.checked,o!=null&&X(t,"checked",o,!1)}function Bt(t,o){ei(t,o);var d=De(o.value),g=o.type;if(d!=null)g==="number"?(d===0&&t.value===""||t.value!=d)&&(t.value=""+d):t.value!==""+d&&(t.value=""+d);else if(g==="submit"||g==="reset"){t.removeAttribute("value");return}o.hasOwnProperty("value")?et(t,o.type,d):o.hasOwnProperty("defaultValue")&&et(t,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(t.defaultChecked=!!o.defaultChecked)}function St(t,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+t._wrapperState.initialValue,d||o===t.value||(t.value=o),t.defaultValue=o}d=t.name,d!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,d!==""&&(t.name=d)}function et(t,o,d){(o!=="number"||ft(t.ownerDocument)!==t)&&(d==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+d&&(t.defaultValue=""+d))}var Br=Array.isArray;function Pe(t,o,d,g){if(t=t.options,o){o={};for(var v=0;v<d.length;v++)o["$"+d[v]]=!0;for(d=0;d<t.length;d++)v=o.hasOwnProperty("$"+t[d].value),t[d].selected!==v&&(t[d].selected=v),v&&g&&(t[d].defaultSelected=!0)}else{for(d=""+De(d),o=null,v=0;v<t.length;v++){if(t[v].value===d){t[v].selected=!0,g&&(t[v].defaultSelected=!0);return}o!==null||t[v].disabled||(o=t[v])}o!==null&&(o.selected=!0)}}function an(t,o){if(o.dangerouslySetInnerHTML!=null)throw Error(a(91));return be({},o,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fr(t,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(a(92));if(Br(d)){if(1<d.length)throw Error(a(93));d=d[0]}o=d}o==null&&(o=""),d=o}t._wrapperState={initialValue:De(d)}}function mr(t,o){var d=De(o.value),g=De(o.defaultValue);d!=null&&(d=""+d,d!==t.value&&(t.value=d),o.defaultValue==null&&t.defaultValue!==d&&(t.defaultValue=d)),g!=null&&(t.defaultValue=""+g)}function Wi(t){var o=t.textContent;o===t._wrapperState.initialValue&&o!==""&&o!==null&&(t.value=o)}function bn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hi(t,o){return t==null||t==="http://www.w3.org/1999/xhtml"?bn(o):t==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kn,ln=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,g,v){MSApp.execUnsafeLocalFunction(function(){return t(o,d,g,v)})}:t})(function(t,o){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=o;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Kn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;o.firstChild;)t.appendChild(o.firstChild)}});function sr(t,o){if(o){var d=t.firstChild;if(d&&d===t.lastChild&&d.nodeType===3){d.nodeValue=o;return}}t.textContent=o}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(t){fi.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),Ar[o]=Ar[t]})});function Ht(t,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||Ar.hasOwnProperty(t)&&Ar[t]?(""+o).trim():o+"px"}function ke(t,o){t=t.style;for(var d in o)if(o.hasOwnProperty(d)){var g=d.indexOf("--")===0,v=Ht(d,o[d],g);d==="float"&&(d="cssFloat"),g?t.setProperty(d,v):t[d]=v}}var qt=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(t,o){if(o){if(qt[t]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(a(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(a(61))}if(o.style!=null&&typeof o.style!="object")throw Error(a(62))}}function Mt(t,o){if(t.indexOf("-")===-1)return typeof o.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,ct=null,Vn=null;function Xi(t){if(t=wa(t)){if(typeof Gi!="function")throw Error(a(280));var o=t.stateNode;o&&(o=Il(o),Gi(t.stateNode,t.type,o))}}function tt(t){ct?Vn?Vn.push(t):Vn=[t]:ct=t}function vt(){if(ct){var t=ct,o=Vn;if(Vn=ct=null,Xi(t),o)for(t=0;t<o.length;t++)Xi(o[t])}}function en(t,o){return t(o)}function Ct(){}var or=!1;function Gt(t,o,d){if(or)return t(o,d);or=!0;try{return en(t,o,d)}finally{or=!1,(ct!==null||Vn!==null)&&(Ct(),vt())}}function _t(t,o){var d=t.stateNode;if(d===null)return null;var g=Il(d);if(g===null)return null;d=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break e;default:t=!1}if(t)return null;if(d&&typeof d!="function")throw Error(a(231,o,typeof d));return d}var hi=!1;if(b)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{hi=!1}function Un(t,o,d,g,v,A,_,j,H){var ae=Array.prototype.slice.call(arguments,3);try{o.apply(d,ae)}catch(ve){this.onError(ve)}}var tn=!1,wn=null,On=!1,Me=null,Yi={onError:function(t){tn=!0,wn=t}};function $o(t,o,d,g,v,A,_,j,H){tn=!1,wn=null,Un.apply(Yi,arguments)}function qn(t,o,d,g,v,A,_,j,H){if($o.apply(this,arguments),tn){if(tn){var ae=wn;tn=!1,wn=null}else throw Error(a(198));On||(On=!0,Me=ae)}}function gr(t){var o=t,d=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(d=o.return),t=o.return;while(t)}return o.tag===3?d:null}function Ss(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function Ns(t){if(gr(t)!==t)throw Error(a(188))}function jr(t){var o=t.alternate;if(!o){if(o=gr(t),o===null)throw Error(a(188));return o!==t?null:t}for(var d=t,g=o;;){var v=d.return;if(v===null)break;var A=v.alternate;if(A===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===d)return Ns(v),t;if(A===g)return Ns(v),o;A=A.sibling}throw Error(a(188))}if(d.return!==g.return)d=v,g=A;else{for(var _=!1,j=v.child;j;){if(j===d){_=!0,d=v,g=A;break}if(j===g){_=!0,g=v,d=A;break}j=j.sibling}if(!_){for(j=A.child;j;){if(j===d){_=!0,d=A,g=v;break}if(j===g){_=!0,g=A,d=v;break}j=j.sibling}if(!_)throw Error(a(189))}}if(d.alternate!==g)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?t:o}function al(t){return t=jr(t),t!==null?ll(t):null}function ll(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var o=ll(t);if(o!==null)return o;t=t.sibling}return null}var Nr=i.unstable_scheduleCallback,Dn=i.unstable_cancelCallback,Vt=i.unstable_shouldYield,cl=i.unstable_requestPaint,It=i.unstable_now,Jo=i.unstable_getCurrentPriorityLevel,he=i.unstable_ImmediatePriority,ul=i.unstable_UserBlockingPriority,Ft=i.unstable_NormalPriority,Ki=i.unstable_LowPriority,dl=i.unstable_IdlePriority,xt=null,at=null;function mt(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(xt,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:mn,ea=Math.log,ta=Math.LN2;function mn(t){return t>>>=0,t===0?32:31-(ea(t)/ta|0)|0}var Tr=64,no=4194304;function jt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ir(t,o){var d=t.pendingLanes;if(d===0)return 0;var g=0,v=t.suspendedLanes,A=t.pingedLanes,_=d&268435455;if(_!==0){var j=_&~v;j!==0?g=jt(j):(A&=_,A!==0&&(g=jt(A)))}else _=d&~v,_!==0?g=jt(_):A!==0&&(g=jt(A));if(g===0)return 0;if(o!==0&&o!==g&&(o&v)===0&&(v=g&-g,A=o&-o,v>=A||v===16&&(A&4194240)!==0))return o;if((g&4)!==0&&(g|=d&16),o=t.entangledLanes,o!==0)for(t=t.entanglements,o&=g;0<o;)d=31-ar(o),v=1<<d,g|=t[d],o&=~v;return g}function tu(t,o){switch(t){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(t,o){for(var d=t.suspendedLanes,g=t.pingedLanes,v=t.expirationTimes,A=t.pendingLanes;0<A;){var _=31-ar(A),j=1<<_,H=v[_];H===-1?((j&d)===0||(j&g)!==0)&&(v[_]=tu(j,o)):H<=o&&(t.expiredLanes|=j),A&=~j}}function Rt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function An(){var t=Tr;return Tr<<=1,(Tr&4194240)===0&&(Tr=64),t}function $(t){for(var o=[],d=0;31>d;d++)o.push(t);return o}function M(t,o,d){t.pendingLanes|=o,o!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,o=31-ar(o),t[o]=d}function Xe(t,o){var d=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;var g=t.eventTimes;for(t=t.expirationTimes;0<d;){var v=31-ar(d),A=1<<v;o[v]=0,g[v]=-1,t[v]=-1,d&=~A}}function cn(t,o){var d=t.entangledLanes|=o;for(t=t.entanglements;d;){var g=31-ar(d),v=1<<g;v&o|t[g]&o&&(t[g]|=o),d&=~v}}var lt=0;function fl(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ro,Qn,Ke,Ut,na,ra=!1,qi=[],Rr=null,Vr=null,mi=null,Qt=new Map,ti=new Map,zn=[],$e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hl(t,o){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Qt.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(o.pointerId)}}function rt(t,o,d,g,v,A){return t===null||t.nativeEvent!==A?(t={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:A,targetContainers:[v]},o!==null&&(o=wa(o),o!==null&&Qn(o)),t):(t.eventSystemFlags|=g,o=t.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),t)}function Sn(t,o,d,g,v){switch(o){case"focusin":return Rr=rt(Rr,t,o,d,g,v),!0;case"dragenter":return Vr=rt(Vr,t,o,d,g,v),!0;case"mouseover":return mi=rt(mi,t,o,d,g,v),!0;case"pointerover":var A=v.pointerId;return Qt.set(A,rt(Qt.get(A)||null,t,o,d,g,v)),!0;case"gotpointercapture":return A=v.pointerId,ti.set(A,rt(ti.get(A)||null,t,o,d,g,v)),!0}return!1}function ml(t){var o=Ls(t.target);if(o!==null){var d=gr(o);if(d!==null){if(o=d.tag,o===13){if(o=Ss(d),o!==null){t.blockedOn=o,na(t.priority,function(){Ke(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){t.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qi(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var d=io(t.domEventName,t.eventSystemFlags,o[0],t.nativeEvent);if(d===null){d=t.nativeEvent;var g=new d.constructor(d.type,d);Sr=g,d.target.dispatchEvent(g),Sr=null}else return o=wa(d),o!==null&&Qn(o),t.blockedOn=d,!1;o.shift()}return!0}function ia(t,o,d){Qi(t)&&d.delete(o)}function Si(){ra=!1,Rr!==null&&Qi(Rr)&&(Rr=null),Vr!==null&&Qi(Vr)&&(Vr=null),mi!==null&&Qi(mi)&&(mi=null),Qt.forEach(ia),ti.forEach(ia)}function Ts(t,o){t.blockedOn===o&&(t.blockedOn=null,ra||(ra=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Si)))}function ni(t){function o(v){return Ts(v,t)}if(0<qi.length){Ts(qi[0],t);for(var d=1;d<qi.length;d++){var g=qi[d];g.blockedOn===t&&(g.blockedOn=null)}}for(Rr!==null&&Ts(Rr,t),Vr!==null&&Ts(Vr,t),mi!==null&&Ts(mi,t),Qt.forEach(o),ti.forEach(o),d=0;d<zn.length;d++)g=zn[d],g.blockedOn===t&&(g.blockedOn=null);for(;0<zn.length&&(d=zn[0],d.blockedOn===null);)ml(d),d.blockedOn===null&&zn.shift()}var Ur=ne.ReactCurrentBatchConfig,gi=!0;function gl(t,o,d,g){var v=lt,A=Ur.transition;Ur.transition=null;try{lt=1,Ni(t,o,d,g)}finally{lt=v,Ur.transition=A}}function Is(t,o,d,g){var v=lt,A=Ur.transition;Ur.transition=null;try{lt=4,Ni(t,o,d,g)}finally{lt=v,Ur.transition=A}}function Ni(t,o,d,g){if(gi){var v=io(t,o,d,g);if(v===null)du(t,o,g,Nn,d),hl(t,g);else if(Sn(v,t,o,d,g))g.stopPropagation();else if(hl(t,g),o&4&&-1<$e.indexOf(t)){for(;v!==null;){var A=wa(v);if(A!==null&&ro(A),A=io(t,o,d,g),A===null&&du(t,o,g,Nn,d),A===v)break;v=A}v!==null&&g.stopPropagation()}else du(t,o,g,null,d)}}var Nn=null;function io(t,o,d,g){if(Nn=null,t=Zn(g),t=Ls(t),t!==null)if(o=gr(t),o===null)t=null;else if(d=o.tag,d===13){if(t=Ss(o),t!==null)return t;t=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null);return Nn=t,null}function sa(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jo()){case he:return 1;case ul:return 4;case Ft:case Ki:return 16;case dl:return 536870912;default:return 16}default:return 16}}var ri=null,oa=null,so=null;function pl(){if(so)return so;var t,o=oa,d=o.length,g,v="value"in ri?ri.value:ri.textContent,A=v.length;for(t=0;t<d&&o[t]===v[t];t++);var _=d-t;for(g=1;g<=_&&o[d-g]===v[A-g];g++);return so=v.slice(t,1<g?1-g:void 0)}function Et(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function Rs(){return!0}function ks(){return!1}function un(t){function o(d,g,v,A,_){this._reactName=d,this._targetInst=v,this.type=g,this.nativeEvent=A,this.target=_,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(d=t[j],this[j]=d?d(A):A[j]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Rs:ks,this.isPropagationStopped=ks,this}return be(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),o}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oe=un($i),st=be({},$i,{view:0,detail:0}),Tn=un(st),Ji,oo,_s,ao=be({},st,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_s&&(_s&&t.type==="mousemove"?(Ji=t.screenX-_s.screenX,oo=t.screenY-_s.screenY):oo=Ji=0,_s=t),Ji)},movementY:function(t){return"movementY"in t?t.movementY:oo}}),xl=un(ao),aa=be({},ao,{dataTransfer:0}),gn=un(aa),la=be({},st,{relatedTarget:0}),zt=un(la),lo=be({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ti=un(lo),Ot=be({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ze=un(Ot),nu=be({},$i,{data:0}),Pt=un(nu),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},es={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zr(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=ru[t])?!!o[t]:!1}function Os(){return zr}var yl=be({},st,{key:function(t){if(t.key){var o=Ii[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=Et(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?es[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Et(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Et(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ca=un(yl),wl=be({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ua=un(wl),iu=be({},st,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),ts=un(iu),da=be({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=un(da),Ds=be({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ou=un(Ds),pi=[9,13,27,32],ns=b&&"CompositionEvent"in window,Mn=null;b&&"documentMode"in document&&(Mn=document.documentMode);var vl=b&&"TextEvent"in window&&!Mn,kr=b&&(!ns||Mn&&8<Mn&&11>=Mn),Cl=" ",co=!1;function El(t,o){switch(t){case"keyup":return pi.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wn=!1;function au(t,o){switch(t){case"compositionend":return fa(o);case"keypress":return o.which!==32?null:(co=!0,Cl);case"textInput":return t=o.data,t===Cl&&co?null:t;default:return null}}function ha(t,o){if(Wn)return t==="compositionend"||!ns&&El(t,o)?(t=pl(),so=oa=ri=null,Wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return kr&&o.locale!=="ko"?null:o.data;default:return null}}var Ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pt(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!Ms[t.type]:o==="textarea"}function Ps(t,o,d,g){tt(g),o=Sl(o,"onChange"),0<o.length&&(d=new oe("onChange","change",null,d,g),t.push({event:d,listeners:o}))}var R=null,e=null;function n(t){k0(t,0)}function s(t){var o=ho(t);if(En(o))return t}function l(t,o){if(t==="change")return o}var c=!1;if(b){var u;if(b){var h="oninput"in document;if(!h){var x=document.createElement("div");x.setAttribute("oninput","return;"),h=typeof x.oninput=="function"}u=h}else u=!1;c=u&&(!document.documentMode||9<document.documentMode)}function w(){R&&(R.detachEvent("onpropertychange",I),e=R=null)}function I(t){if(t.propertyName==="value"&&s(e)){var o=[];Ps(o,e,t,Zn(t)),Gt(n,o)}}function k(t,o,d){t==="focusin"?(w(),R=o,e=d,R.attachEvent("onpropertychange",I)):t==="focusout"&&w()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s(e)}function B(t,o){if(t==="click")return s(o)}function U(t,o){if(t==="input"||t==="change")return s(o)}function G(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var q=typeof Object.is=="function"?Object.is:G;function se(t,o){if(q(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var d=Object.keys(t),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!N.call(o,v)||!q(t[v],o[v]))return!1}return!0}function Se(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ne(t,o){var d=Se(t);t=0;for(var g;d;){if(d.nodeType===3){if(g=t+d.textContent.length,t<=o&&g>=o)return{node:d,offset:o-t};t=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Se(d)}}function we(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?we(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function ut(){for(var t=window,o=ft();o instanceof t.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)t=o.contentWindow;else break;o=ft(t.document)}return o}function it(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function $n(t){var o=ut(),d=t.focusedElem,g=t.selectionRange;if(o!==d&&d&&d.ownerDocument&&we(d.ownerDocument.documentElement,d)){if(g!==null&&it(d)){if(o=g.start,t=g.end,t===void 0&&(t=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(t,d.value.length);else if(t=(o=d.ownerDocument||document)&&o.defaultView||window,t.getSelection){t=t.getSelection();var v=d.textContent.length,A=Math.min(g.start,v);g=g.end===void 0?A:Math.min(g.end,v),!t.extend&&A>g&&(v=g,g=A,A=v),v=Ne(d,A);var _=Ne(d,g);v&&_&&(t.rangeCount!==1||t.anchorNode!==v.node||t.anchorOffset!==v.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),t.removeAllRanges(),A>g?(t.addRange(o),t.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),t.addRange(o)))}}for(o=[],t=d;t=t.parentNode;)t.nodeType===1&&o.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)t=o[d],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _r=b&&"documentMode"in document&&11>=document.documentMode,pn=null,Tt=null,nn=null,Hn=!1;function Ri(t,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Hn||pn==null||pn!==ft(g)||(g=pn,"selectionStart"in g&&it(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),nn&&se(nn,g)||(nn=g,g=Sl(Tt,"onSelect"),0<g.length&&(o=new oe("onSelect","select",null,o,d),t.push({event:o,listeners:g}),o.target=pn)))}function ii(t,o){var d={};return d[t.toLowerCase()]=o.toLowerCase(),d["Webkit"+t]="webkit"+o,d["Moz"+t]="moz"+o,d}var rs={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},ma={},E0={};b&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function bl(t){if(ma[t])return ma[t];if(!rs[t])return t;var o=rs[t],d;for(d in o)if(o.hasOwnProperty(d)&&d in E0)return ma[t]=o[d];return t}var b0=bl("animationend"),A0=bl("animationiteration"),S0=bl("animationstart"),N0=bl("transitionend"),T0=new Map,I0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,o){T0.set(t,o),p(o,[t])}for(var lu=0;lu<I0.length;lu++){var cu=I0[lu],P2=cu.toLowerCase(),L2=cu[0].toUpperCase()+cu.slice(1);is(P2,"on"+L2)}is(b0,"onAnimationEnd"),is(A0,"onAnimationIteration"),is(S0,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(N0,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function R0(t,o,d){var g=t.type||"unknown-event";t.currentTarget=d,qn(g,o,void 0,t),t.currentTarget=null}function k0(t,o){o=(o&4)!==0;for(var d=0;d<t.length;d++){var g=t[d],v=g.event;g=g.listeners;e:{var A=void 0;if(o)for(var _=g.length-1;0<=_;_--){var j=g[_],H=j.instance,ae=j.currentTarget;if(j=j.listener,H!==A&&v.isPropagationStopped())break e;R0(v,j,ae),A=H}else for(_=0;_<g.length;_++){if(j=g[_],H=j.instance,ae=j.currentTarget,j=j.listener,H!==A&&v.isPropagationStopped())break e;R0(v,j,ae),A=H}}}if(On)throw t=Me,On=!1,Me=null,t}function Yt(t,o){var d=o[xu];d===void 0&&(d=o[xu]=new Set);var g=t+"__bubble";d.has(g)||(_0(o,t,2,!1),d.add(g))}function uu(t,o,d){var g=0;o&&(g|=4),_0(d,t,g,o)}var Al="_reactListening"+Math.random().toString(36).slice(2);function pa(t){if(!t[Al]){t[Al]=!0,f.forEach(function(d){d!=="selectionchange"&&(B2.has(d)||uu(d,!1,t),uu(d,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Al]||(o[Al]=!0,uu("selectionchange",!1,o))}}function _0(t,o,d,g){switch(sa(o)){case 1:var v=gl;break;case 4:v=Is;break;default:v=Ni}d=v.bind(null,o,d,t),v=void 0,!hi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),g?v!==void 0?t.addEventListener(o,d,{capture:!0,passive:v}):t.addEventListener(o,d,!0):v!==void 0?t.addEventListener(o,d,{passive:v}):t.addEventListener(o,d,!1)}function du(t,o,d,g,v){var A=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var _=g.tag;if(_===3||_===4){var j=g.stateNode.containerInfo;if(j===v||j.nodeType===8&&j.parentNode===v)break;if(_===4)for(_=g.return;_!==null;){var H=_.tag;if((H===3||H===4)&&(H=_.stateNode.containerInfo,H===v||H.nodeType===8&&H.parentNode===v))return;_=_.return}for(;j!==null;){if(_=Ls(j),_===null)return;if(H=_.tag,H===5||H===6){g=A=_;continue e}j=j.parentNode}}g=g.return}Gt(function(){var ae=A,ve=Zn(d),Ae=[];e:{var ye=T0.get(t);if(ye!==void 0){var Le=oe,Ue=t;switch(t){case"keypress":if(Et(d)===0)break e;case"keydown":case"keyup":Le=ca;break;case"focusin":Ue="focus",Le=zt;break;case"focusout":Ue="blur",Le=zt;break;case"beforeblur":case"afterblur":Le=zt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=ts;break;case b0:case A0:case S0:Le=Ti;break;case N0:Le=su;break;case"scroll":Le=Tn;break;case"wheel":Le=ou;break;case"copy":case"cut":case"paste":Le=Ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=ua}var He=(o&4)!==0,xn=!He&&t==="scroll",J=He?ye!==null?ye+"Capture":null:ye;He=[];for(var Y=ae,re;Y!==null;){re=Y;var Ie=re.stateNode;if(re.tag===5&&Ie!==null&&(re=Ie,J!==null&&(Ie=_t(Y,J),Ie!=null&&He.push(xa(Y,Ie,re)))),xn)break;Y=Y.return}0<He.length&&(ye=new Le(ye,Ue,null,d,ve),Ae.push({event:ye,listeners:He}))}}if((o&7)===0){e:{if(ye=t==="mouseover"||t==="pointerover",Le=t==="mouseout"||t==="pointerout",ye&&d!==Sr&&(Ue=d.relatedTarget||d.fromElement)&&(Ls(Ue)||Ue[ki]))break e;if((Le||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Le?(Ue=d.relatedTarget||d.toElement,Le=ae,Ue=Ue?Ls(Ue):null,Ue!==null&&(xn=gr(Ue),Ue!==xn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Le=null,Ue=ae),Le!==Ue)){if(He=xl,Ie="onMouseLeave",J="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(He=ua,Ie="onPointerLeave",J="onPointerEnter",Y="pointer"),xn=Le==null?ye:ho(Le),re=Ue==null?ye:ho(Ue),ye=new He(Ie,Y+"leave",Le,d,ve),ye.target=xn,ye.relatedTarget=re,Ie=null,Ls(ve)===ae&&(He=new He(J,Y+"enter",Ue,d,ve),He.target=re,He.relatedTarget=xn,Ie=He),xn=Ie,Le&&Ue)t:{for(He=Le,J=Ue,Y=0,re=He;re;re=uo(re))Y++;for(re=0,Ie=J;Ie;Ie=uo(Ie))re++;for(;0<Y-re;)He=uo(He),Y--;for(;0<re-Y;)J=uo(J),re--;for(;Y--;){if(He===J||J!==null&&He===J.alternate)break t;He=uo(He),J=uo(J)}He=null}else He=null;Le!==null&&O0(Ae,ye,Le,He,!1),Ue!==null&&xn!==null&&O0(Ae,xn,Ue,He,!0)}}e:{if(ye=ae?ho(ae):window,Le=ye.nodeName&&ye.nodeName.toLowerCase(),Le==="select"||Le==="input"&&ye.type==="file")var Ge=l;else if(pt(ye))if(c)Ge=U;else{Ge=O;var qe=k}else(Le=ye.nodeName)&&Le.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Ge=B);if(Ge&&(Ge=Ge(t,ae))){Ps(Ae,Ge,d,ve);break e}qe&&qe(t,ye,ae),t==="focusout"&&(qe=ye._wrapperState)&&qe.controlled&&ye.type==="number"&&et(ye,"number",ye.value)}switch(qe=ae?ho(ae):window,t){case"focusin":(pt(qe)||qe.contentEditable==="true")&&(pn=qe,Tt=ae,nn=null);break;case"focusout":nn=Tt=pn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":Hn=!1,Ri(Ae,d,ve);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":Ri(Ae,d,ve)}var Qe;if(ns)e:{switch(t){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Wn?El(t,d)&&(nt="onCompositionEnd"):t==="keydown"&&d.keyCode===229&&(nt="onCompositionStart");nt&&(kr&&d.locale!=="ko"&&(Wn||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Wn&&(Qe=pl()):(ri=ve,oa="value"in ri?ri.value:ri.textContent,Wn=!0)),qe=Sl(ae,nt),0<qe.length&&(nt=new Pt(nt,t,null,d,ve),Ae.push({event:nt,listeners:qe}),Qe?nt.data=Qe:(Qe=fa(d),Qe!==null&&(nt.data=Qe)))),(Qe=vl?au(t,d):ha(t,d))&&(ae=Sl(ae,"onBeforeInput"),0<ae.length&&(ve=new Pt("onBeforeInput","beforeinput",null,d,ve),Ae.push({event:ve,listeners:ae}),ve.data=Qe))}k0(Ae,o)})}function xa(t,o,d){return{instance:t,listener:o,currentTarget:d}}function Sl(t,o){for(var d=o+"Capture",g=[];t!==null;){var v=t,A=v.stateNode;v.tag===5&&A!==null&&(v=A,A=_t(t,d),A!=null&&g.unshift(xa(t,A,v)),A=_t(t,o),A!=null&&g.push(xa(t,A,v))),t=t.return}return g}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O0(t,o,d,g,v){for(var A=o._reactName,_=[];d!==null&&d!==g;){var j=d,H=j.alternate,ae=j.stateNode;if(H!==null&&H===g)break;j.tag===5&&ae!==null&&(j=ae,v?(H=_t(d,A),H!=null&&_.unshift(xa(d,H,j))):v||(H=_t(d,A),H!=null&&_.push(xa(d,H,j)))),d=d.return}_.length!==0&&t.push({event:o,listeners:_})}var F2=/\r\n?/g,j2=/\u0000|\uFFFD/g;function D0(t){return(typeof t=="string"?t:""+t).replace(F2,`
`).replace(j2,"")}function Nl(t,o,d){if(o=D0(o),D0(t)!==o&&d)throw Error(a(425))}function Tl(){}var fu=null,hu=null;function mu(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,V2=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(t){return M0.resolve(null).then(t).catch(z2)}:gu;function z2(t){setTimeout(function(){throw t})}function pu(t,o){var d=o,g=0;do{var v=d.nextSibling;if(t.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(g===0){t.removeChild(v),ni(o);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=v}while(d);ni(o)}function ss(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return t}function P0(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var d=t.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return t;o--}else d==="/$"&&o++}t=t.previousSibling}return null}var fo=Math.random().toString(36).slice(2),xi="__reactFiber$"+fo,ya="__reactProps$"+fo,ki="__reactContainer$"+fo,xu="__reactEvents$"+fo,W2="__reactListeners$"+fo,H2="__reactHandles$"+fo;function Ls(t){var o=t[xi];if(o)return o;for(var d=t.parentNode;d;){if(o=d[ki]||d[xi]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(t=P0(t);t!==null;){if(d=t[xi])return d;t=P0(t)}return o}t=d,d=t.parentNode}return null}function wa(t){return t=t[xi]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function Il(t){return t[ya]||null}var yu=[],mo=-1;function os(t){return{current:t}}function Kt(t){0>mo||(t.current=yu[mo],yu[mo]=null,mo--)}function Wt(t,o){mo++,yu[mo]=t.current,t.current=o}var as={},Jn=os(as),pr=os(!1),Bs=as;function go(t,o){var d=t.type.contextTypes;if(!d)return as;var g=t.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var v={},A;for(A in d)v[A]=o[A];return g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=v),v}function xr(t){return t=t.childContextTypes,t!=null}function Rl(){Kt(pr),Kt(Jn)}function L0(t,o,d){if(Jn.current!==as)throw Error(a(168));Wt(Jn,o),Wt(pr,d)}function B0(t,o,d){var g=t.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var v in g)if(!(v in o))throw Error(a(108,Ye(t)||"Unknown",v));return be({},d,g)}function kl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,Bs=Jn.current,Wt(Jn,t),Wt(pr,pr.current),!0}function F0(t,o,d){var g=t.stateNode;if(!g)throw Error(a(169));d?(t=B0(t,o,Bs),g.__reactInternalMemoizedMergedChildContext=t,Kt(pr),Kt(Jn),Wt(Jn,t)):Kt(pr),Wt(pr,d)}var _i=null,_l=!1,wu=!1;function j0(t){_i===null?_i=[t]:_i.push(t)}function G2(t){_l=!0,j0(t)}function ls(){if(!wu&&_i!==null){wu=!0;var t=0,o=lt;try{var d=_i;for(lt=1;t<d.length;t++){var g=d[t];do g=g(!0);while(g!==null)}_i=null,_l=!1}catch(v){throw _i!==null&&(_i=_i.slice(t+1)),Nr(he,ls),v}finally{lt=o,wu=!1}}return null}var po=[],xo=0,Ol=null,Dl=0,Wr=[],Hr=0,Fs=null,Oi=1,Di="";function js(t,o){po[xo++]=Dl,po[xo++]=Ol,Ol=t,Dl=o}function V0(t,o,d){Wr[Hr++]=Oi,Wr[Hr++]=Di,Wr[Hr++]=Fs,Fs=t;var g=Oi;t=Di;var v=32-ar(g)-1;g&=~(1<<v),d+=1;var A=32-ar(o)+v;if(30<A){var _=v-v%5;A=(g&(1<<_)-1).toString(32),g>>=_,v-=_,Oi=1<<32-ar(o)+v|d<<v|g,Di=A+t}else Oi=1<<A|d<<v|g,Di=t}function vu(t){t.return!==null&&(js(t,1),V0(t,1,0))}function Cu(t){for(;t===Ol;)Ol=po[--xo],po[xo]=null,Dl=po[--xo],po[xo]=null;for(;t===Fs;)Fs=Wr[--Hr],Wr[Hr]=null,Di=Wr[--Hr],Wr[Hr]=null,Oi=Wr[--Hr],Wr[Hr]=null}var Or=null,Dr=null,$t=!1,si=null;function U0(t,o){var d=Kr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=t,o=t.deletions,o===null?(t.deletions=[d],t.flags|=16):o.push(d)}function z0(t,o){switch(t.tag){case 5:var d=t.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(t.stateNode=o,Or=t,Dr=ss(o.firstChild),!0):!1;case 6:return o=t.pendingProps===""||o.nodeType!==3?null:o,o!==null?(t.stateNode=o,Or=t,Dr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=Fs!==null?{id:Oi,overflow:Di}:null,t.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Kr(18,null,null,0),d.stateNode=o,d.return=t,t.child=d,Or=t,Dr=null,!0):!1;default:return!1}}function Eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bu(t){if($t){var o=Dr;if(o){var d=o;if(!z0(t,o)){if(Eu(t))throw Error(a(418));o=ss(d.nextSibling);var g=Or;o&&z0(t,o)?U0(g,d):(t.flags=t.flags&-4097|2,$t=!1,Or=t)}}else{if(Eu(t))throw Error(a(418));t.flags=t.flags&-4097|2,$t=!1,Or=t}}}function W0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Or=t}function Ml(t){if(t!==Or)return!1;if(!$t)return W0(t),$t=!0,!1;var o;if((o=t.tag!==3)&&!(o=t.tag!==5)&&(o=t.type,o=o!=="head"&&o!=="body"&&!mu(t.type,t.memoizedProps)),o&&(o=Dr)){if(Eu(t))throw H0(),Error(a(418));for(;o;)U0(t,o),o=ss(o.nextSibling)}if(W0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8){var d=t.data;if(d==="/$"){if(o===0){Dr=ss(t.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}t=t.nextSibling}Dr=null}}else Dr=Or?ss(t.stateNode.nextSibling):null;return!0}function H0(){for(var t=Dr;t;)t=ss(t.nextSibling)}function yo(){Dr=Or=null,$t=!1}function Au(t){si===null?si=[t]:si.push(t)}var X2=ne.ReactCurrentBatchConfig;function va(t,o,d){if(t=d.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(a(309));var g=d.stateNode}if(!g)throw Error(a(147,t));var v=g,A=""+t;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===A?o.ref:(o=function(_){var j=v.refs;_===null?delete j[A]:j[A]=_},o._stringRef=A,o)}if(typeof t!="string")throw Error(a(284));if(!d._owner)throw Error(a(290,t))}return t}function Pl(t,o){throw t=Object.prototype.toString.call(o),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t))}function G0(t){var o=t._init;return o(t._payload)}function X0(t){function o(J,Y){if(t){var re=J.deletions;re===null?(J.deletions=[Y],J.flags|=16):re.push(Y)}}function d(J,Y){if(!t)return null;for(;Y!==null;)o(J,Y),Y=Y.sibling;return null}function g(J,Y){for(J=new Map;Y!==null;)Y.key!==null?J.set(Y.key,Y):J.set(Y.index,Y),Y=Y.sibling;return J}function v(J,Y){return J=ps(J,Y),J.index=0,J.sibling=null,J}function A(J,Y,re){return J.index=re,t?(re=J.alternate,re!==null?(re=re.index,re<Y?(J.flags|=2,Y):re):(J.flags|=2,Y)):(J.flags|=1048576,Y)}function _(J){return t&&J.alternate===null&&(J.flags|=2),J}function j(J,Y,re,Ie){return Y===null||Y.tag!==6?(Y=gd(re,J.mode,Ie),Y.return=J,Y):(Y=v(Y,re),Y.return=J,Y)}function H(J,Y,re,Ie){var Ge=re.type;return Ge===Z?ve(J,Y,re.props.children,Ie,re.key):Y!==null&&(Y.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===_e&&G0(Ge)===Y.type)?(Ie=v(Y,re.props),Ie.ref=va(J,Y,re),Ie.return=J,Ie):(Ie=sc(re.type,re.key,re.props,null,J.mode,Ie),Ie.ref=va(J,Y,re),Ie.return=J,Ie)}function ae(J,Y,re,Ie){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=pd(re,J.mode,Ie),Y.return=J,Y):(Y=v(Y,re.children||[]),Y.return=J,Y)}function ve(J,Y,re,Ie,Ge){return Y===null||Y.tag!==7?(Y=Ys(re,J.mode,Ie,Ge),Y.return=J,Y):(Y=v(Y,re),Y.return=J,Y)}function Ae(J,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=gd(""+Y,J.mode,re),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case fe:return re=sc(Y.type,Y.key,Y.props,null,J.mode,re),re.ref=va(J,null,Y),re.return=J,re;case ue:return Y=pd(Y,J.mode,re),Y.return=J,Y;case _e:var Ie=Y._init;return Ae(J,Ie(Y._payload),re)}if(Br(Y)||Oe(Y))return Y=Ys(Y,J.mode,re,null),Y.return=J,Y;Pl(J,Y)}return null}function ye(J,Y,re,Ie){var Ge=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ge!==null?null:j(J,Y,""+re,Ie);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case fe:return re.key===Ge?H(J,Y,re,Ie):null;case ue:return re.key===Ge?ae(J,Y,re,Ie):null;case _e:return Ge=re._init,ye(J,Y,Ge(re._payload),Ie)}if(Br(re)||Oe(re))return Ge!==null?null:ve(J,Y,re,Ie,null);Pl(J,re)}return null}function Le(J,Y,re,Ie,Ge){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return J=J.get(re)||null,j(Y,J,""+Ie,Ge);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case fe:return J=J.get(Ie.key===null?re:Ie.key)||null,H(Y,J,Ie,Ge);case ue:return J=J.get(Ie.key===null?re:Ie.key)||null,ae(Y,J,Ie,Ge);case _e:var qe=Ie._init;return Le(J,Y,re,qe(Ie._payload),Ge)}if(Br(Ie)||Oe(Ie))return J=J.get(re)||null,ve(Y,J,Ie,Ge,null);Pl(Y,Ie)}return null}function Ue(J,Y,re,Ie){for(var Ge=null,qe=null,Qe=Y,nt=Y=0,Bn=null;Qe!==null&&nt<re.length;nt++){Qe.index>nt?(Bn=Qe,Qe=null):Bn=Qe.sibling;var Nt=ye(J,Qe,re[nt],Ie);if(Nt===null){Qe===null&&(Qe=Bn);break}t&&Qe&&Nt.alternate===null&&o(J,Qe),Y=A(Nt,Y,nt),qe===null?Ge=Nt:qe.sibling=Nt,qe=Nt,Qe=Bn}if(nt===re.length)return d(J,Qe),$t&&js(J,nt),Ge;if(Qe===null){for(;nt<re.length;nt++)Qe=Ae(J,re[nt],Ie),Qe!==null&&(Y=A(Qe,Y,nt),qe===null?Ge=Qe:qe.sibling=Qe,qe=Qe);return $t&&js(J,nt),Ge}for(Qe=g(J,Qe);nt<re.length;nt++)Bn=Le(Qe,J,nt,re[nt],Ie),Bn!==null&&(t&&Bn.alternate!==null&&Qe.delete(Bn.key===null?nt:Bn.key),Y=A(Bn,Y,nt),qe===null?Ge=Bn:qe.sibling=Bn,qe=Bn);return t&&Qe.forEach(function(xs){return o(J,xs)}),$t&&js(J,nt),Ge}function He(J,Y,re,Ie){var Ge=Oe(re);if(typeof Ge!="function")throw Error(a(150));if(re=Ge.call(re),re==null)throw Error(a(151));for(var qe=Ge=null,Qe=Y,nt=Y=0,Bn=null,Nt=re.next();Qe!==null&&!Nt.done;nt++,Nt=re.next()){Qe.index>nt?(Bn=Qe,Qe=null):Bn=Qe.sibling;var xs=ye(J,Qe,Nt.value,Ie);if(xs===null){Qe===null&&(Qe=Bn);break}t&&Qe&&xs.alternate===null&&o(J,Qe),Y=A(xs,Y,nt),qe===null?Ge=xs:qe.sibling=xs,qe=xs,Qe=Bn}if(Nt.done)return d(J,Qe),$t&&js(J,nt),Ge;if(Qe===null){for(;!Nt.done;nt++,Nt=re.next())Nt=Ae(J,Nt.value,Ie),Nt!==null&&(Y=A(Nt,Y,nt),qe===null?Ge=Nt:qe.sibling=Nt,qe=Nt);return $t&&js(J,nt),Ge}for(Qe=g(J,Qe);!Nt.done;nt++,Nt=re.next())Nt=Le(Qe,J,nt,Nt.value,Ie),Nt!==null&&(t&&Nt.alternate!==null&&Qe.delete(Nt.key===null?nt:Nt.key),Y=A(Nt,Y,nt),qe===null?Ge=Nt:qe.sibling=Nt,qe=Nt);return t&&Qe.forEach(function(Sy){return o(J,Sy)}),$t&&js(J,nt),Ge}function xn(J,Y,re,Ie){if(typeof re=="object"&&re!==null&&re.type===Z&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case fe:e:{for(var Ge=re.key,qe=Y;qe!==null;){if(qe.key===Ge){if(Ge=re.type,Ge===Z){if(qe.tag===7){d(J,qe.sibling),Y=v(qe,re.props.children),Y.return=J,J=Y;break e}}else if(qe.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===_e&&G0(Ge)===qe.type){d(J,qe.sibling),Y=v(qe,re.props),Y.ref=va(J,qe,re),Y.return=J,J=Y;break e}d(J,qe);break}else o(J,qe);qe=qe.sibling}re.type===Z?(Y=Ys(re.props.children,J.mode,Ie,re.key),Y.return=J,J=Y):(Ie=sc(re.type,re.key,re.props,null,J.mode,Ie),Ie.ref=va(J,Y,re),Ie.return=J,J=Ie)}return _(J);case ue:e:{for(qe=re.key;Y!==null;){if(Y.key===qe)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){d(J,Y.sibling),Y=v(Y,re.children||[]),Y.return=J,J=Y;break e}else{d(J,Y);break}else o(J,Y);Y=Y.sibling}Y=pd(re,J.mode,Ie),Y.return=J,J=Y}return _(J);case _e:return qe=re._init,xn(J,Y,qe(re._payload),Ie)}if(Br(re))return Ue(J,Y,re,Ie);if(Oe(re))return He(J,Y,re,Ie);Pl(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(d(J,Y.sibling),Y=v(Y,re),Y.return=J,J=Y):(d(J,Y),Y=gd(re,J.mode,Ie),Y.return=J,J=Y),_(J)):d(J,Y)}return xn}var wo=X0(!0),Y0=X0(!1),Ll=os(null),Bl=null,vo=null,Su=null;function Nu(){Su=vo=Bl=null}function Tu(t){var o=Ll.current;Kt(Ll),t._currentValue=o}function Iu(t,o,d){for(;t!==null;){var g=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),t===d)break;t=t.return}}function Co(t,o){Bl=t,Su=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&o)!==0&&(yr=!0),t.firstContext=null)}function Gr(t){var o=t._currentValue;if(Su!==t)if(t={context:t,memoizedValue:o,next:null},vo===null){if(Bl===null)throw Error(a(308));vo=t,Bl.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return o}var Vs=null;function Ru(t){Vs===null?Vs=[t]:Vs.push(t)}function K0(t,o,d,g){var v=o.interleaved;return v===null?(d.next=d,Ru(o)):(d.next=v.next,v.next=d),o.interleaved=d,Mi(t,g)}function Mi(t,o){t.lanes|=o;var d=t.alternate;for(d!==null&&(d.lanes|=o),d=t,t=t.return;t!==null;)t.childLanes|=o,d=t.alternate,d!==null&&(d.childLanes|=o),d=t,t=t.return;return d.tag===3?d.stateNode:null}var cs=!1;function ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z0(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,o){return{eventTime:t,lane:o,tag:0,payload:null,callback:null,next:null}}function us(t,o,d){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,(bt&2)!==0){var v=g.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),g.pending=o,Mi(t,d)}return v=g.interleaved,v===null?(o.next=o,Ru(g)):(o.next=v.next,v.next=o),g.interleaved=o,Mi(t,d)}function Fl(t,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var g=o.lanes;g&=t.pendingLanes,d|=g,o.lanes=d,cn(t,d)}}function q0(t,o){var d=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var _={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};A===null?v=A=_:A=A.next=_,d=d.next}while(d!==null);A===null?v=A=o:A=A.next=o}else v=A=o;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:g.shared,effects:g.effects},t.updateQueue=d;return}t=d.lastBaseUpdate,t===null?d.firstBaseUpdate=o:t.next=o,d.lastBaseUpdate=o}function jl(t,o,d,g){var v=t.updateQueue;cs=!1;var A=v.firstBaseUpdate,_=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var H=j,ae=H.next;H.next=null,_===null?A=ae:_.next=ae,_=H;var ve=t.alternate;ve!==null&&(ve=ve.updateQueue,j=ve.lastBaseUpdate,j!==_&&(j===null?ve.firstBaseUpdate=ae:j.next=ae,ve.lastBaseUpdate=H))}if(A!==null){var Ae=v.baseState;_=0,ve=ae=H=null,j=A;do{var ye=j.lane,Le=j.eventTime;if((g&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Le,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ue=t,He=j;switch(ye=o,Le=d,He.tag){case 1:if(Ue=He.payload,typeof Ue=="function"){Ae=Ue.call(Le,Ae,ye);break e}Ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=He.payload,ye=typeof Ue=="function"?Ue.call(Le,Ae,ye):Ue,ye==null)break e;Ae=be({},Ae,ye);break e;case 2:cs=!0}}j.callback!==null&&j.lane!==0&&(t.flags|=64,ye=v.effects,ye===null?v.effects=[j]:ye.push(j))}else Le={eventTime:Le,lane:ye,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ve===null?(ae=ve=Le,H=Ae):ve=ve.next=Le,_|=ye;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;ye=j,j=ye.next,ye.next=null,v.lastBaseUpdate=ye,v.shared.pending=null}}while(!0);if(ve===null&&(H=Ae),v.baseState=H,v.firstBaseUpdate=ae,v.lastBaseUpdate=ve,o=v.shared.interleaved,o!==null){v=o;do _|=v.lane,v=v.next;while(v!==o)}else A===null&&(v.shared.lanes=0);Ws|=_,t.lanes=_,t.memoizedState=Ae}}function Q0(t,o,d){if(t=o.effects,o.effects=null,t!==null)for(o=0;o<t.length;o++){var g=t[o],v=g.callback;if(v!==null){if(g.callback=null,g=d,typeof v!="function")throw Error(a(191,v));v.call(g)}}}var Ca={},yi=os(Ca),Ea=os(Ca),ba=os(Ca);function Us(t){if(t===Ca)throw Error(a(174));return t}function _u(t,o){switch(Wt(ba,o),Wt(Ea,t),Wt(yi,Ca),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Hi(null,"");break;default:t=t===8?o.parentNode:o,o=t.namespaceURI||null,t=t.tagName,o=Hi(o,t)}Kt(yi),Wt(yi,o)}function Eo(){Kt(yi),Kt(Ea),Kt(ba)}function $0(t){Us(ba.current);var o=Us(yi.current),d=Hi(o,t.type);o!==d&&(Wt(Ea,t),Wt(yi,d))}function Ou(t){Ea.current===t&&(Kt(yi),Kt(Ea))}var rn=os(0);function Vl(t){for(var o=t;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Du=[];function Mu(){for(var t=0;t<Du.length;t++)Du[t]._workInProgressVersionPrimary=null;Du.length=0}var Ul=ne.ReactCurrentDispatcher,Pu=ne.ReactCurrentBatchConfig,zs=0,sn=null,In=null,Pn=null,zl=!1,Aa=!1,Sa=0,Y2=0;function er(){throw Error(a(321))}function Lu(t,o){if(o===null)return!1;for(var d=0;d<o.length&&d<t.length;d++)if(!q(t[d],o[d]))return!1;return!0}function Bu(t,o,d,g,v,A){if(zs=A,sn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ul.current=t===null||t.memoizedState===null?Q2:$2,t=d(g,v),Aa){A=0;do{if(Aa=!1,Sa=0,25<=A)throw Error(a(301));A+=1,Pn=In=null,o.updateQueue=null,Ul.current=J2,t=d(g,v)}while(Aa)}if(Ul.current=Gl,o=In!==null&&In.next!==null,zs=0,Pn=In=sn=null,zl=!1,o)throw Error(a(300));return t}function Fu(){var t=Sa!==0;return Sa=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?sn.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Xr(){if(In===null){var t=sn.alternate;t=t!==null?t.memoizedState:null}else t=In.next;var o=Pn===null?sn.memoizedState:Pn.next;if(o!==null)Pn=o,In=t;else{if(t===null)throw Error(a(310));In=t,t={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Pn===null?sn.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function Na(t,o){return typeof o=="function"?o(t):o}function ju(t){var o=Xr(),d=o.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=t;var g=In,v=g.baseQueue,A=d.pending;if(A!==null){if(v!==null){var _=v.next;v.next=A.next,A.next=_}g.baseQueue=v=A,d.pending=null}if(v!==null){A=v.next,g=g.baseState;var j=_=null,H=null,ae=A;do{var ve=ae.lane;if((zs&ve)===ve)H!==null&&(H=H.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:t(g,ae.action);else{var Ae={lane:ve,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};H===null?(j=H=Ae,_=g):H=H.next=Ae,sn.lanes|=ve,Ws|=ve}ae=ae.next}while(ae!==null&&ae!==A);H===null?_=g:H.next=j,q(g,o.memoizedState)||(yr=!0),o.memoizedState=g,o.baseState=_,o.baseQueue=H,d.lastRenderedState=g}if(t=d.interleaved,t!==null){v=t;do A=v.lane,sn.lanes|=A,Ws|=A,v=v.next;while(v!==t)}else v===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Vu(t){var o=Xr(),d=o.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=t;var g=d.dispatch,v=d.pending,A=o.memoizedState;if(v!==null){d.pending=null;var _=v=v.next;do A=t(A,_.action),_=_.next;while(_!==v);q(A,o.memoizedState)||(yr=!0),o.memoizedState=A,o.baseQueue===null&&(o.baseState=A),d.lastRenderedState=A}return[A,g]}function J0(){}function eh(t,o){var d=sn,g=Xr(),v=o(),A=!q(g.memoizedState,v);if(A&&(g.memoizedState=v,yr=!0),g=g.queue,Uu(rh.bind(null,d,g,t),[t]),g.getSnapshot!==o||A||Pn!==null&&Pn.memoizedState.tag&1){if(d.flags|=2048,Ta(9,nh.bind(null,d,g,v,o),void 0,null),Ln===null)throw Error(a(349));(zs&30)!==0||th(d,o,v)}return v}function th(t,o,d){t.flags|=16384,t={getSnapshot:o,value:d},o=sn.updateQueue,o===null?(o={lastEffect:null,stores:null},sn.updateQueue=o,o.stores=[t]):(d=o.stores,d===null?o.stores=[t]:d.push(t))}function nh(t,o,d,g){o.value=d,o.getSnapshot=g,ih(o)&&sh(t)}function rh(t,o,d){return d(function(){ih(o)&&sh(t)})}function ih(t){var o=t.getSnapshot;t=t.value;try{var d=o();return!q(t,d)}catch{return!0}}function sh(t){var o=Mi(t,1);o!==null&&ci(o,t,1,-1)}function oh(t){var o=wi();return typeof t=="function"&&(t=t()),o.memoizedState=o.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},o.queue=t,t=t.dispatch=q2.bind(null,sn,t),[o.memoizedState,t]}function Ta(t,o,d,g){return t={tag:t,create:o,destroy:d,deps:g,next:null},o=sn.updateQueue,o===null?(o={lastEffect:null,stores:null},sn.updateQueue=o,o.lastEffect=t.next=t):(d=o.lastEffect,d===null?o.lastEffect=t.next=t:(g=d.next,d.next=t,t.next=g,o.lastEffect=t)),t}function ah(){return Xr().memoizedState}function Wl(t,o,d,g){var v=wi();sn.flags|=t,v.memoizedState=Ta(1|o,d,void 0,g===void 0?null:g)}function Hl(t,o,d,g){var v=Xr();g=g===void 0?null:g;var A=void 0;if(In!==null){var _=In.memoizedState;if(A=_.destroy,g!==null&&Lu(g,_.deps)){v.memoizedState=Ta(o,d,A,g);return}}sn.flags|=t,v.memoizedState=Ta(1|o,d,A,g)}function lh(t,o){return Wl(8390656,8,t,o)}function Uu(t,o){return Hl(2048,8,t,o)}function ch(t,o){return Hl(4,2,t,o)}function uh(t,o){return Hl(4,4,t,o)}function dh(t,o){if(typeof o=="function")return t=t(),o(t),function(){o(null)};if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function fh(t,o,d){return d=d!=null?d.concat([t]):null,Hl(4,4,dh.bind(null,o,t),d)}function zu(){}function hh(t,o){var d=Xr();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Lu(o,g[1])?g[0]:(d.memoizedState=[t,o],t)}function mh(t,o){var d=Xr();o=o===void 0?null:o;var g=d.memoizedState;return g!==null&&o!==null&&Lu(o,g[1])?g[0]:(t=t(),d.memoizedState=[t,o],t)}function gh(t,o,d){return(zs&21)===0?(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=d):(q(d,o)||(d=An(),sn.lanes|=d,Ws|=d,t.baseState=!0),o)}function K2(t,o){var d=lt;lt=d!==0&&4>d?d:4,t(!0);var g=Pu.transition;Pu.transition={};try{t(!1),o()}finally{lt=d,Pu.transition=g}}function ph(){return Xr().memoizedState}function Z2(t,o,d){var g=ms(t);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},xh(t))yh(o,d);else if(d=K0(t,o,d,g),d!==null){var v=cr();ci(d,t,g,v),wh(d,o,g)}}function q2(t,o,d){var g=ms(t),v={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(xh(t))yh(o,v);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=o.lastRenderedReducer,A!==null))try{var _=o.lastRenderedState,j=A(_,d);if(v.hasEagerState=!0,v.eagerState=j,q(j,_)){var H=o.interleaved;H===null?(v.next=v,Ru(o)):(v.next=H.next,H.next=v),o.interleaved=v;return}}catch{}finally{}d=K0(t,o,v,g),d!==null&&(v=cr(),ci(d,t,g,v),wh(d,o,g))}}function xh(t){var o=t.alternate;return t===sn||o!==null&&o===sn}function yh(t,o){Aa=zl=!0;var d=t.pending;d===null?o.next=o:(o.next=d.next,d.next=o),t.pending=o}function wh(t,o,d){if((d&4194240)!==0){var g=o.lanes;g&=t.pendingLanes,d|=g,o.lanes=d,cn(t,d)}}var Gl={readContext:Gr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},Q2={readContext:Gr,useCallback:function(t,o){return wi().memoizedState=[t,o===void 0?null:o],t},useContext:Gr,useEffect:lh,useImperativeHandle:function(t,o,d){return d=d!=null?d.concat([t]):null,Wl(4194308,4,dh.bind(null,o,t),d)},useLayoutEffect:function(t,o){return Wl(4194308,4,t,o)},useInsertionEffect:function(t,o){return Wl(4,2,t,o)},useMemo:function(t,o){var d=wi();return o=o===void 0?null:o,t=t(),d.memoizedState=[t,o],t},useReducer:function(t,o,d){var g=wi();return o=d!==void 0?d(o):o,g.memoizedState=g.baseState=o,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},g.queue=t,t=t.dispatch=Z2.bind(null,sn,t),[g.memoizedState,t]},useRef:function(t){var o=wi();return t={current:t},o.memoizedState=t},useState:oh,useDebugValue:zu,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=oh(!1),o=t[0];return t=K2.bind(null,t[1]),wi().memoizedState=t,[o,t]},useMutableSource:function(){},useSyncExternalStore:function(t,o,d){var g=sn,v=wi();if($t){if(d===void 0)throw Error(a(407));d=d()}else{if(d=o(),Ln===null)throw Error(a(349));(zs&30)!==0||th(g,o,d)}v.memoizedState=d;var A={value:d,getSnapshot:o};return v.queue=A,lh(rh.bind(null,g,A,t),[t]),g.flags|=2048,Ta(9,nh.bind(null,g,A,d,o),void 0,null),d},useId:function(){var t=wi(),o=Ln.identifierPrefix;if($t){var d=Di,g=Oi;d=(g&~(1<<32-ar(g)-1)).toString(32)+d,o=":"+o+"R"+d,d=Sa++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=Y2++,o=":"+o+"r"+d.toString(32)+":";return t.memoizedState=o},unstable_isNewReconciler:!1},$2={readContext:Gr,useCallback:hh,useContext:Gr,useEffect:Uu,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:ju,useRef:ah,useState:function(){return ju(Na)},useDebugValue:zu,useDeferredValue:function(t){var o=Xr();return gh(o,In.memoizedState,t)},useTransition:function(){var t=ju(Na)[0],o=Xr().memoizedState;return[t,o]},useMutableSource:J0,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1},J2={readContext:Gr,useCallback:hh,useContext:Gr,useEffect:Uu,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:Vu,useRef:ah,useState:function(){return Vu(Na)},useDebugValue:zu,useDeferredValue:function(t){var o=Xr();return In===null?o.memoizedState=t:gh(o,In.memoizedState,t)},useTransition:function(){var t=Vu(Na)[0],o=Xr().memoizedState;return[t,o]},useMutableSource:J0,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1};function oi(t,o){if(t&&t.defaultProps){o=be({},o),t=t.defaultProps;for(var d in t)o[d]===void 0&&(o[d]=t[d]);return o}return o}function Wu(t,o,d,g){o=t.memoizedState,d=d(g,o),d=d==null?o:be({},o,d),t.memoizedState=d,t.lanes===0&&(t.updateQueue.baseState=d)}var Xl={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,o,d){t=t._reactInternals;var g=cr(),v=ms(t),A=Pi(g,v);A.payload=o,d!=null&&(A.callback=d),o=us(t,A,v),o!==null&&(ci(o,t,v,g),Fl(o,t,v))},enqueueReplaceState:function(t,o,d){t=t._reactInternals;var g=cr(),v=ms(t),A=Pi(g,v);A.tag=1,A.payload=o,d!=null&&(A.callback=d),o=us(t,A,v),o!==null&&(ci(o,t,v,g),Fl(o,t,v))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var d=cr(),g=ms(t),v=Pi(d,g);v.tag=2,o!=null&&(v.callback=o),o=us(t,v,g),o!==null&&(ci(o,t,g,d),Fl(o,t,g))}};function vh(t,o,d,g,v,A,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,A,_):o.prototype&&o.prototype.isPureReactComponent?!se(d,g)||!se(v,A):!0}function Ch(t,o,d){var g=!1,v=as,A=o.contextType;return typeof A=="object"&&A!==null?A=Gr(A):(v=xr(o)?Bs:Jn.current,g=o.contextTypes,A=(g=g!=null)?go(t,v):as),o=new o(d,A),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Xl,t.stateNode=o,o._reactInternals=t,g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=v,t.__reactInternalMemoizedMaskedChildContext=A),o}function Eh(t,o,d,g){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==t&&Xl.enqueueReplaceState(o,o.state,null)}function Hu(t,o,d,g){var v=t.stateNode;v.props=d,v.state=t.memoizedState,v.refs={},ku(t);var A=o.contextType;typeof A=="object"&&A!==null?v.context=Gr(A):(A=xr(o)?Bs:Jn.current,v.context=go(t,A)),v.state=t.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Wu(t,o,A,d),v.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Xl.enqueueReplaceState(v,v.state,null),jl(t,d,v,g),v.state=t.memoizedState),typeof v.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,o){try{var d="",g=o;do d+=Ve(g),g=g.return;while(g);var v=d}catch(A){v=`
Error generating stack: `+A.message+`
`+A.stack}return{value:t,source:o,stack:v,digest:null}}function Gu(t,o,d){return{value:t,source:null,stack:d??null,digest:o??null}}function Xu(t,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var ey=typeof WeakMap=="function"?WeakMap:Map;function bh(t,o,d){d=Pi(-1,d),d.tag=3,d.payload={element:null};var g=o.value;return d.callback=function(){Jl||(Jl=!0,ad=g),Xu(t,o)},d}function Ah(t,o,d){d=Pi(-1,d),d.tag=3;var g=t.type.getDerivedStateFromError;if(typeof g=="function"){var v=o.value;d.payload=function(){return g(v)},d.callback=function(){Xu(t,o)}}var A=t.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(d.callback=function(){Xu(t,o),typeof g!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),d}function Sh(t,o,d){var g=t.pingCache;if(g===null){g=t.pingCache=new ey;var v=new Set;g.set(o,v)}else v=g.get(o),v===void 0&&(v=new Set,g.set(o,v));v.has(d)||(v.add(d),t=my.bind(null,t,o,d),o.then(t,t))}function Nh(t){do{var o;if((o=t.tag===13)&&(o=t.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return t;t=t.return}while(t!==null);return null}function Th(t,o,d,g,v){return(t.mode&1)===0?(t===o?t.flags|=65536:(t.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Pi(-1,1),o.tag=2,us(d,o,1))),d.lanes|=1),t):(t.flags|=65536,t.lanes=v,t)}var ty=ne.ReactCurrentOwner,yr=!1;function lr(t,o,d,g){o.child=t===null?Y0(o,null,d,g):wo(o,t.child,d,g)}function Ih(t,o,d,g,v){d=d.render;var A=o.ref;return Co(o,v),g=Bu(t,o,d,g,A,v),d=Fu(),t!==null&&!yr?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~v,Li(t,o,v)):($t&&d&&vu(o),o.flags|=1,lr(t,o,g,v),o.child)}function Rh(t,o,d,g,v){if(t===null){var A=d.type;return typeof A=="function"&&!md(A)&&A.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=A,kh(t,o,A,g,v)):(t=sc(d.type,null,g,o,o.mode,v),t.ref=o.ref,t.return=o,o.child=t)}if(A=t.child,(t.lanes&v)===0){var _=A.memoizedProps;if(d=d.compare,d=d!==null?d:se,d(_,g)&&t.ref===o.ref)return Li(t,o,v)}return o.flags|=1,t=ps(A,g),t.ref=o.ref,t.return=o,o.child=t}function kh(t,o,d,g,v){if(t!==null){var A=t.memoizedProps;if(se(A,g)&&t.ref===o.ref)if(yr=!1,o.pendingProps=g=A,(t.lanes&v)!==0)(t.flags&131072)!==0&&(yr=!0);else return o.lanes=t.lanes,Li(t,o,v)}return Yu(t,o,d,g,v)}function _h(t,o,d){var g=o.pendingProps,v=g.children,A=t!==null?t.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(So,Mr),Mr|=d;else{if((d&1073741824)===0)return t=A!==null?A.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:t,cachePool:null,transitions:null},o.updateQueue=null,Wt(So,Mr),Mr|=t,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:d,Wt(So,Mr),Mr|=g}else A!==null?(g=A.baseLanes|d,o.memoizedState=null):g=d,Wt(So,Mr),Mr|=g;return lr(t,o,v,d),o.child}function Oh(t,o){var d=o.ref;(t===null&&d!==null||t!==null&&t.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Yu(t,o,d,g,v){var A=xr(d)?Bs:Jn.current;return A=go(o,A),Co(o,v),d=Bu(t,o,d,g,A,v),g=Fu(),t!==null&&!yr?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~v,Li(t,o,v)):($t&&g&&vu(o),o.flags|=1,lr(t,o,d,v),o.child)}function Dh(t,o,d,g,v){if(xr(d)){var A=!0;kl(o)}else A=!1;if(Co(o,v),o.stateNode===null)Kl(t,o),Ch(o,d,g),Hu(o,d,g,v),g=!0;else if(t===null){var _=o.stateNode,j=o.memoizedProps;_.props=j;var H=_.context,ae=d.contextType;typeof ae=="object"&&ae!==null?ae=Gr(ae):(ae=xr(d)?Bs:Jn.current,ae=go(o,ae));var ve=d.getDerivedStateFromProps,Ae=typeof ve=="function"||typeof _.getSnapshotBeforeUpdate=="function";Ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==g||H!==ae)&&Eh(o,_,g,ae),cs=!1;var ye=o.memoizedState;_.state=ye,jl(o,g,_,v),H=o.memoizedState,j!==g||ye!==H||pr.current||cs?(typeof ve=="function"&&(Wu(o,d,ve,g),H=o.memoizedState),(j=cs||vh(o,d,j,g,ye,H,ae))?(Ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=H),_.props=g,_.state=H,_.context=ae,g=j):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{_=o.stateNode,Z0(t,o),j=o.memoizedProps,ae=o.type===o.elementType?j:oi(o.type,j),_.props=ae,Ae=o.pendingProps,ye=_.context,H=d.contextType,typeof H=="object"&&H!==null?H=Gr(H):(H=xr(d)?Bs:Jn.current,H=go(o,H));var Le=d.getDerivedStateFromProps;(ve=typeof Le=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j!==Ae||ye!==H)&&Eh(o,_,g,H),cs=!1,ye=o.memoizedState,_.state=ye,jl(o,g,_,v);var Ue=o.memoizedState;j!==Ae||ye!==Ue||pr.current||cs?(typeof Le=="function"&&(Wu(o,d,Le,g),Ue=o.memoizedState),(ae=cs||vh(o,d,ae,g,ye,Ue,H)||!1)?(ve||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,Ue,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,Ue,H)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||j===t.memoizedProps&&ye===t.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ye===t.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Ue),_.props=g,_.state=Ue,_.context=H,g=ae):(typeof _.componentDidUpdate!="function"||j===t.memoizedProps&&ye===t.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&ye===t.memoizedState||(o.flags|=1024),g=!1)}return Ku(t,o,d,g,A,v)}function Ku(t,o,d,g,v,A){Oh(t,o);var _=(o.flags&128)!==0;if(!g&&!_)return v&&F0(o,d,!1),Li(t,o,A);g=o.stateNode,ty.current=o;var j=_&&typeof d.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,t!==null&&_?(o.child=wo(o,t.child,null,A),o.child=wo(o,null,j,A)):lr(t,o,j,A),o.memoizedState=g.state,v&&F0(o,d,!0),o.child}function Mh(t){var o=t.stateNode;o.pendingContext?L0(t,o.pendingContext,o.pendingContext!==o.context):o.context&&L0(t,o.context,!1),_u(t,o.containerInfo)}function Ph(t,o,d,g,v){return yo(),Au(v),o.flags|=256,lr(t,o,d,g),o.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function qu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lh(t,o,d){var g=o.pendingProps,v=rn.current,A=!1,_=(o.flags&128)!==0,j;if((j=_)||(j=t!==null&&t.memoizedState===null?!1:(v&2)!==0),j?(A=!0,o.flags&=-129):(t===null||t.memoizedState!==null)&&(v|=1),Wt(rn,v&1),t===null)return bu(o),t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((o.mode&1)===0?o.lanes=1:t.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=g.children,t=g.fallback,A?(g=o.mode,A=o.child,_={mode:"hidden",children:_},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=_):A=oc(_,g,0,null),t=Ys(t,g,d,null),A.return=o,t.return=o,A.sibling=t,o.child=A,o.child.memoizedState=qu(d),o.memoizedState=Zu,t):Qu(o,_));if(v=t.memoizedState,v!==null&&(j=v.dehydrated,j!==null))return ny(t,o,_,g,j,v,d);if(A){A=g.fallback,_=o.mode,v=t.child,j=v.sibling;var H={mode:"hidden",children:g.children};return(_&1)===0&&o.child!==v?(g=o.child,g.childLanes=0,g.pendingProps=H,o.deletions=null):(g=ps(v,H),g.subtreeFlags=v.subtreeFlags&14680064),j!==null?A=ps(j,A):(A=Ys(A,_,d,null),A.flags|=2),A.return=o,g.return=o,g.sibling=A,o.child=g,g=A,A=o.child,_=t.child.memoizedState,_=_===null?qu(d):{baseLanes:_.baseLanes|d,cachePool:null,transitions:_.transitions},A.memoizedState=_,A.childLanes=t.childLanes&~d,o.memoizedState=Zu,g}return A=t.child,t=A.sibling,g=ps(A,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=d),g.return=o,g.sibling=null,t!==null&&(d=o.deletions,d===null?(o.deletions=[t],o.flags|=16):d.push(t)),o.child=g,o.memoizedState=null,g}function Qu(t,o){return o=oc({mode:"visible",children:o},t.mode,0,null),o.return=t,t.child=o}function Yl(t,o,d,g){return g!==null&&Au(g),wo(o,t.child,null,d),t=Qu(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function ny(t,o,d,g,v,A,_){if(d)return o.flags&256?(o.flags&=-257,g=Gu(Error(a(422))),Yl(t,o,_,g)):o.memoizedState!==null?(o.child=t.child,o.flags|=128,null):(A=g.fallback,v=o.mode,g=oc({mode:"visible",children:g.children},v,0,null),A=Ys(A,v,_,null),A.flags|=2,g.return=o,A.return=o,g.sibling=A,o.child=g,(o.mode&1)!==0&&wo(o,t.child,null,_),o.child.memoizedState=qu(_),o.memoizedState=Zu,A);if((o.mode&1)===0)return Yl(t,o,_,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var j=g.dgst;return g=j,A=Error(a(419)),g=Gu(A,g,void 0),Yl(t,o,_,g)}if(j=(_&t.childLanes)!==0,yr||j){if(g=Ln,g!==null){switch(_&-_){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|_))!==0?0:v,v!==0&&v!==A.retryLane&&(A.retryLane=v,Mi(t,v),ci(g,t,v,-1))}return hd(),g=Gu(Error(a(421))),Yl(t,o,_,g)}return v.data==="$?"?(o.flags|=128,o.child=t.child,o=gy.bind(null,t),v._reactRetry=o,null):(t=A.treeContext,Dr=ss(v.nextSibling),Or=o,$t=!0,si=null,t!==null&&(Wr[Hr++]=Oi,Wr[Hr++]=Di,Wr[Hr++]=Fs,Oi=t.id,Di=t.overflow,Fs=o),o=Qu(o,g.children),o.flags|=4096,o)}function Bh(t,o,d){t.lanes|=o;var g=t.alternate;g!==null&&(g.lanes|=o),Iu(t.return,o,d)}function $u(t,o,d,g,v){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=d,A.tailMode=v)}function Fh(t,o,d){var g=o.pendingProps,v=g.revealOrder,A=g.tail;if(lr(t,o,g.children,d),g=rn.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bh(t,d,o);else if(t.tag===19)Bh(t,d,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}if(Wt(rn,g),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(d=o.child,v=null;d!==null;)t=d.alternate,t!==null&&Vl(t)===null&&(v=d),d=d.sibling;d=v,d===null?(v=o.child,o.child=null):(v=d.sibling,d.sibling=null),$u(o,!1,v,d,A);break;case"backwards":for(d=null,v=o.child,o.child=null;v!==null;){if(t=v.alternate,t!==null&&Vl(t)===null){o.child=v;break}t=v.sibling,v.sibling=d,d=v,v=t}$u(o,!0,d,null,A);break;case"together":$u(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Kl(t,o){(o.mode&1)===0&&t!==null&&(t.alternate=null,o.alternate=null,o.flags|=2)}function Li(t,o,d){if(t!==null&&(o.dependencies=t.dependencies),Ws|=o.lanes,(d&o.childLanes)===0)return null;if(t!==null&&o.child!==t.child)throw Error(a(153));if(o.child!==null){for(t=o.child,d=ps(t,t.pendingProps),o.child=d,d.return=o;t.sibling!==null;)t=t.sibling,d=d.sibling=ps(t,t.pendingProps),d.return=o;d.sibling=null}return o.child}function ry(t,o,d){switch(o.tag){case 3:Mh(o),yo();break;case 5:$0(o);break;case 1:xr(o.type)&&kl(o);break;case 4:_u(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,v=o.memoizedProps.value;Wt(Ll,g._currentValue),g._currentValue=v;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?(Wt(rn,rn.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?Lh(t,o,d):(Wt(rn,rn.current&1),t=Li(t,o,d),t!==null?t.sibling:null);Wt(rn,rn.current&1);break;case 19:if(g=(d&o.childLanes)!==0,(t.flags&128)!==0){if(g)return Fh(t,o,d);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Wt(rn,rn.current),g)break;return null;case 22:case 23:return o.lanes=0,_h(t,o,d)}return Li(t,o,d)}var jh,Ju,Vh,Uh;jh=function(t,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ju=function(){},Vh=function(t,o,d,g){var v=t.memoizedProps;if(v!==g){t=o.stateNode,Us(yi.current);var A=null;switch(d){case"input":v=hr(t,v),g=hr(t,g),A=[];break;case"select":v=be({},v,{value:void 0}),g=be({},g,{value:void 0}),A=[];break;case"textarea":v=an(t,v),g=an(t,g),A=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(t.onclick=Tl)}wt(d,g);var _;d=null;for(ae in v)if(!g.hasOwnProperty(ae)&&v.hasOwnProperty(ae)&&v[ae]!=null)if(ae==="style"){var j=v[ae];for(_ in j)j.hasOwnProperty(_)&&(d||(d={}),d[_]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(m.hasOwnProperty(ae)?A||(A=[]):(A=A||[]).push(ae,null));for(ae in g){var H=g[ae];if(j=v?.[ae],g.hasOwnProperty(ae)&&H!==j&&(H!=null||j!=null))if(ae==="style")if(j){for(_ in j)!j.hasOwnProperty(_)||H&&H.hasOwnProperty(_)||(d||(d={}),d[_]="");for(_ in H)H.hasOwnProperty(_)&&j[_]!==H[_]&&(d||(d={}),d[_]=H[_])}else d||(A||(A=[]),A.push(ae,d)),d=H;else ae==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,j=j?j.__html:void 0,H!=null&&j!==H&&(A=A||[]).push(ae,H)):ae==="children"?typeof H!="string"&&typeof H!="number"||(A=A||[]).push(ae,""+H):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(m.hasOwnProperty(ae)?(H!=null&&ae==="onScroll"&&Yt("scroll",t),A||j===H||(A=[])):(A=A||[]).push(ae,H))}d&&(A=A||[]).push("style",d);var ae=A;(o.updateQueue=ae)&&(o.flags|=4)}},Uh=function(t,o,d,g){d!==g&&(o.flags|=4)};function Ia(t,o){if(!$t)switch(t.tailMode){case"hidden":o=t.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?t.tail=null:d.sibling=null;break;case"collapsed":d=t.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function tr(t){var o=t.alternate!==null&&t.alternate.child===t.child,d=0,g=0;if(o)for(var v=t.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=t,v=v.sibling;else for(v=t.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=t,v=v.sibling;return t.subtreeFlags|=g,t.childLanes=d,o}function iy(t,o,d){var g=o.pendingProps;switch(Cu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(o),null;case 1:return xr(o.type)&&Rl(),tr(o),null;case 3:return g=o.stateNode,Eo(),Kt(pr),Kt(Jn),Mu(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(t===null||t.child===null)&&(Ml(o)?o.flags|=4:t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,si!==null&&(ud(si),si=null))),Ju(t,o),tr(o),null;case 5:Ou(o);var v=Us(ba.current);if(d=o.type,t!==null&&o.stateNode!=null)Vh(t,o,d,g,v),t.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(a(166));return tr(o),null}if(t=Us(yi.current),Ml(o)){g=o.stateNode,d=o.type;var A=o.memoizedProps;switch(g[xi]=o,g[ya]=A,t=(o.mode&1)!==0,d){case"dialog":Yt("cancel",g),Yt("close",g);break;case"iframe":case"object":case"embed":Yt("load",g);break;case"video":case"audio":for(v=0;v<ga.length;v++)Yt(ga[v],g);break;case"source":Yt("error",g);break;case"img":case"image":case"link":Yt("error",g),Yt("load",g);break;case"details":Yt("toggle",g);break;case"input":ir(g,A),Yt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},Yt("invalid",g);break;case"textarea":Fr(g,A),Yt("invalid",g)}wt(d,A),v=null;for(var _ in A)if(A.hasOwnProperty(_)){var j=A[_];_==="children"?typeof j=="string"?g.textContent!==j&&(A.suppressHydrationWarning!==!0&&Nl(g.textContent,j,t),v=["children",j]):typeof j=="number"&&g.textContent!==""+j&&(A.suppressHydrationWarning!==!0&&Nl(g.textContent,j,t),v=["children",""+j]):m.hasOwnProperty(_)&&j!=null&&_==="onScroll"&&Yt("scroll",g)}switch(d){case"input":Dt(g),St(g,A,!0);break;case"textarea":Dt(g),Wi(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=Tl)}g=v,o.updateQueue=g,g!==null&&(o.flags|=4)}else{_=v.nodeType===9?v:v.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bn(d)),t==="http://www.w3.org/1999/xhtml"?d==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof g.is=="string"?t=_.createElement(d,{is:g.is}):(t=_.createElement(d),d==="select"&&(_=t,g.multiple?_.multiple=!0:g.size&&(_.size=g.size))):t=_.createElementNS(t,d),t[xi]=o,t[ya]=g,jh(t,o,!1,!1),o.stateNode=t;e:{switch(_=Mt(d,g),d){case"dialog":Yt("cancel",t),Yt("close",t),v=g;break;case"iframe":case"object":case"embed":Yt("load",t),v=g;break;case"video":case"audio":for(v=0;v<ga.length;v++)Yt(ga[v],t);v=g;break;case"source":Yt("error",t),v=g;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),v=g;break;case"details":Yt("toggle",t),v=g;break;case"input":ir(t,g),v=hr(t,g),Yt("invalid",t);break;case"option":v=g;break;case"select":t._wrapperState={wasMultiple:!!g.multiple},v=be({},g,{value:void 0}),Yt("invalid",t);break;case"textarea":Fr(t,g),v=an(t,g),Yt("invalid",t);break;default:v=g}wt(d,v),j=v;for(A in j)if(j.hasOwnProperty(A)){var H=j[A];A==="style"?ke(t,H):A==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&ln(t,H)):A==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&sr(t,H):typeof H=="number"&&sr(t,""+H):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(m.hasOwnProperty(A)?H!=null&&A==="onScroll"&&Yt("scroll",t):H!=null&&X(t,A,H,_))}switch(d){case"input":Dt(t),St(t,g,!1);break;case"textarea":Dt(t),Wi(t);break;case"option":g.value!=null&&t.setAttribute("value",""+De(g.value));break;case"select":t.multiple=!!g.multiple,A=g.value,A!=null?Pe(t,!!g.multiple,A,!1):g.defaultValue!=null&&Pe(t,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(t.onclick=Tl)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tr(o),null;case 6:if(t&&o.stateNode!=null)Uh(t,o,t.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(a(166));if(d=Us(ba.current),Us(yi.current),Ml(o)){if(g=o.stateNode,d=o.memoizedProps,g[xi]=o,(A=g.nodeValue!==d)&&(t=Or,t!==null))switch(t.tag){case 3:Nl(g.nodeValue,d,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nl(g.nodeValue,d,(t.mode&1)!==0)}A&&(o.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[xi]=o,o.stateNode=g}return tr(o),null;case 13:if(Kt(rn),g=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Dr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)H0(),yo(),o.flags|=98560,A=!1;else if(A=Ml(o),g!==null&&g.dehydrated!==null){if(t===null){if(!A)throw Error(a(318));if(A=o.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(a(317));A[xi]=o}else yo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tr(o),A=!1}else si!==null&&(ud(si),si=null),A=!0;if(!A)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(g=g!==null,g!==(t!==null&&t.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(t===null||(rn.current&1)!==0?Rn===0&&(Rn=3):hd())),o.updateQueue!==null&&(o.flags|=4),tr(o),null);case 4:return Eo(),Ju(t,o),t===null&&pa(o.stateNode.containerInfo),tr(o),null;case 10:return Tu(o.type._context),tr(o),null;case 17:return xr(o.type)&&Rl(),tr(o),null;case 19:if(Kt(rn),A=o.memoizedState,A===null)return tr(o),null;if(g=(o.flags&128)!==0,_=A.rendering,_===null)if(g)Ia(A,!1);else{if(Rn!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(_=Vl(t),_!==null){for(o.flags|=128,Ia(A,!1),g=_.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=d,d=o.child;d!==null;)A=d,t=g,A.flags&=14680066,_=A.alternate,_===null?(A.childLanes=0,A.lanes=t,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=_.childLanes,A.lanes=_.lanes,A.child=_.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=_.memoizedProps,A.memoizedState=_.memoizedState,A.updateQueue=_.updateQueue,A.type=_.type,t=_.dependencies,A.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),d=d.sibling;return Wt(rn,rn.current&1|2),o.child}t=t.sibling}A.tail!==null&&It()>No&&(o.flags|=128,g=!0,Ia(A,!1),o.lanes=4194304)}else{if(!g)if(t=Vl(_),t!==null){if(o.flags|=128,g=!0,d=t.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Ia(A,!0),A.tail===null&&A.tailMode==="hidden"&&!_.alternate&&!$t)return tr(o),null}else 2*It()-A.renderingStartTime>No&&d!==1073741824&&(o.flags|=128,g=!0,Ia(A,!1),o.lanes=4194304);A.isBackwards?(_.sibling=o.child,o.child=_):(d=A.last,d!==null?d.sibling=_:o.child=_,A.last=_)}return A.tail!==null?(o=A.tail,A.rendering=o,A.tail=o.sibling,A.renderingStartTime=It(),o.sibling=null,d=rn.current,Wt(rn,g?d&1|2:d&1),o):(tr(o),null);case 22:case 23:return fd(),g=o.memoizedState!==null,t!==null&&t.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(Mr&1073741824)!==0&&(tr(o),o.subtreeFlags&6&&(o.flags|=8192)):tr(o),null;case 24:return null;case 25:return null}throw Error(a(156,o.tag))}function sy(t,o){switch(Cu(o),o.tag){case 1:return xr(o.type)&&Rl(),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Eo(),Kt(pr),Kt(Jn),Mu(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 5:return Ou(o),null;case 13:if(Kt(rn),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(a(340));yo()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return Kt(rn),null;case 4:return Eo(),null;case 10:return Tu(o.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var Zl=!1,nr=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ao(t,o){var d=t.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){dn(t,o,g)}else d.current=null}function ed(t,o,d){try{d()}catch(g){dn(t,o,g)}}var zh=!1;function ay(t,o){if(fu=gi,t=ut(),it(t)){if("selectionStart"in t)var d={start:t.selectionStart,end:t.selectionEnd};else e:{d=(d=t.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var v=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var _=0,j=-1,H=-1,ae=0,ve=0,Ae=t,ye=null;t:for(;;){for(var Le;Ae!==d||v!==0&&Ae.nodeType!==3||(j=_+v),Ae!==A||g!==0&&Ae.nodeType!==3||(H=_+g),Ae.nodeType===3&&(_+=Ae.nodeValue.length),(Le=Ae.firstChild)!==null;)ye=Ae,Ae=Le;for(;;){if(Ae===t)break t;if(ye===d&&++ae===v&&(j=_),ye===A&&++ve===g&&(H=_),(Le=Ae.nextSibling)!==null)break;Ae=ye,ye=Ae.parentNode}Ae=Le}d=j===-1||H===-1?null:{start:j,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(hu={focusedElem:t,selectionRange:d},gi=!1,Fe=o;Fe!==null;)if(o=Fe,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,Fe=t;else for(;Fe!==null;){o=Fe;try{var Ue=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var He=Ue.memoizedProps,xn=Ue.memoizedState,J=o.stateNode,Y=J.getSnapshotBeforeUpdate(o.elementType===o.type?He:oi(o.type,He),xn);J.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=o.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ie){dn(o,o.return,Ie)}if(t=o.sibling,t!==null){t.return=o.return,Fe=t;break}Fe=o.return}return Ue=zh,zh=!1,Ue}function Ra(t,o,d){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&t)===t){var A=v.destroy;v.destroy=void 0,A!==void 0&&ed(o,d,A)}v=v.next}while(v!==g)}}function ql(t,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&t)===t){var g=d.create;d.destroy=g()}d=d.next}while(d!==o)}}function td(t){var o=t.ref;if(o!==null){var d=t.stateNode;switch(t.tag){case 5:t=d;break;default:t=d}typeof o=="function"?o(t):o.current=t}}function Wh(t){var o=t.alternate;o!==null&&(t.alternate=null,Wh(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&(delete o[xi],delete o[ya],delete o[xu],delete o[W2],delete o[H2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hh(t){return t.tag===5||t.tag===3||t.tag===4}function Gh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,o,d){var g=t.tag;if(g===5||g===6)t=t.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(t,o):d.insertBefore(t,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(t,d)):(o=d,o.appendChild(t)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Tl));else if(g!==4&&(t=t.child,t!==null))for(nd(t,o,d),t=t.sibling;t!==null;)nd(t,o,d),t=t.sibling}function rd(t,o,d){var g=t.tag;if(g===5||g===6)t=t.stateNode,o?d.insertBefore(t,o):d.appendChild(t);else if(g!==4&&(t=t.child,t!==null))for(rd(t,o,d),t=t.sibling;t!==null;)rd(t,o,d),t=t.sibling}var Gn=null,ai=!1;function ds(t,o,d){for(d=d.child;d!==null;)Xh(t,o,d),d=d.sibling}function Xh(t,o,d){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(xt,d)}catch{}switch(d.tag){case 5:nr||Ao(d,o);case 6:var g=Gn,v=ai;Gn=null,ds(t,o,d),Gn=g,ai=v,Gn!==null&&(ai?(t=Gn,d=d.stateNode,t.nodeType===8?t.parentNode.removeChild(d):t.removeChild(d)):Gn.removeChild(d.stateNode));break;case 18:Gn!==null&&(ai?(t=Gn,d=d.stateNode,t.nodeType===8?pu(t.parentNode,d):t.nodeType===1&&pu(t,d),ni(t)):pu(Gn,d.stateNode));break;case 4:g=Gn,v=ai,Gn=d.stateNode.containerInfo,ai=!0,ds(t,o,d),Gn=g,ai=v;break;case 0:case 11:case 14:case 15:if(!nr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var A=v,_=A.destroy;A=A.tag,_!==void 0&&((A&2)!==0||(A&4)!==0)&&ed(d,o,_),v=v.next}while(v!==g)}ds(t,o,d);break;case 1:if(!nr&&(Ao(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(j){dn(d,o,j)}ds(t,o,d);break;case 21:ds(t,o,d);break;case 22:d.mode&1?(nr=(g=nr)||d.memoizedState!==null,ds(t,o,d),nr=g):ds(t,o,d);break;default:ds(t,o,d)}}function Yh(t){var o=t.updateQueue;if(o!==null){t.updateQueue=null;var d=t.stateNode;d===null&&(d=t.stateNode=new oy),o.forEach(function(g){var v=py.bind(null,t,g);d.has(g)||(d.add(g),g.then(v,v))})}}function li(t,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];try{var A=t,_=o,j=_;e:for(;j!==null;){switch(j.tag){case 5:Gn=j.stateNode,ai=!1;break e;case 3:Gn=j.stateNode.containerInfo,ai=!0;break e;case 4:Gn=j.stateNode.containerInfo,ai=!0;break e}j=j.return}if(Gn===null)throw Error(a(160));Xh(A,_,v),Gn=null,ai=!1;var H=v.alternate;H!==null&&(H.return=null),v.return=null}catch(ae){dn(v,o,ae)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Kh(o,t),o=o.sibling}function Kh(t,o){var d=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(li(o,t),vi(t),g&4){try{Ra(3,t,t.return),ql(3,t)}catch(He){dn(t,t.return,He)}try{Ra(5,t,t.return)}catch(He){dn(t,t.return,He)}}break;case 1:li(o,t),vi(t),g&512&&d!==null&&Ao(d,d.return);break;case 5:if(li(o,t),vi(t),g&512&&d!==null&&Ao(d,d.return),t.flags&32){var v=t.stateNode;try{sr(v,"")}catch(He){dn(t,t.return,He)}}if(g&4&&(v=t.stateNode,v!=null)){var A=t.memoizedProps,_=d!==null?d.memoizedProps:A,j=t.type,H=t.updateQueue;if(t.updateQueue=null,H!==null)try{j==="input"&&A.type==="radio"&&A.name!=null&&ei(v,A),Mt(j,_);var ae=Mt(j,A);for(_=0;_<H.length;_+=2){var ve=H[_],Ae=H[_+1];ve==="style"?ke(v,Ae):ve==="dangerouslySetInnerHTML"?ln(v,Ae):ve==="children"?sr(v,Ae):X(v,ve,Ae,ae)}switch(j){case"input":Bt(v,A);break;case"textarea":mr(v,A);break;case"select":var ye=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!A.multiple;var Le=A.value;Le!=null?Pe(v,!!A.multiple,Le,!1):ye!==!!A.multiple&&(A.defaultValue!=null?Pe(v,!!A.multiple,A.defaultValue,!0):Pe(v,!!A.multiple,A.multiple?[]:"",!1))}v[ya]=A}catch(He){dn(t,t.return,He)}}break;case 6:if(li(o,t),vi(t),g&4){if(t.stateNode===null)throw Error(a(162));v=t.stateNode,A=t.memoizedProps;try{v.nodeValue=A}catch(He){dn(t,t.return,He)}}break;case 3:if(li(o,t),vi(t),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ni(o.containerInfo)}catch(He){dn(t,t.return,He)}break;case 4:li(o,t),vi(t);break;case 13:li(o,t),vi(t),v=t.child,v.flags&8192&&(A=v.memoizedState!==null,v.stateNode.isHidden=A,!A||v.alternate!==null&&v.alternate.memoizedState!==null||(od=It())),g&4&&Yh(t);break;case 22:if(ve=d!==null&&d.memoizedState!==null,t.mode&1?(nr=(ae=nr)||ve,li(o,t),nr=ae):li(o,t),vi(t),g&8192){if(ae=t.memoizedState!==null,(t.stateNode.isHidden=ae)&&!ve&&(t.mode&1)!==0)for(Fe=t,ve=t.child;ve!==null;){for(Ae=Fe=ve;Fe!==null;){switch(ye=Fe,Le=ye.child,ye.tag){case 0:case 11:case 14:case 15:Ra(4,ye,ye.return);break;case 1:Ao(ye,ye.return);var Ue=ye.stateNode;if(typeof Ue.componentWillUnmount=="function"){g=ye,d=ye.return;try{o=g,Ue.props=o.memoizedProps,Ue.state=o.memoizedState,Ue.componentWillUnmount()}catch(He){dn(g,d,He)}}break;case 5:Ao(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Qh(Ae);continue}}Le!==null?(Le.return=ye,Fe=Le):Qh(Ae)}ve=ve.sibling}e:for(ve=null,Ae=t;;){if(Ae.tag===5){if(ve===null){ve=Ae;try{v=Ae.stateNode,ae?(A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(j=Ae.stateNode,H=Ae.memoizedProps.style,_=H!=null&&H.hasOwnProperty("display")?H.display:null,j.style.display=Ht("display",_))}catch(He){dn(t,t.return,He)}}}else if(Ae.tag===6){if(ve===null)try{Ae.stateNode.nodeValue=ae?"":Ae.memoizedProps}catch(He){dn(t,t.return,He)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===t)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===t)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===t)break e;ve===Ae&&(ve=null),Ae=Ae.return}ve===Ae&&(ve=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:li(o,t),vi(t),g&4&&Yh(t);break;case 21:break;default:li(o,t),vi(t)}}function vi(t){var o=t.flags;if(o&2){try{e:{for(var d=t.return;d!==null;){if(Hh(d)){var g=d;break e}d=d.return}throw Error(a(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(sr(v,""),g.flags&=-33);var A=Gh(t);rd(t,A,v);break;case 3:case 4:var _=g.stateNode.containerInfo,j=Gh(t);nd(t,j,_);break;default:throw Error(a(161))}}catch(H){dn(t,t.return,H)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function ly(t,o,d){Fe=t,Zh(t)}function Zh(t,o,d){for(var g=(t.mode&1)!==0;Fe!==null;){var v=Fe,A=v.child;if(v.tag===22&&g){var _=v.memoizedState!==null||Zl;if(!_){var j=v.alternate,H=j!==null&&j.memoizedState!==null||nr;j=Zl;var ae=nr;if(Zl=_,(nr=H)&&!ae)for(Fe=v;Fe!==null;)_=Fe,H=_.child,_.tag===22&&_.memoizedState!==null?$h(v):H!==null?(H.return=_,Fe=H):$h(v);for(;A!==null;)Fe=A,Zh(A),A=A.sibling;Fe=v,Zl=j,nr=ae}qh(t)}else(v.subtreeFlags&8772)!==0&&A!==null?(A.return=v,Fe=A):qh(t)}}function qh(t){for(;Fe!==null;){var o=Fe;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nr||ql(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!nr)if(d===null)g.componentDidMount();else{var v=o.elementType===o.type?d.memoizedProps:oi(o.type,d.memoizedProps);g.componentDidUpdate(v,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=o.updateQueue;A!==null&&Q0(o,A,g);break;case 3:var _=o.updateQueue;if(_!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}Q0(o,_,d)}break;case 5:var j=o.stateNode;if(d===null&&o.flags&4){d=j;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ae=o.alternate;if(ae!==null){var ve=ae.memoizedState;if(ve!==null){var Ae=ve.dehydrated;Ae!==null&&ni(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}nr||o.flags&512&&td(o)}catch(ye){dn(o,o.return,ye)}}if(o===t){Fe=null;break}if(d=o.sibling,d!==null){d.return=o.return,Fe=d;break}Fe=o.return}}function Qh(t){for(;Fe!==null;){var o=Fe;if(o===t){Fe=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Fe=d;break}Fe=o.return}}function $h(t){for(;Fe!==null;){var o=Fe;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{ql(4,o)}catch(H){dn(o,d,H)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var v=o.return;try{g.componentDidMount()}catch(H){dn(o,v,H)}}var A=o.return;try{td(o)}catch(H){dn(o,A,H)}break;case 5:var _=o.return;try{td(o)}catch(H){dn(o,_,H)}}}catch(H){dn(o,o.return,H)}if(o===t){Fe=null;break}var j=o.sibling;if(j!==null){j.return=o.return,Fe=j;break}Fe=o.return}}var cy=Math.ceil,Ql=ne.ReactCurrentDispatcher,id=ne.ReactCurrentOwner,Yr=ne.ReactCurrentBatchConfig,bt=0,Ln=null,vn=null,Xn=0,Mr=0,So=os(0),Rn=0,ka=null,Ws=0,$l=0,sd=0,_a=null,wr=null,od=0,No=1/0,Bi=null,Jl=!1,ad=null,fs=null,ec=!1,hs=null,tc=0,Oa=0,ld=null,nc=-1,rc=0;function cr(){return(bt&6)!==0?It():nc!==-1?nc:nc=It()}function ms(t){return(t.mode&1)===0?1:(bt&2)!==0&&Xn!==0?Xn&-Xn:X2.transition!==null?(rc===0&&(rc=An()),rc):(t=lt,t!==0||(t=window.event,t=t===void 0?16:sa(t.type)),t)}function ci(t,o,d,g){if(50<Oa)throw Oa=0,ld=null,Error(a(185));M(t,d,g),((bt&2)===0||t!==Ln)&&(t===Ln&&((bt&2)===0&&($l|=d),Rn===4&&gs(t,Xn)),vr(t,g),d===1&&bt===0&&(o.mode&1)===0&&(No=It()+500,_l&&ls()))}function vr(t,o){var d=t.callbackNode;Zi(t,o);var g=Ir(t,t===Ln?Xn:0);if(g===0)d!==null&&Dn(d),t.callbackNode=null,t.callbackPriority=0;else if(o=g&-g,t.callbackPriority!==o){if(d!=null&&Dn(d),o===1)t.tag===0?G2(e1.bind(null,t)):j0(e1.bind(null,t)),U2(function(){(bt&6)===0&&ls()}),d=null;else{switch(fl(g)){case 1:d=he;break;case 4:d=ul;break;case 16:d=Ft;break;case 536870912:d=dl;break;default:d=Ft}d=l1(d,Jh.bind(null,t))}t.callbackPriority=o,t.callbackNode=d}}function Jh(t,o){if(nc=-1,rc=0,(bt&6)!==0)throw Error(a(327));var d=t.callbackNode;if(To()&&t.callbackNode!==d)return null;var g=Ir(t,t===Ln?Xn:0);if(g===0)return null;if((g&30)!==0||(g&t.expiredLanes)!==0||o)o=ic(t,g);else{o=g;var v=bt;bt|=2;var A=n1();(Ln!==t||Xn!==o)&&(Bi=null,No=It()+500,Gs(t,o));do try{fy();break}catch(j){t1(t,j)}while(!0);Nu(),Ql.current=A,bt=v,vn!==null?o=0:(Ln=null,Xn=0,o=Rn)}if(o!==0){if(o===2&&(v=Rt(t),v!==0&&(g=v,o=cd(t,v))),o===1)throw d=ka,Gs(t,0),gs(t,g),vr(t,It()),d;if(o===6)gs(t,g);else{if(v=t.current.alternate,(g&30)===0&&!uy(v)&&(o=ic(t,g),o===2&&(A=Rt(t),A!==0&&(g=A,o=cd(t,A))),o===1))throw d=ka,Gs(t,0),gs(t,g),vr(t,It()),d;switch(t.finishedWork=v,t.finishedLanes=g,o){case 0:case 1:throw Error(a(345));case 2:Xs(t,wr,Bi);break;case 3:if(gs(t,g),(g&130023424)===g&&(o=od+500-It(),10<o)){if(Ir(t,0)!==0)break;if(v=t.suspendedLanes,(v&g)!==g){cr(),t.pingedLanes|=t.suspendedLanes&v;break}t.timeoutHandle=gu(Xs.bind(null,t,wr,Bi),o);break}Xs(t,wr,Bi);break;case 4:if(gs(t,g),(g&4194240)===g)break;for(o=t.eventTimes,v=-1;0<g;){var _=31-ar(g);A=1<<_,_=o[_],_>v&&(v=_),g&=~A}if(g=v,g=It()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*cy(g/1960))-g,10<g){t.timeoutHandle=gu(Xs.bind(null,t,wr,Bi),g);break}Xs(t,wr,Bi);break;case 5:Xs(t,wr,Bi);break;default:throw Error(a(329))}}}return vr(t,It()),t.callbackNode===d?Jh.bind(null,t):null}function cd(t,o){var d=_a;return t.current.memoizedState.isDehydrated&&(Gs(t,o).flags|=256),t=ic(t,o),t!==2&&(o=wr,wr=d,o!==null&&ud(o)),t}function ud(t){wr===null?wr=t:wr.push.apply(wr,t)}function uy(t){for(var o=t;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var v=d[g],A=v.getSnapshot;v=v.value;try{if(!q(A(),v))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gs(t,o){for(o&=~sd,o&=~$l,t.suspendedLanes|=o,t.pingedLanes&=~o,t=t.expirationTimes;0<o;){var d=31-ar(o),g=1<<d;t[d]=-1,o&=~g}}function e1(t){if((bt&6)!==0)throw Error(a(327));To();var o=Ir(t,0);if((o&1)===0)return vr(t,It()),null;var d=ic(t,o);if(t.tag!==0&&d===2){var g=Rt(t);g!==0&&(o=g,d=cd(t,g))}if(d===1)throw d=ka,Gs(t,0),gs(t,o),vr(t,It()),d;if(d===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=o,Xs(t,wr,Bi),vr(t,It()),null}function dd(t,o){var d=bt;bt|=1;try{return t(o)}finally{bt=d,bt===0&&(No=It()+500,_l&&ls())}}function Hs(t){hs!==null&&hs.tag===0&&(bt&6)===0&&To();var o=bt;bt|=1;var d=Yr.transition,g=lt;try{if(Yr.transition=null,lt=1,t)return t()}finally{lt=g,Yr.transition=d,bt=o,(bt&6)===0&&ls()}}function fd(){Mr=So.current,Kt(So)}function Gs(t,o){t.finishedWork=null,t.finishedLanes=0;var d=t.timeoutHandle;if(d!==-1&&(t.timeoutHandle=-1,V2(d)),vn!==null)for(d=vn.return;d!==null;){var g=d;switch(Cu(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Rl();break;case 3:Eo(),Kt(pr),Kt(Jn),Mu();break;case 5:Ou(g);break;case 4:Eo();break;case 13:Kt(rn);break;case 19:Kt(rn);break;case 10:Tu(g.type._context);break;case 22:case 23:fd()}d=d.return}if(Ln=t,vn=t=ps(t.current,null),Xn=Mr=o,Rn=0,ka=null,sd=$l=Ws=0,wr=_a=null,Vs!==null){for(o=0;o<Vs.length;o++)if(d=Vs[o],g=d.interleaved,g!==null){d.interleaved=null;var v=g.next,A=d.pending;if(A!==null){var _=A.next;A.next=v,g.next=_}d.pending=g}Vs=null}return t}function t1(t,o){do{var d=vn;try{if(Nu(),Ul.current=Gl,zl){for(var g=sn.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}zl=!1}if(zs=0,Pn=In=sn=null,Aa=!1,Sa=0,id.current=null,d===null||d.return===null){Rn=1,ka=o,vn=null;break}e:{var A=t,_=d.return,j=d,H=o;if(o=Xn,j.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=H,ve=j,Ae=ve.tag;if((ve.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Le=Nh(_);if(Le!==null){Le.flags&=-257,Th(Le,_,j,A,o),Le.mode&1&&Sh(A,ae,o),o=Le,H=ae;var Ue=o.updateQueue;if(Ue===null){var He=new Set;He.add(H),o.updateQueue=He}else Ue.add(H);break e}else{if((o&1)===0){Sh(A,ae,o),hd();break e}H=Error(a(426))}}else if($t&&j.mode&1){var xn=Nh(_);if(xn!==null){(xn.flags&65536)===0&&(xn.flags|=256),Th(xn,_,j,A,o),Au(bo(H,j));break e}}A=H=bo(H,j),Rn!==4&&(Rn=2),_a===null?_a=[A]:_a.push(A),A=_;do{switch(A.tag){case 3:A.flags|=65536,o&=-o,A.lanes|=o;var J=bh(A,H,o);q0(A,J);break e;case 1:j=H;var Y=A.type,re=A.stateNode;if((A.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(fs===null||!fs.has(re)))){A.flags|=65536,o&=-o,A.lanes|=o;var Ie=Ah(A,j,o);q0(A,Ie);break e}}A=A.return}while(A!==null)}i1(d)}catch(Ge){o=Ge,vn===d&&d!==null&&(vn=d=d.return);continue}break}while(!0)}function n1(){var t=Ql.current;return Ql.current=Gl,t===null?Gl:t}function hd(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Ln===null||(Ws&268435455)===0&&($l&268435455)===0||gs(Ln,Xn)}function ic(t,o){var d=bt;bt|=2;var g=n1();(Ln!==t||Xn!==o)&&(Bi=null,Gs(t,o));do try{dy();break}catch(v){t1(t,v)}while(!0);if(Nu(),bt=d,Ql.current=g,vn!==null)throw Error(a(261));return Ln=null,Xn=0,Rn}function dy(){for(;vn!==null;)r1(vn)}function fy(){for(;vn!==null&&!Vt();)r1(vn)}function r1(t){var o=a1(t.alternate,t,Mr);t.memoizedProps=t.pendingProps,o===null?i1(t):vn=o,id.current=null}function i1(t){var o=t;do{var d=o.alternate;if(t=o.return,(o.flags&32768)===0){if(d=iy(d,o,Mr),d!==null){vn=d;return}}else{if(d=sy(d,o),d!==null){d.flags&=32767,vn=d;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,vn=null;return}}if(o=o.sibling,o!==null){vn=o;return}vn=o=t}while(o!==null);Rn===0&&(Rn=5)}function Xs(t,o,d){var g=lt,v=Yr.transition;try{Yr.transition=null,lt=1,hy(t,o,d,g)}finally{Yr.transition=v,lt=g}return null}function hy(t,o,d,g){do To();while(hs!==null);if((bt&6)!==0)throw Error(a(327));d=t.finishedWork;var v=t.finishedLanes;if(d===null)return null;if(t.finishedWork=null,t.finishedLanes=0,d===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var A=d.lanes|d.childLanes;if(Xe(t,A),t===Ln&&(vn=Ln=null,Xn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||ec||(ec=!0,l1(Ft,function(){return To(),null})),A=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||A){A=Yr.transition,Yr.transition=null;var _=lt;lt=1;var j=bt;bt|=4,id.current=null,ay(t,d),Kh(d,t),$n(hu),gi=!!fu,hu=fu=null,t.current=d,ly(d),cl(),bt=j,lt=_,Yr.transition=A}else t.current=d;if(ec&&(ec=!1,hs=t,tc=v),A=t.pendingLanes,A===0&&(fs=null),mt(d.stateNode),vr(t,It()),o!==null)for(g=t.onRecoverableError,d=0;d<o.length;d++)v=o[d],g(v.value,{componentStack:v.stack,digest:v.digest});if(Jl)throw Jl=!1,t=ad,ad=null,t;return(tc&1)!==0&&t.tag!==0&&To(),A=t.pendingLanes,(A&1)!==0?t===ld?Oa++:(Oa=0,ld=t):Oa=0,ls(),null}function To(){if(hs!==null){var t=fl(tc),o=Yr.transition,d=lt;try{if(Yr.transition=null,lt=16>t?16:t,hs===null)var g=!1;else{if(t=hs,hs=null,tc=0,(bt&6)!==0)throw Error(a(331));var v=bt;for(bt|=4,Fe=t.current;Fe!==null;){var A=Fe,_=A.child;if((Fe.flags&16)!==0){var j=A.deletions;if(j!==null){for(var H=0;H<j.length;H++){var ae=j[H];for(Fe=ae;Fe!==null;){var ve=Fe;switch(ve.tag){case 0:case 11:case 15:Ra(8,ve,A)}var Ae=ve.child;if(Ae!==null)Ae.return=ve,Fe=Ae;else for(;Fe!==null;){ve=Fe;var ye=ve.sibling,Le=ve.return;if(Wh(ve),ve===ae){Fe=null;break}if(ye!==null){ye.return=Le,Fe=ye;break}Fe=Le}}}var Ue=A.alternate;if(Ue!==null){var He=Ue.child;if(He!==null){Ue.child=null;do{var xn=He.sibling;He.sibling=null,He=xn}while(He!==null)}}Fe=A}}if((A.subtreeFlags&2064)!==0&&_!==null)_.return=A,Fe=_;else e:for(;Fe!==null;){if(A=Fe,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Ra(9,A,A.return)}var J=A.sibling;if(J!==null){J.return=A.return,Fe=J;break e}Fe=A.return}}var Y=t.current;for(Fe=Y;Fe!==null;){_=Fe;var re=_.child;if((_.subtreeFlags&2064)!==0&&re!==null)re.return=_,Fe=re;else e:for(_=Y;Fe!==null;){if(j=Fe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:ql(9,j)}}catch(Ge){dn(j,j.return,Ge)}if(j===_){Fe=null;break e}var Ie=j.sibling;if(Ie!==null){Ie.return=j.return,Fe=Ie;break e}Fe=j.return}}if(bt=v,ls(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(xt,t)}catch{}g=!0}return g}finally{lt=d,Yr.transition=o}}return!1}function s1(t,o,d){o=bo(d,o),o=bh(t,o,1),t=us(t,o,1),o=cr(),t!==null&&(M(t,1,o),vr(t,o))}function dn(t,o,d){if(t.tag===3)s1(t,t,d);else for(;o!==null;){if(o.tag===3){s1(o,t,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(fs===null||!fs.has(g))){t=bo(d,t),t=Ah(o,t,1),o=us(o,t,1),t=cr(),o!==null&&(M(o,1,t),vr(o,t));break}}o=o.return}}function my(t,o,d){var g=t.pingCache;g!==null&&g.delete(o),o=cr(),t.pingedLanes|=t.suspendedLanes&d,Ln===t&&(Xn&d)===d&&(Rn===4||Rn===3&&(Xn&130023424)===Xn&&500>It()-od?Gs(t,0):sd|=d),vr(t,o)}function o1(t,o){o===0&&((t.mode&1)===0?o=1:(o=no,no<<=1,(no&130023424)===0&&(no=4194304)));var d=cr();t=Mi(t,o),t!==null&&(M(t,o,d),vr(t,d))}function gy(t){var o=t.memoizedState,d=0;o!==null&&(d=o.retryLane),o1(t,d)}function py(t,o){var d=0;switch(t.tag){case 13:var g=t.stateNode,v=t.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=t.stateNode;break;default:throw Error(a(314))}g!==null&&g.delete(o),o1(t,d)}var a1;a1=function(t,o,d){if(t!==null)if(t.memoizedProps!==o.pendingProps||pr.current)yr=!0;else{if((t.lanes&d)===0&&(o.flags&128)===0)return yr=!1,ry(t,o,d);yr=(t.flags&131072)!==0}else yr=!1,$t&&(o.flags&1048576)!==0&&V0(o,Dl,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;Kl(t,o),t=o.pendingProps;var v=go(o,Jn.current);Co(o,d),v=Bu(null,o,g,t,v,d);var A=Fu();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,xr(g)?(A=!0,kl(o)):A=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,ku(o),v.updater=Xl,o.stateNode=v,v._reactInternals=o,Hu(o,g,t,d),o=Ku(null,o,g,!0,A,d)):(o.tag=0,$t&&A&&vu(o),lr(null,o,v,d),o=o.child),o;case 16:g=o.elementType;e:{switch(Kl(t,o),t=o.pendingProps,v=g._init,g=v(g._payload),o.type=g,v=o.tag=yy(g),t=oi(g,t),v){case 0:o=Yu(null,o,g,t,d);break e;case 1:o=Dh(null,o,g,t,d);break e;case 11:o=Ih(null,o,g,t,d);break e;case 14:o=Rh(null,o,g,oi(g.type,t),d);break e}throw Error(a(306,g,""))}return o;case 0:return g=o.type,v=o.pendingProps,v=o.elementType===g?v:oi(g,v),Yu(t,o,g,v,d);case 1:return g=o.type,v=o.pendingProps,v=o.elementType===g?v:oi(g,v),Dh(t,o,g,v,d);case 3:e:{if(Mh(o),t===null)throw Error(a(387));g=o.pendingProps,A=o.memoizedState,v=A.element,Z0(t,o),jl(o,g,null,d);var _=o.memoizedState;if(g=_.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=A,o.memoizedState=A,o.flags&256){v=bo(Error(a(423)),o),o=Ph(t,o,g,d,v);break e}else if(g!==v){v=bo(Error(a(424)),o),o=Ph(t,o,g,d,v);break e}else for(Dr=ss(o.stateNode.containerInfo.firstChild),Or=o,$t=!0,si=null,d=Y0(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(yo(),g===v){o=Li(t,o,d);break e}lr(t,o,g,d)}o=o.child}return o;case 5:return $0(o),t===null&&bu(o),g=o.type,v=o.pendingProps,A=t!==null?t.memoizedProps:null,_=v.children,mu(g,v)?_=null:A!==null&&mu(g,A)&&(o.flags|=32),Oh(t,o),lr(t,o,_,d),o.child;case 6:return t===null&&bu(o),null;case 13:return Lh(t,o,d);case 4:return _u(o,o.stateNode.containerInfo),g=o.pendingProps,t===null?o.child=wo(o,null,g,d):lr(t,o,g,d),o.child;case 11:return g=o.type,v=o.pendingProps,v=o.elementType===g?v:oi(g,v),Ih(t,o,g,v,d);case 7:return lr(t,o,o.pendingProps,d),o.child;case 8:return lr(t,o,o.pendingProps.children,d),o.child;case 12:return lr(t,o,o.pendingProps.children,d),o.child;case 10:e:{if(g=o.type._context,v=o.pendingProps,A=o.memoizedProps,_=v.value,Wt(Ll,g._currentValue),g._currentValue=_,A!==null)if(q(A.value,_)){if(A.children===v.children&&!pr.current){o=Li(t,o,d);break e}}else for(A=o.child,A!==null&&(A.return=o);A!==null;){var j=A.dependencies;if(j!==null){_=A.child;for(var H=j.firstContext;H!==null;){if(H.context===g){if(A.tag===1){H=Pi(-1,d&-d),H.tag=2;var ae=A.updateQueue;if(ae!==null){ae=ae.shared;var ve=ae.pending;ve===null?H.next=H:(H.next=ve.next,ve.next=H),ae.pending=H}}A.lanes|=d,H=A.alternate,H!==null&&(H.lanes|=d),Iu(A.return,d,o),j.lanes|=d;break}H=H.next}}else if(A.tag===10)_=A.type===o.type?null:A.child;else if(A.tag===18){if(_=A.return,_===null)throw Error(a(341));_.lanes|=d,j=_.alternate,j!==null&&(j.lanes|=d),Iu(_,d,o),_=A.sibling}else _=A.child;if(_!==null)_.return=A;else for(_=A;_!==null;){if(_===o){_=null;break}if(A=_.sibling,A!==null){A.return=_.return,_=A;break}_=_.return}A=_}lr(t,o,v.children,d),o=o.child}return o;case 9:return v=o.type,g=o.pendingProps.children,Co(o,d),v=Gr(v),g=g(v),o.flags|=1,lr(t,o,g,d),o.child;case 14:return g=o.type,v=oi(g,o.pendingProps),v=oi(g.type,v),Rh(t,o,g,v,d);case 15:return kh(t,o,o.type,o.pendingProps,d);case 17:return g=o.type,v=o.pendingProps,v=o.elementType===g?v:oi(g,v),Kl(t,o),o.tag=1,xr(g)?(t=!0,kl(o)):t=!1,Co(o,d),Ch(o,g,v),Hu(o,g,v,d),Ku(null,o,g,!0,t,d);case 19:return Fh(t,o,d);case 22:return _h(t,o,d)}throw Error(a(156,o.tag))};function l1(t,o){return Nr(t,o)}function xy(t,o,d,g){this.tag=t,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,o,d,g){return new xy(t,o,d,g)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yy(t){if(typeof t=="function")return md(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ce)return 11;if(t===te)return 14}return 2}function ps(t,o){var d=t.alternate;return d===null?(d=Kr(t.tag,o,t.key,t.mode),d.elementType=t.elementType,d.type=t.type,d.stateNode=t.stateNode,d.alternate=t,t.alternate=d):(d.pendingProps=o,d.type=t.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=t.flags&14680064,d.childLanes=t.childLanes,d.lanes=t.lanes,d.child=t.child,d.memoizedProps=t.memoizedProps,d.memoizedState=t.memoizedState,d.updateQueue=t.updateQueue,o=t.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=t.sibling,d.index=t.index,d.ref=t.ref,d}function sc(t,o,d,g,v,A){var _=2;if(g=t,typeof t=="function")md(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case Z:return Ys(d.children,v,A,o);case Q:_=8,v|=8;break;case le:return t=Kr(12,d,o,v|2),t.elementType=le,t.lanes=A,t;case xe:return t=Kr(13,d,o,v),t.elementType=xe,t.lanes=A,t;case je:return t=Kr(19,d,o,v),t.elementType=je,t.lanes=A,t;case pe:return oc(d,v,A,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:_=10;break e;case me:_=9;break e;case ce:_=11;break e;case te:_=14;break e;case _e:_=16,g=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return o=Kr(_,d,o,v),o.elementType=t,o.type=g,o.lanes=A,o}function Ys(t,o,d,g){return t=Kr(7,t,g,o),t.lanes=d,t}function oc(t,o,d,g){return t=Kr(22,t,g,o),t.elementType=pe,t.lanes=d,t.stateNode={isHidden:!1},t}function gd(t,o,d){return t=Kr(6,t,null,o),t.lanes=d,t}function pd(t,o,d){return o=Kr(4,t.children!==null?t.children:[],t.key,o),o.lanes=d,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function wy(t,o,d,g,v){this.tag=o,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$(0),this.expirationTimes=$(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function xd(t,o,d,g,v,A,_,j,H){return t=new wy(t,o,d,j,H),o===1?(o=1,A===!0&&(o|=8)):o=0,A=Kr(3,null,null,o),t.current=A,A.stateNode=t,A.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(A),t}function vy(t,o,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:g==null?null:""+g,children:t,containerInfo:o,implementation:d}}function c1(t){if(!t)return as;t=t._reactInternals;e:{if(gr(t)!==t||t.tag!==1)throw Error(a(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(xr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(a(171))}if(t.tag===1){var d=t.type;if(xr(d))return B0(t,d,o)}return o}function u1(t,o,d,g,v,A,_,j,H){return t=xd(d,g,!0,t,v,A,_,j,H),t.context=c1(null),d=t.current,g=cr(),v=ms(d),A=Pi(g,v),A.callback=o??null,us(d,A,v),t.current.lanes=v,M(t,v,g),vr(t,g),t}function ac(t,o,d,g){var v=o.current,A=cr(),_=ms(v);return d=c1(d),o.context===null?o.context=d:o.pendingContext=d,o=Pi(A,_),o.payload={element:t},g=g===void 0?null:g,g!==null&&(o.callback=g),t=us(v,o,_),t!==null&&(ci(t,v,_,A),Fl(t,v,_)),_}function lc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d1(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var d=t.retryLane;t.retryLane=d!==0&&d<o?d:o}}function yd(t,o){d1(t,o),(t=t.alternate)&&d1(t,o)}function Cy(){return null}var f1=typeof reportError=="function"?reportError:function(t){console.error(t)};function wd(t){this._internalRoot=t}cc.prototype.render=wd.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(a(409));ac(t,o,null,null)},cc.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Hs(function(){ac(null,t,null,null)}),o[ki]=null}};function cc(t){this._internalRoot=t}cc.prototype.unstable_scheduleHydration=function(t){if(t){var o=Ut();t={blockedOn:null,target:t,priority:o};for(var d=0;d<zn.length&&o!==0&&o<zn[d].priority;d++);zn.splice(d,0,t),d===0&&ml(t)}};function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h1(){}function Ey(t,o,d,g,v){if(v){if(typeof g=="function"){var A=g;g=function(){var ae=lc(_);A.call(ae)}}var _=u1(o,g,t,0,null,!1,!1,"",h1);return t._reactRootContainer=_,t[ki]=_.current,pa(t.nodeType===8?t.parentNode:t),Hs(),_}for(;v=t.lastChild;)t.removeChild(v);if(typeof g=="function"){var j=g;g=function(){var ae=lc(H);j.call(ae)}}var H=xd(t,0,!1,null,null,!1,!1,"",h1);return t._reactRootContainer=H,t[ki]=H.current,pa(t.nodeType===8?t.parentNode:t),Hs(function(){ac(o,H,d,g)}),H}function dc(t,o,d,g,v){var A=d._reactRootContainer;if(A){var _=A;if(typeof v=="function"){var j=v;v=function(){var H=lc(_);j.call(H)}}ac(o,_,t,v)}else _=Ey(d,o,t,v,g);return lc(_)}ro=function(t){switch(t.tag){case 3:var o=t.stateNode;if(o.current.memoizedState.isDehydrated){var d=jt(o.pendingLanes);d!==0&&(cn(o,d|1),vr(o,It()),(bt&6)===0&&(No=It()+500,ls()))}break;case 13:Hs(function(){var g=Mi(t,1);if(g!==null){var v=cr();ci(g,t,1,v)}}),yd(t,1)}},Qn=function(t){if(t.tag===13){var o=Mi(t,134217728);if(o!==null){var d=cr();ci(o,t,134217728,d)}yd(t,134217728)}},Ke=function(t){if(t.tag===13){var o=ms(t),d=Mi(t,o);if(d!==null){var g=cr();ci(d,t,o,g)}yd(t,o)}},Ut=function(){return lt},na=function(t,o){var d=lt;try{return lt=t,o()}finally{lt=d}},Gi=function(t,o,d){switch(o){case"input":if(Bt(t,d),o=d.name,d.type==="radio"&&o!=null){for(d=t;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==t&&g.form===t.form){var v=Il(g);if(!v)throw Error(a(90));En(g),Bt(g,v)}}}break;case"textarea":mr(t,d);break;case"select":o=d.value,o!=null&&Pe(t,!!d.multiple,o,!1)}},en=dd,Ct=Hs;var by={usingClientEntryPoint:!1,Events:[wa,ho,Il,tt,vt,dd]},Da={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ay={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=al(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||Cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xt=fc.inject(Ay),at=fc}catch{}}return Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=by,Cr.createPortal=function(t,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(o))throw Error(a(200));return vy(t,o,null,d)},Cr.createRoot=function(t,o){if(!vd(t))throw Error(a(299));var d=!1,g="",v=f1;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=xd(t,1,!1,null,null,d,!1,g,v),t[ki]=o.current,pa(t.nodeType===8?t.parentNode:t),new wd(o)},Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=al(o),t=t===null?null:t.stateNode,t},Cr.flushSync=function(t){return Hs(t)},Cr.hydrate=function(t,o,d){if(!uc(o))throw Error(a(200));return dc(null,t,o,!0,d)},Cr.hydrateRoot=function(t,o,d){if(!vd(t))throw Error(a(405));var g=d!=null&&d.hydratedSources||null,v=!1,A="",_=f1;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),o=u1(o,null,t,1,d??null,v,!1,A,_),t[ki]=o.current,pa(t),g)for(t=0;t<g.length;t++)d=g[t],v=d._getVersion,v=v(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,v]:o.mutableSourceEagerHydrationData.push(d,v);return new cc(o)},Cr.render=function(t,o,d){if(!uc(o))throw Error(a(200));return dc(null,t,o,!1,d)},Cr.unmountComponentAtNode=function(t){if(!uc(t))throw Error(a(40));return t._reactRootContainer?(Hs(function(){dc(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1},Cr.unstable_batchedUpdates=dd,Cr.unstable_renderSubtreeIntoContainer=function(t,o,d,g){if(!uc(d))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return dc(t,o,d,!1,g)},Cr.version="18.3.1-next-f1338f8080-20240426",Cr}var C1;function Sg(){if(C1)return bd.exports;C1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),bd.exports=_y(),bd.exports}var E1;function Oy(){if(E1)return mc;E1=1;var r=Sg();return mc.createRoot=r.createRoot,mc.hydrateRoot=r.hydrateRoot,mc}var Dy=Oy(),P=Df();const Re=Of(P),Ng=Ag({__proto__:null,default:Re},[P]);function Tg(r){var i,a,f="";if(typeof r=="string"||typeof r=="number")f+=r;else if(typeof r=="object")if(Array.isArray(r)){var m=r.length;for(i=0;i<m;i++)r[i]&&(a=Tg(r[i]))&&(f&&(f+=" "),f+=a)}else for(a in r)r[a]&&(f&&(f+=" "),f+=a);return f}function Ig(){for(var r,i,a=0,f="",m=arguments.length;a<m;a++)(r=arguments[a])&&(i=Tg(r))&&(f&&(f+=" "),f+=i);return f}const Mf="-",My=r=>{const i=Ly(r),{conflictingClassGroups:a,conflictingClassGroupModifiers:f}=r;return{getClassGroupId:y=>{const b=y.split(Mf);return b[0]===""&&b.length!==1&&b.shift(),Rg(b,i)||Py(y)},getConflictingClassGroupIds:(y,b)=>{const N=a[y]||[];return b&&f[y]?[...N,...f[y]]:N}}},Rg=(r,i)=>{if(r.length===0)return i.classGroupId;const a=r[0],f=i.nextPart.get(a),m=f?Rg(r.slice(1),f):void 0;if(m)return m;if(i.validators.length===0)return;const p=r.join(Mf);return i.validators.find(({validator:y})=>y(p))?.classGroupId},b1=/^\[(.+)\]$/,Py=r=>{if(b1.test(r)){const i=b1.exec(r)[1],a=i?.substring(0,i.indexOf(":"));if(a)return"arbitrary.."+a}},Ly=r=>{const{theme:i,classGroups:a}=r,f={nextPart:new Map,validators:[]};for(const m in a)tf(a[m],f,m,i);return f},tf=(r,i,a,f)=>{r.forEach(m=>{if(typeof m=="string"){const p=m===""?i:A1(i,m);p.classGroupId=a;return}if(typeof m=="function"){if(By(m)){tf(m(f),i,a,f);return}i.validators.push({validator:m,classGroupId:a});return}Object.entries(m).forEach(([p,y])=>{tf(y,A1(i,p),a,f)})})},A1=(r,i)=>{let a=r;return i.split(Mf).forEach(f=>{a.nextPart.has(f)||a.nextPart.set(f,{nextPart:new Map,validators:[]}),a=a.nextPart.get(f)}),a},By=r=>r.isThemeGetter,Fy=r=>{if(r<1)return{get:()=>{},set:()=>{}};let i=0,a=new Map,f=new Map;const m=(p,y)=>{a.set(p,y),i++,i>r&&(i=0,f=a,a=new Map)};return{get(p){let y=a.get(p);if(y!==void 0)return y;if((y=f.get(p))!==void 0)return m(p,y),y},set(p,y){a.has(p)?a.set(p,y):m(p,y)}}},nf="!",rf=":",jy=rf.length,Vy=r=>{const{prefix:i,experimentalParseClassName:a}=r;let f=m=>{const p=[];let y=0,b=0,N=0,E;for(let z=0;z<m.length;z++){let F=m[z];if(y===0&&b===0){if(F===rf){p.push(m.slice(N,z)),N=z+jy;continue}if(F==="/"){E=z;continue}}F==="["?y++:F==="]"?y--:F==="("?b++:F===")"&&b--}const T=p.length===0?m:m.substring(N),S=Uy(T),D=S!==T,L=E&&E>N?E-N:void 0;return{modifiers:p,hasImportantModifier:D,baseClassName:S,maybePostfixModifierPosition:L}};if(i){const m=i+rf,p=f;f=y=>y.startsWith(m)?p(y.substring(m.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:y,maybePostfixModifierPosition:void 0}}if(a){const m=f;f=p=>a({className:p,parseClassName:m})}return f},Uy=r=>r.endsWith(nf)?r.substring(0,r.length-1):r.startsWith(nf)?r.substring(1):r,zy=r=>{const i=Object.fromEntries(r.orderSensitiveModifiers.map(f=>[f,!0]));return f=>{if(f.length<=1)return f;const m=[];let p=[];return f.forEach(y=>{y[0]==="["||i[y]?(m.push(...p.sort(),y),p=[]):p.push(y)}),m.push(...p.sort()),m}},Wy=r=>({cache:Fy(r.cacheSize),parseClassName:Vy(r),sortModifiers:zy(r),...My(r)}),Hy=/\s+/,Gy=(r,i)=>{const{parseClassName:a,getClassGroupId:f,getConflictingClassGroupIds:m,sortModifiers:p}=i,y=[],b=r.trim().split(Hy);let N="";for(let E=b.length-1;E>=0;E-=1){const T=b[E],{isExternal:S,modifiers:D,hasImportantModifier:L,baseClassName:z,maybePostfixModifierPosition:F}=a(T);if(S){N=T+(N.length>0?" "+N:N);continue}let W=!!F,V=f(W?z.substring(0,F):z);if(!V){if(!W){N=T+(N.length>0?" "+N:N);continue}if(V=f(z),!V){N=T+(N.length>0?" "+N:N);continue}W=!1}const ee=p(D).join(":"),X=L?ee+nf:ee,ne=X+V;if(y.includes(ne))continue;y.push(ne);const fe=m(V,W);for(let ue=0;ue<fe.length;++ue){const Z=fe[ue];y.push(X+Z)}N=T+(N.length>0?" "+N:N)}return N};function Xy(){let r=0,i,a,f="";for(;r<arguments.length;)(i=arguments[r++])&&(a=kg(i))&&(f&&(f+=" "),f+=a);return f}const kg=r=>{if(typeof r=="string")return r;let i,a="";for(let f=0;f<r.length;f++)r[f]&&(i=kg(r[f]))&&(a&&(a+=" "),a+=i);return a};function Yy(r,...i){let a,f,m,p=y;function y(N){const E=i.reduce((T,S)=>S(T),r());return a=Wy(E),f=a.cache.get,m=a.cache.set,p=b,b(N)}function b(N){const E=f(N);if(E)return E;const T=Gy(N,a);return m(N,T),T}return function(){return p(Xy.apply(null,arguments))}}const kn=r=>{const i=a=>a[r]||[];return i.isThemeGetter=!0,i},_g=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Og=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ky=/^\d+\/\d+$/,Zy=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$y=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=r=>Ky.test(r),dt=r=>!!r&&!Number.isNaN(Number(r)),ys=r=>!!r&&Number.isInteger(Number(r)),Nd=r=>r.endsWith("%")&&dt(r.slice(0,-1)),Fi=r=>Zy.test(r),ew=()=>!0,tw=r=>qy.test(r)&&!Qy.test(r),Dg=()=>!1,nw=r=>$y.test(r),rw=r=>Jy.test(r),iw=r=>!ze(r)&&!We(r),sw=r=>Xo(r,Lg,Dg),ze=r=>_g.test(r),Ks=r=>Xo(r,Bg,tw),Td=r=>Xo(r,uw,dt),S1=r=>Xo(r,Mg,Dg),ow=r=>Xo(r,Pg,rw),gc=r=>Xo(r,Fg,nw),We=r=>Og.test(r),Pa=r=>Yo(r,Bg),aw=r=>Yo(r,dw),N1=r=>Yo(r,Mg),lw=r=>Yo(r,Lg),cw=r=>Yo(r,Pg),pc=r=>Yo(r,Fg,!0),Xo=(r,i,a)=>{const f=_g.exec(r);return f?f[1]?i(f[1]):a(f[2]):!1},Yo=(r,i,a=!1)=>{const f=Og.exec(r);return f?f[1]?i(f[1]):a:!1},Mg=r=>r==="position"||r==="percentage",Pg=r=>r==="image"||r==="url",Lg=r=>r==="length"||r==="size"||r==="bg-size",Bg=r=>r==="length",uw=r=>r==="number",dw=r=>r==="family-name",Fg=r=>r==="shadow",fw=()=>{const r=kn("color"),i=kn("font"),a=kn("text"),f=kn("font-weight"),m=kn("tracking"),p=kn("leading"),y=kn("breakpoint"),b=kn("container"),N=kn("spacing"),E=kn("radius"),T=kn("shadow"),S=kn("inset-shadow"),D=kn("text-shadow"),L=kn("drop-shadow"),z=kn("blur"),F=kn("perspective"),W=kn("aspect"),V=kn("ease"),ee=kn("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],fe=()=>[...ne(),We,ze],ue=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto","contain","none"],Q=()=>[We,ze,N],le=()=>[Io,"full","auto",...Q()],ge=()=>[ys,"none","subgrid",We,ze],me=()=>["auto",{span:["full",ys,We,ze]},ys,We,ze],ce=()=>[ys,"auto",We,ze],xe=()=>["auto","min","max","fr",We,ze],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],_e=()=>["auto",...Q()],pe=()=>[Io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Q()],ie=()=>[r,We,ze],Oe=()=>[...ne(),N1,S1,{position:[We,ze]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",lw,sw,{size:[We,ze]}],de=()=>[Nd,Pa,Ks],Ee=()=>["","none","full",E,We,ze],Te=()=>["",dt,Pa,Ks],Ve=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ye=()=>[dt,Nd,N1,S1],De=()=>["","none",z,We,ze],ot=()=>["none",dt,We,ze],kt=()=>["none",dt,We,ze],Dt=()=>[dt,We,ze],En=()=>[Io,"full",...Q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fi],breakpoint:[Fi],color:[ew],container:[Fi],"drop-shadow":[Fi],ease:["in","out","in-out"],font:[iw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fi],shadow:[Fi],spacing:["px",dt],text:[Fi],"text-shadow":[Fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Io,ze,We,W]}],container:["container"],columns:[{columns:[dt,ze,We,b]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:fe()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:le()}],"inset-x":[{"inset-x":le()}],"inset-y":[{"inset-y":le()}],start:[{start:le()}],end:[{end:le()}],top:[{top:le()}],right:[{right:le()}],bottom:[{bottom:le()}],left:[{left:le()}],visibility:["visible","invisible","collapse"],z:[{z:[ys,"auto",We,ze]}],basis:[{basis:[Io,"full","auto",b,...Q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[dt,Io,"auto","initial","none",ze]}],grow:[{grow:["",dt,We,ze]}],shrink:[{shrink:["",dt,We,ze]}],order:[{order:[ys,"first","last","none",We,ze]}],"grid-cols":[{"grid-cols":ge()}],"col-start-end":[{col:me()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":ge()}],"row-start-end":[{row:me()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":xe()}],"auto-rows":[{"auto-rows":xe()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:Q()}],px:[{px:Q()}],py:[{py:Q()}],ps:[{ps:Q()}],pe:[{pe:Q()}],pt:[{pt:Q()}],pr:[{pr:Q()}],pb:[{pb:Q()}],pl:[{pl:Q()}],m:[{m:_e()}],mx:[{mx:_e()}],my:[{my:_e()}],ms:[{ms:_e()}],me:[{me:_e()}],mt:[{mt:_e()}],mr:[{mr:_e()}],mb:[{mb:_e()}],ml:[{ml:_e()}],"space-x":[{"space-x":Q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Q()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[b,"screen",...pe()]}],"min-w":[{"min-w":[b,"screen","none",...pe()]}],"max-w":[{"max-w":[b,"screen","none","prose",{screen:[y]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",a,Pa,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[f,We,Td]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nd,ze]}],"font-family":[{font:[aw,ze,i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[m,We,ze]}],"line-clamp":[{"line-clamp":[dt,"none",We,Td]}],leading:[{leading:[p,...Q()]}],"list-image":[{"list-image":["none",We,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",We,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[dt,"from-font","auto",We,Ks]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[dt,"auto",We,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Oe()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ys,We,ze],radial:["",We,ze],conic:[ys,We,ze]},cw,ow]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:Ee()}],"rounded-s":[{"rounded-s":Ee()}],"rounded-e":[{"rounded-e":Ee()}],"rounded-t":[{"rounded-t":Ee()}],"rounded-r":[{"rounded-r":Ee()}],"rounded-b":[{"rounded-b":Ee()}],"rounded-l":[{"rounded-l":Ee()}],"rounded-ss":[{"rounded-ss":Ee()}],"rounded-se":[{"rounded-se":Ee()}],"rounded-ee":[{"rounded-ee":Ee()}],"rounded-es":[{"rounded-es":Ee()}],"rounded-tl":[{"rounded-tl":Ee()}],"rounded-tr":[{"rounded-tr":Ee()}],"rounded-br":[{"rounded-br":Ee()}],"rounded-bl":[{"rounded-bl":Ee()}],"border-w":[{border:Te()}],"border-w-x":[{"border-x":Te()}],"border-w-y":[{"border-y":Te()}],"border-w-s":[{"border-s":Te()}],"border-w-e":[{"border-e":Te()}],"border-w-t":[{"border-t":Te()}],"border-w-r":[{"border-r":Te()}],"border-w-b":[{"border-b":Te()}],"border-w-l":[{"border-l":Te()}],"divide-x":[{"divide-x":Te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[dt,We,ze]}],"outline-w":[{outline:["",dt,Pa,Ks]}],"outline-color":[{outline:ie()}],shadow:[{shadow:["","none",T,pc,gc]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",S,pc,gc]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[dt,Ks]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":Te()}],"inset-ring-color":[{"inset-ring":ie()}],"text-shadow":[{"text-shadow":["none",D,pc,gc]}],"text-shadow-color":[{"text-shadow":ie()}],opacity:[{opacity:[dt,We,ze]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ye()}],"mask-image-linear-from-color":[{"mask-linear-from":ie()}],"mask-image-linear-to-color":[{"mask-linear-to":ie()}],"mask-image-t-from-pos":[{"mask-t-from":Ye()}],"mask-image-t-to-pos":[{"mask-t-to":Ye()}],"mask-image-t-from-color":[{"mask-t-from":ie()}],"mask-image-t-to-color":[{"mask-t-to":ie()}],"mask-image-r-from-pos":[{"mask-r-from":Ye()}],"mask-image-r-to-pos":[{"mask-r-to":Ye()}],"mask-image-r-from-color":[{"mask-r-from":ie()}],"mask-image-r-to-color":[{"mask-r-to":ie()}],"mask-image-b-from-pos":[{"mask-b-from":Ye()}],"mask-image-b-to-pos":[{"mask-b-to":Ye()}],"mask-image-b-from-color":[{"mask-b-from":ie()}],"mask-image-b-to-color":[{"mask-b-to":ie()}],"mask-image-l-from-pos":[{"mask-l-from":Ye()}],"mask-image-l-to-pos":[{"mask-l-to":Ye()}],"mask-image-l-from-color":[{"mask-l-from":ie()}],"mask-image-l-to-color":[{"mask-l-to":ie()}],"mask-image-x-from-pos":[{"mask-x-from":Ye()}],"mask-image-x-to-pos":[{"mask-x-to":Ye()}],"mask-image-x-from-color":[{"mask-x-from":ie()}],"mask-image-x-to-color":[{"mask-x-to":ie()}],"mask-image-y-from-pos":[{"mask-y-from":Ye()}],"mask-image-y-to-pos":[{"mask-y-to":Ye()}],"mask-image-y-from-color":[{"mask-y-from":ie()}],"mask-image-y-to-color":[{"mask-y-to":ie()}],"mask-image-radial":[{"mask-radial":[We,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ye()}],"mask-image-radial-from-color":[{"mask-radial-from":ie()}],"mask-image-radial-to-color":[{"mask-radial-to":ie()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ne()}],"mask-image-conic-pos":[{"mask-conic":[dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ye()}],"mask-image-conic-from-color":[{"mask-conic-from":ie()}],"mask-image-conic-to-color":[{"mask-conic-to":ie()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Oe()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",We,ze]}],filter:[{filter:["","none",We,ze]}],blur:[{blur:De()}],brightness:[{brightness:[dt,We,ze]}],contrast:[{contrast:[dt,We,ze]}],"drop-shadow":[{"drop-shadow":["","none",L,pc,gc]}],"drop-shadow-color":[{"drop-shadow":ie()}],grayscale:[{grayscale:["",dt,We,ze]}],"hue-rotate":[{"hue-rotate":[dt,We,ze]}],invert:[{invert:["",dt,We,ze]}],saturate:[{saturate:[dt,We,ze]}],sepia:[{sepia:["",dt,We,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",We,ze]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[dt,We,ze]}],"backdrop-contrast":[{"backdrop-contrast":[dt,We,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",dt,We,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[dt,We,ze]}],"backdrop-invert":[{"backdrop-invert":["",dt,We,ze]}],"backdrop-opacity":[{"backdrop-opacity":[dt,We,ze]}],"backdrop-saturate":[{"backdrop-saturate":[dt,We,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",dt,We,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Q()}],"border-spacing-x":[{"border-spacing-x":Q()}],"border-spacing-y":[{"border-spacing-y":Q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",We,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[dt,"initial",We,ze]}],ease:[{ease:["linear","initial",V,We,ze]}],delay:[{delay:[dt,We,ze]}],animate:[{animate:["none",ee,We,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[F,We,ze]}],"perspective-origin":[{"perspective-origin":fe()}],rotate:[{rotate:ot()}],"rotate-x":[{"rotate-x":ot()}],"rotate-y":[{"rotate-y":ot()}],"rotate-z":[{"rotate-z":ot()}],scale:[{scale:kt()}],"scale-x":[{"scale-x":kt()}],"scale-y":[{"scale-y":kt()}],"scale-z":[{"scale-z":kt()}],"scale-3d":["scale-3d"],skew:[{skew:Dt()}],"skew-x":[{"skew-x":Dt()}],"skew-y":[{"skew-y":Dt()}],transform:[{transform:[We,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:En()}],"translate-x":[{"translate-x":En()}],"translate-y":[{"translate-y":En()}],"translate-z":[{"translate-z":En()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We,ze]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[dt,Pa,Ks,Td]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hw=Yy(fw);function jn(...r){return hw(Ig(r))}function Lt({className:r,...i}){return C.jsx("div",{"data-slot":"card",className:jn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...i})}function T1(r,i){if(typeof r=="function")return r(i);r!=null&&(r.current=i)}function jg(...r){return i=>{let a=!1;const f=r.map(m=>{const p=T1(m,i);return!a&&typeof p=="function"&&(a=!0),p});if(a)return()=>{for(let m=0;m<f.length;m++){const p=f[m];typeof p=="function"?p():T1(r[m],null)}}}}function Jr(...r){return P.useCallback(jg(...r),r)}function Xa(r){const i=mw(r),a=P.forwardRef((f,m)=>{const{children:p,...y}=f,b=P.Children.toArray(p),N=b.find(pw);if(N){const E=N.props.children,T=b.map(S=>S===N?P.Children.count(E)>1?P.Children.only(null):P.isValidElement(E)?E.props.children:null:S);return C.jsx(i,{...y,ref:m,children:P.isValidElement(E)?P.cloneElement(E,void 0,T):null})}return C.jsx(i,{...y,ref:m,children:p})});return a.displayName=`${r}.Slot`,a}var Vg=Xa("Slot");function mw(r){const i=P.forwardRef((a,f)=>{const{children:m,...p}=a;if(P.isValidElement(m)){const y=yw(m),b=xw(p,m.props);return m.type!==P.Fragment&&(b.ref=f?jg(f,y):y),P.cloneElement(m,b)}return P.Children.count(m)>1?P.Children.only(null):null});return i.displayName=`${r}.SlotClone`,i}var gw=Symbol("radix.slottable");function pw(r){return P.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===gw}function xw(r,i){const a={...i};for(const f in i){const m=r[f],p=i[f];/^on[A-Z]/.test(f)?m&&p?a[f]=(...b)=>{const N=p(...b);return m(...b),N}:m&&(a[f]=m):f==="style"?a[f]={...m,...p}:f==="className"&&(a[f]=[m,p].filter(Boolean).join(" "))}return{...r,...a}}function yw(r){let i=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=i&&"isReactWarning"in i&&i.isReactWarning;return a?r.ref:(i=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=i&&"isReactWarning"in i&&i.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}const I1=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,R1=Ig,Ug=(r,i)=>a=>{var f;if(i?.variants==null)return R1(r,a?.class,a?.className);const{variants:m,defaultVariants:p}=i,y=Object.keys(m).map(E=>{const T=a?.[E],S=p?.[E];if(T===null)return null;const D=I1(T)||I1(S);return m[E][D]}),b=a&&Object.entries(a).reduce((E,T)=>{let[S,D]=T;return D===void 0||(E[S]=D),E},{}),N=i==null||(f=i.compoundVariants)===null||f===void 0?void 0:f.reduce((E,T)=>{let{class:S,className:D,...L}=T;return Object.entries(L).every(z=>{let[F,W]=z;return Array.isArray(W)?W.includes({...p,...b}[F]):{...p,...b}[F]===W})?[...E,S,D]:E},[]);return R1(r,y,N,a?.class,a?.className)},ww=Ug("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function At({className:r,variant:i,size:a,asChild:f=!1,...m}){const p=f?Vg:"button";return C.jsx(p,{"data-slot":"button",className:jn(ww({variant:i,size:a,className:r})),...m})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,a,f)=>f?f.toUpperCase():a.toLowerCase()),k1=r=>{const i=Cw(r);return i.charAt(0).toUpperCase()+i.slice(1)},zg=(...r)=>r.filter((i,a,f)=>!!i&&i.trim()!==""&&f.indexOf(i)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ew={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:f,className:m="",children:p,iconNode:y,...b},N)=>P.createElement("svg",{ref:N,...Ew,width:i,height:i,stroke:r,strokeWidth:f?Number(a)*24/Number(i):a,className:zg("lucide",m),...b},[...y.map(([E,T])=>P.createElement(E,T)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(r,i)=>{const a=P.forwardRef(({className:f,...m},p)=>P.createElement(bw,{ref:p,iconNode:i,className:zg(`lucide-${vw(k1(r))}`,`lucide-${r}`,f),...m}));return a.displayName=k1(r),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Sw=yt("arrow-up-right",Aw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_1=yt("award",Nw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Wg=yt("bell",Tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],O1=yt("camera",Iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vi=yt("chevron-right",Rw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hg=yt("circle-alert",kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gg=yt("circle-check",_w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xg=yt("circle-help",Ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],D1=yt("external-link",Dw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Id=yt("eye-off",Mw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rd=yt("eye",Pw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bw=yt("file-text",Lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ya=yt("gift",Fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Vw=yt("house",jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],zw=yt("key",Uw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Cs=yt("leaf",Ww);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gw=yt("loader-circle",Hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yg=yt("lock",Xw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Kw=yt("log-out",Yw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Pf=yt("mail",Zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Qw=yt("message-square",qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M5 12h14",key:"1ays0h"}]],Jw=yt("minus",$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],tv=yt("moon",ev);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kd=yt("package",nv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],iv=yt("phone",rv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ov=yt("plus",sv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Lc=yt("qr-code",av);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cv=yt("send",lv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dv=yt("settings",uv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kg=yt("shield",fv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],mv=yt("smartphone",hv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],pv=yt("sun",gv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],yv=yt("trending-up",xv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lf=yt("user",wv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ko=yt("x",vv),Bf=P.createContext({});function Ff(r){const i=P.useRef(null);return i.current===null&&(i.current=r()),i.current}const jf=typeof window<"u",Zg=jf?P.useLayoutEffect:P.useEffect,Xc=P.createContext(null);function Vf(r,i){r.indexOf(i)===-1&&r.push(i)}function Uf(r,i){const a=r.indexOf(i);a>-1&&r.splice(a,1)}const Ui=(r,i,a)=>a>i?i:a<r?r:a;let zf=()=>{};const zi={},qg=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function Qg(r){return typeof r=="object"&&r!==null}const $g=r=>/^0[^.\s]+$/u.test(r);function Wf(r){let i;return()=>(i===void 0&&(i=r()),i)}const $r=r=>r,Cv=(r,i)=>a=>i(r(a)),el=(...r)=>r.reduce(Cv),Ka=(r,i,a)=>{const f=i-r;return f===0?1:(a-r)/f};class Hf{constructor(){this.subscriptions=[]}add(i){return Vf(this.subscriptions,i),()=>Uf(this.subscriptions,i)}notify(i,a,f){const m=this.subscriptions.length;if(m)if(m===1)this.subscriptions[0](i,a,f);else for(let p=0;p<m;p++){const y=this.subscriptions[p];y&&y(i,a,f)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bi=r=>r*1e3,Qr=r=>r/1e3;function Jg(r,i){return i?r*(1e3/i):0}const ep=(r,i,a)=>(((1-3*a+3*i)*r+(3*a-6*i))*r+3*i)*r,Ev=1e-7,bv=12;function Av(r,i,a,f,m){let p,y,b=0;do y=i+(a-i)/2,p=ep(y,f,m)-r,p>0?a=y:i=y;while(Math.abs(p)>Ev&&++b<bv);return y}function tl(r,i,a,f){if(r===i&&a===f)return $r;const m=p=>Av(p,0,1,r,a);return p=>p===0||p===1?p:ep(m(p),i,f)}const tp=r=>i=>i<=.5?r(2*i)/2:(2-r(2*(1-i)))/2,np=r=>i=>1-r(1-i),rp=tl(.33,1.53,.69,.99),Gf=np(rp),ip=tp(Gf),sp=r=>(r*=2)<1?.5*Gf(r):.5*(2-Math.pow(2,-10*(r-1))),Xf=r=>1-Math.sin(Math.acos(r)),op=np(Xf),ap=tp(Xf),Sv=tl(.42,0,1,1),Nv=tl(0,0,.58,1),lp=tl(.42,0,.58,1),Tv=r=>Array.isArray(r)&&typeof r[0]!="number",cp=r=>Array.isArray(r)&&typeof r[0]=="number",Iv={linear:$r,easeIn:Sv,easeInOut:lp,easeOut:Nv,circIn:Xf,circInOut:ap,circOut:op,backIn:Gf,backInOut:ip,backOut:rp,anticipate:sp},Rv=r=>typeof r=="string",M1=r=>{if(cp(r)){zf(r.length===4);const[i,a,f,m]=r;return tl(i,a,f,m)}else if(Rv(r))return Iv[r];return r},xc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kv(r,i){let a=new Set,f=new Set,m=!1,p=!1;const y=new WeakSet;let b={delta:0,timestamp:0,isProcessing:!1};function N(T){y.has(T)&&(E.schedule(T),r()),T(b)}const E={schedule:(T,S=!1,D=!1)=>{const z=D&&m?a:f;return S&&y.add(T),z.has(T)||z.add(T),T},cancel:T=>{f.delete(T),y.delete(T)},process:T=>{if(b=T,m){p=!0;return}m=!0,[a,f]=[f,a],a.forEach(N),a.clear(),m=!1,p&&(p=!1,E.process(T))}};return E}const _v=40;function up(r,i){let a=!1,f=!0;const m={delta:0,timestamp:0,isProcessing:!1},p=()=>a=!0,y=xc.reduce((X,ne)=>(X[ne]=kv(p),X),{}),{setup:b,read:N,resolveKeyframes:E,preUpdate:T,update:S,preRender:D,render:L,postRender:z}=y,F=()=>{const X=zi.useManualTiming?m.timestamp:performance.now();a=!1,zi.useManualTiming||(m.delta=f?1e3/60:Math.max(Math.min(X-m.timestamp,_v),1)),m.timestamp=X,m.isProcessing=!0,b.process(m),N.process(m),E.process(m),T.process(m),S.process(m),D.process(m),L.process(m),z.process(m),m.isProcessing=!1,a&&i&&(f=!1,r(F))},W=()=>{a=!0,f=!0,m.isProcessing||r(F)};return{schedule:xc.reduce((X,ne)=>{const fe=y[ne];return X[ne]=(ue,Z=!1,Q=!1)=>(a||W(),fe.schedule(ue,Z,Q)),X},{}),cancel:X=>{for(let ne=0;ne<xc.length;ne++)y[xc[ne]].cancel(X)},state:m,steps:y}}const{schedule:Jt,cancel:Es,state:Yn,steps:_d}=up(typeof requestAnimationFrame<"u"?requestAnimationFrame:$r,!0);let Rc;function Ov(){Rc=void 0}const br={now:()=>(Rc===void 0&&br.set(Yn.isProcessing||zi.useManualTiming?Yn.timestamp:performance.now()),Rc),set:r=>{Rc=r,queueMicrotask(Ov)}},dp=r=>i=>typeof i=="string"&&i.startsWith(r),Yf=dp("--"),Dv=dp("var(--"),Kf=r=>Dv(r)?Mv.test(r.split("/*")[0].trim()):!1,Mv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zo={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Za={...Zo,transform:r=>Ui(0,1,r)},yc={...Zo,default:1},Va=r=>Math.round(r*1e5)/1e5,Zf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pv(r){return r==null}const Lv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qf=(r,i)=>a=>!!(typeof a=="string"&&Lv.test(a)&&a.startsWith(r)||i&&!Pv(a)&&Object.prototype.hasOwnProperty.call(a,i)),fp=(r,i,a)=>f=>{if(typeof f!="string")return f;const[m,p,y,b]=f.match(Zf);return{[r]:parseFloat(m),[i]:parseFloat(p),[a]:parseFloat(y),alpha:b!==void 0?parseFloat(b):1}},Bv=r=>Ui(0,255,r),Od={...Zo,transform:r=>Math.round(Bv(r))},Qs={test:qf("rgb","red"),parse:fp("red","green","blue"),transform:({red:r,green:i,blue:a,alpha:f=1})=>"rgba("+Od.transform(r)+", "+Od.transform(i)+", "+Od.transform(a)+", "+Va(Za.transform(f))+")"};function Fv(r){let i="",a="",f="",m="";return r.length>5?(i=r.substring(1,3),a=r.substring(3,5),f=r.substring(5,7),m=r.substring(7,9)):(i=r.substring(1,2),a=r.substring(2,3),f=r.substring(3,4),m=r.substring(4,5),i+=i,a+=a,f+=f,m+=m),{red:parseInt(i,16),green:parseInt(a,16),blue:parseInt(f,16),alpha:m?parseInt(m,16)/255:1}}const sf={test:qf("#"),parse:Fv,transform:Qs.transform},nl=r=>({test:i=>typeof i=="string"&&i.endsWith(r)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${r}`}),ws=nl("deg"),Ai=nl("%"),Je=nl("px"),jv=nl("vh"),Vv=nl("vw"),P1={...Ai,parse:r=>Ai.parse(r)/100,transform:r=>Ai.transform(r*100)},Oo={test:qf("hsl","hue"),parse:fp("hue","saturation","lightness"),transform:({hue:r,saturation:i,lightness:a,alpha:f=1})=>"hsla("+Math.round(r)+", "+Ai.transform(Va(i))+", "+Ai.transform(Va(a))+", "+Va(Za.transform(f))+")"},Cn={test:r=>Qs.test(r)||sf.test(r)||Oo.test(r),parse:r=>Qs.test(r)?Qs.parse(r):Oo.test(r)?Oo.parse(r):sf.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Qs.transform(r):Oo.transform(r),getAnimatableNone:r=>{const i=Cn.parse(r);return i.alpha=0,Cn.transform(i)}},Uv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zv(r){return isNaN(r)&&typeof r=="string"&&(r.match(Zf)?.length||0)+(r.match(Uv)?.length||0)>0}const hp="number",mp="color",Wv="var",Hv="var(",L1="${}",Gv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qa(r){const i=r.toString(),a=[],f={color:[],number:[],var:[]},m=[];let p=0;const b=i.replace(Gv,N=>(Cn.test(N)?(f.color.push(p),m.push(mp),a.push(Cn.parse(N))):N.startsWith(Hv)?(f.var.push(p),m.push(Wv),a.push(N)):(f.number.push(p),m.push(hp),a.push(parseFloat(N))),++p,L1)).split(L1);return{values:a,split:b,indexes:f,types:m}}function gp(r){return qa(r).values}function pp(r){const{split:i,types:a}=qa(r),f=i.length;return m=>{let p="";for(let y=0;y<f;y++)if(p+=i[y],m[y]!==void 0){const b=a[y];b===hp?p+=Va(m[y]):b===mp?p+=Cn.transform(m[y]):p+=m[y]}return p}}const Xv=r=>typeof r=="number"?0:Cn.test(r)?Cn.getAnimatableNone(r):r;function Yv(r){const i=gp(r);return pp(r)(i.map(Xv))}const bs={test:zv,parse:gp,createTransformer:pp,getAnimatableNone:Yv};function Dd(r,i,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?r+(i-r)*6*a:a<1/2?i:a<2/3?r+(i-r)*(2/3-a)*6:r}function Kv({hue:r,saturation:i,lightness:a,alpha:f}){r/=360,i/=100,a/=100;let m=0,p=0,y=0;if(!i)m=p=y=a;else{const b=a<.5?a*(1+i):a+i-a*i,N=2*a-b;m=Dd(N,b,r+1/3),p=Dd(N,b,r),y=Dd(N,b,r-1/3)}return{red:Math.round(m*255),green:Math.round(p*255),blue:Math.round(y*255),alpha:f}}function Bc(r,i){return a=>a>0?i:r}const on=(r,i,a)=>r+(i-r)*a,Md=(r,i,a)=>{const f=r*r,m=a*(i*i-f)+f;return m<0?0:Math.sqrt(m)},Zv=[sf,Qs,Oo],qv=r=>Zv.find(i=>i.test(r));function B1(r){const i=qv(r);if(!i)return!1;let a=i.parse(r);return i===Oo&&(a=Kv(a)),a}const F1=(r,i)=>{const a=B1(r),f=B1(i);if(!a||!f)return Bc(r,i);const m={...a};return p=>(m.red=Md(a.red,f.red,p),m.green=Md(a.green,f.green,p),m.blue=Md(a.blue,f.blue,p),m.alpha=on(a.alpha,f.alpha,p),Qs.transform(m))},of=new Set(["none","hidden"]);function Qv(r,i){return of.has(r)?a=>a<=0?r:i:a=>a>=1?i:r}function $v(r,i){return a=>on(r,i,a)}function Qf(r){return typeof r=="number"?$v:typeof r=="string"?Kf(r)?Bc:Cn.test(r)?F1:t3:Array.isArray(r)?xp:typeof r=="object"?Cn.test(r)?F1:Jv:Bc}function xp(r,i){const a=[...r],f=a.length,m=r.map((p,y)=>Qf(p)(p,i[y]));return p=>{for(let y=0;y<f;y++)a[y]=m[y](p);return a}}function Jv(r,i){const a={...r,...i},f={};for(const m in a)r[m]!==void 0&&i[m]!==void 0&&(f[m]=Qf(r[m])(r[m],i[m]));return m=>{for(const p in f)a[p]=f[p](m);return a}}function e3(r,i){const a=[],f={color:0,var:0,number:0};for(let m=0;m<i.values.length;m++){const p=i.types[m],y=r.indexes[p][f[p]],b=r.values[y]??0;a[m]=b,f[p]++}return a}const t3=(r,i)=>{const a=bs.createTransformer(i),f=qa(r),m=qa(i);return f.indexes.var.length===m.indexes.var.length&&f.indexes.color.length===m.indexes.color.length&&f.indexes.number.length>=m.indexes.number.length?of.has(r)&&!m.values.length||of.has(i)&&!f.values.length?Qv(r,i):el(xp(e3(f,m),m.values),a):Bc(r,i)};function yp(r,i,a){return typeof r=="number"&&typeof i=="number"&&typeof a=="number"?on(r,i,a):Qf(r)(r,i)}const n3=r=>{const i=({timestamp:a})=>r(a);return{start:(a=!0)=>Jt.update(i,a),stop:()=>Es(i),now:()=>Yn.isProcessing?Yn.timestamp:br.now()}},wp=(r,i,a=10)=>{let f="";const m=Math.max(Math.round(i/a),2);for(let p=0;p<m;p++)f+=Math.round(r(p/(m-1))*1e4)/1e4+", ";return`linear(${f.substring(0,f.length-2)})`},Fc=2e4;function $f(r){let i=0;const a=50;let f=r.next(i);for(;!f.done&&i<Fc;)i+=a,f=r.next(i);return i>=Fc?1/0:i}function r3(r,i=100,a){const f=a({...r,keyframes:[0,i]}),m=Math.min($f(f),Fc);return{type:"keyframes",ease:p=>f.next(m*p).value/i,duration:Qr(m)}}const i3=5;function vp(r,i,a){const f=Math.max(i-i3,0);return Jg(a-r(f),i-f)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pd=.001;function s3({duration:r=hn.duration,bounce:i=hn.bounce,velocity:a=hn.velocity,mass:f=hn.mass}){let m,p,y=1-i;y=Ui(hn.minDamping,hn.maxDamping,y),r=Ui(hn.minDuration,hn.maxDuration,Qr(r)),y<1?(m=E=>{const T=E*y,S=T*r,D=T-a,L=af(E,y),z=Math.exp(-S);return Pd-D/L*z},p=E=>{const S=E*y*r,D=S*a+a,L=Math.pow(y,2)*Math.pow(E,2)*r,z=Math.exp(-S),F=af(Math.pow(E,2),y);return(-m(E)+Pd>0?-1:1)*((D-L)*z)/F}):(m=E=>{const T=Math.exp(-E*r),S=(E-a)*r+1;return-Pd+T*S},p=E=>{const T=Math.exp(-E*r),S=(a-E)*(r*r);return T*S});const b=5/r,N=a3(m,p,b);if(r=bi(r),isNaN(N))return{stiffness:hn.stiffness,damping:hn.damping,duration:r};{const E=Math.pow(N,2)*f;return{stiffness:E,damping:y*2*Math.sqrt(f*E),duration:r}}}const o3=12;function a3(r,i,a){let f=a;for(let m=1;m<o3;m++)f=f-r(f)/i(f);return f}function af(r,i){return r*Math.sqrt(1-i*i)}const l3=["duration","bounce"],c3=["stiffness","damping","mass"];function j1(r,i){return i.some(a=>r[a]!==void 0)}function u3(r){let i={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...r};if(!j1(r,c3)&&j1(r,l3))if(r.visualDuration){const a=r.visualDuration,f=2*Math.PI/(a*1.2),m=f*f,p=2*Ui(.05,1,1-(r.bounce||0))*Math.sqrt(m);i={...i,mass:hn.mass,stiffness:m,damping:p}}else{const a=s3(r);i={...i,...a,mass:hn.mass},i.isResolvedFromDuration=!0}return i}function jc(r=hn.visualDuration,i=hn.bounce){const a=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:i}:r;let{restSpeed:f,restDelta:m}=a;const p=a.keyframes[0],y=a.keyframes[a.keyframes.length-1],b={done:!1,value:p},{stiffness:N,damping:E,mass:T,duration:S,velocity:D,isResolvedFromDuration:L}=u3({...a,velocity:-Qr(a.velocity||0)}),z=D||0,F=E/(2*Math.sqrt(N*T)),W=y-p,V=Qr(Math.sqrt(N/T)),ee=Math.abs(W)<5;f||(f=ee?hn.restSpeed.granular:hn.restSpeed.default),m||(m=ee?hn.restDelta.granular:hn.restDelta.default);let X;if(F<1){const fe=af(V,F);X=ue=>{const Z=Math.exp(-F*V*ue);return y-Z*((z+F*V*W)/fe*Math.sin(fe*ue)+W*Math.cos(fe*ue))}}else if(F===1)X=fe=>y-Math.exp(-V*fe)*(W+(z+V*W)*fe);else{const fe=V*Math.sqrt(F*F-1);X=ue=>{const Z=Math.exp(-F*V*ue),Q=Math.min(fe*ue,300);return y-Z*((z+F*V*W)*Math.sinh(Q)+fe*W*Math.cosh(Q))/fe}}const ne={calculatedDuration:L&&S||null,next:fe=>{const ue=X(fe);if(L)b.done=fe>=S;else{let Z=fe===0?z:0;F<1&&(Z=fe===0?bi(z):vp(X,fe,ue));const Q=Math.abs(Z)<=f,le=Math.abs(y-ue)<=m;b.done=Q&&le}return b.value=b.done?y:ue,b},toString:()=>{const fe=Math.min($f(ne),Fc),ue=wp(Z=>ne.next(fe*Z).value,fe,30);return fe+"ms "+ue},toTransition:()=>{}};return ne}jc.applyToOptions=r=>{const i=r3(r,100,jc);return r.ease=i.ease,r.duration=bi(i.duration),r.type="keyframes",r};function lf({keyframes:r,velocity:i=0,power:a=.8,timeConstant:f=325,bounceDamping:m=10,bounceStiffness:p=500,modifyTarget:y,min:b,max:N,restDelta:E=.5,restSpeed:T}){const S=r[0],D={done:!1,value:S},L=Q=>b!==void 0&&Q<b||N!==void 0&&Q>N,z=Q=>b===void 0?N:N===void 0||Math.abs(b-Q)<Math.abs(N-Q)?b:N;let F=a*i;const W=S+F,V=y===void 0?W:y(W);V!==W&&(F=V-S);const ee=Q=>-F*Math.exp(-Q/f),X=Q=>V+ee(Q),ne=Q=>{const le=ee(Q),ge=X(Q);D.done=Math.abs(le)<=E,D.value=D.done?V:ge};let fe,ue;const Z=Q=>{L(D.value)&&(fe=Q,ue=jc({keyframes:[D.value,z(D.value)],velocity:vp(X,Q,D.value),damping:m,stiffness:p,restDelta:E,restSpeed:T}))};return Z(0),{calculatedDuration:null,next:Q=>{let le=!1;return!ue&&fe===void 0&&(le=!0,ne(Q),Z(Q)),fe!==void 0&&Q>=fe?ue.next(Q-fe):(!le&&ne(Q),D)}}}function d3(r,i,a){const f=[],m=a||zi.mix||yp,p=r.length-1;for(let y=0;y<p;y++){let b=m(r[y],r[y+1]);if(i){const N=Array.isArray(i)?i[y]||$r:i;b=el(N,b)}f.push(b)}return f}function f3(r,i,{clamp:a=!0,ease:f,mixer:m}={}){const p=r.length;if(zf(p===i.length),p===1)return()=>i[0];if(p===2&&i[0]===i[1])return()=>i[1];const y=r[0]===r[1];r[0]>r[p-1]&&(r=[...r].reverse(),i=[...i].reverse());const b=d3(i,f,m),N=b.length,E=T=>{if(y&&T<r[0])return i[0];let S=0;if(N>1)for(;S<r.length-2&&!(T<r[S+1]);S++);const D=Ka(r[S],r[S+1],T);return b[S](D)};return a?T=>E(Ui(r[0],r[p-1],T)):E}function h3(r,i){const a=r[r.length-1];for(let f=1;f<=i;f++){const m=Ka(0,i,f);r.push(on(a,1,m))}}function m3(r){const i=[0];return h3(i,r.length-1),i}function g3(r,i){return r.map(a=>a*i)}function p3(r,i){return r.map(()=>i||lp).splice(0,r.length-1)}function Ua({duration:r=300,keyframes:i,times:a,ease:f="easeInOut"}){const m=Tv(f)?f.map(M1):M1(f),p={done:!1,value:i[0]},y=g3(a&&a.length===i.length?a:m3(i),r),b=f3(y,i,{ease:Array.isArray(m)?m:p3(i,m)});return{calculatedDuration:r,next:N=>(p.value=b(N),p.done=N>=r,p)}}const x3=r=>r!==null;function Jf(r,{repeat:i,repeatType:a="loop"},f,m=1){const p=r.filter(x3),b=m<0||i&&a!=="loop"&&i%2===1?0:p.length-1;return!b||f===void 0?p[b]:f}const y3={decay:lf,inertia:lf,tween:Ua,keyframes:Ua,spring:jc};function Cp(r){typeof r.type=="string"&&(r.type=y3[r.type])}class e0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,a){return this.finished.then(i,a)}}const w3=r=>r/100;class t0 extends e0{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==br.now()&&this.tick(br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;Cp(i);const{type:a=Ua,repeat:f=0,repeatDelay:m=0,repeatType:p,velocity:y=0}=i;let{keyframes:b}=i;const N=a||Ua;N!==Ua&&typeof b[0]!="number"&&(this.mixKeyframes=el(w3,yp(b[0],b[1])),b=[0,100]);const E=N({...i,keyframes:b});p==="mirror"&&(this.mirroredGenerator=N({...i,keyframes:[...b].reverse(),velocity:-y})),E.calculatedDuration===null&&(E.calculatedDuration=$f(E));const{calculatedDuration:T}=E;this.calculatedDuration=T,this.resolvedDuration=T+m,this.totalDuration=this.resolvedDuration*(f+1)-m,this.generator=E}updateTime(i){const a=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(i,a=!1){const{generator:f,totalDuration:m,mixKeyframes:p,mirroredGenerator:y,resolvedDuration:b,calculatedDuration:N}=this;if(this.startTime===null)return f.next(0);const{delay:E=0,keyframes:T,repeat:S,repeatType:D,repeatDelay:L,type:z,onUpdate:F,finalKeyframe:W}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-m/this.speed,this.startTime)),a?this.currentTime=i:this.updateTime(i);const V=this.currentTime-E*(this.playbackSpeed>=0?1:-1),ee=this.playbackSpeed>=0?V<0:V>m;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let X=this.currentTime,ne=f;if(S){const Q=Math.min(this.currentTime,m)/b;let le=Math.floor(Q),ge=Q%1;!ge&&Q>=1&&(ge=1),ge===1&&le--,le=Math.min(le,S+1),!!(le%2)&&(D==="reverse"?(ge=1-ge,L&&(ge-=L/b)):D==="mirror"&&(ne=y)),X=Ui(0,1,ge)*b}const fe=ee?{done:!1,value:T[0]}:ne.next(X);p&&(fe.value=p(fe.value));let{done:ue}=fe;!ee&&N!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=m:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return Z&&z!==lf&&(fe.value=Jf(T,this.options,W,this.speed)),F&&F(fe.value),Z&&this.finish(),fe}then(i,a){return this.finished.then(i,a)}get duration(){return Qr(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+Qr(i)}get time(){return Qr(this.currentTime)}set time(i){i=bi(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(br.now());const a=this.playbackSpeed!==i;this.playbackSpeed=i,a&&(this.time=Qr(this.currentTime))}play(){if(this.isStopped)return;const{driver:i=n3,startTime:a}=this.options;this.driver||(this.driver=i(m=>this.tick(m))),this.options.onPlay?.();const f=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=f):this.holdTime!==null?this.startTime=f-this.holdTime:this.startTime||(this.startTime=a??f),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),i.observe(this)}}function v3(r){for(let i=1;i<r.length;i++)r[i]??(r[i]=r[i-1])}const $s=r=>r*180/Math.PI,cf=r=>{const i=$s(Math.atan2(r[1],r[0]));return uf(i)},C3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:cf,rotateZ:cf,skewX:r=>$s(Math.atan(r[1])),skewY:r=>$s(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},uf=r=>(r=r%360,r<0&&(r+=360),r),V1=cf,U1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),z1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),E3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:U1,scaleY:z1,scale:r=>(U1(r)+z1(r))/2,rotateX:r=>uf($s(Math.atan2(r[6],r[5]))),rotateY:r=>uf($s(Math.atan2(-r[2],r[0]))),rotateZ:V1,rotate:V1,skewX:r=>$s(Math.atan(r[4])),skewY:r=>$s(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function df(r){return r.includes("scale")?1:0}function ff(r,i){if(!r||r==="none")return df(i);const a=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let f,m;if(a)f=E3,m=a;else{const b=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);f=C3,m=b}if(!m)return df(i);const p=f[i],y=m[1].split(",").map(A3);return typeof p=="function"?p(y):y[p]}const b3=(r,i)=>{const{transform:a="none"}=getComputedStyle(r);return ff(a,i)};function A3(r){return parseFloat(r.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(qo),W1=r=>r===Zo||r===Je,S3=new Set(["x","y","z"]),N3=qo.filter(r=>!S3.has(r));function T3(r){const i=[];return N3.forEach(a=>{const f=r.getValue(a);f!==void 0&&(i.push([a,f.get()]),f.set(a.startsWith("scale")?1:0))}),i}const Js={width:({x:r},{paddingLeft:i="0",paddingRight:a="0"})=>r.max-r.min-parseFloat(i)-parseFloat(a),height:({y:r},{paddingTop:i="0",paddingBottom:a="0"})=>r.max-r.min-parseFloat(i)-parseFloat(a),top:(r,{top:i})=>parseFloat(i),left:(r,{left:i})=>parseFloat(i),bottom:({y:r},{top:i})=>parseFloat(i)+(r.max-r.min),right:({x:r},{left:i})=>parseFloat(i)+(r.max-r.min),x:(r,{transform:i})=>ff(i,"x"),y:(r,{transform:i})=>ff(i,"y")};Js.translateX=Js.x;Js.translateY=Js.y;const eo=new Set;let hf=!1,mf=!1,gf=!1;function Ep(){if(mf){const r=Array.from(eo).filter(f=>f.needsMeasurement),i=new Set(r.map(f=>f.element)),a=new Map;i.forEach(f=>{const m=T3(f);m.length&&(a.set(f,m),f.render())}),r.forEach(f=>f.measureInitialState()),i.forEach(f=>{f.render();const m=a.get(f);m&&m.forEach(([p,y])=>{f.getValue(p)?.set(y)})}),r.forEach(f=>f.measureEndState()),r.forEach(f=>{f.suspendedScrollY!==void 0&&window.scrollTo(0,f.suspendedScrollY)})}mf=!1,hf=!1,eo.forEach(r=>r.complete(gf)),eo.clear()}function bp(){eo.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(mf=!0)})}function I3(){gf=!0,bp(),Ep(),gf=!1}class n0{constructor(i,a,f,m,p,y=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=a,this.name=f,this.motionValue=m,this.element=p,this.isAsync=y}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),hf||(hf=!0,Jt.read(bp),Jt.resolveKeyframes(Ep))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:a,element:f,motionValue:m}=this;if(i[0]===null){const p=m?.get(),y=i[i.length-1];if(p!==void 0)i[0]=p;else if(f&&a){const b=f.readValue(a,y);b!=null&&(i[0]=b)}i[0]===void 0&&(i[0]=y),m&&p===void 0&&m.set(i[0])}v3(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R3=r=>r.startsWith("--");function k3(r,i,a){R3(i)?r.style.setProperty(i,a):r.style[i]=a}const _3=Wf(()=>window.ScrollTimeline!==void 0),O3={};function D3(r,i){const a=Wf(r);return()=>O3[i]??a()}const Ap=D3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fa=([r,i,a,f])=>`cubic-bezier(${r}, ${i}, ${a}, ${f})`,H1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fa([0,.65,.55,1]),circOut:Fa([.55,0,1,.45]),backIn:Fa([.31,.01,.66,-.59]),backOut:Fa([.33,1.53,.69,.99])};function Sp(r,i){if(r)return typeof r=="function"?Ap()?wp(r,i):"ease-out":cp(r)?Fa(r):Array.isArray(r)?r.map(a=>Sp(a,i)||H1.easeOut):H1[r]}function M3(r,i,a,{delay:f=0,duration:m=300,repeat:p=0,repeatType:y="loop",ease:b="easeOut",times:N}={},E=void 0){const T={[i]:a};N&&(T.offset=N);const S=Sp(b,m);Array.isArray(S)&&(T.easing=S);const D={delay:f,duration:m,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:p+1,direction:y==="reverse"?"alternate":"normal"};return E&&(D.pseudoElement=E),r.animate(T,D)}function Np(r){return typeof r=="function"&&"applyToOptions"in r}function P3({type:r,...i}){return Np(r)&&Ap()?r.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class L3 extends e0{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:a,name:f,keyframes:m,pseudoElement:p,allowFlatten:y=!1,finalKeyframe:b,onComplete:N}=i;this.isPseudoElement=!!p,this.allowFlatten=y,this.options=i,zf(typeof i.type!="string");const E=P3(i);this.animation=M3(a,f,m,E,p),E.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!p){const T=Jf(m,this.options,b,this.speed);this.updateMotionValue?this.updateMotionValue(T):k3(a,f,T),this.animation.cancel()}N?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const i=this.animation.effect?.getComputedTiming?.().duration||0;return Qr(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+Qr(i)}get time(){return Qr(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=bi(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,i&&_3()?(this.animation.timeline=i,$r):a(this)}}const Tp={anticipate:sp,backInOut:ip,circInOut:ap};function B3(r){return r in Tp}function F3(r){typeof r.ease=="string"&&B3(r.ease)&&(r.ease=Tp[r.ease])}const G1=10;class j3 extends L3{constructor(i){F3(i),Cp(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:a,onUpdate:f,onComplete:m,element:p,...y}=this.options;if(!a)return;if(i!==void 0){a.set(i);return}const b=new t0({...y,autoplay:!1}),N=bi(this.finishedTime??this.time);a.setWithVelocity(b.sample(N-G1).value,b.sample(N).value,G1),b.stop()}}const X1=(r,i)=>i==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(bs.test(r)||r==="0")&&!r.startsWith("url("));function V3(r){const i=r[0];if(r.length===1)return!0;for(let a=0;a<r.length;a++)if(r[a]!==i)return!0}function U3(r,i,a,f){const m=r[0];if(m===null)return!1;if(i==="display"||i==="visibility")return!0;const p=r[r.length-1],y=X1(m,i),b=X1(p,i);return!y||!b?!1:V3(r)||(a==="spring"||Np(a))&&f}function pf(r){r.duration=0,r.type="keyframes"}const z3=new Set(["opacity","clipPath","filter","transform"]),W3=Wf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function H3(r){const{motionValue:i,name:a,repeatDelay:f,repeatType:m,damping:p,type:y}=r;if(!(i?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:N,transformTemplate:E}=i.owner.getProps();return W3()&&a&&z3.has(a)&&(a!=="transform"||!E)&&!N&&!f&&m!=="mirror"&&p!==0&&y!=="inertia"}const G3=40;class X3 extends e0{constructor({autoplay:i=!0,delay:a=0,type:f="keyframes",repeat:m=0,repeatDelay:p=0,repeatType:y="loop",keyframes:b,name:N,motionValue:E,element:T,...S}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=br.now();const D={autoplay:i,delay:a,type:f,repeat:m,repeatDelay:p,repeatType:y,name:N,motionValue:E,element:T,...S},L=T?.KeyframeResolver||n0;this.keyframeResolver=new L(b,(z,F,W)=>this.onKeyframesResolved(z,F,D,!W),N,E,T),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(i,a,f,m){this.keyframeResolver=void 0;const{name:p,type:y,velocity:b,delay:N,isHandoff:E,onUpdate:T}=f;this.resolvedAt=br.now(),U3(i,p,y,b)||((zi.instantAnimations||!N)&&T?.(Jf(i,f,a)),i[0]=i[i.length-1],pf(f),f.repeat=0);const D={startTime:m?this.resolvedAt?this.resolvedAt-this.createdAt>G3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...f,keyframes:i},L=!E&&H3(D)?new j3({...D,element:D.motionValue.owner.current}):new t0(D);L.finished.then(()=>this.notifyFinished()).catch($r),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(i,a){return this.finished.finally(i).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),I3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Y3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K3(r){const i=Y3.exec(r);if(!i)return[,];const[,a,f,m]=i;return[`--${a??f}`,m]}function Ip(r,i,a=1){const[f,m]=K3(r);if(!f)return;const p=window.getComputedStyle(i).getPropertyValue(f);if(p){const y=p.trim();return qg(y)?parseFloat(y):y}return Kf(m)?Ip(m,i,a+1):m}function r0(r,i){return r?.[i]??r?.default??r}const Rp=new Set(["width","height","top","left","right","bottom",...qo]),Z3={test:r=>r==="auto",parse:r=>r},kp=r=>i=>i.test(r),_p=[Zo,Je,Ai,ws,Vv,jv,Z3],Y1=r=>_p.find(kp(r));function q3(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||$g(r):!0}const Q3=new Set(["brightness","contrast","saturate","opacity"]);function $3(r){const[i,a]=r.slice(0,-1).split("(");if(i==="drop-shadow")return r;const[f]=a.match(Zf)||[];if(!f)return r;const m=a.replace(f,"");let p=Q3.has(i)?1:0;return f!==a&&(p*=100),i+"("+p+m+")"}const J3=/\b([a-z-]*)\(.*?\)/gu,xf={...bs,getAnimatableNone:r=>{const i=r.match(J3);return i?i.map($3).join(" "):r}},K1={...Zo,transform:Math.round},eC={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:yc,scaleX:yc,scaleY:yc,scaleZ:yc,skew:ws,skewX:ws,skewY:ws,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Za,originX:P1,originY:P1,originZ:Je},i0={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...eC,zIndex:K1,fillOpacity:Za,strokeOpacity:Za,numOctaves:K1},tC={...i0,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:xf,WebkitFilter:xf},Op=r=>tC[r];function Dp(r,i){let a=Op(r);return a!==xf&&(a=bs),a.getAnimatableNone?a.getAnimatableNone(i):void 0}const nC=new Set(["auto","none","0"]);function rC(r,i,a){let f=0,m;for(;f<r.length&&!m;){const p=r[f];typeof p=="string"&&!nC.has(p)&&qa(p).values.length&&(m=r[f]),f++}if(m&&a)for(const p of i)r[p]=Dp(a,m)}class iC extends n0{constructor(i,a,f,m,p){super(i,a,f,m,p,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:a,name:f}=this;if(!a||!a.current)return;super.readKeyframes();for(let N=0;N<i.length;N++){let E=i[N];if(typeof E=="string"&&(E=E.trim(),Kf(E))){const T=Ip(E,a.current);T!==void 0&&(i[N]=T),N===i.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Rp.has(f)||i.length!==2)return;const[m,p]=i,y=Y1(m),b=Y1(p);if(y!==b)if(W1(y)&&W1(b))for(let N=0;N<i.length;N++){const E=i[N];typeof E=="string"&&(i[N]=parseFloat(E))}else Js[f]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:a}=this,f=[];for(let m=0;m<i.length;m++)(i[m]===null||q3(i[m]))&&f.push(m);f.length&&rC(i,f,a)}measureInitialState(){const{element:i,unresolvedKeyframes:a,name:f}=this;if(!i||!i.current)return;f==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Js[f](i.measureViewportBox(),window.getComputedStyle(i.current)),a[0]=this.measuredOrigin;const m=a[a.length-1];m!==void 0&&i.getValue(f,m).jump(m,!1)}measureEndState(){const{element:i,name:a,unresolvedKeyframes:f}=this;if(!i||!i.current)return;const m=i.getValue(a);m&&m.jump(this.measuredOrigin,!1);const p=f.length-1,y=f[p];f[p]=Js[a](i.measureViewportBox(),window.getComputedStyle(i.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),this.removedTransforms?.length&&this.removedTransforms.forEach(([b,N])=>{i.getValue(b).set(N)}),this.resolveNoneKeyframes()}}function sC(r,i,a){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let f=document;const m=a?.[r]??f.querySelectorAll(r);return m?Array.from(m):[]}return Array.from(r)}const Mp=(r,i)=>i&&typeof r=="number"?i.transform(r):r;function Pp(r){return Qg(r)&&"offsetHeight"in r}const Z1=30,oC=r=>!isNaN(parseFloat(r));class aC{constructor(i,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=f=>{const m=br.now();if(this.updatedAt!==m&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(f),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const p of this.dependents)p.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=a.owner}setCurrent(i){this.current=i,this.updatedAt=br.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=oC(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,a){this.events[i]||(this.events[i]=new Hf);const f=this.events[i].add(a);return i==="change"?()=>{f(),Jt.read(()=>{this.events.change.getSize()||this.stop()})}:f}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,a){this.passiveEffect=i,this.stopPassiveEffect=a}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,a,f){this.set(a),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-f}jump(i,a=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>Z1)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Z1);return Jg(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(i){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=i(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zo(r,i){return new aC(r,i)}const{schedule:s0}=up(queueMicrotask,!1),ui={x:!1,y:!1};function Lp(){return ui.x||ui.y}function lC(r){return r==="x"||r==="y"?ui[r]?null:(ui[r]=!0,()=>{ui[r]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function Bp(r,i){const a=sC(r),f=new AbortController,m={passive:!0,...i,signal:f.signal};return[a,m,()=>f.abort()]}function q1(r){return!(r.pointerType==="touch"||Lp())}function cC(r,i,a={}){const[f,m,p]=Bp(r,a),y=b=>{if(!q1(b))return;const{target:N}=b,E=i(N,b);if(typeof E!="function"||!N)return;const T=S=>{q1(S)&&(E(S),N.removeEventListener("pointerleave",T))};N.addEventListener("pointerleave",T,m)};return f.forEach(b=>{b.addEventListener("pointerenter",y,m)}),p}const Fp=(r,i)=>i?r===i?!0:Fp(r,i.parentElement):!1,o0=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,uC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dC(r){return uC.has(r.tagName)||r.tabIndex!==-1}const kc=new WeakSet;function Q1(r){return i=>{i.key==="Enter"&&r(i)}}function Ld(r,i){r.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const fC=(r,i)=>{const a=r.currentTarget;if(!a)return;const f=Q1(()=>{if(kc.has(a))return;Ld(a,"down");const m=Q1(()=>{Ld(a,"up")}),p=()=>Ld(a,"cancel");a.addEventListener("keyup",m,i),a.addEventListener("blur",p,i)});a.addEventListener("keydown",f,i),a.addEventListener("blur",()=>a.removeEventListener("keydown",f),i)};function $1(r){return o0(r)&&!Lp()}function hC(r,i,a={}){const[f,m,p]=Bp(r,a),y=b=>{const N=b.currentTarget;if(!$1(b))return;kc.add(N);const E=i(N,b),T=(L,z)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",D),kc.has(N)&&kc.delete(N),$1(L)&&typeof E=="function"&&E(L,{success:z})},S=L=>{T(L,N===window||N===document||a.useGlobalTarget||Fp(N,L.target))},D=L=>{T(L,!1)};window.addEventListener("pointerup",S,m),window.addEventListener("pointercancel",D,m)};return f.forEach(b=>{(a.useGlobalTarget?window:b).addEventListener("pointerdown",y,m),Pp(b)&&(b.addEventListener("focus",E=>fC(E,m)),!dC(b)&&!b.hasAttribute("tabindex")&&(b.tabIndex=0))}),p}function jp(r){return Qg(r)&&"ownerSVGElement"in r}function mC(r){return jp(r)&&r.tagName==="svg"}const rr=r=>!!(r&&r.getVelocity),gC=[..._p,Cn,bs],pC=r=>gC.find(kp(r)),a0=P.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function J1(r,i){if(typeof r=="function")return r(i);r!=null&&(r.current=i)}function xC(...r){return i=>{let a=!1;const f=r.map(m=>{const p=J1(m,i);return!a&&typeof p=="function"&&(a=!0),p});if(a)return()=>{for(let m=0;m<f.length;m++){const p=f[m];typeof p=="function"?p():J1(r[m],null)}}}}function yC(...r){return P.useCallback(xC(...r),r)}class wC extends P.Component{getSnapshotBeforeUpdate(i){const a=this.props.childRef.current;if(a&&i.isPresent&&!this.props.isPresent){const f=a.offsetParent,m=Pp(f)&&f.offsetWidth||0,p=this.props.sizeRef.current;p.height=a.offsetHeight||0,p.width=a.offsetWidth||0,p.top=a.offsetTop,p.left=a.offsetLeft,p.right=m-p.width-p.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vC({children:r,isPresent:i,anchorX:a,root:f}){const m=P.useId(),p=P.useRef(null),y=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:b}=P.useContext(a0),N=yC(p,r?.ref);return P.useInsertionEffect(()=>{const{width:E,height:T,top:S,left:D,right:L}=y.current;if(i||!p.current||!E||!T)return;const z=a==="left"?`left: ${D}`:`right: ${L}`;p.current.dataset.motionPopId=m;const F=document.createElement("style");b&&(F.nonce=b);const W=f??document.head;return W.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${T}px !important;
            ${z}px !important;
            top: ${S}px !important;
          }
        `),()=>{W.contains(F)&&W.removeChild(F)}},[i]),C.jsx(wC,{isPresent:i,childRef:p,sizeRef:y,children:P.cloneElement(r,{ref:N})})}const CC=({children:r,initial:i,isPresent:a,onExitComplete:f,custom:m,presenceAffectsLayout:p,mode:y,anchorX:b,root:N})=>{const E=Ff(EC),T=P.useId();let S=!0,D=P.useMemo(()=>(S=!1,{id:T,initial:i,isPresent:a,custom:m,onExitComplete:L=>{E.set(L,!0);for(const z of E.values())if(!z)return;f&&f()},register:L=>(E.set(L,!1),()=>E.delete(L))}),[a,E,f]);return p&&S&&(D={...D}),P.useMemo(()=>{E.forEach((L,z)=>E.set(z,!1))},[a]),P.useEffect(()=>{!a&&!E.size&&f&&f()},[a]),y==="popLayout"&&(r=C.jsx(vC,{isPresent:a,anchorX:b,root:N,children:r})),C.jsx(Xc.Provider,{value:D,children:r})};function EC(){return new Map}function Vp(r=!0){const i=P.useContext(Xc);if(i===null)return[!0,null];const{isPresent:a,onExitComplete:f,register:m}=i,p=P.useId();P.useEffect(()=>{if(r)return m(p)},[r]);const y=P.useCallback(()=>r&&f&&f(p),[p,f,r]);return!a&&f?[!1,y]:[!0]}const wc=r=>r.key||"";function em(r){const i=[];return P.Children.forEach(r,a=>{P.isValidElement(a)&&i.push(a)}),i}const bC=({children:r,custom:i,initial:a=!0,onExitComplete:f,presenceAffectsLayout:m=!0,mode:p="sync",propagate:y=!1,anchorX:b="left",root:N})=>{const[E,T]=Vp(y),S=P.useMemo(()=>em(r),[r]),D=y&&!E?[]:S.map(wc),L=P.useRef(!0),z=P.useRef(S),F=Ff(()=>new Map),[W,V]=P.useState(S),[ee,X]=P.useState(S);Zg(()=>{L.current=!1,z.current=S;for(let ue=0;ue<ee.length;ue++){const Z=wc(ee[ue]);D.includes(Z)?F.delete(Z):F.get(Z)!==!0&&F.set(Z,!1)}},[ee,D.length,D.join("-")]);const ne=[];if(S!==W){let ue=[...S];for(let Z=0;Z<ee.length;Z++){const Q=ee[Z],le=wc(Q);D.includes(le)||(ue.splice(Z,0,Q),ne.push(Q))}return p==="wait"&&ne.length&&(ue=ne),X(em(ue)),V(S),null}const{forceRender:fe}=P.useContext(Bf);return C.jsx(C.Fragment,{children:ee.map(ue=>{const Z=wc(ue),Q=y&&!E?!1:S===ee||D.includes(Z),le=()=>{if(F.has(Z))F.set(Z,!0);else return;let ge=!0;F.forEach(me=>{me||(ge=!1)}),ge&&(fe?.(),X(z.current),y&&T?.(),f&&f())};return C.jsx(CC,{isPresent:Q,initial:!L.current||a?void 0:!1,custom:i,presenceAffectsLayout:m,mode:p,root:N,onExitComplete:Q?void 0:le,anchorX:b,children:ue},Z)})})},Up=P.createContext({strict:!1}),tm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wo={};for(const r in tm)Wo[r]={isEnabled:i=>tm[r].some(a=>!!i[a])};function AC(r){for(const i in r)Wo[i]={...Wo[i],...r[i]}}const SC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||SC.has(r)}let zp=r=>!Vc(r);function NC(r){typeof r=="function"&&(zp=i=>i.startsWith("on")?!Vc(i):r(i))}try{NC(require("@emotion/is-prop-valid").default)}catch{}function TC(r,i,a){const f={};for(const m in r)m==="values"&&typeof r.values=="object"||(zp(m)||a===!0&&Vc(m)||!i&&!Vc(m)||r.draggable&&m.startsWith("onDrag"))&&(f[m]=r[m]);return f}const Yc=P.createContext({});function Kc(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Qa(r){return typeof r=="string"||Array.isArray(r)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c0=["initial",...l0];function Zc(r){return Kc(r.animate)||c0.some(i=>Qa(r[i]))}function Wp(r){return!!(Zc(r)||r.variants)}function IC(r,i){if(Zc(r)){const{initial:a,animate:f}=r;return{initial:a===!1||Qa(a)?a:void 0,animate:Qa(f)?f:void 0}}return r.inherit!==!1?i:{}}function RC(r){const{initial:i,animate:a}=IC(r,P.useContext(Yc));return P.useMemo(()=>({initial:i,animate:a}),[nm(i),nm(a)])}function nm(r){return Array.isArray(r)?r.join(" "):r}const $a={};function kC(r){for(const i in r)$a[i]=r[i],Yf(i)&&($a[i].isCSSVariable=!0)}function Hp(r,{layout:i,layoutId:a}){return Qo.has(r)||r.startsWith("origin")||(i||a!==void 0)&&(!!$a[r]||r==="opacity")}const _C={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OC=qo.length;function DC(r,i,a){let f="",m=!0;for(let p=0;p<OC;p++){const y=qo[p],b=r[y];if(b===void 0)continue;let N=!0;if(typeof b=="number"?N=b===(y.startsWith("scale")?1:0):N=parseFloat(b)===0,!N||a){const E=Mp(b,i0[y]);if(!N){m=!1;const T=_C[y]||y;f+=`${T}(${E}) `}a&&(i[y]=E)}}return f=f.trim(),a?f=a(i,m?"":f):m&&(f="none"),f}function u0(r,i,a){const{style:f,vars:m,transformOrigin:p}=r;let y=!1,b=!1;for(const N in i){const E=i[N];if(Qo.has(N)){y=!0;continue}else if(Yf(N)){m[N]=E;continue}else{const T=Mp(E,i0[N]);N.startsWith("origin")?(b=!0,p[N]=T):f[N]=T}}if(i.transform||(y||a?f.transform=DC(i,r.transform,a):f.transform&&(f.transform="none")),b){const{originX:N="50%",originY:E="50%",originZ:T=0}=p;f.transformOrigin=`${N} ${E} ${T}`}}const d0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gp(r,i,a){for(const f in i)!rr(i[f])&&!Hp(f,a)&&(r[f]=i[f])}function MC({transformTemplate:r},i){return P.useMemo(()=>{const a=d0();return u0(a,i,r),Object.assign({},a.vars,a.style)},[i])}function PC(r,i){const a=r.style||{},f={};return Gp(f,a,r),Object.assign(f,MC(r,i)),f}function LC(r,i){const a={},f=PC(r,i);return r.drag&&r.dragListener!==!1&&(a.draggable=!1,f.userSelect=f.WebkitUserSelect=f.WebkitTouchCallout="none",f.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(a.tabIndex=0),a.style=f,a}const BC={offset:"stroke-dashoffset",array:"stroke-dasharray"},FC={offset:"strokeDashoffset",array:"strokeDasharray"};function jC(r,i,a=1,f=0,m=!0){r.pathLength=1;const p=m?BC:FC;r[p.offset]=Je.transform(-f);const y=Je.transform(i),b=Je.transform(a);r[p.array]=`${y} ${b}`}function Xp(r,{attrX:i,attrY:a,attrScale:f,pathLength:m,pathSpacing:p=1,pathOffset:y=0,...b},N,E,T){if(u0(r,b,E),N){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:S,style:D}=r;S.transform&&(D.transform=S.transform,delete S.transform),(D.transform||S.transformOrigin)&&(D.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),D.transform&&(D.transformBox=T?.transformBox??"fill-box",delete S.transformBox),i!==void 0&&(S.x=i),a!==void 0&&(S.y=a),f!==void 0&&(S.scale=f),m!==void 0&&jC(S,m,p,y,!1)}const Yp=()=>({...d0(),attrs:{}}),Kp=r=>typeof r=="string"&&r.toLowerCase()==="svg";function VC(r,i,a,f){const m=P.useMemo(()=>{const p=Yp();return Xp(p,i,Kp(f),r.transformTemplate,r.style),{...p.attrs,style:{...p.style}}},[i]);if(r.style){const p={};Gp(p,r.style,r),m.style={...p,...m.style}}return m}const UC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function f0(r){return typeof r!="string"||r.includes("-")?!1:!!(UC.indexOf(r)>-1||/[A-Z]/u.test(r))}function zC(r,i,a,{latestValues:f},m,p=!1){const b=(f0(r)?VC:LC)(i,f,m,r),N=TC(i,typeof r=="string",p),E=r!==P.Fragment?{...N,...b,ref:a}:{},{children:T}=i,S=P.useMemo(()=>rr(T)?T.get():T,[T]);return P.createElement(r,{...E,children:S})}function rm(r){const i=[{},{}];return r?.values.forEach((a,f)=>{i[0][f]=a.get(),i[1][f]=a.getVelocity()}),i}function h0(r,i,a,f){if(typeof i=="function"){const[m,p]=rm(f);i=i(a!==void 0?a:r.custom,m,p)}if(typeof i=="string"&&(i=r.variants&&r.variants[i]),typeof i=="function"){const[m,p]=rm(f);i=i(a!==void 0?a:r.custom,m,p)}return i}function _c(r){return rr(r)?r.get():r}function WC({scrapeMotionValuesFromProps:r,createRenderState:i},a,f,m){return{latestValues:HC(a,f,m,r),renderState:i()}}function HC(r,i,a,f){const m={},p=f(r,{});for(const D in p)m[D]=_c(p[D]);let{initial:y,animate:b}=r;const N=Zc(r),E=Wp(r);i&&E&&!N&&r.inherit!==!1&&(y===void 0&&(y=i.initial),b===void 0&&(b=i.animate));let T=a?a.initial===!1:!1;T=T||y===!1;const S=T?b:y;if(S&&typeof S!="boolean"&&!Kc(S)){const D=Array.isArray(S)?S:[S];for(let L=0;L<D.length;L++){const z=h0(r,D[L]);if(z){const{transitionEnd:F,transition:W,...V}=z;for(const ee in V){let X=V[ee];if(Array.isArray(X)){const ne=T?X.length-1:0;X=X[ne]}X!==null&&(m[ee]=X)}for(const ee in F)m[ee]=F[ee]}}}return m}const Zp=r=>(i,a)=>{const f=P.useContext(Yc),m=P.useContext(Xc),p=()=>WC(r,i,f,m);return a?p():Ff(p)};function m0(r,i,a){const{style:f}=r,m={};for(const p in f)(rr(f[p])||i.style&&rr(i.style[p])||Hp(p,r)||a?.getValue(p)?.liveStyle!==void 0)&&(m[p]=f[p]);return m}const GC=Zp({scrapeMotionValuesFromProps:m0,createRenderState:d0});function qp(r,i,a){const f=m0(r,i,a);for(const m in r)if(rr(r[m])||rr(i[m])){const p=qo.indexOf(m)!==-1?"attr"+m.charAt(0).toUpperCase()+m.substring(1):m;f[p]=r[m]}return f}const XC=Zp({scrapeMotionValuesFromProps:qp,createRenderState:Yp}),YC=Symbol.for("motionComponentSymbol");function Do(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function KC(r,i,a){return P.useCallback(f=>{f&&r.onMount&&r.onMount(f),i&&(f?i.mount(f):i.unmount()),a&&(typeof a=="function"?a(f):Do(a)&&(a.current=f))},[i])}const g0=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZC="framerAppearId",Qp="data-"+g0(ZC),$p=P.createContext({});function qC(r,i,a,f,m){const{visualElement:p}=P.useContext(Yc),y=P.useContext(Up),b=P.useContext(Xc),N=P.useContext(a0).reducedMotion,E=P.useRef(null);f=f||y.renderer,!E.current&&f&&(E.current=f(r,{visualState:i,parent:p,props:a,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:N}));const T=E.current,S=P.useContext($p);T&&!T.projection&&m&&(T.type==="html"||T.type==="svg")&&QC(E.current,a,m,S);const D=P.useRef(!1);P.useInsertionEffect(()=>{T&&D.current&&T.update(a,b)});const L=a[Qp],z=P.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return Zg(()=>{T&&(D.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),z.current&&T.animationState&&T.animationState.animateChanges())}),P.useEffect(()=>{T&&(!z.current&&T.animationState&&T.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),z.current=!1),T.enteringChildren=void 0)}),T}function QC(r,i,a,f){const{layoutId:m,layout:p,drag:y,dragConstraints:b,layoutScroll:N,layoutRoot:E,layoutCrossfade:T}=i;r.projection=new a(r.latestValues,i["data-framer-portal-id"]?void 0:Jp(r.parent)),r.projection.setOptions({layoutId:m,layout:p,alwaysMeasureLayout:!!y||b&&Do(b),visualElement:r,animationType:typeof p=="string"?p:"both",initialPromotionConfig:f,crossfade:T,layoutScroll:N,layoutRoot:E})}function Jp(r){if(r)return r.options.allowProjection!==!1?r.projection:Jp(r.parent)}function Bd(r,{forwardMotionProps:i=!1}={},a,f){a&&AC(a);const m=f0(r)?XC:GC;function p(b,N){let E;const T={...P.useContext(a0),...b,layoutId:$C(b)},{isStatic:S}=T,D=RC(b),L=m(b,S);if(!S&&jf){JC();const z=eE(T);E=z.MeasureLayout,D.visualElement=qC(r,L,T,f,z.ProjectionNode)}return C.jsxs(Yc.Provider,{value:D,children:[E&&D.visualElement?C.jsx(E,{visualElement:D.visualElement,...T}):null,zC(r,b,KC(L,D.visualElement,N),L,S,i)]})}p.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const y=P.forwardRef(p);return y[YC]=r,y}function $C({layoutId:r}){const i=P.useContext(Bf).id;return i&&r!==void 0?i+"-"+r:r}function JC(r,i){P.useContext(Up).strict}function eE(r){const{drag:i,layout:a}=Wo;if(!i&&!a)return{};const f={...i,...a};return{MeasureLayout:i?.isEnabled(r)||a?.isEnabled(r)?f.MeasureLayout:void 0,ProjectionNode:f.ProjectionNode}}function tE(r,i){if(typeof Proxy>"u")return Bd;const a=new Map,f=(p,y)=>Bd(p,y,r,i),m=(p,y)=>f(p,y);return new Proxy(m,{get:(p,y)=>y==="create"?f:(a.has(y)||a.set(y,Bd(y,void 0,r,i)),a.get(y))})}function ex({top:r,left:i,right:a,bottom:f}){return{x:{min:i,max:a},y:{min:r,max:f}}}function nE({x:r,y:i}){return{top:i.min,right:r.max,bottom:i.max,left:r.min}}function rE(r,i){if(!i)return r;const a=i({x:r.left,y:r.top}),f=i({x:r.right,y:r.bottom});return{top:a.y,left:a.x,bottom:f.y,right:f.x}}function Fd(r){return r===void 0||r===1}function yf({scale:r,scaleX:i,scaleY:a}){return!Fd(r)||!Fd(i)||!Fd(a)}function qs(r){return yf(r)||tx(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function tx(r){return im(r.x)||im(r.y)}function im(r){return r&&r!=="0%"}function Uc(r,i,a){const f=r-a,m=i*f;return a+m}function sm(r,i,a,f,m){return m!==void 0&&(r=Uc(r,m,f)),Uc(r,a,f)+i}function wf(r,i=0,a=1,f,m){r.min=sm(r.min,i,a,f,m),r.max=sm(r.max,i,a,f,m)}function nx(r,{x:i,y:a}){wf(r.x,i.translate,i.scale,i.originPoint),wf(r.y,a.translate,a.scale,a.originPoint)}const om=.999999999999,am=1.0000000000001;function iE(r,i,a,f=!1){const m=a.length;if(!m)return;i.x=i.y=1;let p,y;for(let b=0;b<m;b++){p=a[b],y=p.projectionDelta;const{visualElement:N}=p.options;N&&N.props.style&&N.props.style.display==="contents"||(f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Po(r,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),y&&(i.x*=y.x.scale,i.y*=y.y.scale,nx(r,y)),f&&qs(p.latestValues)&&Po(r,p.latestValues))}i.x<am&&i.x>om&&(i.x=1),i.y<am&&i.y>om&&(i.y=1)}function Mo(r,i){r.min=r.min+i,r.max=r.max+i}function lm(r,i,a,f,m=.5){const p=on(r.min,r.max,m);wf(r,i,a,p,f)}function Po(r,i){lm(r.x,i.x,i.scaleX,i.scale,i.originX),lm(r.y,i.y,i.scaleY,i.scale,i.originY)}function rx(r,i){return ex(rE(r.getBoundingClientRect(),i))}function sE(r,i,a){const f=rx(r,a),{scroll:m}=i;return m&&(Mo(f.x,m.offset.x),Mo(f.y,m.offset.y)),f}const cm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:cm(),y:cm()}),um=()=>({min:0,max:0}),yn=()=>({x:um(),y:um()}),vf={current:null},ix={current:!1};function oE(){if(ix.current=!0,!!jf)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),i=()=>vf.current=r.matches;r.addEventListener("change",i),i()}else vf.current=!1}const aE=new WeakMap;function lE(r,i,a){for(const f in i){const m=i[f],p=a[f];if(rr(m))r.addValue(f,m);else if(rr(p))r.addValue(f,zo(m,{owner:r}));else if(p!==m)if(r.hasValue(f)){const y=r.getValue(f);y.liveStyle===!0?y.jump(m):y.hasAnimated||y.set(m)}else{const y=r.getStaticValue(f);r.addValue(f,zo(y!==void 0?y:m,{owner:r}))}}for(const f in a)i[f]===void 0&&r.removeValue(f);return i}const dm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cE{scrapeMotionValuesFromProps(i,a,f){return{}}constructor({parent:i,props:a,presenceContext:f,reducedMotionConfig:m,blockInitialAnimation:p,visualState:y},b={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const D=br.now();this.renderScheduledAt<D&&(this.renderScheduledAt=D,Jt.render(this.render,!1,!0))};const{latestValues:N,renderState:E}=y;this.latestValues=N,this.baseTarget={...N},this.initialValues=a.initial?{...N}:{},this.renderState=E,this.parent=i,this.props=a,this.presenceContext=f,this.depth=i?i.depth+1:0,this.reducedMotionConfig=m,this.options=b,this.blockInitialAnimation=!!p,this.isControllingVariants=Zc(a),this.isVariantNode=Wp(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:T,...S}=this.scrapeMotionValuesFromProps(a,{},this);for(const D in S){const L=S[D];N[D]!==void 0&&rr(L)&&L.set(N[D])}}mount(i){this.current=i,aE.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,f)=>this.bindToMotionValue(f,a)),ix.current||oE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Es(this.notifyUpdate),Es(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const a=this.features[i];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,a){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const f=Qo.has(i);f&&this.onBindTransform&&this.onBindTransform();const m=a.on("change",y=>{this.latestValues[i]=y,this.props.onUpdate&&Jt.preRender(this.notifyUpdate),f&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let p;window.MotionCheckAppearSync&&(p=window.MotionCheckAppearSync(this,i,a)),this.valueSubscriptions.set(i,()=>{m(),p&&p(),a.owner&&a.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in Wo){const a=Wo[i];if(!a)continue;const{isEnabled:f,Feature:m}=a;if(!this.features[i]&&m&&f(this.props)&&(this.features[i]=new m(this)),this.features[i]){const p=this.features[i];p.isMounted?p.update():(p.mount(),p.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,a){this.latestValues[i]=a}update(i,a){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let f=0;f<dm.length;f++){const m=dm[f];this.propEventSubscriptions[m]&&(this.propEventSubscriptions[m](),delete this.propEventSubscriptions[m]);const p="on"+m,y=i[p];y&&(this.propEventSubscriptions[m]=this.on(m,y))}this.prevMotionValues=lE(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(i),()=>a.variantChildren.delete(i)}addValue(i,a){const f=this.values.get(i);a!==f&&(f&&this.removeValue(i),this.bindToMotionValue(i,a),this.values.set(i,a),this.latestValues[i]=a.get())}removeValue(i){this.values.delete(i);const a=this.valueSubscriptions.get(i);a&&(a(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,a){if(this.props.values&&this.props.values[i])return this.props.values[i];let f=this.values.get(i);return f===void 0&&a!==void 0&&(f=zo(a===null?void 0:a,{owner:this}),this.addValue(i,f)),f}readValue(i,a){let f=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return f!=null&&(typeof f=="string"&&(qg(f)||$g(f))?f=parseFloat(f):!pC(f)&&bs.test(a)&&(f=Dp(i,a)),this.setBaseTarget(i,rr(f)?f.get():f)),rr(f)?f.get():f}setBaseTarget(i,a){this.baseTarget[i]=a}getBaseTarget(i){const{initial:a}=this.props;let f;if(typeof a=="string"||typeof a=="object"){const p=h0(this.props,a,this.presenceContext?.custom);p&&(f=p[i])}if(a&&f!==void 0)return f;const m=this.getBaseTargetFromProps(this.props,i);return m!==void 0&&!rr(m)?m:this.initialValues[i]!==void 0&&f===void 0?void 0:this.baseTarget[i]}on(i,a){return this.events[i]||(this.events[i]=new Hf),this.events[i].add(a)}notify(i,...a){this.events[i]&&this.events[i].notify(...a)}scheduleRenderMicrotask(){s0.render(this.render)}}class sx extends cE{constructor(){super(...arguments),this.KeyframeResolver=iC}sortInstanceNodePosition(i,a){return i.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(i,a){return i.style?i.style[a]:void 0}removeValueFromRenderState(i,{vars:a,style:f}){delete a[i],delete f[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;rr(i)&&(this.childSubscription=i.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function ox(r,{style:i,vars:a},f,m){const p=r.style;let y;for(y in i)p[y]=i[y];m?.applyProjectionStyles(p,f);for(y in a)p.setProperty(y,a[y])}function uE(r){return window.getComputedStyle(r)}class dE extends sx{constructor(){super(...arguments),this.type="html",this.renderInstance=ox}readValueFromInstance(i,a){if(Qo.has(a))return this.projection?.isProjecting?df(a):b3(i,a);{const f=uE(i),m=(Yf(a)?f.getPropertyValue(a):f[a])||0;return typeof m=="string"?m.trim():m}}measureInstanceViewportBox(i,{transformPagePoint:a}){return rx(i,a)}build(i,a,f){u0(i,a,f.transformTemplate)}scrapeMotionValuesFromProps(i,a,f){return m0(i,a,f)}}const ax=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fE(r,i,a,f){ox(r,i,void 0,f);for(const m in i.attrs)r.setAttribute(ax.has(m)?m:g0(m),i.attrs[m])}class hE extends sx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(i,a){return i[a]}readValueFromInstance(i,a){if(Qo.has(a)){const f=Op(a);return f&&f.default||0}return a=ax.has(a)?a:g0(a),i.getAttribute(a)}scrapeMotionValuesFromProps(i,a,f){return qp(i,a,f)}build(i,a,f){Xp(i,a,this.isSVGTag,f.transformTemplate,f.style)}renderInstance(i,a,f,m){fE(i,a,f,m)}mount(i){this.isSVGTag=Kp(i.tagName),super.mount(i)}}const mE=(r,i)=>f0(r)?new hE(i):new dE(i,{allowProjection:r!==P.Fragment});function Fo(r,i,a){const f=r.getProps();return h0(f,i,a!==void 0?a:f.custom,r)}const Cf=r=>Array.isArray(r);function gE(r,i,a){r.hasValue(i)?r.getValue(i).set(a):r.addValue(i,zo(a))}function pE(r){return Cf(r)?r[r.length-1]||0:r}function xE(r,i){const a=Fo(r,i);let{transitionEnd:f={},transition:m={},...p}=a||{};p={...p,...f};for(const y in p){const b=pE(p[y]);gE(r,y,b)}}function yE(r){return!!(rr(r)&&r.add)}function Ef(r,i){const a=r.getValue("willChange");if(yE(a))return a.add(i);if(!a&&zi.WillChange){const f=new zi.WillChange("auto");r.addValue("willChange",f),f.add(i)}}function lx(r){return r.props[Qp]}const wE=r=>r!==null;function vE(r,{repeat:i,repeatType:a="loop"},f){const m=r.filter(wE),p=i&&a!=="loop"&&i%2===1?0:m.length-1;return m[p]}const CE={type:"spring",stiffness:500,damping:25,restSpeed:10},EE=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),bE={type:"keyframes",duration:.8},AE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SE=(r,{keyframes:i})=>i.length>2?bE:Qo.has(r)?r.startsWith("scale")?EE(i[1]):CE:AE;function NE({when:r,delay:i,delayChildren:a,staggerChildren:f,staggerDirection:m,repeat:p,repeatType:y,repeatDelay:b,from:N,elapsed:E,...T}){return!!Object.keys(T).length}const p0=(r,i,a,f={},m,p)=>y=>{const b=r0(f,r)||{},N=b.delay||f.delay||0;let{elapsed:E=0}=f;E=E-bi(N);const T={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:i.getVelocity(),...b,delay:-E,onUpdate:D=>{i.set(D),b.onUpdate&&b.onUpdate(D)},onComplete:()=>{y(),b.onComplete&&b.onComplete()},name:r,motionValue:i,element:p?void 0:m};NE(b)||Object.assign(T,SE(r,T)),T.duration&&(T.duration=bi(T.duration)),T.repeatDelay&&(T.repeatDelay=bi(T.repeatDelay)),T.from!==void 0&&(T.keyframes[0]=T.from);let S=!1;if((T.type===!1||T.duration===0&&!T.repeatDelay)&&(pf(T),T.delay===0&&(S=!0)),(zi.instantAnimations||zi.skipAnimations)&&(S=!0,pf(T),T.delay=0),T.allowFlatten=!b.type&&!b.ease,S&&!p&&i.get()!==void 0){const D=vE(T.keyframes,b);if(D!==void 0){Jt.update(()=>{T.onUpdate(D),T.onComplete()});return}}return b.isSync?new t0(T):new X3(T)};function TE({protectedKeys:r,needsAnimating:i},a){const f=r.hasOwnProperty(a)&&i[a]!==!0;return i[a]=!1,f}function cx(r,i,{delay:a=0,transitionOverride:f,type:m}={}){let{transition:p=r.getDefaultTransition(),transitionEnd:y,...b}=i;f&&(p=f);const N=[],E=m&&r.animationState&&r.animationState.getState()[m];for(const T in b){const S=r.getValue(T,r.latestValues[T]??null),D=b[T];if(D===void 0||E&&TE(E,T))continue;const L={delay:a,...r0(p||{},T)},z=S.get();if(z!==void 0&&!S.isAnimating&&!Array.isArray(D)&&D===z&&!L.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const V=lx(r);if(V){const ee=window.MotionHandoffAnimation(V,T,Jt);ee!==null&&(L.startTime=ee,F=!0)}}Ef(r,T),S.start(p0(T,S,D,r.shouldReduceMotion&&Rp.has(T)?{type:!1}:L,r,F));const W=S.animation;W&&N.push(W)}return y&&Promise.all(N).then(()=>{Jt.update(()=>{y&&xE(r,y)})}),N}function ux(r,i,a,f=0,m=1){const p=Array.from(r).sort((E,T)=>E.sortNodePosition(T)).indexOf(i),y=r.size,b=(y-1)*f;return typeof a=="function"?a(p,y):m===1?p*f:b-p*f}function bf(r,i,a={}){const f=Fo(r,i,a.type==="exit"?r.presenceContext?.custom:void 0);let{transition:m=r.getDefaultTransition()||{}}=f||{};a.transitionOverride&&(m=a.transitionOverride);const p=f?()=>Promise.all(cx(r,f,a)):()=>Promise.resolve(),y=r.variantChildren&&r.variantChildren.size?(N=0)=>{const{delayChildren:E=0,staggerChildren:T,staggerDirection:S}=m;return IE(r,i,N,E,T,S,a)}:()=>Promise.resolve(),{when:b}=m;if(b){const[N,E]=b==="beforeChildren"?[p,y]:[y,p];return N().then(()=>E())}else return Promise.all([p(),y(a.delay)])}function IE(r,i,a=0,f=0,m=0,p=1,y){const b=[];for(const N of r.variantChildren)N.notify("AnimationStart",i),b.push(bf(N,i,{...y,delay:a+(typeof f=="function"?0:f)+ux(r.variantChildren,N,f,m,p)}).then(()=>N.notify("AnimationComplete",i)));return Promise.all(b)}function RE(r,i,a={}){r.notify("AnimationStart",i);let f;if(Array.isArray(i)){const m=i.map(p=>bf(r,p,a));f=Promise.all(m)}else if(typeof i=="string")f=bf(r,i,a);else{const m=typeof i=="function"?Fo(r,i,a.custom):i;f=Promise.all(cx(r,m,a))}return f.then(()=>{r.notify("AnimationComplete",i)})}function dx(r,i){if(!Array.isArray(i))return!1;const a=i.length;if(a!==r.length)return!1;for(let f=0;f<a;f++)if(i[f]!==r[f])return!1;return!0}const kE=c0.length;function fx(r){if(!r)return;if(!r.isControllingVariants){const a=r.parent?fx(r.parent)||{}:{};return r.props.initial!==void 0&&(a.initial=r.props.initial),a}const i={};for(let a=0;a<kE;a++){const f=c0[a],m=r.props[f];(Qa(m)||m===!1)&&(i[f]=m)}return i}const _E=[...l0].reverse(),OE=l0.length;function DE(r){return i=>Promise.all(i.map(({animation:a,options:f})=>RE(r,a,f)))}function ME(r){let i=DE(r),a=fm(),f=!0;const m=N=>(E,T)=>{const S=Fo(r,T,N==="exit"?r.presenceContext?.custom:void 0);if(S){const{transition:D,transitionEnd:L,...z}=S;E={...E,...z,...L}}return E};function p(N){i=N(r)}function y(N){const{props:E}=r,T=fx(r.parent)||{},S=[],D=new Set;let L={},z=1/0;for(let W=0;W<OE;W++){const V=_E[W],ee=a[V],X=E[V]!==void 0?E[V]:T[V],ne=Qa(X),fe=V===N?ee.isActive:null;fe===!1&&(z=W);let ue=X===T[V]&&X!==E[V]&&ne;if(ue&&f&&r.manuallyAnimateOnMount&&(ue=!1),ee.protectedKeys={...L},!ee.isActive&&fe===null||!X&&!ee.prevProp||Kc(X)||typeof X=="boolean")continue;const Z=PE(ee.prevProp,X);let Q=Z||V===N&&ee.isActive&&!ue&&ne||W>z&&ne,le=!1;const ge=Array.isArray(X)?X:[X];let me=ge.reduce(m(V),{});fe===!1&&(me={});const{prevResolvedValues:ce={}}=ee,xe={...ce,...me},je=pe=>{Q=!0,D.has(pe)&&(le=!0,D.delete(pe)),ee.needsAnimating[pe]=!0;const ie=r.getValue(pe);ie&&(ie.liveStyle=!1)};for(const pe in xe){const ie=me[pe],Oe=ce[pe];if(L.hasOwnProperty(pe))continue;let be=!1;Cf(ie)&&Cf(Oe)?be=!dx(ie,Oe):be=ie!==Oe,be?ie!=null?je(pe):D.add(pe):ie!==void 0&&D.has(pe)?je(pe):ee.protectedKeys[pe]=!0}ee.prevProp=X,ee.prevResolvedValues=me,ee.isActive&&(L={...L,...me}),f&&r.blockInitialAnimation&&(Q=!1);const te=ue&&Z;Q&&(!te||le)&&S.push(...ge.map(pe=>{const ie={type:V};if(typeof pe=="string"&&f&&!te&&r.manuallyAnimateOnMount&&r.parent){const{parent:Oe}=r,be=Fo(Oe,pe);if(Oe.enteringChildren&&be){const{delayChildren:K}=be.transition||{};ie.delay=ux(Oe.enteringChildren,r,K)}}return{animation:pe,options:ie}}))}if(D.size){const W={};if(typeof E.initial!="boolean"){const V=Fo(r,Array.isArray(E.initial)?E.initial[0]:E.initial);V&&V.transition&&(W.transition=V.transition)}D.forEach(V=>{const ee=r.getBaseTarget(V),X=r.getValue(V);X&&(X.liveStyle=!0),W[V]=ee??null}),S.push({animation:W})}let F=!!S.length;return f&&(E.initial===!1||E.initial===E.animate)&&!r.manuallyAnimateOnMount&&(F=!1),f=!1,F?i(S):Promise.resolve()}function b(N,E){if(a[N].isActive===E)return Promise.resolve();r.variantChildren?.forEach(S=>S.animationState?.setActive(N,E)),a[N].isActive=E;const T=y(N);for(const S in a)a[S].protectedKeys={};return T}return{animateChanges:y,setActive:b,setAnimateFunction:p,getState:()=>a,reset:()=>{a=fm()}}}function PE(r,i){return typeof i=="string"?i!==r:Array.isArray(i)?!dx(i,r):!1}function Zs(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fm(){return{animate:Zs(!0),whileInView:Zs(),whileHover:Zs(),whileTap:Zs(),whileDrag:Zs(),whileFocus:Zs(),exit:Zs()}}class As{constructor(i){this.isMounted=!1,this.node=i}update(){}}class LE extends As{constructor(i){super(i),i.animationState||(i.animationState=ME(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Kc(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:a}=this.node.prevProps||{};i!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let BE=0;class FE extends As{constructor(){super(...arguments),this.id=BE++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:a}=this.node.presenceContext,{isPresent:f}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===f)return;const m=this.node.animationState.setActive("exit",!i);a&&!i&&m.then(()=>{a(this.id)})}mount(){const{register:i,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const jE={animation:{Feature:LE},exit:{Feature:FE}};function Ja(r,i,a,f={passive:!0}){return r.addEventListener(i,a,f),()=>r.removeEventListener(i,a)}function rl(r){return{point:{x:r.pageX,y:r.pageY}}}const VE=r=>i=>o0(i)&&r(i,rl(i));function za(r,i,a,f){return Ja(r,i,VE(a),f)}const hx=1e-4,UE=1-hx,zE=1+hx,mx=.01,WE=0-mx,HE=0+mx;function fr(r){return r.max-r.min}function GE(r,i,a){return Math.abs(r-i)<=a}function hm(r,i,a,f=.5){r.origin=f,r.originPoint=on(i.min,i.max,r.origin),r.scale=fr(a)/fr(i),r.translate=on(a.min,a.max,r.origin)-r.originPoint,(r.scale>=UE&&r.scale<=zE||isNaN(r.scale))&&(r.scale=1),(r.translate>=WE&&r.translate<=HE||isNaN(r.translate))&&(r.translate=0)}function Wa(r,i,a,f){hm(r.x,i.x,a.x,f?f.originX:void 0),hm(r.y,i.y,a.y,f?f.originY:void 0)}function mm(r,i,a){r.min=a.min+i.min,r.max=r.min+fr(i)}function XE(r,i,a){mm(r.x,i.x,a.x),mm(r.y,i.y,a.y)}function gm(r,i,a){r.min=i.min-a.min,r.max=r.min+fr(i)}function Ha(r,i,a){gm(r.x,i.x,a.x),gm(r.y,i.y,a.y)}function qr(r){return[r("x"),r("y")]}const gx=({current:r})=>r?r.ownerDocument.defaultView:null,pm=(r,i)=>Math.abs(r-i);function YE(r,i){const a=pm(r.x,i.x),f=pm(r.y,i.y);return Math.sqrt(a**2+f**2)}class px{constructor(i,a,{transformPagePoint:f,contextWindow:m=window,dragSnapToOrigin:p=!1,distanceThreshold:y=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Vd(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,z=YE(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!L&&!z)return;const{point:F}=D,{timestamp:W}=Yn;this.history.push({...F,timestamp:W});const{onStart:V,onMove:ee}=this.handlers;L||(V&&V(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),ee&&ee(this.lastMoveEvent,D)},this.handlePointerMove=(D,L)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=jd(L,this.transformPagePoint),Jt.update(this.updatePoint,!0)},this.handlePointerUp=(D,L)=>{this.end();const{onEnd:z,onSessionEnd:F,resumeAnimation:W}=this.handlers;if(this.dragSnapToOrigin&&W&&W(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Vd(D.type==="pointercancel"?this.lastMoveEventInfo:jd(L,this.transformPagePoint),this.history);this.startEvent&&z&&z(D,V),F&&F(D,V)},!o0(i))return;this.dragSnapToOrigin=p,this.handlers=a,this.transformPagePoint=f,this.distanceThreshold=y,this.contextWindow=m||window;const b=rl(i),N=jd(b,this.transformPagePoint),{point:E}=N,{timestamp:T}=Yn;this.history=[{...E,timestamp:T}];const{onSessionStart:S}=a;S&&S(i,Vd(N,this.history)),this.removeListeners=el(za(this.contextWindow,"pointermove",this.handlePointerMove),za(this.contextWindow,"pointerup",this.handlePointerUp),za(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),Es(this.updatePoint)}}function jd(r,i){return i?{point:i(r.point)}:r}function xm(r,i){return{x:r.x-i.x,y:r.y-i.y}}function Vd({point:r},i){return{point:r,delta:xm(r,xx(i)),offset:xm(r,KE(i)),velocity:ZE(i,.1)}}function KE(r){return r[0]}function xx(r){return r[r.length-1]}function ZE(r,i){if(r.length<2)return{x:0,y:0};let a=r.length-1,f=null;const m=xx(r);for(;a>=0&&(f=r[a],!(m.timestamp-f.timestamp>bi(i)));)a--;if(!f)return{x:0,y:0};const p=Qr(m.timestamp-f.timestamp);if(p===0)return{x:0,y:0};const y={x:(m.x-f.x)/p,y:(m.y-f.y)/p};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function qE(r,{min:i,max:a},f){return i!==void 0&&r<i?r=f?on(i,r,f.min):Math.max(r,i):a!==void 0&&r>a&&(r=f?on(a,r,f.max):Math.min(r,a)),r}function ym(r,i,a){return{min:i!==void 0?r.min+i:void 0,max:a!==void 0?r.max+a-(r.max-r.min):void 0}}function QE(r,{top:i,left:a,bottom:f,right:m}){return{x:ym(r.x,a,m),y:ym(r.y,i,f)}}function wm(r,i){let a=i.min-r.min,f=i.max-r.max;return i.max-i.min<r.max-r.min&&([a,f]=[f,a]),{min:a,max:f}}function $E(r,i){return{x:wm(r.x,i.x),y:wm(r.y,i.y)}}function JE(r,i){let a=.5;const f=fr(r),m=fr(i);return m>f?a=Ka(i.min,i.max-f,r.min):f>m&&(a=Ka(r.min,r.max-m,i.min)),Ui(0,1,a)}function eb(r,i){const a={};return i.min!==void 0&&(a.min=i.min-r.min),i.max!==void 0&&(a.max=i.max-r.min),a}const Af=.35;function tb(r=Af){return r===!1?r=0:r===!0&&(r=Af),{x:vm(r,"left","right"),y:vm(r,"top","bottom")}}function vm(r,i,a){return{min:Cm(r,i),max:Cm(r,a)}}function Cm(r,i){return typeof r=="number"?r:r[i]||0}const nb=new WeakMap;class rb{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:a=!1,distanceThreshold:f}={}){const{presenceContext:m}=this.visualElement;if(m&&m.isPresent===!1)return;const p=S=>{const{dragSnapToOrigin:D}=this.getProps();D?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(rl(S).point)},y=(S,D)=>{const{drag:L,dragPropagation:z,onDragStart:F}=this.getProps();if(L&&!z&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lC(L),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=D,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(V=>{let ee=this.getAxisMotionValue(V).get()||0;if(Ai.test(ee)){const{projection:X}=this.visualElement;if(X&&X.layout){const ne=X.layout.layoutBox[V];ne&&(ee=fr(ne)*(parseFloat(ee)/100))}}this.originPoint[V]=ee}),F&&Jt.postRender(()=>F(S,D)),Ef(this.visualElement,"transform");const{animationState:W}=this.visualElement;W&&W.setActive("whileDrag",!0)},b=(S,D)=>{this.latestPointerEvent=S,this.latestPanInfo=D;const{dragPropagation:L,dragDirectionLock:z,onDirectionLock:F,onDrag:W}=this.getProps();if(!L&&!this.openDragLock)return;const{offset:V}=D;if(z&&this.currentDirection===null){this.currentDirection=ib(V),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",D.point,V),this.updateAxis("y",D.point,V),this.visualElement.render(),W&&W(S,D)},N=(S,D)=>{this.latestPointerEvent=S,this.latestPanInfo=D,this.stop(S,D),this.latestPointerEvent=null,this.latestPanInfo=null},E=()=>qr(S=>this.getAnimationState(S)==="paused"&&this.getAxisMotionValue(S).animation?.play()),{dragSnapToOrigin:T}=this.getProps();this.panSession=new px(i,{onSessionStart:p,onStart:y,onMove:b,onSessionEnd:N,resumeAnimation:E},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:T,distanceThreshold:f,contextWindow:gx(this.visualElement)})}stop(i,a){const f=i||this.latestPointerEvent,m=a||this.latestPanInfo,p=this.isDragging;if(this.cancel(),!p||!m||!f)return;const{velocity:y}=m;this.startAnimation(y);const{onDragEnd:b}=this.getProps();b&&Jt.postRender(()=>b(f,m))}cancel(){this.isDragging=!1;const{projection:i,animationState:a}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:f}=this.getProps();!f&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(i,a,f){const{drag:m}=this.getProps();if(!f||!vc(i,m,this.currentDirection))return;const p=this.getAxisMotionValue(i);let y=this.originPoint[i]+f[i];this.constraints&&this.constraints[i]&&(y=qE(y,this.constraints[i],this.elastic[i])),p.set(y)}resolveConstraints(){const{dragConstraints:i,dragElastic:a}=this.getProps(),f=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,m=this.constraints;i&&Do(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&f?this.constraints=QE(f.layoutBox,i):this.constraints=!1,this.elastic=tb(a),m!==this.constraints&&f&&this.constraints&&!this.hasMutatedConstraints&&qr(p=>{this.constraints!==!1&&this.getAxisMotionValue(p)&&(this.constraints[p]=eb(f.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:a}=this.getProps();if(!i||!Do(i))return!1;const f=i.current,{projection:m}=this.visualElement;if(!m||!m.layout)return!1;const p=sE(f,m.root,this.visualElement.getTransformPagePoint());let y=$E(m.layout.layoutBox,p);if(a){const b=a(nE(y));this.hasMutatedConstraints=!!b,b&&(y=ex(b))}return y}startAnimation(i){const{drag:a,dragMomentum:f,dragElastic:m,dragTransition:p,dragSnapToOrigin:y,onDragTransitionEnd:b}=this.getProps(),N=this.constraints||{},E=qr(T=>{if(!vc(T,a,this.currentDirection))return;let S=N&&N[T]||{};y&&(S={min:0,max:0});const D=m?200:1e6,L=m?40:1e7,z={type:"inertia",velocity:f?i[T]:0,bounceStiffness:D,bounceDamping:L,timeConstant:750,restDelta:1,restSpeed:10,...p,...S};return this.startAxisValueAnimation(T,z)});return Promise.all(E).then(b)}startAxisValueAnimation(i,a){const f=this.getAxisMotionValue(i);return Ef(this.visualElement,i),f.start(p0(i,f,0,a,this.visualElement,!1))}stopAnimation(){qr(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){qr(i=>this.getAxisMotionValue(i).animation?.pause())}getAnimationState(i){return this.getAxisMotionValue(i).animation?.state}getAxisMotionValue(i){const a=`_drag${i.toUpperCase()}`,f=this.visualElement.getProps(),m=f[a];return m||this.visualElement.getValue(i,(f.initial?f.initial[i]:void 0)||0)}snapToCursor(i){qr(a=>{const{drag:f}=this.getProps();if(!vc(a,f,this.currentDirection))return;const{projection:m}=this.visualElement,p=this.getAxisMotionValue(a);if(m&&m.layout){const{min:y,max:b}=m.layout.layoutBox[a];p.set(i[a]-on(y,b,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:a}=this.getProps(),{projection:f}=this.visualElement;if(!Do(a)||!f||!this.constraints)return;this.stopAnimation();const m={x:0,y:0};qr(y=>{const b=this.getAxisMotionValue(y);if(b&&this.constraints!==!1){const N=b.get();m[y]=JE({min:N,max:N},this.constraints[y])}});const{transformTemplate:p}=this.visualElement.getProps();this.visualElement.current.style.transform=p?p({},""):"none",f.root&&f.root.updateScroll(),f.updateLayout(),this.resolveConstraints(),qr(y=>{if(!vc(y,i,null))return;const b=this.getAxisMotionValue(y),{min:N,max:E}=this.constraints[y];b.set(on(N,E,m[y]))})}addListeners(){if(!this.visualElement.current)return;nb.set(this.visualElement,this);const i=this.visualElement.current,a=za(i,"pointerdown",N=>{const{drag:E,dragListener:T=!0}=this.getProps();E&&T&&this.start(N)}),f=()=>{const{dragConstraints:N}=this.getProps();Do(N)&&N.current&&(this.constraints=this.resolveRefConstraints())},{projection:m}=this.visualElement,p=m.addEventListener("measure",f);m&&!m.layout&&(m.root&&m.root.updateScroll(),m.updateLayout()),Jt.read(f);const y=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),b=m.addEventListener("didUpdate",(({delta:N,hasLayoutChanged:E})=>{this.isDragging&&E&&(qr(T=>{const S=this.getAxisMotionValue(T);S&&(this.originPoint[T]+=N[T].translate,S.set(S.get()+N[T].translate))}),this.visualElement.render())}));return()=>{y(),a(),p(),b&&b()}}getProps(){const i=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:f=!1,dragPropagation:m=!1,dragConstraints:p=!1,dragElastic:y=Af,dragMomentum:b=!0}=i;return{...i,drag:a,dragDirectionLock:f,dragPropagation:m,dragConstraints:p,dragElastic:y,dragMomentum:b}}}function vc(r,i,a){return(i===!0||i===r)&&(a===null||a===r)}function ib(r,i=10){let a=null;return Math.abs(r.y)>i?a="y":Math.abs(r.x)>i&&(a="x"),a}class sb extends As{constructor(i){super(i),this.removeGroupControls=$r,this.removeListeners=$r,this.controls=new rb(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$r}unmount(){this.removeGroupControls(),this.removeListeners()}}const Em=r=>(i,a)=>{r&&Jt.postRender(()=>r(i,a))};class ob extends As{constructor(){super(...arguments),this.removePointerDownListener=$r}onPointerDown(i){this.session=new px(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gx(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:a,onPan:f,onPanEnd:m}=this.node.getProps();return{onSessionStart:Em(i),onStart:Em(a),onMove:f,onEnd:(p,y)=>{delete this.session,m&&Jt.postRender(()=>m(p,y))}}}mount(){this.removePointerDownListener=za(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bm(r,i){return i.max===i.min?0:r/(i.max-i.min)*100}const La={correct:(r,i)=>{if(!i.target)return r;if(typeof r=="string")if(Je.test(r))r=parseFloat(r);else return r;const a=bm(r,i.target.x),f=bm(r,i.target.y);return`${a}% ${f}%`}},ab={correct:(r,{treeScale:i,projectionDelta:a})=>{const f=r,m=bs.parse(r);if(m.length>5)return f;const p=bs.createTransformer(r),y=typeof m[0]!="number"?1:0,b=a.x.scale*i.x,N=a.y.scale*i.y;m[0+y]/=b,m[1+y]/=N;const E=on(b,N,.5);return typeof m[2+y]=="number"&&(m[2+y]/=E),typeof m[3+y]=="number"&&(m[3+y]/=E),p(m)}};let Ud=!1;class lb extends P.Component{componentDidMount(){const{visualElement:i,layoutGroup:a,switchLayoutGroup:f,layoutId:m}=this.props,{projection:p}=i;kC(cb),p&&(a.group&&a.group.add(p),f&&f.register&&m&&f.register(p),Ud&&p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),Oc.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:a,visualElement:f,drag:m,isPresent:p}=this.props,{projection:y}=f;return y&&(y.isPresent=p,Ud=!0,m||i.layoutDependency!==a||a===void 0||i.isPresent!==p?y.willUpdate():this.safeToRemove(),i.isPresent!==p&&(p?y.promote():y.relegate()||Jt.postRender(()=>{const b=y.getStack();(!b||!b.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),s0.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:a,switchLayoutGroup:f}=this.props,{projection:m}=i;Ud=!0,m&&(m.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(m),f&&f.deregister&&f.deregister(m))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function yx(r){const[i,a]=Vp(),f=P.useContext(Bf);return C.jsx(lb,{...r,layoutGroup:f,switchLayoutGroup:P.useContext($p),isPresent:i,safeToRemove:a})}const cb={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:ab};function ub(r,i,a){const f=rr(r)?r:zo(r);return f.start(p0("",f,i,a)),f.animation}const db=(r,i)=>r.depth-i.depth;class fb{constructor(){this.children=[],this.isDirty=!1}add(i){Vf(this.children,i),this.isDirty=!0}remove(i){Uf(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(db),this.isDirty=!1,this.children.forEach(i)}}function hb(r,i){const a=br.now(),f=({timestamp:m})=>{const p=m-a;p>=i&&(Es(f),r(p-i))};return Jt.setup(f,!0),()=>Es(f)}const wx=["TopLeft","TopRight","BottomLeft","BottomRight"],mb=wx.length,Am=r=>typeof r=="string"?parseFloat(r):r,Sm=r=>typeof r=="number"||Je.test(r);function gb(r,i,a,f,m,p){m?(r.opacity=on(0,a.opacity??1,pb(f)),r.opacityExit=on(i.opacity??1,0,xb(f))):p&&(r.opacity=on(i.opacity??1,a.opacity??1,f));for(let y=0;y<mb;y++){const b=`border${wx[y]}Radius`;let N=Nm(i,b),E=Nm(a,b);if(N===void 0&&E===void 0)continue;N||(N=0),E||(E=0),N===0||E===0||Sm(N)===Sm(E)?(r[b]=Math.max(on(Am(N),Am(E),f),0),(Ai.test(E)||Ai.test(N))&&(r[b]+="%")):r[b]=E}(i.rotate||a.rotate)&&(r.rotate=on(i.rotate||0,a.rotate||0,f))}function Nm(r,i){return r[i]!==void 0?r[i]:r.borderRadius}const pb=vx(0,.5,op),xb=vx(.5,.95,$r);function vx(r,i,a){return f=>f<r?0:f>i?1:a(Ka(r,i,f))}function Tm(r,i){r.min=i.min,r.max=i.max}function Zr(r,i){Tm(r.x,i.x),Tm(r.y,i.y)}function Im(r,i){r.translate=i.translate,r.scale=i.scale,r.originPoint=i.originPoint,r.origin=i.origin}function Rm(r,i,a,f,m){return r-=i,r=Uc(r,1/a,f),m!==void 0&&(r=Uc(r,1/m,f)),r}function yb(r,i=0,a=1,f=.5,m,p=r,y=r){if(Ai.test(i)&&(i=parseFloat(i),i=on(y.min,y.max,i/100)-y.min),typeof i!="number")return;let b=on(p.min,p.max,f);r===p&&(b-=i),r.min=Rm(r.min,i,a,b,m),r.max=Rm(r.max,i,a,b,m)}function km(r,i,[a,f,m],p,y){yb(r,i[a],i[f],i[m],i.scale,p,y)}const wb=["x","scaleX","originX"],vb=["y","scaleY","originY"];function _m(r,i,a,f){km(r.x,i,wb,a?a.x:void 0,f?f.x:void 0),km(r.y,i,vb,a?a.y:void 0,f?f.y:void 0)}function Om(r){return r.translate===0&&r.scale===1}function Cx(r){return Om(r.x)&&Om(r.y)}function Dm(r,i){return r.min===i.min&&r.max===i.max}function Cb(r,i){return Dm(r.x,i.x)&&Dm(r.y,i.y)}function Mm(r,i){return Math.round(r.min)===Math.round(i.min)&&Math.round(r.max)===Math.round(i.max)}function Ex(r,i){return Mm(r.x,i.x)&&Mm(r.y,i.y)}function Pm(r){return fr(r.x)/fr(r.y)}function Lm(r,i){return r.translate===i.translate&&r.scale===i.scale&&r.originPoint===i.originPoint}class Eb{constructor(){this.members=[]}add(i){Vf(this.members,i),i.scheduleRender()}remove(i){if(Uf(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(i){const a=this.members.findIndex(m=>i===m);if(a===0)return!1;let f;for(let m=a;m>=0;m--){const p=this.members[m];if(p.isPresent!==!1){f=p;break}}return f?(this.promote(f),!0):!1}promote(i,a){const f=this.lead;if(i!==f&&(this.prevLead=f,this.lead=i,i.show(),f)){f.instance&&f.scheduleRender(),i.scheduleRender(),i.resumeFrom=f,a&&(i.resumeFrom.preserveOpacity=!0),f.snapshot&&(i.snapshot=f.snapshot,i.snapshot.latestValues=f.animationValues||f.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:m}=i.options;m===!1&&f.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:a,resumingFrom:f}=i;a.onExitComplete&&a.onExitComplete(),f&&f.options.onExitComplete&&f.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bb(r,i,a){let f="";const m=r.x.translate/i.x,p=r.y.translate/i.y,y=a?.z||0;if((m||p||y)&&(f=`translate3d(${m}px, ${p}px, ${y}px) `),(i.x!==1||i.y!==1)&&(f+=`scale(${1/i.x}, ${1/i.y}) `),a){const{transformPerspective:E,rotate:T,rotateX:S,rotateY:D,skewX:L,skewY:z}=a;E&&(f=`perspective(${E}px) ${f}`),T&&(f+=`rotate(${T}deg) `),S&&(f+=`rotateX(${S}deg) `),D&&(f+=`rotateY(${D}deg) `),L&&(f+=`skewX(${L}deg) `),z&&(f+=`skewY(${z}deg) `)}const b=r.x.scale*i.x,N=r.y.scale*i.y;return(b!==1||N!==1)&&(f+=`scale(${b}, ${N})`),f||"none"}const zd=["","X","Y","Z"],Ab=1e3;let Sb=0;function Wd(r,i,a,f){const{latestValues:m}=i;m[r]&&(a[r]=m[r],i.setStaticValue(r,0),f&&(f[r]=0))}function bx(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:i}=r.options;if(!i)return;const a=lx(i);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:m,layoutId:p}=r.options;window.MotionCancelOptimisedAnimation(a,"transform",Jt,!(m||p))}const{parent:f}=r;f&&!f.hasCheckedOptimisedAppear&&bx(f)}function Ax({attachResizeListener:r,defaultParent:i,measureScroll:a,checkIsScrollRoot:f,resetTransform:m}){return class{constructor(y={},b=i?.()){this.id=Sb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ib),this.nodes.forEach(Ob),this.nodes.forEach(Db),this.nodes.forEach(Rb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=b?b.root||b:this,this.path=b?[...b.path,b]:[],this.parent=b,this.depth=b?b.depth+1:0;for(let N=0;N<this.path.length;N++)this.path[N].shouldResetTransform=!0;this.root===this&&(this.nodes=new fb)}addEventListener(y,b){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new Hf),this.eventHandlers.get(y).add(b)}notifyListeners(y,...b){const N=this.eventHandlers.get(y);N&&N.notify(...b)}hasListeners(y){return this.eventHandlers.has(y)}mount(y){if(this.instance)return;this.isSVG=jp(y)&&!mC(y),this.instance=y;const{layoutId:b,layout:N,visualElement:E}=this.options;if(E&&!E.current&&E.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(N||b)&&(this.isLayoutDirty=!0),r){let T,S=0;const D=()=>this.root.updateBlockedByResize=!1;Jt.read(()=>{S=window.innerWidth}),r(y,()=>{const L=window.innerWidth;L!==S&&(S=L,this.root.updateBlockedByResize=!0,T&&T(),T=hb(D,250),Oc.hasAnimatedSinceResize&&(Oc.hasAnimatedSinceResize=!1,this.nodes.forEach(jm)))})}b&&this.root.registerSharedNode(b,this),this.options.animate!==!1&&E&&(b||N)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeLayoutChanged:D,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const z=this.options.transition||E.getDefaultTransition()||Fb,{onLayoutAnimationStart:F,onLayoutAnimationComplete:W}=E.getProps(),V=!this.targetLayout||!Ex(this.targetLayout,L),ee=!S&&D;if(this.options.layoutRoot||this.resumeFrom||ee||S&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const X={...r0(z,"layout"),onPlay:F,onComplete:W};(E.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X),this.setAnimationOrigin(T,ee)}else S||jm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mb),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const S=this.path[T];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:b,layout:N}=this.options;if(b===void 0&&!N)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_b),this.nodes.forEach(Nb),this.nodes.forEach(Tb)):this.nodes.forEach(Fm),this.clearAllSnapshots();const b=br.now();Yn.delta=Ui(0,1e3/60,b-Yn.timestamp),Yn.timestamp=b,Yn.isProcessing=!0,_d.update.process(Yn),_d.preRender.process(Yn),_d.render.process(Yn),Yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kb),this.sharedNodes.forEach(Pb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fr(this.snapshot.measuredBox.x)&&!fr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let N=0;N<this.path.length;N++)this.path[N].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(b=!1),b&&this.instance){const N=f(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:N,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:N}}}resetTransform(){if(!m)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!Cx(this.projectionDelta),N=this.getTransformTemplate(),E=N?N(this.latestValues,""):void 0,T=E!==this.prevTransformTemplateValue;y&&this.instance&&(b||qs(this.latestValues)||T)&&(m(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const b=this.measurePageBox();let N=this.removeElementScroll(b);return y&&(N=this.removeTransform(N)),jb(N),{animationId:this.root.animationId,measuredBox:b,layoutBox:N,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:y}=this.options;if(!y)return yn();const b=y.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Vb))){const{scroll:E}=this.root;E&&(Mo(b.x,E.offset.x),Mo(b.y,E.offset.y))}return b}removeElementScroll(y){const b=yn();if(Zr(b,y),this.scroll?.wasRoot)return b;for(let N=0;N<this.path.length;N++){const E=this.path[N],{scroll:T,options:S}=E;E!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&Zr(b,y),Mo(b.x,T.offset.x),Mo(b.y,T.offset.y))}return b}applyTransform(y,b=!1){const N=yn();Zr(N,y);for(let E=0;E<this.path.length;E++){const T=this.path[E];!b&&T.options.layoutScroll&&T.scroll&&T!==T.root&&Po(N,{x:-T.scroll.offset.x,y:-T.scroll.offset.y}),qs(T.latestValues)&&Po(N,T.latestValues)}return qs(this.latestValues)&&Po(N,this.latestValues),N}removeTransform(y){const b=yn();Zr(b,y);for(let N=0;N<this.path.length;N++){const E=this.path[N];if(!E.instance||!qs(E.latestValues))continue;yf(E.latestValues)&&E.updateSnapshot();const T=yn(),S=E.measurePageBox();Zr(T,S),_m(b,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,T)}return qs(this.latestValues)&&_m(b,this.latestValues),b}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){const b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);const N=!!this.resumingFrom||this!==b;if(!(y||N&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=Yn.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Ha(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zr(this.target,this.layout.layoutBox),nx(this.target,this.targetDelta)):Zr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Ha(this.relativeTargetOrigin,this.target,D.target),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yf(this.parent.latestValues)||tx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const y=this.getLead(),b=!!this.resumingFrom||this!==y;let N=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(N=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(N=!1),this.resolvedRelativeTargetAt===Yn.timestamp&&(N=!1),N)return;const{layout:E,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||T))return;Zr(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,D=this.treeScale.y;iE(this.layoutCorrected,this.treeScale,this.path,b),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=yn());const{target:L}=y;if(!L){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Im(this.prevProjectionDelta.x,this.projectionDelta.x),Im(this.prevProjectionDelta.y,this.projectionDelta.y)),Wa(this.projectionDelta,this.layoutCorrected,L,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==D||!Lm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){if(this.options.visualElement?.scheduleRender(),y){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(y,b=!1){const N=this.snapshot,E=N?N.latestValues:{},T={...this.latestValues},S=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;const D=yn(),L=N?N.source:void 0,z=this.layout?this.layout.source:void 0,F=L!==z,W=this.getStack(),V=!W||W.members.length<=1,ee=!!(F&&!V&&this.options.crossfade===!0&&!this.path.some(Bb));this.animationProgress=0;let X;this.mixTargetDelta=ne=>{const fe=ne/1e3;Vm(S.x,y.x,fe),Vm(S.y,y.y,fe),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ha(D,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lb(this.relativeTarget,this.relativeTargetOrigin,D,fe),X&&Cb(this.relativeTarget,X)&&(this.isProjectionDirty=!1),X||(X=yn()),Zr(X,this.relativeTarget)),F&&(this.animationValues=T,gb(T,E,this.latestValues,fe,ee,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=fe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jt.update(()=>{Oc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zo(0)),this.currentAnimation=ub(this.motionValue,[0,1e3],{...y,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),y.onUpdate&&y.onUpdate(b)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ab),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:b,target:N,layout:E,latestValues:T}=y;if(!(!b||!N||!E)){if(this!==y&&this.layout&&E&&Sx(this.options.animationType,this.layout.layoutBox,E.layoutBox)){N=this.target||yn();const S=fr(this.layout.layoutBox.x);N.x.min=y.target.x.min,N.x.max=N.x.min+S;const D=fr(this.layout.layoutBox.y);N.y.min=y.target.y.min,N.y.max=N.y.min+D}Zr(b,N),Po(b,T),Wa(this.projectionDeltaWithTransform,this.layoutCorrected,b,T)}}registerSharedNode(y,b){this.sharedNodes.has(y)||this.sharedNodes.set(y,new Eb),this.sharedNodes.get(y).add(b);const E=b.options.initialPromotionConfig;b.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(b):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){const{layoutId:y}=this.options;return y?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:y}=this.options;return y?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:b,preserveFollowOpacity:N}={}){const E=this.getStack();E&&E.promote(this,N),y&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let b=!1;const{latestValues:N}=y;if((N.z||N.rotate||N.rotateX||N.rotateY||N.rotateZ||N.skewX||N.skewY)&&(b=!0),!b)return;const E={};N.z&&Wd("z",y,E,this.animationValues);for(let T=0;T<zd.length;T++)Wd(`rotate${zd[T]}`,y,E,this.animationValues),Wd(`skew${zd[T]}`,y,E,this.animationValues);y.render();for(const T in E)y.setStaticValue(T,E[T]),this.animationValues&&(this.animationValues[T]=E[T]);y.scheduleRender()}applyProjectionStyles(y,b){if(!this.instance||this.isSVG)return;if(!this.isVisible){y.visibility="hidden";return}const N=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,y.visibility="",y.opacity="",y.pointerEvents=_c(b?.pointerEvents)||"",y.transform=N?N(this.latestValues,""):"none";return}const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=_c(b?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(y.transform=N?N({},""):"none",this.hasProjected=!1);return}y.visibility="";const T=E.animationValues||E.latestValues;this.applyTransformsToTarget();let S=bb(this.projectionDeltaWithTransform,this.treeScale,T);N&&(S=N(T,S)),y.transform=S;const{x:D,y:L}=this.projectionDelta;y.transformOrigin=`${D.origin*100}% ${L.origin*100}% 0`,E.animationValues?y.opacity=E===this?T.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:y.opacity=E===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const z in $a){if(T[z]===void 0)continue;const{correct:F,applyTo:W,isCSSVariable:V}=$a[z],ee=S==="none"?T[z]:F(T[z],E);if(W){const X=W.length;for(let ne=0;ne<X;ne++)y[W[ne]]=ee}else V?this.options.visualElement.renderState.vars[z]=ee:y[z]=ee}this.options.layoutId&&(y.pointerEvents=E===this?_c(b?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>y.currentAnimation?.stop()),this.root.nodes.forEach(Bm),this.root.sharedNodes.clear()}}}function Nb(r){r.updateLayout()}function Tb(r){const i=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&i&&r.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:f}=r.layout,{animationType:m}=r.options,p=i.source!==r.layout.source;m==="size"?qr(T=>{const S=p?i.measuredBox[T]:i.layoutBox[T],D=fr(S);S.min=a[T].min,S.max=S.min+D}):Sx(m,i.layoutBox,a)&&qr(T=>{const S=p?i.measuredBox[T]:i.layoutBox[T],D=fr(a[T]);S.max=S.min+D,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[T].max=r.relativeTarget[T].min+D)});const y=Lo();Wa(y,a,i.layoutBox);const b=Lo();p?Wa(b,r.applyTransform(f,!0),i.measuredBox):Wa(b,a,i.layoutBox);const N=!Cx(y);let E=!1;if(!r.resumeFrom){const T=r.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:D}=T;if(S&&D){const L=yn();Ha(L,i.layoutBox,S.layoutBox);const z=yn();Ha(z,a,D.layoutBox),Ex(L,z)||(E=!0),T.options.layoutRoot&&(r.relativeTarget=z,r.relativeTargetOrigin=L,r.relativeParent=T)}}}r.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:b,layoutDelta:y,hasLayoutChanged:N,hasRelativeLayoutChanged:E})}else if(r.isLead()){const{onExitComplete:a}=r.options;a&&a()}r.options.transition=void 0}function Ib(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Rb(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function kb(r){r.clearSnapshot()}function Bm(r){r.clearMeasurements()}function Fm(r){r.isLayoutDirty=!1}function _b(r){const{visualElement:i}=r.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),r.resetTransform()}function jm(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function Ob(r){r.resolveTargetDelta()}function Db(r){r.calcProjection()}function Mb(r){r.resetSkewAndRotation()}function Pb(r){r.removeLeadSnapshot()}function Vm(r,i,a){r.translate=on(i.translate,0,a),r.scale=on(i.scale,1,a),r.origin=i.origin,r.originPoint=i.originPoint}function Um(r,i,a,f){r.min=on(i.min,a.min,f),r.max=on(i.max,a.max,f)}function Lb(r,i,a,f){Um(r.x,i.x,a.x,f),Um(r.y,i.y,a.y,f)}function Bb(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Fb={duration:.45,ease:[.4,0,.1,1]},zm=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Wm=zm("applewebkit/")&&!zm("chrome/")?Math.round:$r;function Hm(r){r.min=Wm(r.min),r.max=Wm(r.max)}function jb(r){Hm(r.x),Hm(r.y)}function Sx(r,i,a){return r==="position"||r==="preserve-aspect"&&!GE(Pm(i),Pm(a),.2)}function Vb(r){return r!==r.root&&r.scroll?.wasRoot}const Ub=Ax({attachResizeListener:(r,i)=>Ja(r,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hd={current:void 0},Nx=Ax({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Hd.current){const r=new Ub({});r.mount(window),r.setOptions({layoutScroll:!0}),Hd.current=r}return Hd.current},resetTransform:(r,i)=>{r.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),zb={pan:{Feature:ob},drag:{Feature:sb,ProjectionNode:Nx,MeasureLayout:yx}};function Gm(r,i,a){const{props:f}=r;r.animationState&&f.whileHover&&r.animationState.setActive("whileHover",a==="Start");const m="onHover"+a,p=f[m];p&&Jt.postRender(()=>p(i,rl(i)))}class Wb extends As{mount(){const{current:i}=this.node;i&&(this.unmount=cC(i,(a,f)=>(Gm(this.node,f,"Start"),m=>Gm(this.node,m,"End"))))}unmount(){}}class Hb extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=el(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xm(r,i,a){const{props:f}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&f.whileTap&&r.animationState.setActive("whileTap",a==="Start");const m="onTap"+(a==="End"?"":a),p=f[m];p&&Jt.postRender(()=>p(i,rl(i)))}class Gb extends As{mount(){const{current:i}=this.node;i&&(this.unmount=hC(i,(a,f)=>(Xm(this.node,f,"Start"),(m,{success:p})=>Xm(this.node,m,p?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sf=new WeakMap,Gd=new WeakMap,Xb=r=>{const i=Sf.get(r.target);i&&i(r)},Yb=r=>{r.forEach(Xb)};function Kb({root:r,...i}){const a=r||document;Gd.has(a)||Gd.set(a,{});const f=Gd.get(a),m=JSON.stringify(i);return f[m]||(f[m]=new IntersectionObserver(Yb,{root:r,...i})),f[m]}function Zb(r,i,a){const f=Kb(i);return Sf.set(r,a),f.observe(r),()=>{Sf.delete(r),f.unobserve(r)}}const qb={some:0,all:1};class Qb extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:a,margin:f,amount:m="some",once:p}=i,y={root:a?a.current:void 0,rootMargin:f,threshold:typeof m=="number"?m:qb[m]},b=N=>{const{isIntersecting:E}=N;if(this.isInView===E||(this.isInView=E,p&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:T,onViewportLeave:S}=this.node.getProps(),D=E?T:S;D&&D(N)};return Zb(this.node.current,y,b)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:a}=this.node;["amount","margin","root"].some($b(i,a))&&this.startObserver()}unmount(){}}function $b({viewport:r={}},{viewport:i={}}={}){return a=>r[a]!==i[a]}const Jb={inView:{Feature:Qb},tap:{Feature:Gb},focus:{Feature:Hb},hover:{Feature:Wb}},eA={layout:{ProjectionNode:Nx,MeasureLayout:yx}},tA={...jE,...Jb,...zb,...eA},Lr=tE(tA,mE);function Ym({onNavigateToRewards:r}){const i="https://ecopoints.hvd.lat/api/",a=localStorage.getItem("usuario_id"),[f,m]=P.useState(0),[p,y]=P.useState(!1),[b,N]=P.useState([]),E=async()=>{try{const D=await fetch(`${i}/obtenerHistorial?usuario_id=${a}`);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const L=await D.json();N(L)}catch(D){console.error("Error al obtener historial:",D)}},T=async D=>{try{const L=await fetch(`${i}/obtenerPuntos?usuario_id=${D}`);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const z=await L.json();m(z.puntos||0)}catch(L){console.error("Error al obtener puntos:",L)}};P.useEffect(()=>{a&&(E(),T(a))},[a]);const S=p?b:b.slice(0,4);return C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Hola,"}),C.jsx("h1",{className:"text-gray-900 dark:text-white",children:localStorage.getItem("usuario_nombre")})]}),C.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:C.jsx(Cs,{className:"w-10 h-10 text-white"})})]}),C.jsx(Lr.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:C.jsx(Lt,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6 border-0",children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Cs,{className:"w-5 h-5"}),C.jsx("span",{className:"text-emerald-100",children:"Balance disponible"})]}),C.jsx("div",{className:"space-y-1",children:C.jsx("div",{className:"flex items-baseline gap-1",children:f?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-4xl font-semibold",children:f.toLocaleString()}),C.jsx("span",{className:"text-xl text-emerald-100",children:"ecopoints"})]}):C.jsx("span",{className:"text-sm text-emerald-100 italic",children:"Cargando..."})})}),C.jsxs("div",{className:"flex gap-3 pt-2",children:[C.jsxs(At,{className:"flex-1 bg-white text-emerald-600 hover:bg-emerald-50",onClick:r,children:[C.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Canjear"]}),C.jsx(At,{className:"flex-1 bg-emerald-600 border border-white/30 text-white hover:bg-emerald-800",onClick:r,children:"Ver premios"})]})]})})}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Actividad reciente"}),C.jsxs("button",{onClick:()=>y(!p),className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1",children:[p?"Ver menos":"Ver todo",C.jsx(Sw,{className:"w-4 h-4"})]})]}),C.jsx("div",{className:`space-y-3 ${p?"max-h-[400px] overflow-y-auto pr-2":""}`,children:S.map(D=>C.jsx(Lr.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2},children:C.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center bg-emerald-100 dark:bg-emerald-900 ${D.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:D.type==="scan"?C.jsx(Cs,{className:"lucide lucide-leaf w-5 h-5 text-emerald-600 dark:text-emerald-400"}):C.jsx(Ya,{className:"w-5 h-5 text-orange-600"})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:D.description}),C.jsx("p",{className:"text-gray-500 text-smtext-gray-500 dark:text-gray-400",children:D.location})]})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("p",{className:`${D.type==="scan"?"text-emerald-600 dark:text-emerald-400":"text-orange-600"} font-semibold`,children:[D.type==="scan"?"+":"-",D.points]}),C.jsx("p",{className:"text-gray-500 text-sm",children:new Date(D.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})})},D.id))})]})]})}var Be;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Be||(Be={}));var Km=new Map([[Be.QR_CODE,"QR_CODE"],[Be.AZTEC,"AZTEC"],[Be.CODABAR,"CODABAR"],[Be.CODE_39,"CODE_39"],[Be.CODE_93,"CODE_93"],[Be.CODE_128,"CODE_128"],[Be.DATA_MATRIX,"DATA_MATRIX"],[Be.MAXICODE,"MAXICODE"],[Be.ITF,"ITF"],[Be.EAN_13,"EAN_13"],[Be.EAN_8,"EAN_8"],[Be.PDF_417,"PDF_417"],[Be.RSS_14,"RSS_14"],[Be.RSS_EXPANDED,"RSS_EXPANDED"],[Be.UPC_A,"UPC_A"],[Be.UPC_E,"UPC_E"],[Be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Zm;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(Zm||(Zm={}));function nA(r){return Object.values(Be).includes(r)}var zc;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(zc||(zc={}));var rA=(function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[zc.SCAN_TYPE_CAMERA,zc.SCAN_TYPE_FILE],r})(),Tx=(function(){function r(i,a){this.format=i,this.formatName=a}return r.prototype.toString=function(){return this.formatName},r.create=function(i){if(!Km.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new r(i,Km.get(i))},r})(),qm=(function(){function r(){}return r.createFromText=function(i){var a={text:i};return{decodedText:i,result:a}},r.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},r})(),Nf;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Nf||(Nf={}));var iA=(function(){function r(){}return r.createFrom=function(i){return{errorMessage:i,type:Nf.UNKWOWN_ERROR}},r})(),sA=(function(){function r(i){this.verbose=i}return r.prototype.log=function(i){this.verbose&&console.log(i)},r.prototype.warn=function(i){this.verbose&&console.warn(i)},r.prototype.logError=function(i,a){(this.verbose||a===!0)&&console.error(i)},r.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},r})();function ji(r){return typeof r>"u"||r===null}var Bo=(function(){function r(){}return r.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},r.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r})(),Ix=(function(){function r(){}return r.isMediaStreamConstraintsValid=function(i,a){if(typeof i!="object"){var f=typeof i;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(m),y=Object.keys(i),b=0,N=y;b<N.length;b++){var E=N[b];if(p.has(E))return a.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},r})(),ja={exports:{}},oA=ja.exports,Qm;function aA(){return Qm||(Qm=1,(function(r,i){(function(a,f){f(i)})(oA,(function(a){function f(R){return R==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,e){R.__proto__=e}||function(R,e){for(var n in e)e.hasOwnProperty(n)&&(R[n]=e[n])};function p(R,e){m(R,e);function n(){this.constructor=R}R.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function y(R,e){var n=Object.setPrototypeOf;n?n(R,e):R.__proto__=e}function b(R,e){e===void 0&&(e=R.constructor);var n=Error.captureStackTrace;n&&n(R,e)}var N=(function(R){p(e,R);function e(n){var s=this.constructor,l=R.call(this,n)||this;return Object.defineProperty(l,"name",{value:s.name,enumerable:!1}),y(l,s.prototype),b(l),l}return e})(Error);class E extends N{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class T extends E{}T.kind="ArgumentException";class S extends E{}S.kind="IllegalArgumentException";class D{constructor(e){if(this.binarizer=e,e===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,s,l){const c=this.binarizer.getLuminanceSource().crop(e,n,s,l);return new D(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends E{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class z{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(e,n,s,l,c){for(;c--;)s[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class W extends E{}W.kind="IndexOutOfBoundsException";class V extends W{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}V.kind="ArrayIndexOutOfBoundsException";class ee{static fill(e,n){for(let s=0,l=e.length;s<l;s++)e[s]=n}static fillWithin(e,n,s,l){ee.rangeCheck(e.length,n,s);for(let c=n;c<s;c++)e[c]=l}static rangeCheck(e,n,s){if(n>s)throw new S("fromIndex("+n+") > toIndex("+s+")");if(n<0)throw new V(n);if(s>e)throw new V(s)}static asList(...e){return e}static create(e,n,s){return Array.from({length:e}).map(c=>Array.from({length:n}).fill(s))}static createInt32Array(e,n,s){return Array.from({length:e}).map(c=>Int32Array.from({length:n}).fill(s))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let s=0,l=e.length;s<l;s++)if(e[s]!==n[s])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const s of e)n=31*n+s;return n}static fillUint8Array(e,n){for(let s=0;s!==e.length;s++)e[s]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const s=new Uint8Array(n);return s.set(e),s}return e.slice(0,n)}static copyOfRange(e,n,s){const l=s-n,c=new Int32Array(l);return F.arraycopy(e,n,c,0,l),c}static binarySearch(e,n,s){s===void 0&&(s=ee.numberComparator);let l=0,c=e.length-1;for(;l<=c;){const u=c+l>>1,h=s(n,e[u]);if(h>0)l=u+1;else if(h<0)c=u-1;else return u}return-l-1}static numberComparator(e,n){return e-n}}class X{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let s=31;return n=e<<16,n!==0&&(s-=16,e=n),n=e<<8,n!==0&&(s-=8,e=n),n=e<<4,n!==0&&(s-=4,e=n),n=e<<2,n!==0&&(s-=2,e=n),s-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}X.MIN_VALUE_32_BITS=-2147483648,X.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=ne.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=ne.makeArray(e);F.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const s=this.bits;let l=Math.floor(e/32),c=s[l];c&=~((1<<(e&31))-1);const u=s.length;for(;c===0;){if(++l===u)return n;c=s[l]}const h=l*32+X.numberOfTrailingZeros(c);return h>n?n:h}getNextUnset(e){const n=this.size;if(e>=n)return n;const s=this.bits;let l=Math.floor(e/32),c=~s[l];c&=~((1<<(e&31))-1);const u=s.length;for(;c===0;){if(++l===u)return n;c=~s[l]}const h=l*32+X.numberOfTrailingZeros(c);return h>n?n:h}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new S;if(n===e)return;n--;const s=Math.floor(e/32),l=Math.floor(n/32),c=this.bits;for(let u=s;u<=l;u++){const h=u>s?0:e&31,w=(2<<(u<l?31:n&31))-(1<<h);c[u]|=w}}clear(){const e=this.bits.length,n=this.bits;for(let s=0;s<e;s++)n[s]=0}isRange(e,n,s){if(n<e||e<0||n>this.size)throw new S;if(n===e)return!0;n--;const l=Math.floor(e/32),c=Math.floor(n/32),u=this.bits;for(let h=l;h<=c;h++){const x=h>l?0:e&31,I=(2<<(h<c?31:n&31))-(1<<x)&4294967295;if((u[h]&I)!==(s?I:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let s=n;s>0;s--)this.appendBit((e>>s-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let s=0;s<n;s++)this.appendBit(e.get(s))}xor(e){if(this.size!==e.size)throw new S("Sizes don't match");const n=this.bits;for(let s=0,l=n.length;s<l;s++)n[s]^=e.bits[s]}toBytes(e,n,s,l){for(let c=0;c<l;c++){let u=0;for(let h=0;h<8;h++)this.get(e)&&(u|=1<<7-h),e++;n[s+c]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),s=n+1,l=this.bits;for(let c=0;c<s;c++){let u=l[c];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[n-c]=u}if(this.size!==s*32){const c=s*32-this.size;let u=e[0]>>>c;for(let h=1;h<s;h++){const x=e[h];u|=x<<32-c,e[h-1]=u,u=x>>>c}e[s-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ne))return!1;const n=e;return this.size===n.size&&ee.equals(this.bits,n.bits)}hashCode(){return 31*this.size+ee.hashCode(this.bits)}toString(){let e="";for(let n=0,s=this.size;n<s;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new ne(this.size,this.bits.slice())}}var fe;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(fe||(fe={}));var ue=fe;class Z extends E{static getFormatInstance(){return new Z}}Z.kind="FormatException";var Q;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class le{constructor(e,n,s,...l){this.valueIdentifier=e,this.name=s,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,le.VALUE_IDENTIFIER_TO_ECI.set(e,this),le.NAME_TO_ECI.set(s,this);const c=this.values;for(let u=0,h=c.length;u!==h;u++){const x=c[u];le.VALUES_TO_ECI.set(x,this)}for(const u of l)le.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new Z("incorect value");const n=le.VALUES_TO_ECI.get(e);if(n===void 0)throw new Z("incorect value");return n}static getCharacterSetECIByName(e){const n=le.NAME_TO_ECI.get(e);if(n===void 0)throw new Z("incorect value");return n}equals(e){if(!(e instanceof le))return!1;const n=e;return this.getName()===n.getName()}}le.VALUE_IDENTIFIER_TO_ECI=new Map,le.VALUES_TO_ECI=new Map,le.NAME_TO_ECI=new Map,le.Cp437=new le(Q.Cp437,Int32Array.from([0,2]),"Cp437"),le.ISO8859_1=new le(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),le.ISO8859_2=new le(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),le.ISO8859_3=new le(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),le.ISO8859_4=new le(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),le.ISO8859_5=new le(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),le.ISO8859_6=new le(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),le.ISO8859_7=new le(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),le.ISO8859_8=new le(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),le.ISO8859_9=new le(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),le.ISO8859_10=new le(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),le.ISO8859_11=new le(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),le.ISO8859_13=new le(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),le.ISO8859_14=new le(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),le.ISO8859_15=new le(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),le.ISO8859_16=new le(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),le.SJIS=new le(Q.SJIS,20,"SJIS","Shift_JIS"),le.Cp1250=new le(Q.Cp1250,21,"Cp1250","windows-1250"),le.Cp1251=new le(Q.Cp1251,22,"Cp1251","windows-1251"),le.Cp1252=new le(Q.Cp1252,23,"Cp1252","windows-1252"),le.Cp1256=new le(Q.Cp1256,24,"Cp1256","windows-1256"),le.UnicodeBigUnmarked=new le(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),le.UTF8=new le(Q.UTF8,26,"UTF8","UTF-8"),le.ASCII=new le(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),le.Big5=new le(Q.Big5,28,"Big5"),le.GB18030=new le(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),le.EUC_KR=new le(Q.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends E{}ge.kind="UnsupportedOperationException";class me{static decode(e,n){const s=this.encodingName(n);return this.customDecoder?this.customDecoder(e,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(e,s):new TextDecoder(s).decode(e)}static shouldDecodeOnFallback(e){return!me.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const s=this.encodingName(n);return this.customEncoder?this.customEncoder(e,s):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof le?e:le.getCharacterSetECIByName(e)}static decodeFallback(e,n){const s=this.encodingCharacterSet(n);if(me.isDecodeFallbackSupported(s)){let l="";for(let c=0,u=e.length;c<u;c++){let h=e[c].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(s.equals(le.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ge(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(le.UTF8)||e.equals(le.ISO8859_1)||e.equals(le.ASCII)}static encodeFallback(e){const s=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let c=0;c<s.length;c++)l.push(s[c].charCodeAt(0));return new Uint8Array(l)}}class ce{static castAsNonUtf8Char(e,n=null){const s=n?n.getName():this.ISO88591;return me.decode(new Uint8Array([e]),s)}static guessEncoding(e,n){if(n!=null&&n.get(ue.CHARACTER_SET)!==void 0)return n.get(ue.CHARACTER_SET).toString();const s=e.length;let l=!0,c=!0,u=!0,h=0,x=0,w=0,I=0,k=0,O=0,B=0,U=0,G=0,q=0,se=0;const Se=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ne=0;Ne<s&&(l||c||u);Ne++){const we=e[Ne]&255;u&&(h>0?(we&128)===0?u=!1:h--:(we&128)!==0&&((we&64)===0?u=!1:(h++,(we&32)===0?x++:(h++,(we&16)===0?w++:(h++,(we&8)===0?I++:u=!1))))),l&&(we>127&&we<160?l=!1:we>159&&(we<192||we===215||we===247)&&se++),c&&(k>0?we<64||we===127||we>252?c=!1:k--:we===128||we===160||we>239?c=!1:we>160&&we<224?(O++,U=0,B++,B>G&&(G=B)):we>127?(k++,B=0,U++,U>q&&(q=U)):(B=0,U=0))}return u&&h>0&&(u=!1),c&&k>0&&(c=!1),u&&(Se||x+w+I>0)?ce.UTF8:c&&(ce.ASSUME_SHIFT_JIS||G>=3||q>=3)?ce.SHIFT_JIS:l&&c?G===2&&O===2||se*10>=s?ce.SHIFT_JIS:ce.ISO88591:l?ce.ISO88591:c?ce.SHIFT_JIS:u?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let s=-1;function l(u,h,x,w,I,k){if(u==="%%")return"%";if(n[++s]===void 0)return;u=w?parseInt(w.substr(1)):void 0;let O=I?parseInt(I.substr(1)):void 0,B;switch(k){case"s":B=n[s];break;case"c":B=n[s][0];break;case"f":B=parseFloat(n[s]).toFixed(u);break;case"p":B=parseFloat(n[s]).toPrecision(u);break;case"e":B=parseFloat(n[s]).toExponential(u);break;case"x":B=parseInt(n[s]).toString(O||16);break;case"d":B=parseFloat(parseInt(n[s],O||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(O);let U=parseInt(x),G=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=h!==void 0?B+G:G+B;return B}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}static getBytes(e,n){return me.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}ce.SHIFT_JIS=le.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=le.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=le.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class xe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,s){for(let l=n;n<n+s;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class je{constructor(e,n,s,l){if(this.width=e,this.height=n,this.rowSize=s,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new S("Both dimensions must be greater than 0");s==null&&(s=Math.floor((e+31)/32)),this.rowSize=s,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,s=e[0].length,l=new je(s,n);for(let c=0;c<n;c++){const u=e[c];for(let h=0;h<s;h++)u[h]&&l.set(h,c)}return l}static parseFromString(e,n,s){if(e===null)throw new S("stringRepresentation cannot be null");const l=new Array(e.length);let c=0,u=0,h=-1,x=0,w=0;for(;w<e.length;)if(e.charAt(w)===`
`||e.charAt(w)==="\r"){if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new S("row lengths do not match");u=c,x++}w++}else if(e.substring(w,w+n.length)===n)w+=n.length,l[c]=!0,c++;else if(e.substring(w,w+s.length)===s)w+=s.length,l[c]=!1,c++;else throw new S("illegal character encountered: "+e.substring(w));if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new S("row lengths do not match");x++}const I=new je(h,x);for(let k=0;k<c;k++)l[k]&&I.set(Math.floor(k%h),Math.floor(k/h));return I}get(e,n){const s=n*this.rowSize+Math.floor(e/32);return(this.bits[s]>>>(e&31)&1)!==0}set(e,n){const s=n*this.rowSize+Math.floor(e/32);this.bits[s]|=1<<(e&31)&4294967295}unset(e,n){const s=n*this.rowSize+Math.floor(e/32);this.bits[s]&=~(1<<(e&31)&4294967295)}flip(e,n){const s=n*this.rowSize+Math.floor(e/32);this.bits[s]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new S("input matrix dimensions do not match");const n=new ne(Math.floor(this.width/32)+1),s=this.rowSize,l=this.bits;for(let c=0,u=this.height;c<u;c++){const h=c*s,x=e.getRow(c,n).getBitArray();for(let w=0;w<s;w++)l[h+w]^=x[w]}}clear(){const e=this.bits,n=e.length;for(let s=0;s<n;s++)e[s]=0}setRegion(e,n,s,l){if(n<0||e<0)throw new S("Left and top must be nonnegative");if(l<1||s<1)throw new S("Height and width must be at least 1");const c=e+s,u=n+l;if(u>this.height||c>this.width)throw new S("The region must fit inside the matrix");const h=this.rowSize,x=this.bits;for(let w=n;w<u;w++){const I=w*h;for(let k=e;k<c;k++)x[I+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new ne(this.width):n.clear();const s=this.rowSize,l=this.bits,c=e*s;for(let u=0;u<s;u++)n.setBulk(u*32,l[c+u]);return n}setRow(e,n){F.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let s=new ne(e),l=new ne(e);for(let c=0,u=Math.floor((n+1)/2);c<u;c++)s=this.getRow(c,s),l=this.getRow(n-1-c,l),s.reverse(),l.reverse(),this.setRow(c,l),this.setRow(n-1-c,s)}getEnclosingRectangle(){const e=this.width,n=this.height,s=this.rowSize,l=this.bits;let c=e,u=n,h=-1,x=-1;for(let w=0;w<n;w++)for(let I=0;I<s;I++){const k=l[w*s+I];if(k!==0){if(w<u&&(u=w),w>x&&(x=w),I*32<c){let O=0;for(;(k<<31-O&4294967295)===0;)O++;I*32+O<c&&(c=I*32+O)}if(I*32+31>h){let O=31;for(;!(k>>>O);)O--;I*32+O>h&&(h=I*32+O)}}}return h<c||x<u?null:Int32Array.from([c,u,h-c+1,x-u+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let s=0;for(;s<n.length&&n[s]===0;)s++;if(s===n.length)return null;const l=s/e;let c=s%e*32;const u=n[s];let h=0;for(;(u<<31-h&4294967295)===0;)h++;return c+=h,Int32Array.from([c,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let s=n.length-1;for(;s>=0&&n[s]===0;)s--;if(s<0)return null;const l=Math.floor(s/e);let c=Math.floor(s%e)*32;const u=n[s];let h=31;for(;!(u>>>h);)h--;return c+=h,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof je))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&ee.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ee.hashCode(this.bits),e}toString(e="X ",n="  ",s=`
`){return this.buildToString(e,n,s)}buildToString(e,n,s){let l=new xe;for(let c=0,u=this.height;c<u;c++){for(let h=0,x=this.width;h<x;h++)l.append(this.get(h,c)?e:n);l.append(s)}return l.toString()}clone(){return new je(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends E{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class _e extends z{constructor(e){super(e),this.luminances=_e.EMPTY,this.buckets=new Int32Array(_e.LUMINANCE_BUCKETS)}getBlackRow(e,n){const s=this.getLuminanceSource(),l=s.getWidth();n==null||n.getSize()<l?n=new ne(l):n.clear(),this.initArrays(l);const c=s.getRow(e,this.luminances),u=this.buckets;for(let x=0;x<l;x++)u[(c[x]&255)>>_e.LUMINANCE_SHIFT]++;const h=_e.estimateBlackPoint(u);if(l<3)for(let x=0;x<l;x++)(c[x]&255)<h&&n.set(x);else{let x=c[0]&255,w=c[1]&255;for(let I=1;I<l-1;I++){const k=c[I+1]&255;(w*4-x-k)/2<h&&n.set(I),x=w,w=k}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),s=e.getHeight(),l=new je(n,s);this.initArrays(n);const c=this.buckets;for(let x=1;x<5;x++){const w=Math.floor(s*x/5),I=e.getRow(w,this.luminances),k=Math.floor(n*4/5);for(let O=Math.floor(n/5);O<k;O++){const B=I[O]&255;c[B>>_e.LUMINANCE_SHIFT]++}}const u=_e.estimateBlackPoint(c),h=e.getMatrix();for(let x=0;x<s;x++){const w=x*n;for(let I=0;I<n;I++)(h[w+I]&255)<u&&l.set(I,x)}return l}createBinarizer(e){return new _e(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let s=0;s<_e.LUMINANCE_BUCKETS;s++)n[s]=0}static estimateBlackPoint(e){const n=e.length;let s=0,l=0,c=0;for(let I=0;I<n;I++)e[I]>c&&(l=I,c=e[I]),e[I]>s&&(s=e[I]);let u=0,h=0;for(let I=0;I<n;I++){const k=I-l,O=e[I]*k*k;O>h&&(u=I,h=O)}if(l>u){const I=l;l=u,u=I}if(u-l<=n/16)throw new te;let x=u-1,w=-1;for(let I=u-1;I>l;I--){const k=I-l,O=k*k*(u-I)*(s-e[I]);O>w&&(x=I,w=O)}return x<<_e.LUMINANCE_SHIFT}}_e.LUMINANCE_BITS=5,_e.LUMINANCE_SHIFT=8-_e.LUMINANCE_BITS,_e.LUMINANCE_BUCKETS=1<<_e.LUMINANCE_BITS,_e.EMPTY=Uint8ClampedArray.from([0]);class pe extends _e{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),s=e.getHeight();if(n>=pe.MINIMUM_DIMENSION&&s>=pe.MINIMUM_DIMENSION){const l=e.getMatrix();let c=n>>pe.BLOCK_SIZE_POWER;(n&pe.BLOCK_SIZE_MASK)!==0&&c++;let u=s>>pe.BLOCK_SIZE_POWER;(s&pe.BLOCK_SIZE_MASK)!==0&&u++;const h=pe.calculateBlackPoints(l,c,u,n,s),x=new je(n,s);pe.calculateThresholdForBlock(l,c,u,n,s,h,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new pe(e)}static calculateThresholdForBlock(e,n,s,l,c,u,h){const x=c-pe.BLOCK_SIZE,w=l-pe.BLOCK_SIZE;for(let I=0;I<s;I++){let k=I<<pe.BLOCK_SIZE_POWER;k>x&&(k=x);const O=pe.cap(I,2,s-3);for(let B=0;B<n;B++){let U=B<<pe.BLOCK_SIZE_POWER;U>w&&(U=w);const G=pe.cap(B,2,n-3);let q=0;for(let Se=-2;Se<=2;Se++){const Ne=u[O+Se];q+=Ne[G-2]+Ne[G-1]+Ne[G]+Ne[G+1]+Ne[G+2]}const se=q/25;pe.thresholdBlock(e,U,k,se,l,h)}}}static cap(e,n,s){return e<n?n:e>s?s:e}static thresholdBlock(e,n,s,l,c,u){for(let h=0,x=s*c+n;h<pe.BLOCK_SIZE;h++,x+=c)for(let w=0;w<pe.BLOCK_SIZE;w++)(e[x+w]&255)<=l&&u.set(n+w,s+h)}static calculateBlackPoints(e,n,s,l,c){const u=c-pe.BLOCK_SIZE,h=l-pe.BLOCK_SIZE,x=new Array(s);for(let w=0;w<s;w++){x[w]=new Int32Array(n);let I=w<<pe.BLOCK_SIZE_POWER;I>u&&(I=u);for(let k=0;k<n;k++){let O=k<<pe.BLOCK_SIZE_POWER;O>h&&(O=h);let B=0,U=255,G=0;for(let se=0,Se=I*l+O;se<pe.BLOCK_SIZE;se++,Se+=l){for(let Ne=0;Ne<pe.BLOCK_SIZE;Ne++){const we=e[Se+Ne]&255;B+=we,we<U&&(U=we),we>G&&(G=we)}if(G-U>pe.MIN_DYNAMIC_RANGE)for(se++,Se+=l;se<pe.BLOCK_SIZE;se++,Se+=l)for(let Ne=0;Ne<pe.BLOCK_SIZE;Ne++)B+=e[Se+Ne]&255}let q=B>>pe.BLOCK_SIZE_POWER*2;if(G-U<=pe.MIN_DYNAMIC_RANGE&&(q=U/2,w>0&&k>0)){const se=(x[w-1][k]+2*x[w][k-1]+x[w-1][k-1])/4;U<se&&(q=se)}x[w][k]=q}}return x}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class ie{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,s,l){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new xe;for(let s=0;s<this.height;s++){const l=this.getRow(s,e);for(let c=0;c<this.width;c++){const u=l[c]&255;let h;u<64?h="#":u<128?h="+":u<192?h=".":h=" ",n.append(h)}n.append(`
`)}return n.toString()}}class Oe extends ie{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const s=this.delegate.getRow(e,n),l=this.getWidth();for(let c=0;c<l;c++)s[c]=255-(s[c]&255);return s}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(n);for(let l=0;l<n;l++)s[l]=255-(e[l]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,s,l){return new Oe(this.delegate.crop(e,n,s,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class be extends ie{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return be.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,s){const l=new Uint8ClampedArray(n*s);for(let c=0,u=0,h=e.length;c<h;c+=4,u++){let x;if(e[c+3]===0)x=255;else{const I=e[c],k=e[c+1],O=e[c+2];x=306*I+601*k+117*O+512>>10}l[u]=x}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const s=this.getWidth(),l=e*s;return n===null?n=this.buffer.slice(l,l+s):(n.length<s&&(n=new Uint8ClampedArray(s)),n.set(this.buffer.slice(l,l+s))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,s,l){return super.crop(e,n,s,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),s=n.getContext("2d"),l=e*be.DEGREE_TO_RADIANS,c=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*u),x=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*u);return n.width=h,n.height=x,s.translate(h/2,x/2),s.rotate(l),s.drawImage(this.canvas,c/-2,u/-2),this.buffer=be.makeBufferFromCanvasImageData(n),this}invert(){return new Oe(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class K{constructor(e,n,s){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||hc||self||window||void 0)&&(globalThis||hc||self||window||void 0).__awaiter||function(R,e,n,s){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(I){try{w(s.next(I))}catch(k){u(k)}}function x(I){try{w(s.throw(I))}catch(k){u(k)}}function w(I){I.done?c(I.value):l(I.value).then(h,x)}w((s=s.apply(R,e||[])).next())})};class Ee{constructor(e,n=500,s){this.reader=e,this.timeBetweenScansMillis=n,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const s of e){const l=s.kind==="video"?"videoinput":s.kind;if(l!=="videoinput")continue;const c=s.deviceId||s.id,u=s.label||`Video device ${n.length+1}`,h=s.groupId,x={deviceId:c,label:u,kind:l,groupId:h};n.push(x)}return n})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new K(n.deviceId,n.label))})}findDeviceById(e){return de(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(s=>s.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return de(this,void 0,void 0,function*(){this.reset();let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return de(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(s,n)})}decodeOnceFromStream(e,n){return de(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(e,n,s){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,s)})}decodeFromVideoDevice(e,n,s){return de(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,n,s)})}decodeFromConstraints(e,n,s){return de(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,s)})}decodeFromStream(e,n,s){return de(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return de(this,void 0,void 0,function*(){const s=this.prepareVideoElement(n);return this.addVideoSource(s,e),this.videoElement=s,this.stream=e,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(e){return new Promise((n,s)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const s=document.getElementById(e);if(!s)throw new T(`element with id '${e}' not found`);if(s.nodeName.toLowerCase()!==n.toLowerCase())throw new T(`element with id '${e}' must be an ${n} element`);return s}decodeFromImage(e,n){if(!e&&!n)throw new T("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new T("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,s){if(e===void 0&&n===void 0)throw new T("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,s):this.decodeFromVideoElementContinuously(e,s)}decodeFromImageElement(e){if(!e)throw new T("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let s;return this.isImageLoaded(n)?s=this.decodeOnce(n,!1,!0):s=this._decodeOnLoadImage(n),s}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(s,n)}_decodeFromVideoElementSetup(e){if(!e)throw new T("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const s=this._decodeOnLoadImage(n);return n.src=e,s}decodeFromVideoUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),s=this.decodeFromVideoElement(n);return n.src=e,s}decodeFromVideoUrlContinuously(e,n){if(!e)throw new T("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(s,n);return s.src=e,l}_decodeOnLoadImage(e){return new Promise((n,s)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,s),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,s=!0){this._stopAsyncDecode=!1;const l=(c,u)=>{if(this._stopAsyncDecode){u(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);c(h)}catch(h){const x=n&&h instanceof te,I=(h instanceof L||h instanceof Z)&&s;if(x||I)return setTimeout(l,this._timeBetweenDecodingAttempts,c,u);u(h)}};return new Promise((c,u)=>l(c,u))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(s,this.timeBetweenScansMillis)}catch(l){n(null,l);const c=l instanceof L||l instanceof Z,u=l instanceof te;(c||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,s){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,s=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),s=new be(n),l=new pe(s);return new D(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let s,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(s=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(s=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=s+"px",n.style.height=l+"px",n.width=s,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Te{constructor(e,n,s=n==null?0:8*n.length,l,c,u=F.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=s,this.resultPoints=l,this.format=c,this.timestamp=u,this.text=e,this.rawBytes=n,s==null?this.numBits=n==null?0:8*n.length:this.numBits=s,this.resultPoints=l,this.format=c,this.resultMetadata=null,u==null?this.timestamp=F.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const s=new Array(n.length+e.length);F.arraycopy(n,0,s,0,n.length),F.arraycopy(e,0,s,n.length,e.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var Ce=Ve,Ye;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ye||(Ye={}));var De=Ye;class ot{constructor(e,n,s,l,c=-1,u=-1){this.rawBytes=e,this.text=n,this.byteSegments=s,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class kt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new S;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Dt{constructor(e,n){if(n.length===0)throw new S;this.field=e;const s=n.length;if(s>1&&n[0]===0){let l=1;for(;l<s&&n[l]===0;)l++;l===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let s;if(e===1){s=0;for(let u=0,h=n.length;u!==h;u++){const x=n[u];s=kt.addOrSubtract(s,x)}return s}s=n[0];const l=n.length,c=this.field;for(let u=1;u<l;u++)s=kt.addOrSubtract(c.multiply(e,s),n[u]);return s}addOrSubtract(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,s=e.coefficients;if(n.length>s.length){const u=n;n=s,s=u}let l=new Int32Array(s.length);const c=s.length-n.length;F.arraycopy(s,0,l,0,c);for(let u=c;u<s.length;u++)l[u]=kt.addOrSubtract(n[u-c],s[u]);return new Dt(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,s=n.length,l=e.coefficients,c=l.length,u=new Int32Array(s+c-1),h=this.field;for(let x=0;x<s;x++){const w=n[x];for(let I=0;I<c;I++)u[x+I]=kt.addOrSubtract(u[x+I],h.multiply(w,l[I]))}return new Dt(h,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,s=this.field,l=new Int32Array(n),c=this.coefficients;for(let u=0;u<n;u++)l[u]=s.multiply(c[u],e);return new Dt(s,l)}multiplyByMonomial(e,n){if(e<0)throw new S;if(n===0)return this.field.getZero();const s=this.coefficients,l=s.length,c=new Int32Array(l+e),u=this.field;for(let h=0;h<l;h++)c[h]=u.multiply(s[h],n);return new Dt(u,c)}divide(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new S("Divide by 0");const n=this.field;let s=n.getZero(),l=this;const c=e.getCoefficient(e.getDegree()),u=n.inverse(c);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const h=l.getDegree()-e.getDegree(),x=n.multiply(l.getCoefficient(l.getDegree()),u),w=e.multiplyByMonomial(h,x),I=n.buildMonomial(h,x);s=s.addOrSubtract(I),l=l.addOrSubtract(w)}return[s,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let s=this.getCoefficient(n);if(s!==0){if(s<0?(e+=" - ",s=-s):e.length>0&&(e+=" + "),n===0||s!==1){const l=this.field.log(s);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class En extends E{}En.kind="ArithmeticException";class ft extends kt{constructor(e,n,s){super(),this.primitive=e,this.size=n,this.generatorBase=s;const l=new Int32Array(n);let c=1;for(let h=0;h<n;h++)l[h]=c,c*=2,c>=n&&(c^=e,c&=n-1);this.expTable=l;const u=new Int32Array(n);for(let h=0;h<n-1;h++)u[l[h]]=h;this.logTable=u,this.zero=new Dt(this,Int32Array.from([0])),this.one=new Dt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new S;if(n===0)return this.zero;const s=new Int32Array(e+1);return s[0]=n,new Dt(this,s)}inverse(e){if(e===0)throw new En;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+X.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ft.AZTEC_DATA_12=new ft(4201,4096,1),ft.AZTEC_DATA_10=new ft(1033,1024,1),ft.AZTEC_DATA_6=new ft(67,64,1),ft.AZTEC_PARAM=new ft(19,16,1),ft.QR_CODE_FIELD_256=new ft(285,256,0),ft.DATA_MATRIX_FIELD_256=new ft(301,256,1),ft.AZTEC_DATA_8=ft.DATA_MATRIX_FIELD_256,ft.MAXICODE_FIELD_64=ft.AZTEC_DATA_6;class hr extends E{}hr.kind="ReedSolomonException";class ir extends E{}ir.kind="IllegalStateException";class ei{constructor(e){this.field=e}decode(e,n){const s=this.field,l=new Dt(s,e),c=new Int32Array(n);let u=!0;for(let B=0;B<n;B++){const U=l.evaluateAt(s.exp(B+s.getGeneratorBase()));c[c.length-1-B]=U,U!==0&&(u=!1)}if(u)return;const h=new Dt(s,c),x=this.runEuclideanAlgorithm(s.buildMonomial(n,1),h,n),w=x[0],I=x[1],k=this.findErrorLocations(w),O=this.findErrorMagnitudes(I,k);for(let B=0;B<k.length;B++){const U=e.length-1-s.log(k[B]);if(U<0)throw new hr("Bad error location");e[U]=ft.addOrSubtract(e[U],O[B])}}runEuclideanAlgorithm(e,n,s){if(e.getDegree()<n.getDegree()){const B=e;e=n,n=B}const l=this.field;let c=e,u=n,h=l.getZero(),x=l.getOne();for(;u.getDegree()>=(s/2|0);){let B=c,U=h;if(c=u,h=x,c.isZero())throw new hr("r_{i-1} was zero");u=B;let G=l.getZero();const q=c.getCoefficient(c.getDegree()),se=l.inverse(q);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){const Se=u.getDegree()-c.getDegree(),Ne=l.multiply(u.getCoefficient(u.getDegree()),se);G=G.addOrSubtract(l.buildMonomial(Se,Ne)),u=u.addOrSubtract(c.multiplyByMonomial(Se,Ne))}if(x=G.multiply(h).addOrSubtract(U),u.getDegree()>=c.getDegree())throw new ir("Division algorithm failed to reduce polynomial?")}const w=x.getCoefficient(0);if(w===0)throw new hr("sigmaTilde(0) was zero");const I=l.inverse(w),k=x.multiplyScalar(I),O=u.multiplyScalar(I);return[k,O]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const s=new Int32Array(n);let l=0;const c=this.field;for(let u=1;u<c.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(s[l]=c.inverse(u),l++);if(l!==n)throw new hr("Error locator degree does not match number of roots");return s}findErrorMagnitudes(e,n){const s=n.length,l=new Int32Array(s),c=this.field;for(let u=0;u<s;u++){const h=c.inverse(n[u]);let x=1;for(let w=0;w<s;w++)if(u!==w){const I=c.multiply(n[w],h),k=(I&1)===0?I|1:I&-2;x=c.multiply(x,k)}l[u]=c.multiply(e.evaluateAt(h),c.inverse(x)),c.getGeneratorBase()!==0&&(l[u]=c.multiply(l[u],h))}return l}}var Bt;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Bt||(Bt={}));class St{decode(e){this.ddata=e;let n=e.getBits(),s=this.extractBits(n),l=this.correctBits(s),c=St.convertBoolArrayToByteArray(l),u=St.getEncodedData(l),h=new ot(c,u,null,null);return h.setNumBits(l.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,s=Bt.UPPER,l=Bt.UPPER,c="",u=0;for(;u<n;)if(l===Bt.BINARY){if(n-u<5)break;let h=St.readCode(e,u,5);if(u+=5,h===0){if(n-u<11)break;h=St.readCode(e,u,11)+31,u+=11}for(let x=0;x<h;x++){if(n-u<8){u=n;break}const w=St.readCode(e,u,8);c+=ce.castAsNonUtf8Char(w),u+=8}l=s}else{let h=l===Bt.DIGIT?4:5;if(n-u<h)break;let x=St.readCode(e,u,h);u+=h;let w=St.getCharacter(l,x);w.startsWith("CTRL_")?(s=l,l=St.getTable(w.charAt(5)),w.charAt(6)==="L"&&(s=l)):(c+=w,l=s)}return c}static getTable(e){switch(e){case"L":return Bt.LOWER;case"P":return Bt.PUNCT;case"M":return Bt.MIXED;case"D":return Bt.DIGIT;case"B":return Bt.BINARY;case"U":default:return Bt.UPPER}}static getCharacter(e,n){switch(e){case Bt.UPPER:return St.UPPER_TABLE[n];case Bt.LOWER:return St.LOWER_TABLE[n];case Bt.MIXED:return St.MIXED_TABLE[n];case Bt.PUNCT:return St.PUNCT_TABLE[n];case Bt.DIGIT:return St.DIGIT_TABLE[n];default:throw new ir("Bad table")}}correctBits(e){let n,s;this.ddata.getNbLayers()<=2?(s=6,n=ft.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,n=ft.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,n=ft.AZTEC_DATA_10):(s=12,n=ft.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=e.length/s;if(c<l)throw new Z;let u=e.length%s,h=new Int32Array(c);for(let O=0;O<c;O++,u+=s)h[O]=St.readCode(e,u,s);try{new ei(n).decode(h,c-l)}catch(O){throw new Z(O)}let x=(1<<s)-1,w=0;for(let O=0;O<l;O++){let B=h[O];if(B===0||B===x)throw new Z;(B===1||B===x-1)&&w++}let I=new Array(l*s-w),k=0;for(let O=0;O<l;O++){let B=h[O];if(B===1||B===x-1)I.fill(B>1,k,k+s-1),k+=s-1;else for(let U=s-1;U>=0;--U)I[k++]=(B&1<<U)!==0}return I}extractBits(e){let n=this.ddata.isCompact(),s=this.ddata.getNbLayers(),l=(n?11:14)+s*4,c=new Int32Array(l),u=new Array(this.totalBitsInLayer(s,n));if(n)for(let h=0;h<c.length;h++)c[h]=h;else{let h=l+1+2*X.truncDivision(X.truncDivision(l,2)-1,15),x=l/2,w=X.truncDivision(h,2);for(let I=0;I<x;I++){let k=I+X.truncDivision(I,15);c[x-I-1]=w-k-1,c[x+I]=w+k+1}}for(let h=0,x=0;h<s;h++){let w=(s-h)*4+(n?9:12),I=h*2,k=l-1-I;for(let O=0;O<w;O++){let B=O*2;for(let U=0;U<2;U++)u[x+B+U]=e.get(c[I+U],c[I+O]),u[x+2*w+B+U]=e.get(c[I+O],c[k-U]),u[x+4*w+B+U]=e.get(c[k-U],c[k-O]),u[x+6*w+B+U]=e.get(c[k-O],c[I+U])}x+=w*8}return u}static readCode(e,n,s){let l=0;for(let c=n;c<n+s;c++)l<<=1,e[c]&&(l|=1);return l}static readByte(e,n){let s=e.length-n;return s>=8?St.readCode(e,n,8):St.readCode(e,n,s)<<8-s}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let s=0;s<n.length;s++)n[s]=St.readByte(e,8*s);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class et{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,s,l){const c=e-s,u=n-l;return Math.sqrt(c*c+u*u)}static sum(e){let n=0;for(let s=0,l=e.length;s!==l;s++){const c=e[s];n+=c}return n}}class Br{static floatToIntBits(e){return e}}Br.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Pe{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Pe){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Br.floatToIntBits(this.x)+Br.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let c,u,h;if(s>=n&&s>=l?(u=e[0],c=e[1],h=e[2]):l>=s&&l>=n?(u=e[1],c=e[0],h=e[2]):(u=e[2],c=e[0],h=e[1]),this.crossProductZ(c,u,h)<0){const x=c;c=h,h=x}e[0]=c,e[1]=u,e[2]=h}static distance(e,n){return et.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,s){const l=n.x,c=n.y;return(s.x-l)*(e.y-c)-(s.y-c)*(e.x-l)}}class an{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Fr extends an{constructor(e,n,s,l,c){super(e,n),this.compact=s,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mr{constructor(e,n,s,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=mr.INIT_SIZE),s==null&&(s=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const c=n/2|0;if(this.leftInit=s-c,this.rightInit=s+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let e=this.leftInit,n=this.rightInit,s=this.upInit,l=this.downInit,c=!1,u=!0,h=!1,x=!1,w=!1,I=!1,k=!1;const O=this.width,B=this.height;for(;u;){u=!1;let U=!0;for(;(U||!x)&&n<O;)U=this.containsBlackPoint(s,l,n,!1),U?(n++,u=!0,x=!0):x||n++;if(n>=O){c=!0;break}let G=!0;for(;(G||!w)&&l<B;)G=this.containsBlackPoint(e,n,l,!0),G?(l++,u=!0,w=!0):w||l++;if(l>=B){c=!0;break}let q=!0;for(;(q||!I)&&e>=0;)q=this.containsBlackPoint(s,l,e,!1),q?(e--,u=!0,I=!0):I||e--;if(e<0){c=!0;break}let se=!0;for(;(se||!k)&&s>=0;)se=this.containsBlackPoint(e,n,s,!0),se?(s--,u=!0,k=!0):k||s--;if(s<0){c=!0;break}u&&(h=!0)}if(!c&&h){const U=n-e;let G=null;for(let Ne=1;G===null&&Ne<U;Ne++)G=this.getBlackPointOnSegment(e,l-Ne,e+Ne,l);if(G==null)throw new te;let q=null;for(let Ne=1;q===null&&Ne<U;Ne++)q=this.getBlackPointOnSegment(e,s+Ne,e+Ne,s);if(q==null)throw new te;let se=null;for(let Ne=1;se===null&&Ne<U;Ne++)se=this.getBlackPointOnSegment(n,s+Ne,n-Ne,s);if(se==null)throw new te;let Se=null;for(let Ne=1;Se===null&&Ne<U;Ne++)Se=this.getBlackPointOnSegment(n,l-Ne,n-Ne,l);if(Se==null)throw new te;return this.centerEdges(Se,G,se,q)}else throw new te}getBlackPointOnSegment(e,n,s,l){const c=et.round(et.distance(e,n,s,l)),u=(s-e)/c,h=(l-n)/c,x=this.image;for(let w=0;w<c;w++){const I=et.round(e+w*u),k=et.round(n+w*h);if(x.get(I,k))return new Pe(I,k)}return null}centerEdges(e,n,s,l){const c=e.getX(),u=e.getY(),h=n.getX(),x=n.getY(),w=s.getX(),I=s.getY(),k=l.getX(),O=l.getY(),B=mr.CORR;return c<this.width/2?[new Pe(k-B,O+B),new Pe(h+B,x+B),new Pe(w-B,I-B),new Pe(c+B,u-B)]:[new Pe(k+B,O+B),new Pe(h+B,x-B),new Pe(w-B,I+B),new Pe(c-B,u-B)]}containsBlackPoint(e,n,s,l){const c=this.image;if(l){for(let u=e;u<=n;u++)if(c.get(u,s))return!0}else for(let u=e;u<=n;u++)if(c.get(s,u))return!0;return!1}}mr.INIT_SIZE=10,mr.CORR=1;class Wi{static checkAndNudgePoints(e,n){const s=e.getWidth(),l=e.getHeight();let c=!0;for(let u=0;u<n.length&&c;u+=2){const h=Math.floor(n[u]),x=Math.floor(n[u+1]);if(h<-1||h>s||x<-1||x>l)throw new te;c=!1,h===-1?(n[u]=0,c=!0):h===s&&(n[u]=s-1,c=!0),x===-1?(n[u+1]=0,c=!0):x===l&&(n[u+1]=l-1,c=!0)}c=!0;for(let u=n.length-2;u>=0&&c;u-=2){const h=Math.floor(n[u]),x=Math.floor(n[u+1]);if(h<-1||h>s||x<-1||x>l)throw new te;c=!1,h===-1?(n[u]=0,c=!0):h===s&&(n[u]=s-1,c=!0),x===-1?(n[u+1]=0,c=!0):x===l&&(n[u+1]=l-1,c=!0)}}}class bn{constructor(e,n,s,l,c,u,h,x,w){this.a11=e,this.a21=n,this.a31=s,this.a12=l,this.a22=c,this.a32=u,this.a13=h,this.a23=x,this.a33=w}static quadrilateralToQuadrilateral(e,n,s,l,c,u,h,x,w,I,k,O,B,U,G,q){const se=bn.quadrilateralToSquare(e,n,s,l,c,u,h,x);return bn.squareToQuadrilateral(w,I,k,O,B,U,G,q).times(se)}transformPoints(e){const n=e.length,s=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,x=this.a23,w=this.a31,I=this.a32,k=this.a33;for(let O=0;O<n;O+=2){const B=e[O],U=e[O+1],G=c*B+x*U+k;e[O]=(s*B+u*U+w)/G,e[O+1]=(l*B+h*U+I)/G}}transformPointsWithValues(e,n){const s=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,x=this.a23,w=this.a31,I=this.a32,k=this.a33,O=e.length;for(let B=0;B<O;B++){const U=e[B],G=n[B],q=c*U+x*G+k;e[B]=(s*U+u*G+w)/q,n[B]=(l*U+h*G+I)/q}}static squareToQuadrilateral(e,n,s,l,c,u,h,x){const w=e-s+c-h,I=n-l+u-x;if(w===0&&I===0)return new bn(s-e,c-s,e,l-n,u-l,n,0,0,1);{const k=s-c,O=h-c,B=l-u,U=x-u,G=k*U-O*B,q=(w*U-O*I)/G,se=(k*I-w*B)/G;return new bn(s-e+q*s,h-e+se*h,e,l-n+q*l,x-n+se*x,n,q,se,1)}}static quadrilateralToSquare(e,n,s,l,c,u,h,x){return bn.squareToQuadrilateral(e,n,s,l,c,u,h,x).buildAdjoint()}buildAdjoint(){return new bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new bn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Hi extends Wi{sampleGrid(e,n,s,l,c,u,h,x,w,I,k,O,B,U,G,q,se,Se,Ne){const we=bn.quadrilateralToQuadrilateral(l,c,u,h,x,w,I,k,O,B,U,G,q,se,Se,Ne);return this.sampleGridWithTransform(e,n,s,we)}sampleGridWithTransform(e,n,s,l){if(n<=0||s<=0)throw new te;const c=new je(n,s),u=new Float32Array(2*n);for(let h=0;h<s;h++){const x=u.length,w=h+.5;for(let I=0;I<x;I+=2)u[I]=I/2+.5,u[I+1]=w;l.transformPoints(u),Wi.checkAndNudgePoints(e,u);try{for(let I=0;I<x;I+=2)e.get(Math.floor(u[I]),Math.floor(u[I+1]))&&c.set(I/2,h)}catch{throw new te}}return c}}class Kn{static setGridSampler(e){Kn.gridSampler=e}static getInstance(){return Kn.gridSampler}}Kn.gridSampler=new Hi;class ln{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class sr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),s=this.getBullsEyeCorners(n);if(e){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let l=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),c=this.getMatrixCornerPoints(s);return new Fr(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new te;let n=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(s,n);let l=0;for(let u=0;u<4;u++){let h=s[(this.shift+u)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,n){let s=0;e.forEach((l,c,u)=>{let h=(l>>n-2<<1)+(l&1);s=(s<<3)+h}),s=((s&1)<<11)+(s>>1);for(let l=0;l<4;l++)if(X.bitCount(s^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new te}getCorrectedParameterData(e,n){let s,l;n?(s=7,l=2):(s=10,l=4);let c=s-l,u=new Int32Array(s);for(let x=s-1;x>=0;--x)u[x]=e&15,e>>=4;try{new ei(ft.AZTEC_PARAM).decode(u,c)}catch{throw new te}let h=0;for(let x=0;x<l;x++)h=(h<<4)+u[x];return h}getBullsEyeCorners(e){let n=e,s=e,l=e,c=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(n,u,1,-1),O=this.getFirstDifferent(s,u,1,1),B=this.getFirstDifferent(l,u,-1,1),U=this.getFirstDifferent(c,u,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(U,k)*this.nbCenterLayers/(this.distancePoint(c,n)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(k,O,B,U))break}n=k,s=O,l=B,c=U,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let h=new Pe(n.getX()+.5,n.getY()-.5),x=new Pe(s.getX()+.5,s.getY()+.5),w=new Pe(l.getX()-.5,l.getY()+.5),I=new Pe(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,x,w,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,s,l;try{let h=new mr(this.image).detect();e=h[0],n=h[1],s=h[2],l=h[3]}catch{let x=this.image.getWidth()/2,w=this.image.getHeight()/2;e=this.getFirstDifferent(new ln(x+7,w-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ln(x+7,w+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ln(x-7,w+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ln(x-7,w-7),!1,-1,-1).toResultPoint()}let c=et.round((e.getX()+l.getX()+n.getX()+s.getX())/4),u=et.round((e.getY()+l.getY()+n.getY()+s.getY())/4);try{let h=new mr(this.image,15,c,u).detect();e=h[0],n=h[1],s=h[2],l=h[3]}catch{e=this.getFirstDifferent(new ln(c+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ln(c+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new ln(c-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ln(c-7,u-7),!1,-1,-1).toResultPoint()}return c=et.round((e.getX()+l.getX()+n.getX()+s.getX())/4),u=et.round((e.getY()+l.getY()+n.getY()+s.getY())/4),new ln(c,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,s,l,c){let u=Kn.getInstance(),h=this.getDimension(),x=h/2-this.nbCenterLayers,w=h/2+this.nbCenterLayers;return u.sampleGrid(e,h,h,x,x,w,x,w,w,x,w,n.getX(),n.getY(),s.getX(),s.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(e,n,s){let l=0,c=this.distanceResultPoint(e,n),u=c/s,h=e.getX(),x=e.getY(),w=u*(n.getX()-e.getX())/c,I=u*(n.getY()-e.getY())/c;for(let k=0;k<s;k++)this.image.get(et.round(h+k*w),et.round(x+k*I))&&(l|=1<<s-k-1);return l}isWhiteOrBlackRectangle(e,n,s,l){let c=3;e=new ln(e.getX()-c,e.getY()+c),n=new ln(n.getX()-c,n.getY()-c),s=new ln(s.getX()+c,s.getY()-c),l=new ln(l.getX()+c,l.getY()+c);let u=this.getColor(l,e);if(u===0)return!1;let h=this.getColor(e,n);return h!==u||(h=this.getColor(n,s),h!==u)?!1:(h=this.getColor(s,l),h===u)}getColor(e,n){let s=this.distancePoint(e,n),l=(n.getX()-e.getX())/s,c=(n.getY()-e.getY())/s,u=0,h=e.getX(),x=e.getY(),w=this.image.get(e.getX(),e.getY()),I=Math.ceil(s);for(let O=0;O<I;O++)h+=l,x+=c,this.image.get(et.round(h),et.round(x))!==w&&u++;let k=u/s;return k>.1&&k<.9?0:k<=.1===w?1:-1}getFirstDifferent(e,n,s,l){let c=e.getX()+s,u=e.getY()+l;for(;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=s,u+=l;for(c-=s,u-=l;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=s;for(c-=s;this.isValid(c,u)&&this.image.get(c,u)===n;)u+=l;return u-=l,new ln(c,u)}expandSquare(e,n,s){let l=s/(2*n),c=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,x=(e[0].getY()+e[2].getY())/2,w=new Pe(h+l*c,x+l*u),I=new Pe(h-l*c,x-l*u);c=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,x=(e[1].getY()+e[3].getY())/2;let k=new Pe(h+l*c,x+l*u),O=new Pe(h-l*c,x-l*u);return[w,k,I,O]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=et.round(e.getX()),s=et.round(e.getY());return this.isValid(n,s)}distancePoint(e,n){return et.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return et.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(X.truncDivision(this.nbLayers-4,8)+1)+15}}class Ar{decode(e,n=null){let s=null,l=new sr(e.getBlackMatrix()),c=null,u=null;try{let I=l.detectMirror(!1);c=I.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(I)}catch(I){s=I}if(u==null)try{let I=l.detectMirror(!0);c=I.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(I)}catch(I){throw s??I}let h=new Te(u.getText(),u.getRawBytes(),u.getNumBits(),c,Ce.AZTEC,F.currentTimeMillis()),x=u.getByteSegments();x!=null&&h.putMetadata(De.BYTE_SEGMENTS,x);let w=u.getECLevel();return w!=null&&h.putMetadata(De.ERROR_CORRECTION_LEVEL,w),h}reportFoundResultPoints(e,n){if(e!=null){let s=e.get(ue.NEED_RESULT_POINT_CALLBACK);s!=null&&n.forEach((l,c,u)=>{s.foundPossibleResultPoint(l)})}}reset(){}}class fi extends Ee{constructor(e=500){super(new Ar,e)}}class Ht{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(ue.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),u=this.doDecode(c,n),h=u.getResultMetadata();let x=270;h!==null&&h.get(De.ORIENTATION)===!0&&(x=x+h.get(De.ORIENTATION)%360),u.putMetadata(De.ORIENTATION,x);const w=u.getResultPoints();if(w!==null){const I=c.getHeight();for(let k=0;k<w.length;k++)w[k]=new Pe(I-w[k].getY()-1,w[k].getX())}return u}else throw new te}}reset(){}doDecode(e,n){const s=e.getWidth(),l=e.getHeight();let c=new ne(s);const u=n&&n.get(ue.TRY_HARDER)===!0,h=Math.max(1,l>>(u?8:5));let x;u?x=l:x=15;const w=Math.trunc(l/2);for(let I=0;I<x;I++){const k=Math.trunc((I+1)/2),O=(I&1)===0,B=w+h*(O?k:-k);if(B<0||B>=l)break;try{c=e.getBlackRow(B,c)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(c.reverse(),n&&n.get(ue.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;n.forEach((q,se)=>G.set(se,q)),G.delete(ue.NEED_RESULT_POINT_CALLBACK),n=G}try{const G=this.decodeRow(B,c,n);if(U===1){G.putMetadata(De.ORIENTATION,180);const q=G.getResultPoints();q!==null&&(q[0]=new Pe(s-q[0].getX()-1,q[0].getY()),q[1]=new Pe(s-q[1].getX()-1,q[1].getY()))}return G}catch{}}}throw new te}static recordPattern(e,n,s){const l=s.length;for(let w=0;w<l;w++)s[w]=0;const c=e.getSize();if(n>=c)throw new te;let u=!e.get(n),h=0,x=n;for(;x<c;){if(e.get(x)!==u)s[h]++;else{if(++h===l)break;s[h]=1,u=!u}x++}if(!(h===l||h===l-1&&x===c))throw new te}static recordPatternInReverse(e,n,s){let l=s.length,c=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==c&&(l--,c=!c);if(l>=0)throw new te;Ht.recordPattern(e,n+1,s)}static patternMatchVariance(e,n,s){const l=e.length;let c=0,u=0;for(let w=0;w<l;w++)c+=e[w],u+=n[w];if(c<u)return Number.POSITIVE_INFINITY;const h=c/u;s*=h;let x=0;for(let w=0;w<l;w++){const I=e[w],k=n[w]*h,O=I>k?I-k:k-I;if(O>s)return Number.POSITIVE_INFINITY;x+=O}return x/c}}class ke extends Ht{static findStartPattern(e){const n=e.getSize(),s=e.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),u=s,h=!1;const x=6;for(let w=s;w<n;w++)if(e.get(w)!==h)c[l]++;else{if(l===x-1){let I=ke.MAX_AVG_VARIANCE,k=-1;for(let O=ke.CODE_START_A;O<=ke.CODE_START_C;O++){const B=Ht.patternMatchVariance(c,ke.CODE_PATTERNS[O],ke.MAX_INDIVIDUAL_VARIANCE);B<I&&(I=B,k=O)}if(k>=0&&e.isRange(Math.max(0,u-(w-u)/2),u,!1))return Int32Array.from([u,w,k]);u+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,h=!h}throw new te}static decodeCode(e,n,s){Ht.recordPattern(e,s,n);let l=ke.MAX_AVG_VARIANCE,c=-1;for(let u=0;u<ke.CODE_PATTERNS.length;u++){const h=ke.CODE_PATTERNS[u],x=this.patternMatchVariance(n,h,ke.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,c=u)}if(c>=0)return c;throw new te}decodeRow(e,n,s){const l=s&&s.get(ue.ASSUME_GS1)===!0,c=ke.findStartPattern(n),u=c[2];let h=0;const x=new Uint8Array(20);x[h++]=u;let w;switch(u){case ke.CODE_START_A:w=ke.CODE_CODE_A;break;case ke.CODE_START_B:w=ke.CODE_CODE_B;break;case ke.CODE_START_C:w=ke.CODE_CODE_C;break;default:throw new Z}let I=!1,k=!1,O="",B=c[0],U=c[1];const G=Int32Array.from([0,0,0,0,0,0]);let q=0,se=0,Se=u,Ne=0,we=!0,ut=!1,it=!1;for(;!I;){const ii=k;switch(k=!1,q=se,se=ke.decodeCode(n,G,U),x[h++]=se,se!==ke.CODE_STOP&&(we=!0),se!==ke.CODE_STOP&&(Ne++,Se+=Ne*se),B=U,U+=G.reduce((rs,ma)=>rs+ma,0),se){case ke.CODE_START_A:case ke.CODE_START_B:case ke.CODE_START_C:throw new Z}switch(w){case ke.CODE_CODE_A:if(se<64)it===ut?O+=String.fromCharCode(32+se):O+=String.fromCharCode(32+se+128),it=!1;else if(se<96)it===ut?O+=String.fromCharCode(se-64):O+=String.fromCharCode(se+64),it=!1;else switch(se!==ke.CODE_STOP&&(we=!1),se){case ke.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_A:!ut&&it?(ut=!0,it=!1):ut&&it?(ut=!1,it=!1):it=!0;break;case ke.CODE_SHIFT:k=!0,w=ke.CODE_CODE_B;break;case ke.CODE_CODE_B:w=ke.CODE_CODE_B;break;case ke.CODE_CODE_C:w=ke.CODE_CODE_C;break;case ke.CODE_STOP:I=!0;break}break;case ke.CODE_CODE_B:if(se<96)it===ut?O+=String.fromCharCode(32+se):O+=String.fromCharCode(32+se+128),it=!1;else switch(se!==ke.CODE_STOP&&(we=!1),se){case ke.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_B:!ut&&it?(ut=!0,it=!1):ut&&it?(ut=!1,it=!1):it=!0;break;case ke.CODE_SHIFT:k=!0,w=ke.CODE_CODE_A;break;case ke.CODE_CODE_A:w=ke.CODE_CODE_A;break;case ke.CODE_CODE_C:w=ke.CODE_CODE_C;break;case ke.CODE_STOP:I=!0;break}break;case ke.CODE_CODE_C:if(se<100)se<10&&(O+="0"),O+=se;else switch(se!==ke.CODE_STOP&&(we=!1),se){case ke.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case ke.CODE_CODE_A:w=ke.CODE_CODE_A;break;case ke.CODE_CODE_B:w=ke.CODE_CODE_B;break;case ke.CODE_STOP:I=!0;break}break}ii&&(w=w===ke.CODE_CODE_A?ke.CODE_CODE_B:ke.CODE_CODE_A)}const $n=U-B;if(U=n.getNextUnset(U),!n.isRange(U,Math.min(n.getSize(),U+(U-B)/2),!1))throw new te;if(Se-=Ne*q,Se%103!==q)throw new L;const _r=O.length;if(_r===0)throw new te;_r>0&&we&&(w===ke.CODE_CODE_C?O=O.substring(0,_r-2):O=O.substring(0,_r-1));const pn=(c[1]+c[0])/2,Tt=B+$n/2,nn=x.length,Hn=new Uint8Array(nn);for(let ii=0;ii<nn;ii++)Hn[ii]=x[ii];const Ri=[new Pe(pn,e),new Pe(Tt,e)];return new Te(O,Hn,0,Ri,Ce.CODE_128,new Date().getTime())}}ke.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ke.MAX_AVG_VARIANCE=.25,ke.MAX_INDIVIDUAL_VARIANCE=.7,ke.CODE_SHIFT=98,ke.CODE_CODE_C=99,ke.CODE_CODE_B=100,ke.CODE_CODE_A=101,ke.CODE_FNC_1=102,ke.CODE_FNC_2=97,ke.CODE_FNC_3=96,ke.CODE_FNC_4_A=101,ke.CODE_FNC_4_B=100,ke.CODE_START_A=103,ke.CODE_START_B=104,ke.CODE_START_C=105,ke.CODE_STOP=106;class qt extends Ht{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,s){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=qt.findAsteriskPattern(n,l),u=n.getNextSet(c[1]),h=n.getSize(),x,w;do{qt.recordPattern(n,u,l);let G=qt.toNarrowWidePattern(l);if(G<0)throw new te;x=qt.patternToChar(G),this.decodeRowResult+=x,w=u;for(let q of l)u+=q;u=n.getNextSet(u)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let G of l)I+=G;let k=u-w-I;if(u!==h&&k*2<I)throw new te;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,q=0;for(let se=0;se<G;se++)q+=qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(se));if(this.decodeRowResult.charAt(G)!==qt.ALPHABET_STRING.charAt(q%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new te;let O;this.extendedMode?O=qt.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let B=(c[1]+c[0])/2,U=w+I/2;return new Te(O,null,0,[new Pe(B,e),new Pe(U,e)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let s=e.getSize(),l=e.getNextSet(0),c=0,u=l,h=!1,x=n.length;for(let w=l;w<s;w++)if(e.get(w)!==h)n[c]++;else{if(c===x-1){if(this.toNarrowWidePattern(n)===qt.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((w-u)/2)),u,!1))return[u,w];u+=n[0]+n[1],n.copyWithin(0,2,2+c-1),n[c-1]=0,n[c]=0,c--}else c++;n[c]=1,h=!h}throw new te}static toNarrowWidePattern(e){let n=e.length,s=0,l;do{let c=2147483647;for(let x of e)x<c&&x>s&&(c=x);s=c,l=0;let u=0,h=0;for(let x=0;x<n;x++){let w=e[x];w>s&&(h|=1<<n-1-x,l++,u+=w)}if(l===3){for(let x=0;x<n&&l>0;x++){let w=e[x];if(w>s&&(l--,w*2>=u))return-1}return h}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<qt.CHARACTER_ENCODINGS.length;n++)if(qt.CHARACTER_ENCODINGS[n]===e)return qt.ALPHABET_STRING.charAt(n);if(e===qt.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(e){let n=e.length,s="";for(let l=0;l<n;l++){let c=e.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let u=e.charAt(l+1),h="\0";switch(c){case"+":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new Z;break;case"$":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new Z;break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u==="X"||u==="Y"||u==="Z")h="";else throw new Z;break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new Z;break}s+=h,l++}else s+=c}return s}}qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],qt.ASTERISK_ENCODING=148;class wt extends Ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,s){let l=this.decodeStart(n),c=this.decodeEnd(n),u=new xe;wt.decodeMiddle(n,l[1],c[0],u);let h=u.toString(),x=null;s!=null&&(x=s.get(ue.ALLOWED_LENGTHS)),x==null&&(x=wt.DEFAULT_ALLOWED_LENGTHS);let w=h.length,I=!1,k=0;for(let U of x){if(w===U){I=!0;break}U>k&&(k=U)}if(!I&&w>k&&(I=!0),!I)throw new Z;const O=[new Pe(l[1],e),new Pe(c[0],e)];return new Te(h,null,0,O,Ce.ITF,new Date().getTime())}static decodeMiddle(e,n,s,l){let c=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),u.fill(0),h.fill(0);n<s;){Ht.recordPattern(e,n,c);for(let w=0;w<5;w++){let I=2*w;u[w]=c[I],h[w]=c[I+1]}let x=wt.decodeDigit(u);l.append(x.toString()),x=this.decodeDigit(h),l.append(x.toString()),c.forEach(function(w){n+=w})}}decodeStart(e){let n=wt.skipWhiteSpace(e),s=wt.findGuardPattern(e,n,wt.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(e,s[0]),s}validateQuietZone(e,n){let s=this.narrowLineWidth*10;s=s<n?s:n;for(let l=n-1;s>0&&l>=0&&!e.get(l);l--)s--;if(s!==0)throw new te}static skipWhiteSpace(e){const n=e.getSize(),s=e.getNextSet(0);if(s===n)throw new te;return s}decodeEnd(e){e.reverse();try{let n=wt.skipWhiteSpace(e),s;try{s=wt.findGuardPattern(e,n,wt.END_PATTERN_REVERSED[0])}catch(c){c instanceof te&&(s=wt.findGuardPattern(e,n,wt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,s[0]);let l=s[0];return s[0]=e.getSize()-s[1],s[1]=e.getSize()-l,s}finally{e.reverse()}}static findGuardPattern(e,n,s){let l=s.length,c=new Int32Array(l),u=e.getSize(),h=!1,x=0,w=n;c.fill(0);for(let I=n;I<u;I++)if(e.get(I)!==h)c[x]++;else{if(x===l-1){if(Ht.patternMatchVariance(c,s,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return[w,I];w+=c[0]+c[1],F.arraycopy(c,2,c,0,x-1),c[x-1]=0,c[x]=0,x--}else x++;c[x]=1,h=!h}throw new te}static decodeDigit(e){let n=wt.MAX_AVG_VARIANCE,s=-1,l=wt.PATTERNS.length;for(let c=0;c<l;c++){let u=wt.PATTERNS[c],h=Ht.patternMatchVariance(e,u,wt.MAX_INDIVIDUAL_VARIANCE);h<n?(n=h,s=c):h===n&&(s=-1)}if(s>=0)return s%10;throw new te}}wt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],wt.MAX_AVG_VARIANCE=.38,wt.MAX_INDIVIDUAL_VARIANCE=.5,wt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],wt.START_PATTERN=Int32Array.from([1,1,1,1]),wt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Mt extends Ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,s,l=0,c=Int32Array.from([0,0,0]);for(;!n;){c=Int32Array.from([0,0,0]),s=Mt.findGuardPattern(e,l,!1,this.START_END_PATTERN,c);let u=s[0];l=s[1];let h=u-(l-u);h>=0&&(n=e.isRange(h,u,!1))}return s}static checkChecksum(e){return Mt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let s=parseInt(e.charAt(n-1),10);return Mt.getStandardUPCEANChecksum(e.substring(0,n-1))===s}static getStandardUPCEANChecksum(e){let n=e.length,s=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new Z;s+=c}s*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new Z;s+=c}return(1e3-s)%10}static decodeEnd(e,n){return Mt.findGuardPattern(e,n,!1,Mt.START_END_PATTERN,new Int32Array(Mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,s,l){return this.findGuardPattern(e,n,s,l,new Int32Array(l.length))}static findGuardPattern(e,n,s,l,c){let u=e.getSize();n=s?e.getNextUnset(n):e.getNextSet(n);let h=0,x=n,w=l.length,I=s;for(let k=n;k<u;k++)if(e.get(k)!==I)c[h]++;else{if(h===w-1){if(Ht.patternMatchVariance(c,l,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return Int32Array.from([x,k]);x+=c[0]+c[1];let O=c.slice(2,c.length-1);for(let B=0;B<h-1;B++)c[B]=O[B];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,I=!I}throw new te}static decodeDigit(e,n,s,l){this.recordPattern(e,s,n);let c=this.MAX_AVG_VARIANCE,u=-1,h=l.length;for(let x=0;x<h;x++){let w=l[x],I=Ht.patternMatchVariance(n,w,Mt.MAX_INDIVIDUAL_VARIANCE);I<c&&(c=I,u=x)}if(u>=0)return u;throw new te}}Mt.MAX_AVG_VARIANCE=.48,Mt.MAX_INDIVIDUAL_VARIANCE=.7,Mt.START_END_PATTERN=Int32Array.from([1,1,1]),Mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Sr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,s){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,s,l),u=l.toString(),h=Sr.parseExtensionString(u),x=[new Pe((s[0]+s[1])/2,e),new Pe(c,e)],w=new Te(u,null,0,x,Ce.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(e,n,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let w=0;w<5&&u<c;w++){let I=Mt.decodeDigit(e,l,u,Mt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+I%10);for(let k of l)u+=k;I>=10&&(h|=1<<4-w),w!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(s.length!==5)throw new te;let x=this.determineCheckDigit(h);if(Sr.extensionChecksum(s.toString())!==x)throw new te;return u}static extensionChecksum(e){let n=e.length,s=0;for(let l=n-2;l>=0;l-=2)s+=e.charAt(l).charCodeAt(0)-48;s*=3;for(let l=n-1;l>=0;l-=2)s+=e.charAt(l).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new te}static parseExtensionString(e){if(e.length!==5)return null;let n=Sr.parseExtension5String(e);return n==null?null:new Map([[De.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let s=parseInt(e.substring(1)),l=(s/100).toString(),c=s%100,u=c<10?"0"+c:c.toString();return n+l+"."+u}}class Zn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,s){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,s,l),u=l.toString(),h=Zn.parseExtensionString(u),x=[new Pe((s[0]+s[1])/2,e),new Pe(c,e)],w=new Te(u,null,0,x,Ce.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(e,n,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let x=0;x<2&&u<c;x++){let w=Mt.decodeDigit(e,l,u,Mt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let I of l)u+=I;w>=10&&(h|=1<<1-x),x!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(s.length!==2)throw new te;if(parseInt(s.toString())%4!==h)throw new te;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[De.ISSUE_NUMBER,parseInt(e)]])}}class Gi{static decodeRow(e,n,s){let l=Mt.findGuardPattern(n,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Sr().decodeRow(e,n,l)}catch{return new Zn().decodeRow(e,n,l)}}}Gi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ct extends Mt{constructor(){super(),this.decodeRowStringBuffer="",ct.L_AND_G_PATTERNS=ct.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=ct.L_PATTERNS[e-10],s=new Int32Array(n.length);for(let l=0;l<n.length;l++)s[l]=n[n.length-l-1];ct.L_AND_G_PATTERNS[e]=s}}decodeRow(e,n,s){let l=ct.findStartGuardPattern(n),c=s==null?null:s.get(ue.NEED_RESULT_POINT_CALLBACK);if(c!=null){const we=new Pe((l[0]+l[1])/2,e);c.foundPossibleResultPoint(we)}let u=this.decodeMiddle(n,l,this.decodeRowStringBuffer),h=u.rowOffset,x=u.resultString;if(c!=null){const we=new Pe(h,e);c.foundPossibleResultPoint(we)}let w=this.decodeEnd(n,h);if(c!=null){const we=new Pe((w[0]+w[1])/2,e);c.foundPossibleResultPoint(we)}let I=w[1],k=I+(I-w[0]);if(k>=n.getSize()||!n.isRange(I,k,!1))throw new te;let O=x.toString();if(O.length<8)throw new Z;if(!ct.checkChecksum(O))throw new L;let B=(l[1]+l[0])/2,U=(w[1]+w[0])/2,G=this.getBarcodeFormat(),q=[new Pe(B,e),new Pe(U,e)],se=new Te(O,null,0,q,G,new Date().getTime()),Se=0;try{let we=Gi.decodeRow(e,n,w[1]);se.putMetadata(De.UPC_EAN_EXTENSION,we.getText()),se.putAllMetadata(we.getResultMetadata()),se.addResultPoints(we.getResultPoints()),Se=we.getText().length}catch{}let Ne=s==null?null:s.get(ue.ALLOWED_EAN_EXTENSIONS);if(Ne!=null){let we=!1;for(let ut in Ne)if(Se.toString()===ut){we=!0;break}if(!we)throw new te}return se}decodeEnd(e,n){return ct.findGuardPattern(e,n,!1,ct.START_END_PATTERN,new Int32Array(ct.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ct.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let s=parseInt(e.charAt(n-1),10);return ct.getStandardUPCEANChecksum(e.substring(0,n-1))===s}static getStandardUPCEANChecksum(e){let n=e.length,s=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new Z;s+=c}s*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new Z;s+=c}return(1e3-s)%10}}class Vn extends ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let w=0;w<6&&u<c;w++){let I=ct.decodeDigit(e,l,u,ct.L_AND_G_PATTERNS);s+=String.fromCharCode(48+I%10);for(let k of l)u+=k;I>=10&&(h|=1<<5-w)}s=Vn.determineFirstDigit(s,h),u=ct.findGuardPattern(e,u,!0,ct.MIDDLE_PATTERN,new Int32Array(ct.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&u<c;w++){let I=ct.decodeDigit(e,l,u,ct.L_PATTERNS);s+=String.fromCharCode(48+I);for(let k of l)u+=k}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(e,n){for(let s=0;s<10;s++)if(n===this.FIRST_DIGIT_ENCODINGS[s])return e=String.fromCharCode(48+s)+e,e;throw new te}}Vn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Xi extends ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,s){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1];for(let x=0;x<4&&u<c;x++){let w=ct.decodeDigit(e,l,u,ct.L_PATTERNS);s+=String.fromCharCode(48+w);for(let I of l)u+=I}u=ct.findGuardPattern(e,u,!0,ct.MIDDLE_PATTERN,new Int32Array(ct.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&u<c;x++){let w=ct.decodeDigit(e,l,u,ct.L_PATTERNS);s+=String.fromCharCode(48+w);for(let I of l)u+=I}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return Ce.EAN_8}}class tt extends ct{constructor(){super(...arguments),this.ean13Reader=new Vn}getBarcodeFormat(){return Ce.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,s))}decodeMiddle(e,n,s){return this.ean13Reader.decodeMiddle(e,n,s)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let s=new Te(n.substring(1),null,null,e.getResultPoints(),Ce.UPC_A);return e.getResultMetadata()!=null&&s.putAllMetadata(e.getResultMetadata()),s}else throw new te}reset(){this.ean13Reader.reset()}}class vt extends ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,s){const l=this.decodeMiddleCounters.map(w=>w);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=e.getSize();let u=n[1],h=0;for(let w=0;w<6&&u<c;w++){const I=vt.decodeDigit(e,l,u,vt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+I%10);for(let k of l)u+=k;I>=10&&(h|=1<<5-w)}let x=vt.determineNumSysAndCheckDigit(s,h);return{rowOffset:u,resultString:x}}decodeEnd(e,n){return vt.findGuardPatternWithoutCounters(e,n,!0,vt.MIDDLE_END_PATTERN)}checkChecksum(e){return ct.checkChecksum(vt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let s=0;s<=1;s++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][l]){let c=String.fromCharCode(48+s),u=String.fromCharCode(48+l);return c+e+u}throw te.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),s=new xe;s.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:s.appendChars(n,0,2),s.append(l),s.append("0000"),s.appendChars(n,2,3);break;case 3:s.appendChars(n,0,3),s.append("00000"),s.appendChars(n,3,2);break;case 4:s.appendChars(n,0,4),s.append("00000"),s.append(n[4]);break;default:s.appendChars(n,0,5),s.append("0000"),s.append(l);break}return e.length>=8&&s.append(e.charAt(7)),s.toString()}}vt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class en extends Ht{constructor(e){super();let n=e==null?null:e.get(ue.POSSIBLE_FORMATS),s=[];f(n)?(s.push(new Vn),s.push(new tt),s.push(new Xi),s.push(new vt)):(n.indexOf(Ce.EAN_13)>-1&&s.push(new Vn),n.indexOf(Ce.UPC_A)>-1&&s.push(new tt),n.indexOf(Ce.EAN_8)>-1&&s.push(new Xi),n.indexOf(Ce.UPC_E)>-1&&s.push(new vt)),this.readers=s}decodeRow(e,n,s){for(let l of this.readers)try{const c=l.decodeRow(e,n,s),u=c.getBarcodeFormat()===Ce.EAN_13&&c.getText().charAt(0)==="0",h=s==null?null:s.get(ue.POSSIBLE_FORMATS),x=h==null||h.includes(Ce.UPC_A);if(u&&x){const w=c.getRawBytes(),I=new Te(c.getText().substring(1),w,w?w.length:null,c.getResultPoints(),Ce.UPC_A);return I.putAllMetadata(c.getResultMetadata()),I}return c}catch{}throw new te}reset(){for(let e of this.readers)e.reset()}}class Ct extends Ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let s=0;s<n.length;s++)if(Ht.patternMatchVariance(e,n[s],Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return s;throw new te}static count(e){return et.sum(new Int32Array(e))}static increment(e,n){let s=0,l=n[0];for(let c=1;c<e.length;c++)n[c]>l&&(l=n[c],s=c);e[s]++}static decrement(e,n){let s=0,l=n[0];for(let c=1;c<e.length;c++)n[c]<l&&(l=n[c],s=c);e[s]--}static isFinderPattern(e){let n=e[0]+e[1],s=n+e[2]+e[3],l=n/s;if(l>=Ct.MIN_FINDER_PATTERN_RATIO&&l<=Ct.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let h of e)h>u&&(u=h),h<c&&(c=h);return u<10*c}return!1}}Ct.MAX_AVG_VARIANCE=.2,Ct.MAX_INDIVIDUAL_VARIANCE=.45,Ct.MIN_FINDER_PATTERN_RATIO=9.5/12,Ct.MAX_FINDER_PATTERN_RATIO=12.5/14;class or{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof or))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gt{constructor(e,n,s,l,c){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Pe(s,c)),this.resultPoints.push(new Pe(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Gt))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class _t{constructor(){}static getRSSvalue(e,n,s){let l=0;for(let x of e)l+=x;let c=0,u=0,h=e.length;for(let x=0;x<h-1;x++){let w;for(w=1,u|=1<<x;w<e[x];w++,u&=~(1<<x)){let I=_t.combins(l-w-1,h-x-2);if(s&&u===0&&l-w-(h-x-1)>=h-x-1&&(I-=_t.combins(l-w-(h-x),h-x-2)),h-x-1>1){let k=0;for(let O=l-w-(h-x-2);O>n;O--)k+=_t.combins(l-w-O-1,h-x-3);I-=k*(h-1-x)}else l-w>n&&I--;c+=I}l-=w}return c}static combins(e,n){let s,l;e-n>n?(l=n,s=e-n):(l=e-n,s=n);let c=1,u=1;for(let h=e;h>s;h--)c*=h,u<=l&&(c/=u,u++);for(;u<=l;)c/=u,u++;return c}}class hi{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let s=12*n,l=new ne(s),c=0,h=e[0].getRightChar().getValue();for(let x=11;x>=0;--x)(h&1<<x)!=0&&l.set(c),c++;for(let x=1;x<e.length;++x){let w=e[x],I=w.getLeftChar().getValue();for(let k=11;k>=0;--k)(I&1<<k)!=0&&l.set(c),c++;if(w.getRightChar()!=null){let k=w.getRightChar().getValue();for(let O=11;O>=0;--O)(k&1<<O)!=0&&l.set(c),c++}}return l}}class Xt{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Un{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class tn extends Un{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===tn.FNC1}}tn.FNC1="$";class wn extends Un{constructor(e,n,s){super(e),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class On extends Un{constructor(e,n,s){if(super(e),n<0||n>10||s<0||s>10)throw new Z;this.firstDigit=n,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===On.FNC1}isSecondDigitFNC1(){return this.secondDigit===On.FNC1}isAnyFNC1(){return this.firstDigit===On.FNC1||this.secondDigit===On.FNC1}}On.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new te;let n=e.substring(0,2);for(let c of Me.TWO_DIGIT_DATA_LENGTH)if(c[0]===n)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,c[2],e):Me.processFixedAI(2,c[1],e);if(e.length<3)throw new te;let s=e.substring(0,3);for(let c of Me.THREE_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,c[2],e):Me.processFixedAI(3,c[1],e);for(let c of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);if(e.length<4)throw new te;let l=e.substring(0,4);for(let c of Me.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);throw new te}static processFixedAI(e,n,s){if(s.length<e)throw new te;let l=s.substring(0,e);if(s.length<e+n)throw new te;let c=s.substring(e,e+n),u=s.substring(e+n),h="("+l+")"+c,x=Me.parseFieldsInGeneralPurpose(u);return x==null?h:h+x}static processVariableAI(e,n,s){let l=s.substring(0,e),c;s.length<e+n?c=s.length:c=e+n;let u=s.substring(e,c),h=s.substring(c),x="("+l+")"+u,w=Me.parseFieldsInGeneralPurpose(h);return w==null?x:x+w}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class Yi{constructor(e){this.buffer=new xe,this.information=e}decodeAllCodes(e,n){let s=n,l=null;do{let c=this.decodeGeneralPurposeField(s,l),u=Me.parseFieldsInGeneralPurpose(c.getNewString());if(u!=null&&e.append(u),c.isRemaining()?l=""+c.getRemainingValue():l=null,s===c.getNewPosition())break;s=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new On(this.information.getSize(),On.FNC1,On.FNC1):new On(this.information.getSize(),c-1,On.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),s=(n-8)/11,l=(n-8)%11;return new On(e+7,s,l)}extractNumericValueFromBitArray(e,n){return Yi.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,s){let l=0;for(let c=0;c<s;++c)e.get(n+c)&&(l|=1<<s-c-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new wn(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new wn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let s=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(s!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new wn(this.current.getPosition(),this.buffer.toString()):n=new wn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Xt(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new wn(this.current.getPosition(),this.buffer.toString());return new Xt(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xt(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new tn(e+5,tn.FNC1);if(n>=5&&n<15)return new tn(e+5,"0"+(n-5));let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<90)return new tn(e+7,""+(s+1));if(s>=90&&s<116)return new tn(e+7,""+(s+7));let l=this.extractNumericValueFromBitArray(e,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new Z}return new tn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,6);return s>=16&&s<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new tn(e+5,tn.FNC1);if(n>=5&&n<15)return new tn(e+5,"0"+(n-5));let s=this.extractNumericValueFromBitArray(e,6);if(s>=32&&s<58)return new tn(e+6,""+(s+33));let l;switch(s){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new ir("Decoding invalid alphanumeric value: "+s)}return new tn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class $o{constructor(e){this.information=e,this.generalDecoder=new Yi(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qn extends $o{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let s=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,s)}encodeCompressedGtinWithoutAI(e,n,s){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}qn.appendCheckDigit(e,s)}static appendCheckDigit(e,n){let s=0;for(let l=0;l<13;l++){let c=e.charAt(l+n).charCodeAt(0)-48;s+=(l&1)===0?3*c:c}s=10-s%10,s===10&&(s=0),e.append(s)}}qn.GTIN_SIZE=40;class gr extends qn{constructor(e){super(e)}parseInformation(){let e=new xe;e.append("(01)");let n=e.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(gr.HEADER_SIZE,4);return e.append(s),this.encodeCompressedGtinWithoutAI(e,gr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,gr.HEADER_SIZE+44)}}gr.HEADER_SIZE=4;class Ss extends $o{constructor(e){super(e)}parseInformation(){let e=new xe;return this.getGeneralDecoder().decodeAllCodes(e,Ss.HEADER_SIZE)}}Ss.HEADER_SIZE=5;class Ns extends qn{constructor(e){super(e)}encodeCompressedWeight(e,n,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,s);this.addWeightCode(e,l);let c=this.checkWeight(l),u=1e5;for(let h=0;h<5;++h)c/u===0&&e.append("0"),u/=10;e.append(c)}}class jr extends Ns{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=jr.HEADER_SIZE+Ns.GTIN_SIZE+jr.WEIGHT_SIZE)throw new te;let e=new xe;return this.encodeCompressedGtin(e,jr.HEADER_SIZE),this.encodeCompressedWeight(e,jr.HEADER_SIZE+Ns.GTIN_SIZE,jr.WEIGHT_SIZE),e.toString()}}jr.HEADER_SIZE=5,jr.WEIGHT_SIZE=15;class al extends jr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class ll extends jr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Nr extends qn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Nr.HEADER_SIZE+qn.GTIN_SIZE)throw new te;let e=new xe;this.encodeCompressedGtin(e,Nr.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Nr.HEADER_SIZE+qn.GTIN_SIZE,Nr.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Nr.HEADER_SIZE+qn.GTIN_SIZE+Nr.LAST_DIGIT_SIZE,null);return e.append(s.getNewString()),e.toString()}}Nr.HEADER_SIZE=8,Nr.LAST_DIGIT_SIZE=2;class Dn extends qn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+qn.GTIN_SIZE)throw new te;let e=new xe;this.encodeCompressedGtin(e,Dn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+qn.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+qn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,Dn.FIRST_THREE_DIGITS_SIZE);s/100==0&&e.append("0"),s/10==0&&e.append("0"),e.append(s);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+qn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE+Dn.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Dn.HEADER_SIZE=8,Dn.LAST_DIGIT_SIZE=2,Dn.FIRST_THREE_DIGITS_SIZE=10;class Vt extends Ns{constructor(e,n,s){super(e),this.dateCode=s,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Vt.HEADER_SIZE+Vt.GTIN_SIZE+Vt.WEIGHT_SIZE+Vt.DATE_SIZE)throw new te;let e=new xe;return this.encodeCompressedGtin(e,Vt.HEADER_SIZE),this.encodeCompressedWeight(e,Vt.HEADER_SIZE+Vt.GTIN_SIZE,Vt.WEIGHT_SIZE),this.encodeCompressedDate(e,Vt.HEADER_SIZE+Vt.GTIN_SIZE+Vt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Vt.DATE_SIZE);if(s==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=s%32;s/=32;let c=s%12+1;s/=12;let u=s;u/10==0&&e.append("0"),e.append(u),c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Vt.HEADER_SIZE=8,Vt.WEIGHT_SIZE=20,Vt.DATE_SIZE=16;function cl(R){try{if(R.get(1))return new gr(R);if(!R.get(2))return new Ss(R);switch(Yi.extractNumericValueFromBitArray(R,1,4)){case 4:return new al(R);case 5:return new ll(R)}switch(Yi.extractNumericValueFromBitArray(R,1,5)){case 12:return new Nr(R);case 13:return new Dn(R)}switch(Yi.extractNumericValueFromBitArray(R,1,7)){case 56:return new Vt(R,"310","11");case 57:return new Vt(R,"320","11");case 58:return new Vt(R,"310","13");case 59:return new Vt(R,"320","13");case 60:return new Vt(R,"310","15");case 61:return new Vt(R,"320","15");case 62:return new Vt(R,"310","17");case 63:return new Vt(R,"320","17")}}catch(e){throw console.log(e),new ir("unknown decoder: "+R)}}class It{constructor(e,n,s,l){this.leftchar=e,this.rightchar=n,this.finderpattern=s,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof It?It.equalsOrNull(e.leftchar,n.leftchar)&&It.equalsOrNull(e.rightchar,n.rightchar)&&It.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:It.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Jo{constructor(e,n,s){this.pairs=e,this.rowNumber=n,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Jo?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let s;return e.forEach((l,c)=>{n.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class he extends Ct{constructor(e){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,s){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(c){if(c instanceof te){if(!this.pairs.length)throw new te;s=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new te}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let s=n;s<this.rows.length;s++){let l=this.rows[s];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(l);try{return this.checkRows(c,s+1)}catch(u){this.verbose&&console.log(u)}}throw new te}static isValidSequence(e){for(let n of he.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let s=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){s=!1;break}if(s)return!0}return!1}storeRow(e,n){let s=0,l=!1,c=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>e){c=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),s++}c||l||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Jo(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let s of n)if(s.getPairs().length!==e.length){for(let l of s.getPairs())for(let c of e)if(It.equals(l,c))break}}static isPartialRow(e,n){for(let s of n){let l=!0;for(let c of e){let u=!1;for(let h of s.getPairs())if(c.equals(h)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=hi.buildBitArray(e),l=cl(n).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],u[0],u[1]];return new Te(l,null,null,h,Ce.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),s=e.getRightChar();if(s==null)return!1;let l=s.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let x=this.pairs.get(h);l+=x.getLeftChar().getChecksumPortion(),c++;let w=x.getRightChar();w!=null&&(l+=w.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==n.getValue()}static getNextSecondBar(e,n){let s;return e.get(n)?(s=e.getNextUnset(n),s=e.getNextSet(s)):(s=e.getNextSet(n),s=e.getNextUnset(s)),s}retrieveNextPair(e,n,s){let l=n.length%2==0;this.startFromEven&&(l=!l);let c,u=!0,h=-1;do this.findNextPair(e,n,h),c=this.parseFoundFinderPattern(e,s,l),c==null?h=he.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let x=this.decodeDataCharacter(e,c,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new te;let w;try{w=this.decodeDataCharacter(e,c,l,!1)}catch(I){w=null,this.verbose&&console.log(I)}return new It(x,w,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u;s>=0?u=s:this.isEmptyPair(n)?u=0:u=n[n.length-1].getFinderPattern().getStartEnd()[1];let h=n.length%2!=0;this.startFromEven&&(h=!h);let x=!1;for(;u<c&&(x=!e.get(u),!!x);)u++;let w=0,I=u;for(let k=u;k<c;k++)if(e.get(k)!=x)l[w]++;else{if(w==3){if(h&&he.reverseCounters(l),he.isFinderPattern(l)){this.startEnd[0]=I,this.startEnd[1]=k;return}h&&he.reverseCounters(l),I+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,w--}else w++;l[w]=1,x=!x}throw new te}static reverseCounters(e){let n=e.length;for(let s=0;s<n/2;++s){let l=e[s];e[s]=e[n-s-1],e[n-s-1]=l}}parseFoundFinderPattern(e,n,s){let l,c,u;if(s){let w=this.startEnd[0]-1;for(;w>=0&&!e.get(w);)w--;w++,l=this.startEnd[0]-w,c=w,u=this.startEnd[1]}else c=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let h=this.getDecodeFinderCounters();F.arraycopy(h,0,h,1,h.length-1),h[0]=l;let x;try{x=this.parseFinderValue(h,he.FINDER_PATTERNS)}catch{return null}return new Gt(x,[c,u],c,u,n)}decodeDataCharacter(e,n,s,l){let c=this.getDataCharacterCounters();for(let Tt=0;Tt<c.length;Tt++)c[Tt]=0;if(l)he.recordPatternInReverse(e,n.getStartEnd()[0],c);else{he.recordPattern(e,n.getStartEnd()[1],c);for(let Tt=0,nn=c.length-1;Tt<nn;Tt++,nn--){let Hn=c[Tt];c[Tt]=c[nn],c[nn]=Hn}}let u=17,h=et.sum(new Int32Array(c))/u,x=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-x)/x>.3)throw new te;let w=this.getOddCounts(),I=this.getEvenCounts(),k=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Tt=0;Tt<c.length;Tt++){let nn=1*c[Tt]/h,Hn=nn+.5;if(Hn<1){if(nn<.3)throw new te;Hn=1}else if(Hn>8){if(nn>8.7)throw new te;Hn=8}let Ri=Tt/2;(Tt&1)==0?(w[Ri]=Hn,k[Ri]=nn-Hn):(I[Ri]=Hn,O[Ri]=nn-Hn)}this.adjustOddEvenCounts(u);let B=4*n.getValue()+(s?0:2)+(l?0:1)-1,U=0,G=0;for(let Tt=w.length-1;Tt>=0;Tt--){if(he.isNotA1left(n,s,l)){let nn=he.WEIGHTS[B][2*Tt];G+=w[Tt]*nn}U+=w[Tt]}let q=0;for(let Tt=I.length-1;Tt>=0;Tt--)if(he.isNotA1left(n,s,l)){let nn=he.WEIGHTS[B][2*Tt+1];q+=I[Tt]*nn}let se=G+q;if((U&1)!=0||U>13||U<4)throw new te;let Se=(13-U)/2,Ne=he.SYMBOL_WIDEST[Se],we=9-Ne,ut=_t.getRSSvalue(w,Ne,!0),it=_t.getRSSvalue(I,we,!1),$n=he.EVEN_TOTAL_SUBSET[Se],_r=he.GSUM[Se],pn=ut*$n+it+_r;return new or(pn,se)}static isNotA1left(e,n,s){return!(e.getValue()==0&&n&&s)}adjustOddEvenCounts(e){let n=et.sum(new Int32Array(this.getOddCounts())),s=et.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;n>13?c=!0:n<4&&(l=!0);let u=!1,h=!1;s>13?h=!0:s<4&&(u=!0);let x=n+s-e,w=(n&1)==1,I=(s&1)==0;if(x==1)if(w){if(I)throw new te;c=!0}else{if(!I)throw new te;h=!0}else if(x==-1)if(w){if(I)throw new te;l=!0}else{if(!I)throw new te;u=!0}else if(x==0){if(w){if(!I)throw new te;n<s?(l=!0,h=!0):(c=!0,u=!0)}else if(I)throw new te}else throw new te;if(l){if(c)throw new te;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new te;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class ul extends or{constructor(e,n,s){super(e,n),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ft extends Ct{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,s){const l=this.decodePair(n,!1,e,s);Ft.addOrTally(this.possibleLeftPairs,l),n.reverse();let c=this.decodePair(n,!0,e,s);Ft.addOrTally(this.possibleRightPairs,c),n.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Ft.checkChecksum(u,h))return Ft.constructResult(u,h)}throw new te}static addOrTally(e,n){if(n==null)return;let s=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),s=!0;break}s||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let s=4537077*e.getValue()+n.getValue(),l=new String(s).toString(),c=new xe;for(let w=13-l.length;w>0;w--)c.append("0");c.append(l);let u=0;for(let w=0;w<13;w++){let I=c.charAt(w).charCodeAt(0)-48;u+=(w&1)===0?3*I:I}u=10-u%10,u===10&&(u=0),c.append(u.toString());let h=e.getFinderPattern().getResultPoints(),x=n.getFinderPattern().getResultPoints();return new Te(c.toString(),null,0,[h[0],h[1],x[0],x[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(e,n){let s=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,s===l}decodePair(e,n,s,l){try{let c=this.findFinderPattern(e,n),u=this.parseFoundFinderPattern(e,s,n,c),h=l==null?null:l.get(ue.NEED_RESULT_POINT_CALLBACK);if(h!=null){let I=(c[0]+c[1])/2;n&&(I=e.getSize()-1-I),h.foundPossibleResultPoint(new Pe(I,s))}let x=this.decodeDataCharacter(e,u,!0),w=this.decodeDataCharacter(e,u,!1);return new ul(1597*x.getValue()+w.getValue(),x.getChecksumPortion()+4*w.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,n,s){let l=this.getDataCharacterCounters();for(let q=0;q<l.length;q++)l[q]=0;if(s)Ht.recordPatternInReverse(e,n.getStartEnd()[0],l);else{Ht.recordPattern(e,n.getStartEnd()[1]+1,l);for(let q=0,se=l.length-1;q<se;q++,se--){let Se=l[q];l[q]=l[se],l[se]=Se}}let c=s?16:15,u=et.sum(new Int32Array(l))/c,h=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let q=0;q<l.length;q++){let se=l[q]/u,Se=Math.floor(se+.5);Se<1?Se=1:Se>8&&(Se=8);let Ne=Math.floor(q/2);(q&1)===0?(h[Ne]=Se,w[Ne]=se-Se):(x[Ne]=Se,I[Ne]=se-Se)}this.adjustOddEvenCounts(s,c);let k=0,O=0;for(let q=h.length-1;q>=0;q--)O*=9,O+=h[q],k+=h[q];let B=0,U=0;for(let q=x.length-1;q>=0;q--)B*=9,B+=x[q],U+=x[q];let G=O+3*B;if(s){if((k&1)!==0||k>12||k<4)throw new te;let q=(12-k)/2,se=Ft.OUTSIDE_ODD_WIDEST[q],Se=9-se,Ne=_t.getRSSvalue(h,se,!1),we=_t.getRSSvalue(x,Se,!0),ut=Ft.OUTSIDE_EVEN_TOTAL_SUBSET[q],it=Ft.OUTSIDE_GSUM[q];return new or(Ne*ut+we+it,G)}else{if((U&1)!==0||U>10||U<4)throw new te;let q=(10-U)/2,se=Ft.INSIDE_ODD_WIDEST[q],Se=9-se,Ne=_t.getRSSvalue(h,se,!0),we=_t.getRSSvalue(x,Se,!1),ut=Ft.INSIDE_ODD_TOTAL_SUBSET[q],it=Ft.INSIDE_GSUM[q];return new or(we*ut+Ne+it,G)}}findFinderPattern(e,n){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=e.getSize(),c=!1,u=0;for(;u<l&&(c=!e.get(u),n!==c);)u++;let h=0,x=u;for(let w=u;w<l;w++)if(e.get(w)!==c)s[h]++;else{if(h===3){if(Ct.isFinderPattern(s))return[x,w];x+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,h--}else h++;s[h]=1,c=!c}throw new te}parseFoundFinderPattern(e,n,s,l){let c=e.get(l[0]),u=l[0]-1;for(;u>=0&&c!==e.get(u);)u--;u++;const h=l[0]-u,x=this.getDecodeFinderCounters(),w=new Int32Array(x.length);F.arraycopy(x,0,w,1,x.length-1),w[0]=h;const I=this.parseFinderValue(w,Ft.FINDER_PATTERNS);let k=u,O=l[1];return s&&(k=e.getSize()-1-k,O=e.getSize()-1-O),new Gt(I,[u,l[1]],k,O,n)}adjustOddEvenCounts(e,n){let s=et.sum(new Int32Array(this.getOddCounts())),l=et.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1,h=!1,x=!1;e?(s>12?u=!0:s<4&&(c=!0),l>12?x=!0:l<4&&(h=!0)):(s>11?u=!0:s<5&&(c=!0),l>10?x=!0:l<4&&(h=!0));let w=s+l-n,I=(s&1)===(e?1:0),k=(l&1)===1;if(w===1)if(I){if(k)throw new te;u=!0}else{if(!k)throw new te;x=!0}else if(w===-1)if(I){if(k)throw new te;c=!0}else{if(!k)throw new te;h=!0}else if(w===0){if(I){if(!k)throw new te;s<l?(c=!0,x=!0):(u=!0,h=!0)}else if(k)throw new te}else throw new te;if(c){if(u)throw new te;Ct.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Ct.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new te;Ct.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Ct.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ft.OUTSIDE_GSUM=[0,161,961,2015,2715],Ft.INSIDE_GSUM=[0,336,1036,1516],Ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ft.INSIDE_ODD_WIDEST=[2,4,6,8],Ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ki extends Ht{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const s=e?e.get(ue.POSSIBLE_FORMATS):null,l=e&&e.get(ue.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(Ce.EAN_13)||s.includes(Ce.UPC_A)||s.includes(Ce.EAN_8)||s.includes(Ce.UPC_E))&&this.readers.push(new en(e)),s.includes(Ce.CODE_39)&&this.readers.push(new qt(l)),s.includes(Ce.CODE_128)&&this.readers.push(new ke),s.includes(Ce.ITF)&&this.readers.push(new wt),s.includes(Ce.RSS_14)&&this.readers.push(new Ft),s.includes(Ce.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new en(e)),this.readers.push(new qt),this.readers.push(new en(e)),this.readers.push(new ke),this.readers.push(new wt),this.readers.push(new Ft),this.readers.push(new he(this.verbose)))}decodeRow(e,n,s){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,s)}catch{}throw new te}reset(){this.readers.forEach(e=>e.reset())}}class dl extends Ee{constructor(e=500,n){super(new Ki(n),e,n)}}class xt{constructor(e,n,s){this.ecCodewords=e,this.ecBlocks=[n],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(e,n,s,l,c,u){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=s,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=u;let h=0;const x=u.getECCodewords(),w=u.getECBlocks();for(let I of w)h+=I.getCount()*(I.getDataCodewords()+x);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new Z;for(let s of mt.VERSIONS)if(s.symbolSizeRows===e&&s.symbolSizeColumns===n)return s;throw new Z}toString(){return""+this.versionNumber}static buildVersions(){return[new mt(1,10,10,8,8,new xt(5,new at(1,3))),new mt(2,12,12,10,10,new xt(7,new at(1,5))),new mt(3,14,14,12,12,new xt(10,new at(1,8))),new mt(4,16,16,14,14,new xt(12,new at(1,12))),new mt(5,18,18,16,16,new xt(14,new at(1,18))),new mt(6,20,20,18,18,new xt(18,new at(1,22))),new mt(7,22,22,20,20,new xt(20,new at(1,30))),new mt(8,24,24,22,22,new xt(24,new at(1,36))),new mt(9,26,26,24,24,new xt(28,new at(1,44))),new mt(10,32,32,14,14,new xt(36,new at(1,62))),new mt(11,36,36,16,16,new xt(42,new at(1,86))),new mt(12,40,40,18,18,new xt(48,new at(1,114))),new mt(13,44,44,20,20,new xt(56,new at(1,144))),new mt(14,48,48,22,22,new xt(68,new at(1,174))),new mt(15,52,52,24,24,new xt(42,new at(2,102))),new mt(16,64,64,14,14,new xt(56,new at(2,140))),new mt(17,72,72,16,16,new xt(36,new at(4,92))),new mt(18,80,80,18,18,new xt(48,new at(4,114))),new mt(19,88,88,20,20,new xt(56,new at(4,144))),new mt(20,96,96,22,22,new xt(68,new at(4,174))),new mt(21,104,104,24,24,new xt(56,new at(6,136))),new mt(22,120,120,18,18,new xt(68,new at(6,175))),new mt(23,132,132,20,20,new xt(62,new at(8,163))),new mt(24,144,144,22,22,new xt(62,new at(8,156),new at(2,155))),new mt(25,8,18,6,16,new xt(7,new at(1,5))),new mt(26,8,32,6,14,new xt(11,new at(1,10))),new mt(27,12,26,10,24,new xt(14,new at(1,16))),new mt(28,12,36,10,16,new xt(18,new at(1,22))),new mt(29,16,36,14,16,new xt(24,new at(1,32))),new mt(30,16,48,14,22,new xt(28,new at(1,49)))]}}mt.VERSIONS=mt.buildVersions();class ar{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new Z;this.version=ar.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new je(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),s=e.getWidth();return mt.getVersionForDimensions(n,s)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,s=4,l=0;const c=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let h=!1,x=!1,w=!1,I=!1;do if(s===c&&l===0&&!h)e[n++]=this.readCorner1(c,u)&255,s-=2,l+=2,h=!0;else if(s===c-2&&l===0&&(u&3)!==0&&!x)e[n++]=this.readCorner2(c,u)&255,s-=2,l+=2,x=!0;else if(s===c+4&&l===2&&(u&7)===0&&!w)e[n++]=this.readCorner3(c,u)&255,s-=2,l+=2,w=!0;else if(s===c-2&&l===0&&(u&7)===4&&!I)e[n++]=this.readCorner4(c,u)&255,s-=2,l+=2,I=!0;else{do s<c&&l>=0&&!this.readMappingMatrix.get(l,s)&&(e[n++]=this.readUtah(s,l,c,u)&255),s-=2,l+=2;while(s>=0&&l<u);s+=1,l+=3;do s>=0&&l<u&&!this.readMappingMatrix.get(l,s)&&(e[n++]=this.readUtah(s,l,c,u)&255),s+=2,l-=2;while(s<c&&l>=0);s+=3,l+=1}while(s<c||l<u);if(n!==this.version.getTotalCodewords())throw new Z;return e}readModule(e,n,s,l){return e<0&&(e+=s,n+=4-(s+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,s,l){let c=0;return this.readModule(e-2,n-2,s,l)&&(c|=1),c<<=1,this.readModule(e-2,n-1,s,l)&&(c|=1),c<<=1,this.readModule(e-1,n-2,s,l)&&(c|=1),c<<=1,this.readModule(e-1,n-1,s,l)&&(c|=1),c<<=1,this.readModule(e-1,n,s,l)&&(c|=1),c<<=1,this.readModule(e,n-2,s,l)&&(c|=1),c<<=1,this.readModule(e,n-1,s,l)&&(c|=1),c<<=1,this.readModule(e,n,s,l)&&(c|=1),c}readCorner1(e,n){let s=0;return this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,1,e,n)&&(s|=1),s<<=1,this.readModule(e-1,2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s<<=1,this.readModule(2,n-1,e,n)&&(s|=1),s<<=1,this.readModule(3,n-1,e,n)&&(s|=1),s}readCorner2(e,n){let s=0;return this.readModule(e-3,0,e,n)&&(s|=1),s<<=1,this.readModule(e-2,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(0,n-4,e,n)&&(s|=1),s<<=1,this.readModule(0,n-3,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s}readCorner3(e,n){let s=0;return this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,n-1,e,n)&&(s|=1),s<<=1,this.readModule(0,n-3,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-3,e,n)&&(s|=1),s<<=1,this.readModule(1,n-2,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s}readCorner4(e,n){let s=0;return this.readModule(e-3,0,e,n)&&(s|=1),s<<=1,this.readModule(e-2,0,e,n)&&(s|=1),s<<=1,this.readModule(e-1,0,e,n)&&(s|=1),s<<=1,this.readModule(0,n-2,e,n)&&(s|=1),s<<=1,this.readModule(0,n-1,e,n)&&(s|=1),s<<=1,this.readModule(1,n-1,e,n)&&(s|=1),s<<=1,this.readModule(2,n-1,e,n)&&(s|=1),s<<=1,this.readModule(3,n-1,e,n)&&(s|=1),s}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new S("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),u=n/l|0,h=s/c|0,x=u*l,w=h*c,I=new je(w,x);for(let k=0;k<u;++k){const O=k*l;for(let B=0;B<h;++B){const U=B*c;for(let G=0;G<l;++G){const q=k*(l+2)+1+G,se=O+G;for(let Se=0;Se<c;++Se){const Ne=B*(c+2)+1+Se;if(e.get(Ne,q)){const we=U+Se;I.set(we,se)}}}}}return I}}class ea{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const s=n.getECBlocks();let l=0;const c=s.getECBlocks();for(let G of c)l+=G.getCount();const u=new Array(l);let h=0;for(let G of c)for(let q=0;q<G.getCount();q++){const se=G.getDataCodewords(),Se=s.getECCodewords()+se;u[h++]=new ea(se,new Uint8Array(Se))}const w=u[0].codewords.length-s.getECCodewords(),I=w-1;let k=0;for(let G=0;G<I;G++)for(let q=0;q<h;q++)u[q].codewords[G]=e[k++];const O=n.getVersionNumber()===24,B=O?8:h;for(let G=0;G<B;G++)u[G].codewords[w-1]=e[k++];const U=u[0].codewords.length;for(let G=w;G<U;G++)for(let q=0;q<h;q++){const se=O?(q+8)%h:q,Se=O&&se>7?G-1:G;u[se].codewords[Se]=e[k++]}if(k!==e.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ta{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new S(""+e);let n=0,s=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(s>0){const u=8-s,h=e<u?e:u,x=u-h,w=255>>8-h<<x;n=(c[l]&w)>>x,e-=h,s+=h,s===8&&(s=0,l++)}if(e>0){for(;e>=8;)n=n<<8|c[l]&255,l++,e-=8;if(e>0){const u=8-e,h=255>>u<<u;n=n<<e|(c[l]&h)>>u,s+=e}}return this.bitOffset=s,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var mn;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(mn||(mn={}));class Tr{static decode(e){const n=new ta(e),s=new xe,l=new xe,c=new Array;let u=mn.ASCII_ENCODE;do if(u===mn.ASCII_ENCODE)u=this.decodeAsciiSegment(n,s,l);else{switch(u){case mn.C40_ENCODE:this.decodeC40Segment(n,s);break;case mn.TEXT_ENCODE:this.decodeTextSegment(n,s);break;case mn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,s);break;case mn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,s);break;case mn.BASE256_ENCODE:this.decodeBase256Segment(n,s,c);break;default:throw new Z}u=mn.ASCII_ENCODE}while(u!==mn.PAD_ENCODE&&n.available()>0);return l.length()>0&&s.append(l.toString()),new ot(e,s.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,n,s){let l=!1;do{let c=e.readBits(8);if(c===0)throw new Z;if(c<=128)return l&&(c+=128),n.append(String.fromCharCode(c-1)),mn.ASCII_ENCODE;if(c===129)return mn.PAD_ENCODE;if(c<=229){const u=c-130;u<10&&n.append("0"),n.append(""+u)}else switch(c){case 230:return mn.C40_ENCODE;case 231:return mn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),s.insert(0,"");break;case 237:n.append("[)>06"),s.insert(0,"");break;case 238:return mn.ANSIX12_ENCODE;case 239:return mn.TEXT_ENCODE;case 240:return mn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new Z;break}}while(e.available()>0);return mn.ASCII_ENCODE}static decodeC40Segment(e,n){let s=!1;const l=[];let c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const x=l[h];switch(c){case 0:if(x<3)c=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[x];s?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):n.append(w)}else throw new Z;break;case 1:s?(n.append(String.fromCharCode(x+128)),s=!1):n.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[x];s?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):n.append(w)}else switch(x){case 27:n.append("");break;case 30:s=!0;break;default:throw new Z}c=0;break;case 3:s?(n.append(String.fromCharCode(x+224)),s=!1):n.append(String.fromCharCode(x+96)),c=0;break;default:throw new Z}}}while(e.available()>0)}static decodeTextSegment(e,n){let s=!1,l=[],c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const x=l[h];switch(c){case 0:if(x<3)c=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[x];s?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):n.append(w)}else throw new Z;break;case 1:s?(n.append(String.fromCharCode(x+128)),s=!1):n.append(String.fromCharCode(x)),c=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[x];s?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):n.append(w)}else switch(x){case 27:n.append("");break;case 30:s=!0;break;default:throw new Z}c=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[x];s?(n.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):n.append(w),c=0}else throw new Z;break;default:throw new Z}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const s=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let c=0;c<3;c++){const u=s[c];switch(u){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(u<14)n.append(String.fromCharCode(u+44));else if(u<40)n.append(String.fromCharCode(u+51));else throw new Z;break}}}while(e.available()>0)}static parseTwoBytes(e,n,s){let l=(e<<8)+n-1,c=Math.floor(l/1600);s[0]=c,l-=c*1600,c=Math.floor(l/40),s[1]=c,s[2]=l-c*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let s=0;s<4;s++){let l=e.readBits(6);if(l===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}(l&32)===0&&(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,s){let l=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),l++);let u;if(c===0?u=e.available()/8|0:c<250?u=c:u=250*(c-249)+this.unrandomize255State(e.readBits(8),l++),u<0)throw new Z;const h=new Uint8Array(u);for(let x=0;x<u;x++){if(e.available()<8)throw new Z;h[x]=this.unrandomize255State(e.readBits(8),l++)}s.push(h);try{n.append(me.decode(h,ce.ISO88591))}catch(x){throw new ir("Platform does not support required encoding: "+x.message)}}static unrandomize255State(e,n){const s=149*n%255+1,l=e-s;return l>=0?l:l+256}}Tr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Tr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Tr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tr.TEXT_SHIFT2_SET_CHARS=Tr.C40_SHIFT2_SET_CHARS,Tr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class no{constructor(){this.rsDecoder=new ei(ft.DATA_MATRIX_FIELD_256)}decode(e){const n=new ar(e),s=n.getVersion(),l=n.readCodewords(),c=ea.getDataBlocks(l,s);let u=0;for(let w of c)u+=w.getNumDataCodewords();const h=new Uint8Array(u),x=c.length;for(let w=0;w<x;w++){const I=c[w],k=I.getCodewords(),O=I.getNumDataCodewords();this.correctErrors(k,O);for(let B=0;B<O;B++)h[B*x+w]=k[B]}return Tr.decode(h)}correctErrors(e,n){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-n)}catch{throw new L}for(let l=0;l<n;l++)e[l]=s[l]}}class jt{constructor(e){this.image=e,this.rectangleDetector=new mr(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new te;n=this.shiftToModuleCenter(n);const s=n[0],l=n[1],c=n[2],u=n[3];let h=this.transitionsBetween(s,u)+1,x=this.transitionsBetween(c,u)+1;(h&1)===1&&(h+=1),(x&1)===1&&(x+=1),4*h<7*x&&4*x<7*h&&(h=x=Math.max(h,x));let w=jt.sampleGrid(this.image,s,l,c,u,h,x);return new an(w,[s,l,c,u])}static shiftPoint(e,n,s){let l=(n.getX()-e.getX())/(s+1),c=(n.getY()-e.getY())/(s+1);return new Pe(e.getX()+l,e.getY()+c)}static moveAway(e,n,s){let l=e.getX(),c=e.getY();return l<n?l-=1:l+=1,c<s?c-=1:c+=1,new Pe(l,c)}detectSolid1(e){let n=e[0],s=e[1],l=e[3],c=e[2],u=this.transitionsBetween(n,s),h=this.transitionsBetween(s,l),x=this.transitionsBetween(l,c),w=this.transitionsBetween(c,n),I=u,k=[c,n,s,l];return I>h&&(I=h,k[0]=n,k[1]=s,k[2]=l,k[3]=c),I>x&&(I=x,k[0]=s,k[1]=l,k[2]=c,k[3]=n),I>w&&(k[0]=l,k[1]=c,k[2]=n,k[3]=s),k}detectSolid2(e){let n=e[0],s=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=jt.shiftPoint(s,l,(u+1)*4),x=jt.shiftPoint(l,s,(u+1)*4),w=this.transitionsBetween(h,n),I=this.transitionsBetween(x,c);return w<I?(e[0]=n,e[1]=s,e[2]=l,e[3]=c):(e[0]=s,e[1]=l,e[2]=c,e[3]=n),e}correctTopRight(e){let n=e[0],s=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=this.transitionsBetween(s,c),x=jt.shiftPoint(n,s,(h+1)*4),w=jt.shiftPoint(l,s,(u+1)*4);u=this.transitionsBetween(x,c),h=this.transitionsBetween(w,c);let I=new Pe(c.getX()+(l.getX()-s.getX())/(u+1),c.getY()+(l.getY()-s.getY())/(u+1)),k=new Pe(c.getX()+(n.getX()-s.getX())/(h+1),c.getY()+(n.getY()-s.getY())/(h+1));if(!this.isValid(I))return this.isValid(k)?k:null;if(!this.isValid(k))return I;let O=this.transitionsBetween(x,I)+this.transitionsBetween(w,I),B=this.transitionsBetween(x,k)+this.transitionsBetween(w,k);return O>B?I:k}shiftToModuleCenter(e){let n=e[0],s=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c)+1,h=this.transitionsBetween(l,c)+1,x=jt.shiftPoint(n,s,h*4),w=jt.shiftPoint(l,s,u*4);u=this.transitionsBetween(x,c)+1,h=this.transitionsBetween(w,c)+1,(u&1)===1&&(u+=1),(h&1)===1&&(h+=1);let I=(n.getX()+s.getX()+l.getX()+c.getX())/4,k=(n.getY()+s.getY()+l.getY()+c.getY())/4;n=jt.moveAway(n,I,k),s=jt.moveAway(s,I,k),l=jt.moveAway(l,I,k),c=jt.moveAway(c,I,k);let O,B;return x=jt.shiftPoint(n,s,h*4),x=jt.shiftPoint(x,c,u*4),O=jt.shiftPoint(s,n,h*4),O=jt.shiftPoint(O,l,u*4),w=jt.shiftPoint(l,c,h*4),w=jt.shiftPoint(w,s,u*4),B=jt.shiftPoint(c,l,h*4),B=jt.shiftPoint(B,n,u*4),[x,O,w,B]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,s,l,c,u,h){return Kn.getInstance().sampleGrid(e,u,h,.5,.5,u-.5,.5,u-.5,h-.5,.5,h-.5,n.getX(),n.getY(),c.getX(),c.getY(),l.getX(),l.getY(),s.getX(),s.getY())}transitionsBetween(e,n){let s=Math.trunc(e.getX()),l=Math.trunc(e.getY()),c=Math.trunc(n.getX()),u=Math.trunc(n.getY()),h=Math.abs(u-l)>Math.abs(c-s);if(h){let G=s;s=l,l=G,G=c,c=u,u=G}let x=Math.abs(c-s),w=Math.abs(u-l),I=-x/2,k=l<u?1:-1,O=s<c?1:-1,B=0,U=this.image.get(h?l:s,h?s:l);for(let G=s,q=l;G!==c;G+=O){let se=this.image.get(h?q:G,h?G:q);if(se!==U&&(B++,U=se),I+=w,I>0){if(q===u)break;q+=k,I-=x}}return B}}class Ir{constructor(){this.decoder=new no}decode(e,n=null){let s,l;if(n!=null&&n.has(ue.PURE_BARCODE)){const w=Ir.extractPureBits(e.getBlackMatrix());s=this.decoder.decode(w),l=Ir.NO_POINTS}else{const w=new jt(e.getBlackMatrix()).detect();s=this.decoder.decode(w.getBits()),l=w.getPoints()}const c=s.getRawBytes(),u=new Te(s.getText(),c,8*c.length,l,Ce.DATA_MATRIX,F.currentTimeMillis()),h=s.getByteSegments();h!=null&&u.putMetadata(De.BYTE_SEGMENTS,h);const x=s.getECLevel();return x!=null&&u.putMetadata(De.ERROR_CORRECTION_LEVEL,x),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(n==null||s==null)throw new te;const l=this.moduleSize(n,e);let c=n[1];const u=s[1];let h=n[0];const w=(s[0]-h+1)/l,I=(u-c+1)/l;if(w<=0||I<=0)throw new te;const k=l/2;c+=k,h+=k;const O=new je(w,I);for(let B=0;B<I;B++){const U=c+B*l;for(let G=0;G<w;G++)e.get(h+G*l,U)&&O.set(G,B)}return O}static moduleSize(e,n){const s=n.getWidth();let l=e[0];const c=e[1];for(;l<s&&n.get(l,c);)l++;if(l===s)throw new te;const u=l-e[0];if(u===0)throw new te;return u}}Ir.NO_POINTS=[];class tu extends Ee{constructor(e=500){super(new Ir,e)}}var Zi;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Zi||(Zi={}));class Rt{constructor(e,n,s){this.value=e,this.stringValue=n,this.bits=s,Rt.FOR_BITS.set(s,this),Rt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Rt.L;case"M":return Rt.M;case"Q":return Rt.Q;case"H":return Rt.H;default:throw new T(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Rt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Rt.FOR_BITS.size)throw new S;return Rt.FOR_BITS.get(e)}}Rt.FOR_BITS=new Map,Rt.FOR_VALUE=new Map,Rt.L=new Rt(Zi.L,"L",1),Rt.M=new Rt(Zi.M,"M",0),Rt.Q=new Rt(Zi.Q,"Q",3),Rt.H=new Rt(Zi.H,"H",2);class An{constructor(e){this.errorCorrectionLevel=Rt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return X.bitCount(e^n)}static decodeFormatInformation(e,n){const s=An.doDecodeFormatInformation(e,n);return s!==null?s:An.doDecodeFormatInformation(e^An.FORMAT_INFO_MASK_QR,n^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let s=Number.MAX_SAFE_INTEGER,l=0;for(const c of An.FORMAT_INFO_DECODE_LOOKUP){const u=c[0];if(u===e||u===n)return new An(c[1]);let h=An.numBitsDiffering(e,u);h<s&&(l=c[1],s=h),e!==n&&(h=An.numBitsDiffering(n,u),h<s&&(l=c[1],s=h))}return s<=3?new An(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof An))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ${constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const s of n)e+=s.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xe{constructor(e,n,...s){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=s;let l=0;const c=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const h of u)l+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new Z;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Z}}static getVersionForNumber(e){if(e<1||e>40)throw new S;return Xe.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,s=0;for(let l=0;l<Xe.VERSION_DECODE_INFO.length;l++){const c=Xe.VERSION_DECODE_INFO[l];if(c===e)return Xe.getVersionForNumber(l+7);const u=An.numBitsDiffering(e,c);u<n&&(s=l+7,n=u)}return n<=3?Xe.getVersionForNumber(s):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new je(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const s=this.alignmentPatternCenters.length;for(let l=0;l<s;l++){const c=this.alignmentPatternCenters[l]-2;for(let u=0;u<s;u++)l===0&&(u===0||u===s-1)||l===s-1&&u===0||n.setRegion(this.alignmentPatternCenters[u]-2,c,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Xe.VERSIONS=[new Xe(1,new Int32Array(0),new $(7,new M(1,19)),new $(10,new M(1,16)),new $(13,new M(1,13)),new $(17,new M(1,9))),new Xe(2,Int32Array.from([6,18]),new $(10,new M(1,34)),new $(16,new M(1,28)),new $(22,new M(1,22)),new $(28,new M(1,16))),new Xe(3,Int32Array.from([6,22]),new $(15,new M(1,55)),new $(26,new M(1,44)),new $(18,new M(2,17)),new $(22,new M(2,13))),new Xe(4,Int32Array.from([6,26]),new $(20,new M(1,80)),new $(18,new M(2,32)),new $(26,new M(2,24)),new $(16,new M(4,9))),new Xe(5,Int32Array.from([6,30]),new $(26,new M(1,108)),new $(24,new M(2,43)),new $(18,new M(2,15),new M(2,16)),new $(22,new M(2,11),new M(2,12))),new Xe(6,Int32Array.from([6,34]),new $(18,new M(2,68)),new $(16,new M(4,27)),new $(24,new M(4,19)),new $(28,new M(4,15))),new Xe(7,Int32Array.from([6,22,38]),new $(20,new M(2,78)),new $(18,new M(4,31)),new $(18,new M(2,14),new M(4,15)),new $(26,new M(4,13),new M(1,14))),new Xe(8,Int32Array.from([6,24,42]),new $(24,new M(2,97)),new $(22,new M(2,38),new M(2,39)),new $(22,new M(4,18),new M(2,19)),new $(26,new M(4,14),new M(2,15))),new Xe(9,Int32Array.from([6,26,46]),new $(30,new M(2,116)),new $(22,new M(3,36),new M(2,37)),new $(20,new M(4,16),new M(4,17)),new $(24,new M(4,12),new M(4,13))),new Xe(10,Int32Array.from([6,28,50]),new $(18,new M(2,68),new M(2,69)),new $(26,new M(4,43),new M(1,44)),new $(24,new M(6,19),new M(2,20)),new $(28,new M(6,15),new M(2,16))),new Xe(11,Int32Array.from([6,30,54]),new $(20,new M(4,81)),new $(30,new M(1,50),new M(4,51)),new $(28,new M(4,22),new M(4,23)),new $(24,new M(3,12),new M(8,13))),new Xe(12,Int32Array.from([6,32,58]),new $(24,new M(2,92),new M(2,93)),new $(22,new M(6,36),new M(2,37)),new $(26,new M(4,20),new M(6,21)),new $(28,new M(7,14),new M(4,15))),new Xe(13,Int32Array.from([6,34,62]),new $(26,new M(4,107)),new $(22,new M(8,37),new M(1,38)),new $(24,new M(8,20),new M(4,21)),new $(22,new M(12,11),new M(4,12))),new Xe(14,Int32Array.from([6,26,46,66]),new $(30,new M(3,115),new M(1,116)),new $(24,new M(4,40),new M(5,41)),new $(20,new M(11,16),new M(5,17)),new $(24,new M(11,12),new M(5,13))),new Xe(15,Int32Array.from([6,26,48,70]),new $(22,new M(5,87),new M(1,88)),new $(24,new M(5,41),new M(5,42)),new $(30,new M(5,24),new M(7,25)),new $(24,new M(11,12),new M(7,13))),new Xe(16,Int32Array.from([6,26,50,74]),new $(24,new M(5,98),new M(1,99)),new $(28,new M(7,45),new M(3,46)),new $(24,new M(15,19),new M(2,20)),new $(30,new M(3,15),new M(13,16))),new Xe(17,Int32Array.from([6,30,54,78]),new $(28,new M(1,107),new M(5,108)),new $(28,new M(10,46),new M(1,47)),new $(28,new M(1,22),new M(15,23)),new $(28,new M(2,14),new M(17,15))),new Xe(18,Int32Array.from([6,30,56,82]),new $(30,new M(5,120),new M(1,121)),new $(26,new M(9,43),new M(4,44)),new $(28,new M(17,22),new M(1,23)),new $(28,new M(2,14),new M(19,15))),new Xe(19,Int32Array.from([6,30,58,86]),new $(28,new M(3,113),new M(4,114)),new $(26,new M(3,44),new M(11,45)),new $(26,new M(17,21),new M(4,22)),new $(26,new M(9,13),new M(16,14))),new Xe(20,Int32Array.from([6,34,62,90]),new $(28,new M(3,107),new M(5,108)),new $(26,new M(3,41),new M(13,42)),new $(30,new M(15,24),new M(5,25)),new $(28,new M(15,15),new M(10,16))),new Xe(21,Int32Array.from([6,28,50,72,94]),new $(28,new M(4,116),new M(4,117)),new $(26,new M(17,42)),new $(28,new M(17,22),new M(6,23)),new $(30,new M(19,16),new M(6,17))),new Xe(22,Int32Array.from([6,26,50,74,98]),new $(28,new M(2,111),new M(7,112)),new $(28,new M(17,46)),new $(30,new M(7,24),new M(16,25)),new $(24,new M(34,13))),new Xe(23,Int32Array.from([6,30,54,78,102]),new $(30,new M(4,121),new M(5,122)),new $(28,new M(4,47),new M(14,48)),new $(30,new M(11,24),new M(14,25)),new $(30,new M(16,15),new M(14,16))),new Xe(24,Int32Array.from([6,28,54,80,106]),new $(30,new M(6,117),new M(4,118)),new $(28,new M(6,45),new M(14,46)),new $(30,new M(11,24),new M(16,25)),new $(30,new M(30,16),new M(2,17))),new Xe(25,Int32Array.from([6,32,58,84,110]),new $(26,new M(8,106),new M(4,107)),new $(28,new M(8,47),new M(13,48)),new $(30,new M(7,24),new M(22,25)),new $(30,new M(22,15),new M(13,16))),new Xe(26,Int32Array.from([6,30,58,86,114]),new $(28,new M(10,114),new M(2,115)),new $(28,new M(19,46),new M(4,47)),new $(28,new M(28,22),new M(6,23)),new $(30,new M(33,16),new M(4,17))),new Xe(27,Int32Array.from([6,34,62,90,118]),new $(30,new M(8,122),new M(4,123)),new $(28,new M(22,45),new M(3,46)),new $(30,new M(8,23),new M(26,24)),new $(30,new M(12,15),new M(28,16))),new Xe(28,Int32Array.from([6,26,50,74,98,122]),new $(30,new M(3,117),new M(10,118)),new $(28,new M(3,45),new M(23,46)),new $(30,new M(4,24),new M(31,25)),new $(30,new M(11,15),new M(31,16))),new Xe(29,Int32Array.from([6,30,54,78,102,126]),new $(30,new M(7,116),new M(7,117)),new $(28,new M(21,45),new M(7,46)),new $(30,new M(1,23),new M(37,24)),new $(30,new M(19,15),new M(26,16))),new Xe(30,Int32Array.from([6,26,52,78,104,130]),new $(30,new M(5,115),new M(10,116)),new $(28,new M(19,47),new M(10,48)),new $(30,new M(15,24),new M(25,25)),new $(30,new M(23,15),new M(25,16))),new Xe(31,Int32Array.from([6,30,56,82,108,134]),new $(30,new M(13,115),new M(3,116)),new $(28,new M(2,46),new M(29,47)),new $(30,new M(42,24),new M(1,25)),new $(30,new M(23,15),new M(28,16))),new Xe(32,Int32Array.from([6,34,60,86,112,138]),new $(30,new M(17,115)),new $(28,new M(10,46),new M(23,47)),new $(30,new M(10,24),new M(35,25)),new $(30,new M(19,15),new M(35,16))),new Xe(33,Int32Array.from([6,30,58,86,114,142]),new $(30,new M(17,115),new M(1,116)),new $(28,new M(14,46),new M(21,47)),new $(30,new M(29,24),new M(19,25)),new $(30,new M(11,15),new M(46,16))),new Xe(34,Int32Array.from([6,34,62,90,118,146]),new $(30,new M(13,115),new M(6,116)),new $(28,new M(14,46),new M(23,47)),new $(30,new M(44,24),new M(7,25)),new $(30,new M(59,16),new M(1,17))),new Xe(35,Int32Array.from([6,30,54,78,102,126,150]),new $(30,new M(12,121),new M(7,122)),new $(28,new M(12,47),new M(26,48)),new $(30,new M(39,24),new M(14,25)),new $(30,new M(22,15),new M(41,16))),new Xe(36,Int32Array.from([6,24,50,76,102,128,154]),new $(30,new M(6,121),new M(14,122)),new $(28,new M(6,47),new M(34,48)),new $(30,new M(46,24),new M(10,25)),new $(30,new M(2,15),new M(64,16))),new Xe(37,Int32Array.from([6,28,54,80,106,132,158]),new $(30,new M(17,122),new M(4,123)),new $(28,new M(29,46),new M(14,47)),new $(30,new M(49,24),new M(10,25)),new $(30,new M(24,15),new M(46,16))),new Xe(38,Int32Array.from([6,32,58,84,110,136,162]),new $(30,new M(4,122),new M(18,123)),new $(28,new M(13,46),new M(32,47)),new $(30,new M(48,24),new M(14,25)),new $(30,new M(42,15),new M(32,16))),new Xe(39,Int32Array.from([6,26,54,82,110,138,166]),new $(30,new M(20,117),new M(4,118)),new $(28,new M(40,47),new M(7,48)),new $(30,new M(43,24),new M(22,25)),new $(30,new M(10,15),new M(67,16))),new Xe(40,Int32Array.from([6,30,58,86,114,142,170]),new $(30,new M(19,118),new M(6,119)),new $(28,new M(18,47),new M(31,48)),new $(30,new M(34,24),new M(34,25)),new $(30,new M(20,15),new M(61,16)))];var cn;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(cn||(cn={}));class lt{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let s=0;s<n;s++)for(let l=0;l<n;l++)this.isMasked(s,l)&&e.flip(l,s)}}lt.values=new Map([[cn.DATA_MASK_000,new lt(cn.DATA_MASK_000,(R,e)=>(R+e&1)===0)],[cn.DATA_MASK_001,new lt(cn.DATA_MASK_001,(R,e)=>(R&1)===0)],[cn.DATA_MASK_010,new lt(cn.DATA_MASK_010,(R,e)=>e%3===0)],[cn.DATA_MASK_011,new lt(cn.DATA_MASK_011,(R,e)=>(R+e)%3===0)],[cn.DATA_MASK_100,new lt(cn.DATA_MASK_100,(R,e)=>(Math.floor(R/2)+Math.floor(e/3)&1)===0)],[cn.DATA_MASK_101,new lt(cn.DATA_MASK_101,(R,e)=>R*e%6===0)],[cn.DATA_MASK_110,new lt(cn.DATA_MASK_110,(R,e)=>R*e%6<3)],[cn.DATA_MASK_111,new lt(cn.DATA_MASK_111,(R,e)=>(R+e+R*e%3&1)===0)]]);class fl{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new Z;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const n=this.bitMatrix.getHeight();let s=0;const l=n-7;for(let c=n-1;c>=l;c--)s=this.copyBit(8,c,s);for(let c=n-8;c<n;c++)s=this.copyBit(c,8,s);if(this.parsedFormatInfo=An.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Xe.getVersionForNumber(n);let s=0;const l=e-11;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)s=this.copyBit(h,u,s);let c=Xe.decodeVersionInformation(s);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;s=0;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)s=this.copyBit(u,h,s);if(c=Xe.decodeVersionInformation(s),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new Z}copyBit(e,n,s){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?s<<1|1:s<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),s=lt.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l);const c=n.buildFunctionPattern();let u=!0;const h=new Uint8Array(n.getTotalCodewords());let x=0,w=0,I=0;for(let k=l-1;k>0;k-=2){k===6&&k--;for(let O=0;O<l;O++){const B=u?l-1-O:O;for(let U=0;U<2;U++)c.get(k-U,B)||(I++,w<<=1,this.bitMatrix.get(k-U,B)&&(w|=1),I===8&&(h[x++]=w,I=0,w=0))}u=!u}if(x!==n.getTotalCodewords())throw new Z;return h}remask(){if(this.parsedFormatInfo===null)return;const e=lt.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,s=e.getWidth();n<s;n++)for(let l=n+1,c=e.getHeight();l<c;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class ro{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,s){if(e.length!==n.getTotalCodewords())throw new S;const l=n.getECBlocksForLevel(s);let c=0;const u=l.getECBlocks();for(const U of u)c+=U.getCount();const h=new Array(c);let x=0;for(const U of u)for(let G=0;G<U.getCount();G++){const q=U.getDataCodewords(),se=l.getECCodewordsPerBlock()+q;h[x++]=new ro(q,new Uint8Array(se))}const w=h[0].codewords.length;let I=h.length-1;for(;I>=0&&h[I].codewords.length!==w;)I--;I++;const k=w-l.getECCodewordsPerBlock();let O=0;for(let U=0;U<k;U++)for(let G=0;G<x;G++)h[G].codewords[U]=e[O++];for(let U=I;U<x;U++)h[U].codewords[k]=e[O++];const B=h[0].codewords.length;for(let U=k;U<B;U++)for(let G=0;G<x;G++){const q=G<I?U:U+1;h[G].codewords[q]=e[O++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Qn;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(Qn||(Qn={}));class Ke{constructor(e,n,s,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=s,this.bits=l,Ke.FOR_BITS.set(l,this),Ke.FOR_VALUE.set(e,this)}static forBits(e){const n=Ke.FOR_BITS.get(e);if(n===void 0)throw new S;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let s;return n<=9?s=0:n<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ke))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.TERMINATOR=new Ke(Qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ke.NUMERIC=new Ke(Qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ke.ALPHANUMERIC=new Ke(Qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ke.STRUCTURED_APPEND=new Ke(Qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ke.BYTE=new Ke(Qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ke.ECI=new Ke(Qn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ke.KANJI=new Ke(Qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ke.FNC1_FIRST_POSITION=new Ke(Qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ke.FNC1_SECOND_POSITION=new Ke(Qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ke.HANZI=new Ke(Qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(e,n,s,l){const c=new ta(e);let u=new xe;const h=new Array;let x=-1,w=-1;try{let I=null,k=!1,O;do{if(c.available()<4)O=Ke.TERMINATOR;else{const B=c.readBits(4);O=Ke.forBits(B)}switch(O){case Ke.TERMINATOR:break;case Ke.FNC1_FIRST_POSITION:case Ke.FNC1_SECOND_POSITION:k=!0;break;case Ke.STRUCTURED_APPEND:if(c.available()<16)throw new Z;x=c.readBits(8),w=c.readBits(8);break;case Ke.ECI:const B=Ut.parseECIValue(c);if(I=le.getCharacterSetECIByValue(B),I===null)throw new Z;break;case Ke.HANZI:const U=c.readBits(4),G=c.readBits(O.getCharacterCountBits(n));U===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(c,u,G);break;default:const q=c.readBits(O.getCharacterCountBits(n));switch(O){case Ke.NUMERIC:Ut.decodeNumericSegment(c,u,q);break;case Ke.ALPHANUMERIC:Ut.decodeAlphanumericSegment(c,u,q,k);break;case Ke.BYTE:Ut.decodeByteSegment(c,u,q,I,h,l);break;case Ke.KANJI:Ut.decodeKanjiSegment(c,u,q);break;default:throw new Z}break}}while(O!==Ke.TERMINATOR)}catch{throw new Z}return new ot(e,u.toString(),h.length===0?null:h,s===null?null:s.toString(),x,w)}static decodeHanziSegment(e,n,s){if(s*13>e.available())throw new Z;const l=new Uint8Array(2*s);let c=0;for(;s>0;){const u=e.readBits(13);let h=u/96<<8&4294967295|u%96;h<959?h+=41377:h+=42657,l[c]=h>>8&255,l[c+1]=h&255,c+=2,s--}try{n.append(me.decode(l,ce.GB2312))}catch(u){throw new Z(u)}}static decodeKanjiSegment(e,n,s){if(s*13>e.available())throw new Z;const l=new Uint8Array(2*s);let c=0;for(;s>0;){const u=e.readBits(13);let h=u/192<<8&4294967295|u%192;h<7936?h+=33088:h+=49472,l[c]=h>>8,l[c+1]=h,c+=2,s--}try{n.append(me.decode(l,ce.SHIFT_JIS))}catch(u){throw new Z(u)}}static decodeByteSegment(e,n,s,l,c,u){if(8*s>e.available())throw new Z;const h=new Uint8Array(s);for(let w=0;w<s;w++)h[w]=e.readBits(8);let x;l===null?x=ce.guessEncoding(h,u):x=l.getName();try{n.append(me.decode(h,x))}catch(w){throw new Z(w)}c.push(h)}static toAlphaNumericChar(e){if(e>=Ut.ALPHANUMERIC_CHARS.length)throw new Z;return Ut.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,s,l){const c=n.length();for(;s>1;){if(e.available()<11)throw new Z;const u=e.readBits(11);n.append(Ut.toAlphaNumericChar(Math.floor(u/45))),n.append(Ut.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(e.available()<6)throw new Z;n.append(Ut.toAlphaNumericChar(e.readBits(6)))}if(l)for(let u=c;u<n.length();u++)n.charAt(u)==="%"&&(u<n.length()-1&&n.charAt(u+1)==="%"?n.deleteCharAt(u+1):n.setCharAt(u,""))}static decodeNumericSegment(e,n,s){for(;s>=3;){if(e.available()<10)throw new Z;const l=e.readBits(10);if(l>=1e3)throw new Z;n.append(Ut.toAlphaNumericChar(Math.floor(l/100))),n.append(Ut.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Ut.toAlphaNumericChar(l%10)),s-=3}if(s===2){if(e.available()<7)throw new Z;const l=e.readBits(7);if(l>=100)throw new Z;n.append(Ut.toAlphaNumericChar(Math.floor(l/10))),n.append(Ut.toAlphaNumericChar(l%10))}else if(s===1){if(e.available()<4)throw new Z;const l=e.readBits(4);if(l>=10)throw new Z;n.append(Ut.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const s=e.readBits(8);return(n&63)<<8&4294967295|s}if((n&224)===192){const s=e.readBits(16);return(n&31)<<16&4294967295|s}throw new Z}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class na{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class ra{constructor(){this.rsDecoder=new ei(ft.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(je.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const s=new fl(e);let l=null;try{return this.decodeBitMatrixParser(s,n)}catch(c){l=c}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const c=this.decodeBitMatrixParser(s,n);return c.setOther(new na(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(e,n){const s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=ro.getDataBlocks(c,s,l);let h=0;for(const I of u)h+=I.getNumDataCodewords();const x=new Uint8Array(h);let w=0;for(const I of u){const k=I.getCodewords(),O=I.getNumDataCodewords();this.correctErrors(k,O);for(let B=0;B<O;B++)x[w++]=k[B]}return Ut.decode(x,s,l,n)}correctErrors(e,n){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-n)}catch{throw new L}for(let l=0;l<n;l++)e[l]=s[l]}}class qi extends Pe{constructor(e,n,s){super(e,n),this.estimatedModuleSize=s}aboutEquals(e,n,s){if(Math.abs(n-this.getY())<=e&&Math.abs(s-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,s){const l=(this.getX()+n)/2,c=(this.getY()+e)/2,u=(this.estimatedModuleSize+s)/2;return new qi(l,c,u)}}class Rr{constructor(e,n,s,l,c,u,h){this.image=e,this.startX=n,this.startY=s,this.width=l,this.height=c,this.moduleSize=u,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,s=this.width,l=e+s,c=this.startY+n/2,u=new Int32Array(3),h=this.image;for(let x=0;x<n;x++){const w=c+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));u[0]=0,u[1]=0,u[2]=0;let I=e;for(;I<l&&!h.get(I,w);)I++;let k=0;for(;I<l;){if(h.get(I,w))if(k===1)u[1]++;else if(k===2){if(this.foundPatternCross(u)){const O=this.handlePossibleCenter(u,w,I);if(O!==null)return O}u[0]=u[2],u[1]=1,u[2]=0,k=1}else u[++k]++;else k===1&&k++,u[k]++;I++}if(this.foundPatternCross(u)){const O=this.handlePossibleCenter(u,w,l);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,s=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=s)return!1;return!0}crossCheckVertical(e,n,s,l){const c=this.image,u=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let x=e;for(;x>=0&&c.get(n,x)&&h[1]<=s;)h[1]++,x--;if(x<0||h[1]>s)return NaN;for(;x>=0&&!c.get(n,x)&&h[0]<=s;)h[0]++,x--;if(h[0]>s)return NaN;for(x=e+1;x<u&&c.get(n,x)&&h[1]<=s;)h[1]++,x++;if(x===u||h[1]>s)return NaN;for(;x<u&&!c.get(n,x)&&h[2]<=s;)h[2]++,x++;if(h[2]>s)return NaN;const w=h[0]+h[1]+h[2];return 5*Math.abs(w-l)>=2*l?NaN:this.foundPatternCross(h)?Rr.centerFromEnd(h,x):NaN}handlePossibleCenter(e,n,s){const l=e[0]+e[1]+e[2],c=Rr.centerFromEnd(e,s),u=this.crossCheckVertical(n,c,2*e[1],l);if(!isNaN(u)){const h=(e[0]+e[1]+e[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(h,u,c))return w.combineEstimate(u,c,h);const x=new qi(c,u,h);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Vr extends Pe{constructor(e,n,s,l){super(e,n),this.estimatedModuleSize=s,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,s){if(Math.abs(n-this.getY())<=e&&Math.abs(s-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,s){const l=this.count+1,c=(this.count*this.getX()+n)/l,u=(this.count*this.getY()+e)/l,h=(this.count*this.estimatedModuleSize+s)/l;return new Vr(c,u,h,l)}}class mi{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Qt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(ue.TRY_HARDER)!==void 0,s=e!=null&&e.get(ue.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),u=l.getWidth();let h=Math.floor(3*c/(4*Qt.MAX_MODULES));(h<Qt.MIN_SKIP||n)&&(h=Qt.MIN_SKIP);let x=!1;const w=new Int32Array(5);for(let k=h-1;k<c&&!x;k+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let O=0;for(let B=0;B<u;B++)if(l.get(B,k))(O&1)===1&&O++,w[O]++;else if((O&1)===0)if(O===4)if(Qt.foundPatternCross(w)){if(this.handlePossibleCenter(w,k,B,s)===!0)if(h=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>w[2]&&(k+=G-w[2]-h,B=u-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,O=3;continue}O=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,O=3;else w[++O]++;else w[O]++;Qt.foundPatternCross(w)&&this.handlePossibleCenter(w,k,u,s)===!0&&(h=w[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return Pe.orderBestPatterns(I),new mi(I)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let c=0;c<5;c++){const u=e[c];if(u===0)return!1;n+=u}if(n<7)return!1;const s=n/7,l=s/2;return Math.abs(s-e[0])<l&&Math.abs(s-e[1])<l&&Math.abs(3*s-e[2])<3*l&&Math.abs(s-e[3])<l&&Math.abs(s-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,s,l){const c=this.getCrossCheckStateCount();let u=0;const h=this.image;for(;e>=u&&n>=u&&h.get(n-u,e-u);)c[2]++,u++;if(e<u||n<u)return!1;for(;e>=u&&n>=u&&!h.get(n-u,e-u)&&c[1]<=s;)c[1]++,u++;if(e<u||n<u||c[1]>s)return!1;for(;e>=u&&n>=u&&h.get(n-u,e-u)&&c[0]<=s;)c[0]++,u++;if(c[0]>s)return!1;const x=h.getHeight(),w=h.getWidth();for(u=1;e+u<x&&n+u<w&&h.get(n+u,e+u);)c[2]++,u++;if(e+u>=x||n+u>=w)return!1;for(;e+u<x&&n+u<w&&!h.get(n+u,e+u)&&c[3]<s;)c[3]++,u++;if(e+u>=x||n+u>=w||c[3]>=s)return!1;for(;e+u<x&&n+u<w&&h.get(n+u,e+u)&&c[4]<s;)c[4]++,u++;if(c[4]>=s)return!1;const I=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(I-l)<2*l&&Qt.foundPatternCross(c)}crossCheckVertical(e,n,s,l){const c=this.image,u=c.getHeight(),h=this.getCrossCheckStateCount();let x=e;for(;x>=0&&c.get(n,x);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(n,x)&&h[1]<=s;)h[1]++,x--;if(x<0||h[1]>s)return NaN;for(;x>=0&&c.get(n,x)&&h[0]<=s;)h[0]++,x--;if(h[0]>s)return NaN;for(x=e+1;x<u&&c.get(n,x);)h[2]++,x++;if(x===u)return NaN;for(;x<u&&!c.get(n,x)&&h[3]<s;)h[3]++,x++;if(x===u||h[3]>=s)return NaN;for(;x<u&&c.get(n,x)&&h[4]<s;)h[4]++,x++;if(h[4]>=s)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-l)>=2*l?NaN:Qt.foundPatternCross(h)?Qt.centerFromEnd(h,x):NaN}crossCheckHorizontal(e,n,s,l){const c=this.image,u=c.getWidth(),h=this.getCrossCheckStateCount();let x=e;for(;x>=0&&c.get(x,n);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!c.get(x,n)&&h[1]<=s;)h[1]++,x--;if(x<0||h[1]>s)return NaN;for(;x>=0&&c.get(x,n)&&h[0]<=s;)h[0]++,x--;if(h[0]>s)return NaN;for(x=e+1;x<u&&c.get(x,n);)h[2]++,x++;if(x===u)return NaN;for(;x<u&&!c.get(x,n)&&h[3]<s;)h[3]++,x++;if(x===u||h[3]>=s)return NaN;for(;x<u&&c.get(x,n)&&h[4]<s;)h[4]++,x++;if(h[4]>=s)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-l)>=l?NaN:Qt.foundPatternCross(h)?Qt.centerFromEnd(h,x):NaN}handlePossibleCenter(e,n,s,l){const c=e[0]+e[1]+e[2]+e[3]+e[4];let u=Qt.centerFromEnd(e,s),h=this.crossCheckVertical(n,Math.floor(u),e[2],c);if(!isNaN(h)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(h),e[2],c),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(u),e[2],c)))){const x=c/7;let w=!1;const I=this.possibleCenters;for(let k=0,O=I.length;k<O;k++){const B=I[k];if(B.aboutEquals(x,h,u)){I[k]=B.combineEstimate(h,u,x),w=!0;break}}if(!w){const k=new Vr(u,h,x);I.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const s of this.possibleCenters)if(s.getCount()>=Qt.CENTER_QUORUM)if(n==null)n=s;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-s.getX())-Math.abs(n.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Qt.CENTER_QUORUM&&(e++,n+=u.getEstimatedModuleSize());if(e<3)return!1;const l=n/s;let c=0;for(const u of this.possibleCenters)c+=Math.abs(u.getEstimatedModuleSize()-l);return c<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new te;const n=this.possibleCenters;let s;if(e>3){let l=0,c=0;for(const x of this.possibleCenters){const w=x.getEstimatedModuleSize();l+=w,c+=w*w}s=l/e;let u=Math.sqrt(c/e-s*s);n.sort((x,w)=>{const I=Math.abs(w.getEstimatedModuleSize()-s),k=Math.abs(x.getEstimatedModuleSize()-s);return I<k?-1:I>k?1:0});const h=Math.max(.2*s,u);for(let x=0;x<n.length&&n.length>3;x++){const w=n[x];Math.abs(w.getEstimatedModuleSize()-s)>h&&(n.splice(x,1),x--)}}if(n.length>3){let l=0;for(const c of n)l+=c.getEstimatedModuleSize();s=l/n.length,n.sort((c,u)=>{if(u.getCount()===c.getCount()){const h=Math.abs(u.getEstimatedModuleSize()-s),x=Math.abs(c.getEstimatedModuleSize()-s);return h<x?1:h>x?-1:0}else return u.getCount()-c.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Qt.CENTER_QUORUM=2,Qt.MIN_SKIP=3,Qt.MAX_MODULES=57;class ti{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(ue.NEED_RESULT_POINT_CALLBACK);const s=new Qt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(s)}processFinderPatternInfo(e){const n=e.getTopLeft(),s=e.getTopRight(),l=e.getBottomLeft(),c=this.calculateModuleSize(n,s,l);if(c<1)throw new te("No pattern found in proccess finder.");const u=ti.computeDimension(n,s,l,c),h=Xe.getProvisionalVersionForDimension(u),x=h.getDimensionForVersion()-7;let w=null;if(h.getAlignmentPatternCenters().length>0){const B=s.getX()-n.getX()+l.getX(),U=s.getY()-n.getY()+l.getY(),G=1-3/x,q=Math.floor(n.getX()+G*(B-n.getX())),se=Math.floor(n.getY()+G*(U-n.getY()));for(let Se=4;Se<=16;Se<<=1)try{w=this.findAlignmentInRegion(c,q,se,Se);break}catch(Ne){if(!(Ne instanceof te))throw Ne}}const I=ti.createTransform(n,s,l,w,u),k=ti.sampleGrid(this.image,I,u);let O;return w===null?O=[l,n,s]:O=[l,n,s,w],new an(k,O)}static createTransform(e,n,s,l,c){const u=c-3.5;let h,x,w,I;return l!==null?(h=l.getX(),x=l.getY(),w=u-3,I=w):(h=n.getX()-e.getX()+s.getX(),x=n.getY()-e.getY()+s.getY(),w=u,I=u),bn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,w,I,3.5,u,e.getX(),e.getY(),n.getX(),n.getY(),h,x,s.getX(),s.getY())}static sampleGrid(e,n,s){return Kn.getInstance().sampleGridWithTransform(e,s,s,n)}static computeDimension(e,n,s,l){const c=et.round(Pe.distance(e,n)/l),u=et.round(Pe.distance(e,s)/l);let h=Math.floor((c+u)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new te("Dimensions could be not found.")}return h}calculateModuleSize(e,n,s){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,s))/2}calculateModuleSizeOneWay(e,n){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(s)?l/7:isNaN(l)?s/7:(s+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,s,l){let c=this.sizeOfBlackWhiteBlackRun(e,n,s,l),u=1,h=e-(s-e);h<0?(u=e/(e-h),h=0):h>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let x=Math.floor(n-(l-n)*u);return u=1,x<0?(u=n/(n-x),x=0):x>=this.image.getHeight()&&(u=(this.image.getHeight()-1-n)/(x-n),x=this.image.getHeight()-1),h=Math.floor(e+(h-e)*u),c+=this.sizeOfBlackWhiteBlackRun(e,n,h,x),c-1}sizeOfBlackWhiteBlackRun(e,n,s,l){const c=Math.abs(l-n)>Math.abs(s-e);if(c){let B=e;e=n,n=B,B=s,s=l,l=B}const u=Math.abs(s-e),h=Math.abs(l-n);let x=-u/2;const w=e<s?1:-1,I=n<l?1:-1;let k=0;const O=s+w;for(let B=e,U=n;B!==O;B+=w){const G=c?U:B,q=c?B:U;if(k===1===this.image.get(G,q)){if(k===2)return et.distance(B,U,e,n);k++}if(x+=h,x>0){if(U===l)break;U+=I,x-=u}}return k===2?et.distance(s+w,l,e,n):NaN}findAlignmentInRegion(e,n,s,l){const c=Math.floor(l*e),u=Math.max(0,n-c),h=Math.min(this.image.getWidth()-1,n+c);if(h-u<e*3)throw new te("Alignment top exceeds estimated module size.");const x=Math.max(0,s-c),w=Math.min(this.image.getHeight()-1,s+c);if(w-x<e*3)throw new te("Alignment bottom exceeds estimated module size.");return new Rr(this.image,u,x,h-u,w-x,e,this.resultPointCallback).find()}}class zn{constructor(){this.decoder=new ra}getDecoder(){return this.decoder}decode(e,n){let s,l;if(n!=null&&n.get(ue.PURE_BARCODE)!==void 0){const x=zn.extractPureBits(e.getBlackMatrix());s=this.decoder.decodeBitMatrix(x,n),l=zn.NO_POINTS}else{const x=new ti(e.getBlackMatrix()).detect(n);s=this.decoder.decodeBitMatrix(x.getBits(),n),l=x.getPoints()}s.getOther()instanceof na&&s.getOther().applyMirroredCorrection(l);const c=new Te(s.getText(),s.getRawBytes(),void 0,l,Ce.QR_CODE,void 0),u=s.getByteSegments();u!==null&&c.putMetadata(De.BYTE_SEGMENTS,u);const h=s.getECLevel();return h!==null&&c.putMetadata(De.ERROR_CORRECTION_LEVEL,h),s.hasStructuredAppend()&&(c.putMetadata(De.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),c.putMetadata(De.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(n===null||s===null)throw new te;const l=this.moduleSize(n,e);let c=n[1],u=s[1],h=n[0],x=s[0];if(h>=x||c>=u)throw new te;if(u-c!==x-h&&(x=h+(u-c),x>=e.getWidth()))throw new te;const w=Math.round((x-h+1)/l),I=Math.round((u-c+1)/l);if(w<=0||I<=0)throw new te;if(I!==w)throw new te;const k=Math.floor(l/2);c+=k,h+=k;const O=h+Math.floor((w-1)*l)-x;if(O>0){if(O>k)throw new te;h-=O}const B=c+Math.floor((I-1)*l)-u;if(B>0){if(B>k)throw new te;c-=B}const U=new je(w,I);for(let G=0;G<I;G++){const q=c+Math.floor(G*l);for(let se=0;se<w;se++)e.get(h+Math.floor(se*l),q)&&U.set(se,G)}return U}static moduleSize(e,n){const s=n.getHeight(),l=n.getWidth();let c=e[0],u=e[1],h=!0,x=0;for(;c<l&&u<s;){if(h!==n.get(c,u)){if(++x===5)break;h=!h}c++,u++}if(c===l||u===s)throw new te;return(c-e[0])/7}}zn.NO_POINTS=new Array;class $e{PDF417Common(){}static getBitCountSum(e){return et.sum(e)}static toIntArray(e){if(e==null||!e.length)return $e.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let s=0;for(const l of e)n[s++]=l;return n}static getCodeword(e){const n=ee.binarySearch($e.SYMBOL_TABLE,e&262143);return n<0?-1:($e.CODEWORD_TABLE[n]-1)%$e.NUMBER_OF_CODEWORDS}}$e.NUMBER_OF_CODEWORDS=929,$e.MAX_CODEWORDS_IN_BARCODE=$e.NUMBER_OF_CODEWORDS-1,$e.MIN_ROWS_IN_BARCODE=3,$e.MAX_ROWS_IN_BARCODE=90,$e.MODULES_IN_CODEWORD=17,$e.MODULES_IN_STOP_PATTERN=18,$e.BARS_IN_MODULE=8,$e.EMPTY_INT_ARRAY=new Int32Array([]),$e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class hl{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class rt{static detectMultiple(e,n,s){let l=e.getBlackMatrix(),c=rt.detect(s,l);return c.length||(l=l.clone(),l.rotate180(),c=rt.detect(s,l)),new hl(l,c)}static detect(e,n){const s=new Array;let l=0,c=0,u=!1;for(;l<n.getHeight();){const h=rt.findVertices(n,l,c);if(h[0]==null&&h[3]==null){if(!u)break;u=!1,c=0;for(const x of s)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=rt.ROW_STEP;continue}if(u=!0,s.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return s}static findVertices(e,n,s){const l=e.getHeight(),c=e.getWidth(),u=new Array(8);return rt.copyToResult(u,rt.findRowsWithPattern(e,l,c,n,s,rt.START_PATTERN),rt.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),n=Math.trunc(u[4].getY())),rt.copyToResult(u,rt.findRowsWithPattern(e,l,c,n,s,rt.STOP_PATTERN),rt.INDEXES_STOP_PATTERN),u}static copyToResult(e,n,s){for(let l=0;l<s.length;l++)e[s[l]]=n[l]}static findRowsWithPattern(e,n,s,l,c,u){const h=new Array(4);let x=!1;const w=new Int32Array(u.length);for(;l<n;l+=rt.ROW_STEP){let k=rt.findGuardPattern(e,c,l,s,!1,u,w);if(k!=null){for(;l>0;){const O=rt.findGuardPattern(e,c,--l,s,!1,u,w);if(O!=null)k=O;else{l++;break}}h[0]=new Pe(k[0],l),h[1]=new Pe(k[1],l),x=!0;break}}let I=l+1;if(x){let k=0,O=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;I<n;I++){const B=rt.findGuardPattern(e,O[0],I,s,!1,u,w);if(B!=null&&Math.abs(O[0]-B[0])<rt.MAX_PATTERN_DRIFT&&Math.abs(O[1]-B[1])<rt.MAX_PATTERN_DRIFT)O=B,k=0;else{if(k>rt.SKIPPED_ROW_COUNT_MAX)break;k++}}I-=k+1,h[2]=new Pe(O[0],I),h[3]=new Pe(O[1],I)}return I-l<rt.BARCODE_MIN_HEIGHT&&ee.fill(h,null),h}static findGuardPattern(e,n,s,l,c,u,h){ee.fillWithin(h,0,h.length,0);let x=n,w=0;for(;e.get(x,s)&&x>0&&w++<rt.MAX_PIXEL_DRIFT;)x--;let I=x,k=0,O=u.length;for(let B=c;I<l;I++)if(e.get(I,s)!==B)h[k]++;else{if(k===O-1){if(rt.patternMatchVariance(h,u,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return new Int32Array([x,I]);x+=h[0]+h[1],F.arraycopy(h,2,h,0,k-1),h[k-1]=0,h[k]=0,k--}else k++;h[k]=1,B=!B}return k===O-1&&rt.patternMatchVariance(h,u,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE?new Int32Array([x,I-1]):null}static patternMatchVariance(e,n,s){let l=e.length,c=0,u=0;for(let w=0;w<l;w++)c+=e[w],u+=n[w];if(c<u)return 1/0;let h=c/u;s*=h;let x=0;for(let w=0;w<l;w++){let I=e[w],k=n[w]*h,O=I>k?I-k:k-I;if(O>s)return 1/0;x+=O}return x/c}}rt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),rt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),rt.MAX_AVG_VARIANCE=.42,rt.MAX_INDIVIDUAL_VARIANCE=.8,rt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),rt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),rt.MAX_PIXEL_DRIFT=3,rt.MAX_PATTERN_DRIFT=5,rt.SKIPPED_ROW_COUNT_MAX=25,rt.ROW_STEP=5,rt.BARCODE_MIN_HEIGHT=10;class Sn{constructor(e,n){if(n.length===0)throw new S;this.field=e;let s=n.length;if(s>1&&n[0]===0){let l=1;for(;l<s&&n[l]===0;)l++;l===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let n=this.coefficients[0],s=this.coefficients.length;for(let l=1;l<s;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,s=e.coefficients;if(n.length>s.length){let u=n;n=s,s=u}let l=new Int32Array(s.length),c=s.length-n.length;F.arraycopy(s,0,l,0,c);for(let u=c;u<s.length;u++)l[u]=this.field.add(n[u-c],s[u]);return new Sn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Sn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Sn(this.field,new Int32Array([0]));let n=this.coefficients,s=n.length,l=e.coefficients,c=l.length,u=new Int32Array(s+c-1);for(let h=0;h<s;h++){let x=n[h];for(let w=0;w<c;w++)u[h+w]=this.field.add(u[h+w],this.field.multiply(x,l[w]))}return new Sn(this.field,u)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=this.field.subtract(0,this.coefficients[s]);return new Sn(this.field,n)}multiplyScalar(e){if(e===0)return new Sn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,s=new Int32Array(n);for(let l=0;l<n;l++)s[l]=this.field.multiply(this.coefficients[l],e);return new Sn(this.field,s)}multiplyByMonomial(e,n){if(e<0)throw new S;if(n===0)return new Sn(this.field,new Int32Array([0]));let s=this.coefficients.length,l=new Int32Array(s+e);for(let c=0;c<s;c++)l[c]=this.field.multiply(this.coefficients[c],n);return new Sn(this.field,l)}toString(){let e=new xe;for(let n=this.getDegree();n>=0;n--){let s=this.getCoefficient(n);s!==0&&(s<0?(e.append(" - "),s=-s):e.length()>0&&e.append(" + "),(n===0||s!==1)&&e.append(s),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class ml{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new S;return this.logTable[e]}inverse(e){if(e===0)throw new En;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Qi extends ml{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let s=1;for(let l=0;l<e;l++)this.expTable[l]=s,s=s*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Sn(this,new Int32Array([0])),this.one=new Sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new S;if(n===0)return this.zero;let s=new Int32Array(e+1);return s[0]=n,new Sn(this,s)}}Qi.PDF417_GF=new Qi($e.NUMBER_OF_CODEWORDS,3);class ia{constructor(){this.field=Qi.PDF417_GF}decode(e,n,s){let l=new Sn(this.field,e),c=new Int32Array(n),u=!1;for(let U=n;U>0;U--){let G=l.evaluateAt(this.field.exp(U));c[n-U]=G,G!==0&&(u=!0)}if(!u)return 0;let h=this.field.getOne();if(s!=null)for(const U of s){let G=this.field.exp(e.length-1-U),q=new Sn(this.field,new Int32Array([this.field.subtract(0,G),1]));h=h.multiply(q)}let x=new Sn(this.field,c),w=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),x,n),I=w[0],k=w[1],O=this.findErrorLocations(I),B=this.findErrorMagnitudes(k,I,O);for(let U=0;U<O.length;U++){let G=e.length-1-this.field.log(O[U]);if(G<0)throw L.getChecksumInstance();e[G]=this.field.subtract(e[G],B[U])}return O.length}runEuclideanAlgorithm(e,n,s){if(e.getDegree()<n.getDegree()){let O=e;e=n,n=O}let l=e,c=n,u=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(s/2);){let O=l,B=u;if(l=c,u=h,l.isZero())throw L.getChecksumInstance();c=O;let U=this.field.getZero(),G=l.getCoefficient(l.getDegree()),q=this.field.inverse(G);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let se=c.getDegree()-l.getDegree(),Se=this.field.multiply(c.getCoefficient(c.getDegree()),q);U=U.add(this.field.buildMonomial(se,Se)),c=c.subtract(l.multiplyByMonomial(se,Se))}h=U.multiply(u).subtract(B).negative()}let x=h.getCoefficient(0);if(x===0)throw L.getChecksumInstance();let w=this.field.inverse(x),I=h.multiply(w),k=c.multiply(w);return[I,k]}findErrorLocations(e){let n=e.getDegree(),s=new Int32Array(n),l=0;for(let c=1;c<this.field.getSize()&&l<n;c++)e.evaluateAt(c)===0&&(s[l]=this.field.inverse(c),l++);if(l!==n)throw L.getChecksumInstance();return s}findErrorMagnitudes(e,n,s){let l=n.getDegree(),c=new Int32Array(l);for(let w=1;w<=l;w++)c[l-w]=this.field.multiply(w,n.getCoefficient(w));let u=new Sn(this.field,c),h=s.length,x=new Int32Array(h);for(let w=0;w<h;w++){let I=this.field.inverse(s[w]),k=this.field.subtract(0,e.evaluateAt(I)),O=this.field.inverse(u.evaluateAt(I));x[w]=this.field.multiply(k,O)}return x}}class Si{constructor(e,n,s,l,c){e instanceof Si?this.constructor_2(e):this.constructor_1(e,n,s,l,c)}constructor_1(e,n,s,l,c){const u=n==null||s==null,h=l==null||c==null;if(u&&h)throw new te;u?(n=new Pe(0,l.getY()),s=new Pe(0,c.getY())):h&&(l=new Pe(e.getWidth()-1,n.getY()),c=new Pe(e.getWidth()-1,s.getY())),this.image=e,this.topLeft=n,this.bottomLeft=s,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(n.getX(),s.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(s.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Si(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,s){let l=this.topLeft,c=this.bottomLeft,u=this.topRight,h=this.bottomRight;if(e>0){let x=s?this.topLeft:this.topRight,w=Math.trunc(x.getY()-e);w<0&&(w=0);let I=new Pe(x.getX(),w);s?l=I:u=I}if(n>0){let x=s?this.bottomLeft:this.bottomRight,w=Math.trunc(x.getY()+n);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let I=new Pe(x.getX(),w);s?c=I:h=I}return new Si(this.image,l,c,u,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ts{constructor(e,n,s,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=s,this.rowCount=n+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ni{constructor(){this.buffer=""}static form(e,n){let s=-1;function l(u,h,x,w,I,k){if(u==="%%")return"%";if(n[++s]===void 0)return;u=w?parseInt(w.substr(1)):void 0;let O=I?parseInt(I.substr(1)):void 0,B;switch(k){case"s":B=n[s];break;case"c":B=n[s][0];break;case"f":B=parseFloat(n[s]).toFixed(u);break;case"p":B=parseFloat(n[s]).toPrecision(u);break;case"e":B=parseFloat(n[s]).toExponential(u);break;case"x":B=parseInt(n[s]).toString(O||16);break;case"d":B=parseFloat(parseInt(n[s],O||10).toPrecision(u)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(O);let U=parseInt(x),G=x&&x[0]+""=="0"?"0":" ";for(;B.length<U;)B=h!==void 0?B+G:G+B;return B}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}format(e,...n){this.buffer+=ni.form(e,n)}toString(){return this.buffer}}class Ur{constructor(e){this.boundingBox=new Si(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let s=1;s<Ur.MAX_NEARBY_DISTANCE;s++){let l=this.imageRowToCodewordIndex(e)-s;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+s,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ni;let n=0;for(const s of this.codewords){if(s==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,s.getRowNumber(),s.getValue())}return e.toString()}}Ur.MAX_NEARBY_DISTANCE=5;class gi{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[s,l]of this.values.entries()){const c={getKey:()=>s,getValue:()=>l};c.getValue()>e?(e=c.getValue(),n=[],n.push(c.getKey())):c.getValue()===e&&n.push(c.getKey())}return $e.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class gl extends Ur{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),x=-1,w=1,I=0;for(let k=u;k<h;k++){if(n[k]==null)continue;let O=n[k],B=O.getRowNumber()-x;if(B===0)I++;else if(B===1)w=Math.max(w,I),I=1,x=O.getRowNumber();else if(B<0||O.getRowNumber()>=e.getRowCount()||B>k)n[k]=null;else{let U;w>2?U=(w-2)*B:U=B;let G=U>=k;for(let q=1;q<=U&&!G;q++)G=n[k-q]!=null;G?n[k]=null:(x=O.getRowNumber(),I=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let s of this.getCodewords())if(s!=null){let l=s.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),s=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),x=-1;for(let w=c;w<u;w++){if(h[w]==null)continue;let I=h[w];I.setRowNumberAsRowIndicatorColumn();let k=I.getRowNumber()-x;k===0||(k===1?x=I.getRowNumber():I.getRowNumber()>=e.getRowCount()?h[w]=null:x=I.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new gi,s=new gi,l=new gi,c=new gi;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let x=h.getValue()%30,w=h.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:s.setValue(x*3+1);break;case 1:c.setValue(x/3),l.setValue(x%3);break;case 2:n.setValue(x+1);break}}if(n.getValue().length===0||s.getValue().length===0||l.getValue().length===0||c.getValue().length===0||n.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;let u=new Ts(n.getValue()[0],s.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,n){for(let s=0;s<e.length;s++){let l=e[s];if(e[s]==null)continue;let c=l.getValue()%30,u=l.getRowNumber();if(u>n.getRowCount()){e[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:c*3+1!==n.getRowCountUpperPart()&&(e[s]=null);break;case 1:(Math.trunc(c/3)!==n.getErrorCorrectionLevel()||c%3!==n.getRowCountLowerPart())&&(e[s]=null);break;case 2:c+1!==n.getColumnCount()&&(e[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Is{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=$e.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let s=this.detectionResultColumns[n].getCodewords();for(let l=0;l<s.length;l++)s[l]!=null&&(s[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,s))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<e.length;s++)if(e[s]!=null&&n[s]!=null&&e[s].getRowNumber()===n[s].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[s];c!=null&&(c.setRowNumber(e[s].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++){if(n[s]==null)continue;let l=n[s].getRowNumber(),c=0;for(let u=this.barcodeColumnCount+1;u>0&&c<this.ADJUST_ROW_NUMBER_SKIP;u--){let h=this.detectionResultColumns[u].getCodewords()[s];h!=null&&(c=Is.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let s=0;s<n.length;s++){if(n[s]==null)continue;let l=n[s].getRowNumber(),c=0;for(let u=1;u<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;u++){let h=this.detectionResultColumns[u].getCodewords()[s];h!=null&&(c=Is.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(e)?(s.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,s){if(!this.detectionResultColumns[e-1])return;let l=s[n],c=this.detectionResultColumns[e-1].getCodewords(),u=c;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=c[n],h[3]=u[n],n>0&&(h[0]=s[n-1],h[4]=c[n-1],h[5]=u[n-1]),n>1&&(h[8]=s[n-2],h[10]=c[n-2],h[11]=u[n-2]),n<s.length-1&&(h[1]=s[n+1],h[6]=c[n+1],h[7]=u[n+1]),n<s.length-2&&(h[9]=s[n+2],h[12]=c[n+2],h[13]=u[n+2]);for(let x of h)if(Is.adjustRowNumber(l,x))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new ni;for(let s=0;s<e.getCodewords().length;s++){n.format("CW %3d:",s);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[s];if(c==null){n.format("    |   ");continue}n.format(" %3d|%3d",c.getRowNumber(),c.getValue())}n.format("%n")}return n.toString()}}class Ni{constructor(e,n,s,l){this.rowNumber=Ni.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(s),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ni.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ni.BARCODE_ROW_UNKNOWN=-1;class Nn{static initialize(){for(let e=0;e<$e.SYMBOL_TABLE.length;e++){let n=$e.SYMBOL_TABLE[e],s=n&1;for(let l=0;l<$e.BARS_IN_MODULE;l++){let c=0;for(;(n&1)===s;)c+=1,n>>=1;s=n&1,Nn.RATIOS_TABLE[e]||(Nn.RATIOS_TABLE[e]=new Array($e.BARS_IN_MODULE)),Nn.RATIOS_TABLE[e][$e.BARS_IN_MODULE-l-1]=Math.fround(c/$e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Nn.getDecodedCodewordValue(Nn.sampleBitCounts(e));return n!==-1?n:Nn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=et.sum(e),s=new Int32Array($e.BARS_IN_MODULE),l=0,c=0;for(let u=0;u<$e.MODULES_IN_CODEWORD;u++){let h=n/(2*$e.MODULES_IN_CODEWORD)+u*n/$e.MODULES_IN_CODEWORD;c+e[l]<=h&&(c+=e[l],l++),s[l]++}return s}static getDecodedCodewordValue(e){let n=Nn.getBitValue(e);return $e.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let s=0;s<e.length;s++)for(let l=0;l<e[s];l++)n=n<<1|(s%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=et.sum(e),s=new Array($e.BARS_IN_MODULE);if(n>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(e[u]/n);let l=Br.MAX_VALUE,c=-1;this.bSymbolTableReady||Nn.initialize();for(let u=0;u<Nn.RATIOS_TABLE.length;u++){let h=0,x=Nn.RATIOS_TABLE[u];for(let w=0;w<$e.BARS_IN_MODULE;w++){let I=Math.fround(x[w]-s[w]);if(h+=Math.fround(I*I),h>=l)break}h<l&&(l=h,c=$e.SYMBOL_TABLE[u])}return c}}Nn.bSymbolTableReady=!1,Nn.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(R=>new Array($e.BARS_IN_MODULE));class io{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class sa{static parseLong(e,n=void 0){return parseInt(e,n)}}class ri extends E{}ri.kind="NullPointerException";class oa{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,s){if(e==null)throw new ri;if(n<0||n>e.length||s<0||n+s>e.length||n+s<0)throw new W;if(s===0)return;for(let l=0;l<s;l++)this.write(e[n+l])}flush(){}close(){}}class so extends E{}class pl extends oa{constructor(e=32){if(super(),this.count=0,e<0)throw new S("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let s=this.buf.length<<1;if(s-e<0&&(s=e),s<0){if(e<0)throw new so;s=X.MAX_VALUE}this.buf=ee.copyOfUint8Array(this.buf,s)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,s){if(n<0||n>e.length||s<0||n+s-e.length>0)throw new W;this.ensureCapacity(this.count+s),F.arraycopy(e,n,this.buf,this.count,s),this.count+=s}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return ee.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Et;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Et||(Et={}));function Rs(){if(typeof window<"u")return window.BigInt||null;if(typeof hc<"u")return hc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ks;function un(R){if(typeof ks>"u"&&(ks=Rs()),ks===null)throw new Error("BigInt is not supported!");return ks(R)}function $i(){let R=[];R[0]=un(1);let e=un(900);R[1]=e;for(let n=2;n<16;n++)R[n]=R[n-1]*e;return R}class oe{static decode(e,n){let s=new xe(""),l=le.ISO8859_1;s.enableDecoding(l);let c=1,u=e[c++],h=new io;for(;c<e[0];){switch(u){case oe.TEXT_COMPACTION_MODE_LATCH:c=oe.textCompaction(e,c,s);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:c=oe.byteCompaction(u,e,l,c,s);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(e[c++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:c=oe.numericCompaction(e,c,s);break;case oe.ECI_CHARSET:le.getCharacterSetECIByValue(e[c++]);break;case oe.ECI_GENERAL_PURPOSE:c+=2;break;case oe.ECI_USER_DEFINED:c++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=oe.decodeMacroBlock(e,c,h);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new Z;default:c--,c=oe.textCompaction(e,c,s);break}if(c<e.length)u=e[c++];else throw Z.getFormatInstance()}if(s.length()===0)throw Z.getFormatInstance();let x=new ot(null,s.toString(),null,n);return x.setOther(h),x}static decodeMacroBlock(e,n,s){if(n+oe.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Z.getFormatInstance();let l=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<oe.NUMBER_OF_SEQUENCE_CODEWORDS;h++,n++)l[h]=e[n];s.setSegmentIndex(X.parseInt(oe.decodeBase900toBase10(l,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new xe;n=oe.textCompaction(e,n,c),s.setFileId(c.toString());let u=-1;for(e[n]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=n+1);n<e[0];)switch(e[n]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new xe;n=oe.textCompaction(e,n+1,h),s.setFileName(h.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new xe;n=oe.textCompaction(e,n+1,x),s.setSender(x.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new xe;n=oe.textCompaction(e,n+1,w),s.setAddressee(w.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new xe;n=oe.numericCompaction(e,n+1,I),s.setSegmentCount(X.parseInt(I.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new xe;n=oe.numericCompaction(e,n+1,k),s.setTimestamp(sa.parseLong(k.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new xe;n=oe.numericCompaction(e,n+1,O),s.setChecksum(X.parseInt(O.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new xe;n=oe.numericCompaction(e,n+1,B),s.setFileSize(sa.parseLong(B.toString()));break;default:throw Z.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:n++,s.setLastSegment(!0);break;default:throw Z.getFormatInstance()}if(u!==-1){let h=n-u;s.isLastSegment()&&h--,s.setOptionalData(ee.copyOfRange(e,u,u+h))}return n}static textCompaction(e,n,s){let l=new Int32Array((e[0]-n)*2),c=new Int32Array((e[0]-n)*2),u=0,h=!1;for(;n<e[0]&&!h;){let x=e[n++];if(x<oe.TEXT_COMPACTION_MODE_LATCH)l[u]=x/30,l[u+1]=x%30,u+=2;else switch(x){case oe.TEXT_COMPACTION_MODE_LATCH:l[u++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,h=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=e[n++],c[u]=x,u++;break}}return oe.decodeTextCompaction(l,c,u,s),n}static decodeTextCompaction(e,n,s,l){let c=Et.ALPHA,u=Et.ALPHA,h=0;for(;h<s;){let x=e[h],w="";switch(c){case Et.ALPHA:if(x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case oe.LL:c=Et.LOWER;break;case oe.ML:c=Et.MIXED;break;case oe.PS:u=c,c=Et.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Et.ALPHA;break}break;case Et.LOWER:if(x<26)w=String.fromCharCode(97+x);else switch(x){case 26:w=" ";break;case oe.AS:u=c,c=Et.ALPHA_SHIFT;break;case oe.ML:c=Et.MIXED;break;case oe.PS:u=c,c=Et.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Et.ALPHA;break}break;case Et.MIXED:if(x<oe.PL)w=oe.MIXED_CHARS[x];else switch(x){case oe.PL:c=Et.PUNCT;break;case 26:w=" ";break;case oe.LL:c=Et.LOWER;break;case oe.AL:c=Et.ALPHA;break;case oe.PS:u=c,c=Et.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Et.ALPHA;break}break;case Et.PUNCT:if(x<oe.PAL)w=oe.PUNCT_CHARS[x];else switch(x){case oe.PAL:c=Et.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Et.ALPHA;break}break;case Et.ALPHA_SHIFT:if(c=u,x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Et.ALPHA;break}break;case Et.PUNCT_SHIFT:if(c=u,x<oe.PAL)w=oe.PUNCT_CHARS[x];else switch(x){case oe.PAL:c=Et.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Et.ALPHA;break}break}w!==""&&l.append(w),h++}}static byteCompaction(e,n,s,l,c){let u=new pl,h=0,x=0,w=!1;switch(e){case oe.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),k=n[l++];for(;l<n[0]&&!w;)switch(I[h++]=k,x=900*x+k,k=n[l++],k){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,w=!0;break;default:if(h%5===0&&h>0){for(let O=0;O<6;++O)u.write(Number(un(x)>>un(8*(5-O))));x=0,h=0}break}l===n[0]&&k<oe.TEXT_COMPACTION_MODE_LATCH&&(I[h++]=k);for(let O=0;O<h;O++)u.write(I[O]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!w;){let O=n[l++];if(O<oe.TEXT_COMPACTION_MODE_LATCH)h++,x=900*x+O;else switch(O){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,w=!0;break}if(h%5===0&&h>0){for(let B=0;B<6;++B)u.write(Number(un(x)>>un(8*(5-B))));x=0,h=0}}break}return c.append(me.decode(u.toByteArray(),s)),l}static numericCompaction(e,n,s){let l=0,c=!1,u=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!c;){let h=e[n++];if(n===e[0]&&(c=!0),h<oe.TEXT_COMPACTION_MODE_LATCH)u[l]=h,l++;else switch(h){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,c=!0;break}(l%oe.MAX_NUMERIC_CODEWORDS===0||h===oe.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(s.append(oe.decodeBase900toBase10(u,l)),l=0)}return n}static decodeBase900toBase10(e,n){let s=un(0);for(let c=0;c<n;c++)s+=oe.EXP900[n-c-1]*un(e[c]);let l=s.toString();if(l.charAt(0)!=="1")throw new Z;return l.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=Rs()?$i():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class st{constructor(){}static decode(e,n,s,l,c,u,h){let x=new Si(e,n,s,l,c),w=null,I=null,k;for(let U=!0;;U=!1){if(n!=null&&(w=st.getRowIndicatorColumn(e,x,n,!0,u,h)),l!=null&&(I=st.getRowIndicatorColumn(e,x,l,!1,u,h)),k=st.merge(w,I),k==null)throw te.getNotFoundInstance();let G=k.getBoundingBox();if(U&&G!=null&&(G.getMinY()<x.getMinY()||G.getMaxY()>x.getMaxY()))x=G;else break}k.setBoundingBox(x);let O=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,w),k.setDetectionResultColumn(O,I);let B=w!=null;for(let U=1;U<=O;U++){let G=B?U:O-U;if(k.getDetectionResultColumn(G)!==void 0)continue;let q;G===0||G===O?q=new gl(x,G===0):q=new Ur(x),k.setDetectionResultColumn(G,q);let se=-1,Se=se;for(let Ne=x.getMinY();Ne<=x.getMaxY();Ne++){if(se=st.getStartColumn(k,G,Ne,B),se<0||se>x.getMaxX()){if(Se===-1)continue;se=Se}let we=st.detectCodeword(e,x.getMinX(),x.getMaxX(),B,se,Ne,u,h);we!=null&&(q.setCodeword(Ne,we),Se=se,u=Math.min(u,we.getWidth()),h=Math.max(h,we.getWidth()))}}return st.createDecoderResult(k)}static merge(e,n){if(e==null&&n==null)return null;let s=st.getBarcodeMetadata(e,n);if(s==null)return null;let l=Si.merge(st.adjustBoundingBox(e),st.adjustBoundingBox(n));return new Is(s,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let s=st.getMax(n),l=0;for(let h of n)if(l+=s-h,h>0)break;let c=e.getCodewords();for(let h=0;l>0&&c[h]==null;h++)l--;let u=0;for(let h=n.length-1;h>=0&&(u+=s-n[h],!(n[h]>0));h--);for(let h=c.length-1;u>0&&c[h]==null;h--)u--;return e.getBoundingBox().addMissingRows(l,u,e.isLeft())}static getMax(e){let n=-1;for(let s of e)n=Math.max(n,s);return n}static getBarcodeMetadata(e,n){let s;if(e==null||(s=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?s:s.getColumnCount()!==l.getColumnCount()&&s.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&s.getRowCount()!==l.getRowCount()?null:s}static getRowIndicatorColumn(e,n,s,l,c,u){let h=new gl(n,l);for(let x=0;x<2;x++){let w=x===0?1:-1,I=Math.trunc(Math.trunc(s.getX()));for(let k=Math.trunc(Math.trunc(s.getY()));k<=n.getMaxY()&&k>=n.getMinY();k+=w){let O=st.detectCodeword(e,0,e.getWidth(),l,I,k,c,u);O!=null&&(h.setCodeword(k,O),l?I=O.getStartX():I=O.getEndX())}}return h}static adjustCodewordCount(e,n){let s=n[0][1],l=s.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-st.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(c<1||c>$e.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();s.setValue(c)}else l[0]!==c&&s.setValue(c)}static createDecoderResult(e){let n=st.createBarcodeMatrix(e);st.adjustCodewordCount(e,n);let s=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],u=new Array;for(let x=0;x<e.getBarcodeRowCount();x++)for(let w=0;w<e.getBarcodeColumnCount();w++){let I=n[x][w+1].getValue(),k=x*e.getBarcodeColumnCount()+w;I.length===0?s.push(k):I.length===1?l[k]=I[0]:(u.push(k),c.push(I))}let h=new Array(c.length);for(let x=0;x<h.length;x++)h[x]=c[x];return st.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,$e.toIntArray(s),$e.toIntArray(u),h)}static createDecoderResultFromAmbiguousValues(e,n,s,l,c){let u=new Int32Array(l.length),h=100;for(;h-- >0;){for(let x=0;x<u.length;x++)n[l[x]]=c[x][u[x]];try{return st.decodeCodewords(n,e,s)}catch(x){if(!(x instanceof L))throw x}if(u.length===0)throw L.getChecksumInstance();for(let x=0;x<u.length;x++)if(u[x]<c[x].length-1){u[x]++;break}else if(u[x]=0,x===u.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let c=0;c<n[l].length;c++)n[l][c]=new gi;let s=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=0){if(u>=n.length)continue;n[u][s].setValue(c.getValue())}}}s++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,s,l){let c=l?1:-1,u=null;if(st.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodeword(s)),u!=null)return l?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(s),u!=null)return l?u.getStartX():u.getEndX();if(st.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodewordNearby(s)),u!=null)return l?u.getEndX():u.getStartX();let h=0;for(;st.isValidBarcodeColumn(e,n-c);){n-=c;for(let x of e.getDetectionResultColumn(n).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+c*h*(x.getEndX()-x.getStartX());h++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,s,l,c,u,h,x){c=st.adjustCodewordStartColumn(e,n,s,l,c,u);let w=st.getModuleBitCount(e,n,s,l,c,u);if(w==null)return null;let I,k=et.sum(w);if(l)I=c+k;else{for(let U=0;U<w.length/2;U++){let G=w[U];w[U]=w[w.length-1-U],w[w.length-1-U]=G}I=c,c=I-k}if(!st.checkCodewordSkew(k,h,x))return null;let O=Nn.getDecodedValue(w),B=$e.getCodeword(O);return B===-1?null:new Ni(c,I,st.getCodewordBucketNumber(O),B)}static getModuleBitCount(e,n,s,l,c,u){let h=c,x=new Int32Array(8),w=0,I=l?1:-1,k=l;for(;(l?h<s:h>=n)&&w<x.length;)e.get(h,u)===k?(x[w]++,h+=I):(w++,k=!k);return w===x.length||h===(l?s:n)&&w===x.length-1?x:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,s,l,c,u){let h=c,x=l?-1:1;for(let w=0;w<2;w++){for(;(l?h>=n:h<s)&&l===e.get(h,u);){if(Math.abs(c-h)>st.CODEWORD_SKEW_SIZE)return c;h+=x}x=-x,l=!l}return h}static checkCodewordSkew(e,n,s){return n-st.CODEWORD_SKEW_SIZE<=e&&e<=s+st.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,s){if(e.length===0)throw Z.getFormatInstance();let l=1<<n+1,c=st.correctErrors(e,s,l);st.verifyCodewordCount(e,l);let u=oe.decode(e,""+n);return u.setErrorsCorrected(c),u.setErasures(s.length),u}static correctErrors(e,n,s){if(n!=null&&n.length>s/2+st.MAX_ERRORS||s<0||s>st.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return st.errorCorrection.decode(e,s,n)}static verifyCodewordCount(e,n){if(e.length<4)throw Z.getFormatInstance();let s=e[0];if(s>e.length)throw Z.getFormatInstance();if(s===0)if(n<e.length)e[0]=e.length-n;else throw Z.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),s=0,l=n.length-1;for(;!((e&1)!==s&&(s=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return st.getCodewordBucketNumber(st.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new ni;for(let s=0;s<e.length;s++){n.format("Row %2d: ",s);for(let l=0;l<e[s].length;l++){let c=e[s][l];c.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}n.format("%n")}return n.toString()}}st.CODEWORD_SKEW_SIZE=2,st.MAX_ERRORS=3,st.MAX_EC_CODEWORDS=512,st.errorCorrection=new ia;class Tn{decode(e,n=null){let s=Tn.decode(e,n,!1);if(s==null||s.length===0||s[0]==null)throw te.getNotFoundInstance();return s[0]}decodeMultiple(e,n=null){try{return Tn.decode(e,n,!0)}catch(s){throw s instanceof Z||s instanceof L?te.getNotFoundInstance():s}}static decode(e,n,s){const l=new Array,c=rt.detectMultiple(e,n,s);for(const u of c.getPoints()){const h=st.decode(c.getBits(),u[4],u[5],u[6],u[7],Tn.getMinCodewordWidth(u),Tn.getMaxCodewordWidth(u)),x=new Te(h.getText(),h.getRawBytes(),void 0,u,Ce.PDF_417);x.putMetadata(De.ERROR_CORRECTION_LEVEL,h.getECLevel());const w=h.getOther();w!=null&&x.putMetadata(De.PDF417_EXTRA_METADATA,w),l.push(x)}return l.map(u=>u)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?X.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Tn.getMaxWidth(e[0],e[4]),Tn.getMaxWidth(e[6],e[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(Tn.getMaxWidth(e[1],e[5]),Tn.getMaxWidth(e[7],e[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Tn.getMinWidth(e[0],e[4]),Tn.getMinWidth(e[6],e[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(Tn.getMinWidth(e[1],e[5]),Tn.getMinWidth(e[7],e[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ji extends E{}Ji.kind="ReaderException";class oo{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!f(e)&&e.get(ue.TRY_HARDER)===!0,s=f(e)?null:e.get(ue.POSSIBLE_FORMATS),l=new Array;if(!f(s)){const c=s.some(u=>u===Ce.UPC_A||u===Ce.UPC_E||u===Ce.EAN_13||u===Ce.EAN_8||u===Ce.CODABAR||u===Ce.CODE_39||u===Ce.CODE_93||u===Ce.CODE_128||u===Ce.ITF||u===Ce.RSS_14||u===Ce.RSS_EXPANDED);c&&!n&&l.push(new Ki(e,this.verbose)),s.includes(Ce.QR_CODE)&&l.push(new zn),s.includes(Ce.DATA_MATRIX)&&l.push(new Ir),s.includes(Ce.AZTEC)&&l.push(new Ar),s.includes(Ce.PDF_417)&&l.push(new Tn),c&&n&&l.push(new Ki(e,this.verbose))}l.length===0&&(n||l.push(new Ki(e,this.verbose)),l.push(new zn),l.push(new Ir),l.push(new Ar),l.push(new Tn),n&&l.push(new Ki(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Ji("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(s){if(s instanceof Ji)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class _s extends Ee{constructor(e=null,n=500){const s=new oo;s.setHints(e),super(s,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class ao extends Ee{constructor(e=500){super(new Tn,e)}}class xl extends Ee{constructor(e=500){super(new zn,e)}}var aa;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(aa||(aa={}));var gn=aa;class la{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Dt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let s=n[n.length-1];const l=this.field;for(let c=n.length;c<=e;c++){const u=s.multiply(new Dt(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));n.push(u),s=u}}return n[e]}encode(e,n){if(n===0)throw new S("No error correction bytes");const s=e.length-n;if(s<=0)throw new S("No data bytes provided");const l=this.buildGenerator(n),c=new Int32Array(s);F.arraycopy(e,0,c,0,s);let u=new Dt(this.field,c);u=u.multiplyByMonomial(n,1);const x=u.divide(l)[1].getCoefficients(),w=n-x.length;for(let I=0;I<w;I++)e[s+I]=0;F.arraycopy(x,0,e,s+w,x.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(e){return zt.applyMaskPenaltyRule1Internal(e,!0)+zt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const s=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c-1;u++){const h=s[u];for(let x=0;x<l-1;x++){const w=h[x];w===h[x+1]&&w===s[u+1][x]&&w===s[u+1][x+1]&&n++}}return zt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const s=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c;u++)for(let h=0;h<l;h++){const x=s[u];h+6<l&&x[h]===1&&x[h+1]===0&&x[h+2]===1&&x[h+3]===1&&x[h+4]===1&&x[h+5]===0&&x[h+6]===1&&(zt.isWhiteHorizontal(x,h-4,h)||zt.isWhiteHorizontal(x,h+7,h+11))&&n++,u+6<c&&s[u][h]===1&&s[u+1][h]===0&&s[u+2][h]===1&&s[u+3][h]===1&&s[u+4][h]===1&&s[u+5][h]===0&&s[u+6][h]===1&&(zt.isWhiteVertical(s,h,u-4,u)||zt.isWhiteVertical(s,h,u+7,u+11))&&n++}return n*zt.N3}static isWhiteHorizontal(e,n,s){n=Math.max(n,0),s=Math.min(s,e.length);for(let l=n;l<s;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,s,l){s=Math.max(s,0),l=Math.min(l,e.length);for(let c=s;c<l;c++)if(e[c][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const s=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let x=0;x<c;x++){const w=s[x];for(let I=0;I<l;I++)w[I]===1&&n++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-u)*10/u)*zt.N4}static getDataMaskBit(e,n,s){let l,c;switch(e){case 0:l=s+n&1;break;case 1:l=s&1;break;case 2:l=n%3;break;case 3:l=(s+n)%3;break;case 4:l=Math.floor(s/2)+Math.floor(n/3)&1;break;case 5:c=s*n,l=(c&1)+c%3;break;case 6:c=s*n,l=(c&1)+c%3&1;break;case 7:c=s*n,l=c%3+(s+n&1)&1;break;default:throw new S("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let s=0;const l=n?e.getHeight():e.getWidth(),c=n?e.getWidth():e.getHeight(),u=e.getArray();for(let h=0;h<l;h++){let x=0,w=-1;for(let I=0;I<c;I++){const k=n?u[h][I]:u[I][h];k===w?x++:(x>=5&&(s+=zt.N1+(x-5)),x=1,w=k)}x>=5&&(s+=zt.N1+(x-5))}return s}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class lo{constructor(e,n){this.width=e,this.height=n;const s=new Array(n);for(let l=0;l!==n;l++)s[l]=new Uint8Array(e);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,s){this.bytes[n][e]=s}setBoolean(e,n,s){this.bytes[n][e]=s?1:0}clear(e){for(const n of this.bytes)ee.fill(n,e)}equals(e){if(!(e instanceof lo))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let s=0,l=this.height;s<l;++s){const c=this.bytes[s],u=n.bytes[s];for(let h=0,x=this.width;h<x;++h)if(c[h]!==u[h])return!1}return!0}toString(){const e=new xe;for(let n=0,s=this.height;n<s;++n){const l=this.bytes[n];for(let c=0,u=this.width;c<u;++c)switch(l[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ti{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ti.NUM_MASK_PATTERNS}}Ti.NUM_MASK_PATTERNS=8;class Ot extends E{}Ot.kind="WriterException";class Ze{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,s,l,c){Ze.clearMatrix(c),Ze.embedBasicPatterns(s,c),Ze.embedTypeInfo(n,l,c),Ze.maybeEmbedVersionInfo(s,c),Ze.embedDataBits(e,l,c)}static embedBasicPatterns(e,n){Ze.embedPositionDetectionPatternsAndSeparators(n),Ze.embedDarkDotAtLeftBottomCorner(n),Ze.maybeEmbedPositionAdjustmentPatterns(e,n),Ze.embedTimingPatterns(n)}static embedTypeInfo(e,n,s){const l=new ne;Ze.makeTypeInfoBits(e,n,l);for(let c=0,u=l.getSize();c<u;++c){const h=l.get(l.getSize()-1-c),x=Ze.TYPE_INFO_COORDINATES[c],w=x[0],I=x[1];if(s.setBoolean(w,I,h),c<8){const k=s.getWidth()-c-1;s.setBoolean(k,8,h)}else{const O=s.getHeight()-7+(c-8);s.setBoolean(8,O,h)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const s=new ne;Ze.makeVersionInfoBits(e,s);let l=17;for(let c=0;c<6;++c)for(let u=0;u<3;++u){const h=s.get(l);l--,n.setBoolean(c,n.getHeight()-11+u,h),n.setBoolean(n.getHeight()-11+u,c,h)}}static embedDataBits(e,n,s){let l=0,c=-1,u=s.getWidth()-1,h=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);h>=0&&h<s.getHeight();){for(let x=0;x<2;++x){const w=u-x;if(!Ze.isEmpty(s.get(w,h)))continue;let I;l<e.getSize()?(I=e.get(l),++l):I=!1,n!==255&&zt.getDataMaskBit(n,w,h)&&(I=!I),s.setBoolean(w,h,I)}h+=c}c=-c,h+=c,u-=2}if(l!==e.getSize())throw new Ot("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-X.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new S("0 polynomial");const s=Ze.findMSBSet(n);for(e<<=s-1;Ze.findMSBSet(e)>=s;)e^=n<<Ze.findMSBSet(e)-s;return e}static makeTypeInfoBits(e,n,s){if(!Ti.isValidMaskPattern(n))throw new Ot("Invalid mask pattern");const l=e.getBits()<<3|n;s.appendBits(l,5);const c=Ze.calculateBCHCode(l,Ze.TYPE_INFO_POLY);s.appendBits(c,10);const u=new ne;if(u.appendBits(Ze.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new Ot("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const s=Ze.calculateBCHCode(e.getVersionNumber(),Ze.VERSION_INFO_POLY);if(n.appendBits(s,12),n.getSize()!==18)throw new Ot("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const s=(n+1)%2;Ze.isEmpty(e.get(n,6))&&e.setNumber(n,6,s),Ze.isEmpty(e.get(6,n))&&e.setNumber(6,n,s)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ot;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,s){for(let l=0;l<8;++l){if(!Ze.isEmpty(s.get(e+l,n)))throw new Ot;s.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,s){for(let l=0;l<7;++l){if(!Ze.isEmpty(s.get(e,n+l)))throw new Ot;s.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,s){for(let l=0;l<5;++l){const c=Ze.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)s.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPattern(e,n,s){for(let l=0;l<7;++l){const c=Ze.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)s.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Ze.POSITION_DETECTION_PATTERN[0].length;Ze.embedPositionDetectionPattern(0,0,e),Ze.embedPositionDetectionPattern(e.getWidth()-n,0,e),Ze.embedPositionDetectionPattern(0,e.getWidth()-n,e);const s=8;Ze.embedHorizontalSeparationPattern(0,s-1,e),Ze.embedHorizontalSeparationPattern(e.getWidth()-s,s-1,e),Ze.embedHorizontalSeparationPattern(0,e.getWidth()-s,e);const l=7;Ze.embedVerticalSeparationPattern(l,0,e),Ze.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Ze.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const s=e.getVersionNumber()-1,l=Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let c=0,u=l.length;c!==u;c++){const h=l[c];if(h>=0)for(let x=0;x!==u;x++){const w=l[x];w>=0&&Ze.isEmpty(n.get(w,h))&&Ze.embedPositionAdjustmentPattern(w-2,h-2,n)}}}}Ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ze.VERSION_INFO_POLY=7973,Ze.TYPE_INFO_POLY=1335,Ze.TYPE_INFO_MASK_PATTERN=21522;class nu{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pt{constructor(){}static calculateMaskPenalty(e){return zt.applyMaskPenaltyRule1(e)+zt.applyMaskPenaltyRule2(e)+zt.applyMaskPenaltyRule3(e)+zt.applyMaskPenaltyRule4(e)}static encode(e,n,s=null){let l=Pt.DEFAULT_BYTE_MODE_ENCODING;const c=s!==null&&s.get(gn.CHARACTER_SET)!==void 0;c&&(l=s.get(gn.CHARACTER_SET).toString());const u=this.chooseMode(e,l),h=new ne;if(u===Ke.BYTE&&(c||Pt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Ne=le.getCharacterSetECIByName(l);Ne!==void 0&&this.appendECI(Ne,h)}this.appendModeInfo(u,h);const x=new ne;this.appendBytes(e,u,x,l);let w;if(s!==null&&s.get(gn.QR_VERSION)!==void 0){const Ne=Number.parseInt(s.get(gn.QR_VERSION).toString(),10);w=Xe.getVersionForNumber(Ne);const we=this.calculateBitsNeeded(u,h,x,w);if(!this.willFit(we,w,n))throw new Ot("Data too big for requested version")}else w=this.recommendVersion(n,u,h,x);const I=new ne;I.appendBitArray(h);const k=u===Ke.BYTE?x.getSizeInBytes():e.length;this.appendLengthInfo(k,w,u,I),I.appendBitArray(x);const O=w.getECBlocksForLevel(n),B=w.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(B,I);const U=this.interleaveWithECBytes(I,w.getTotalCodewords(),B,O.getNumBlocks()),G=new Ti;G.setECLevel(n),G.setMode(u),G.setVersion(w);const q=w.getDimensionForVersion(),se=new lo(q,q),Se=this.chooseMaskPattern(U,n,w,se);return G.setMaskPattern(Se),Ze.buildMatrix(U,n,w,Se,se),G.setMatrix(se),G}static recommendVersion(e,n,s,l){const c=this.calculateBitsNeeded(n,s,l,Xe.getVersionForNumber(1)),u=this.chooseVersion(c,e),h=this.calculateBitsNeeded(n,s,l,u);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,n,s,l){return n.getSize()+e.getCharacterCountBits(l)+s.getSize()}static getAlphanumericCode(e){return e<Pt.ALPHANUMERIC_TABLE.length?Pt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(le.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Ke.KANJI;let s=!1,l=!1;for(let c=0,u=e.length;c<u;++c){const h=e.charAt(c);if(Pt.isDigit(h))s=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Ke.BYTE}return l?Ke.ALPHANUMERIC:s?Ke.NUMERIC:Ke.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=me.encode(e,le.SJIS)}catch{return!1}const s=n.length;if(s%2!==0)return!1;for(let l=0;l<s;l+=2){const c=n[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,n,s,l){let c=Number.MAX_SAFE_INTEGER,u=-1;for(let h=0;h<Ti.NUM_MASK_PATTERNS;h++){Ze.buildMatrix(e,n,s,h,l);let x=this.calculateMaskPenalty(l);x<c&&(c=x,u=h)}return u}static chooseVersion(e,n){for(let s=1;s<=40;s++){const l=Xe.getVersionForNumber(s);if(Pt.willFit(e,l,n))return l}throw new Ot("Data too big")}static willFit(e,n,s){const l=n.getTotalCodewords(),u=n.getECBlocksForLevel(s).getTotalECCodewords(),h=l-u,x=(e+7)/8;return h>=x}static terminateBits(e,n){const s=e*8;if(n.getSize()>s)throw new Ot("data bits cannot fit in the QR Code"+n.getSize()+" > "+s);for(let u=0;u<4&&n.getSize()<s;++u)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let u=l;u<8;u++)n.appendBit(!1);const c=e-n.getSizeInBytes();for(let u=0;u<c;++u)n.appendBits((u&1)===0?236:17,8);if(n.getSize()!==s)throw new Ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,s,l,c,u){if(l>=s)throw new Ot("Block ID too large");const h=e%s,x=s-h,w=Math.floor(e/s),I=w+1,k=Math.floor(n/s),O=k+1,B=w-k,U=I-O;if(B!==U)throw new Ot("EC bytes mismatch");if(s!==x+h)throw new Ot("RS blocks mismatch");if(e!==(k+B)*x+(O+U)*h)throw new Ot("Total bytes mismatch");l<x?(c[0]=k,u[0]=B):(c[0]=O,u[0]=U)}static interleaveWithECBytes(e,n,s,l){if(e.getSizeInBytes()!==s)throw new Ot("Number of bits and data bytes does not match");let c=0,u=0,h=0;const x=new Array;for(let I=0;I<l;++I){const k=new Int32Array(1),O=new Int32Array(1);Pt.getNumDataBytesAndNumECBytesForBlockID(n,s,l,I,k,O);const B=k[0],U=new Uint8Array(B);e.toBytes(8*c,U,0,B);const G=Pt.generateECBytes(U,O[0]);x.push(new nu(U,G)),u=Math.max(u,B),h=Math.max(h,G.length),c+=k[0]}if(s!==c)throw new Ot("Data bytes does not match offset");const w=new ne;for(let I=0;I<u;++I)for(const k of x){const O=k.getDataBytes();I<O.length&&w.appendBits(O[I],8)}for(let I=0;I<h;++I)for(const k of x){const O=k.getErrorCorrectionBytes();I<O.length&&w.appendBits(O[I],8)}if(n!==w.getSizeInBytes())throw new Ot("Interleaving error: "+n+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(e,n){const s=e.length,l=new Int32Array(s+n);for(let u=0;u<s;u++)l[u]=e[u]&255;new la(ft.QR_CODE_FIELD_256).encode(l,n);const c=new Uint8Array(n);for(let u=0;u<n;u++)c[u]=l[s+u];return c}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,s,l){const c=s.getCharacterCountBits(n);if(e>=1<<c)throw new Ot(e+" is bigger than "+((1<<c)-1));l.appendBits(e,c)}static appendBytes(e,n,s,l){switch(n){case Ke.NUMERIC:Pt.appendNumericBytes(e,s);break;case Ke.ALPHANUMERIC:Pt.appendAlphanumericBytes(e,s);break;case Ke.BYTE:Pt.append8BitBytes(e,s,l);break;case Ke.KANJI:Pt.appendKanjiBytes(e,s);break;default:throw new Ot("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Pt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const s=e.length;let l=0;for(;l<s;){const c=Pt.getDigit(e.charAt(l));if(l+2<s){const u=Pt.getDigit(e.charAt(l+1)),h=Pt.getDigit(e.charAt(l+2));n.appendBits(c*100+u*10+h,10),l+=3}else if(l+1<s){const u=Pt.getDigit(e.charAt(l+1));n.appendBits(c*10+u,7),l+=2}else n.appendBits(c,4),l++}}static appendAlphanumericBytes(e,n){const s=e.length;let l=0;for(;l<s;){const c=Pt.getAlphanumericCode(e.charCodeAt(l));if(c===-1)throw new Ot;if(l+1<s){const u=Pt.getAlphanumericCode(e.charCodeAt(l+1));if(u===-1)throw new Ot;n.appendBits(c*45+u,11),l+=2}else n.appendBits(c,6),l++}}static append8BitBytes(e,n,s){let l;try{l=me.encode(e,s)}catch(c){throw new Ot(c)}for(let c=0,u=l.length;c!==u;c++){const h=l[c];n.appendBits(h,8)}}static appendKanjiBytes(e,n){let s;try{s=me.encode(e,le.SJIS)}catch(c){throw new Ot(c)}const l=s.length;for(let c=0;c<l;c+=2){const u=s[c]&255,h=s[c+1]&255,x=u<<8&4294967295|h;let w=-1;if(x>=33088&&x<=40956?w=x-33088:x>=57408&&x<=60351&&(w=x-49472),w===-1)throw new Ot("Invalid byte sequence");const I=(w>>8)*192+(w&255);n.appendBits(I,13)}}static appendECI(e,n){n.appendBits(Ke.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Pt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pt.DEFAULT_BYTE_MODE_ENCODING=le.UTF8.getName();class Ii{write(e,n,s,l=null){if(e.length===0)throw new S("Found empty contents");if(n<0||s<0)throw new S("Requested dimensions are too small: "+n+"x"+s);let c=Rt.L,u=Ii.QUIET_ZONE_SIZE;l!==null&&(l.get(gn.ERROR_CORRECTION)!==void 0&&(c=Rt.fromString(l.get(gn.ERROR_CORRECTION).toString())),l.get(gn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(gn.MARGIN).toString(),10)));const h=Pt.encode(e,c,l);return this.renderResult(h,n,s,u)}writeToDom(e,n,s,l,c=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(n,s,l,c);e&&e.appendChild(u)}renderResult(e,n,s,l){const c=e.getMatrix();if(c===null)throw new ir;const u=c.getWidth(),h=c.getHeight(),x=u+l*2,w=h+l*2,I=Math.max(n,x),k=Math.max(s,w),O=Math.min(Math.floor(I/x),Math.floor(k/w)),B=Math.floor((I-u*O)/2),U=Math.floor((k-h*O)/2),G=this.createSVGElement(I,k);for(let q=0,se=U;q<h;q++,se+=O)for(let Se=0,Ne=B;Se<u;Se++,Ne+=O)if(c.get(Se,q)===1){const we=this.createSvgRectElement(Ne,se,O,O);G.appendChild(we)}return G}createSVGElement(e,n){const s=document.createElementNS(Ii.SVG_NS,"svg");return s.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width",n.toString()),s}createSvgRectElement(e,n,s,l){const c=document.createElementNS(Ii.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Ii.QUIET_ZONE_SIZE=4,Ii.SVG_NS="http://www.w3.org/2000/svg";class es{encode(e,n,s,l,c){if(e.length===0)throw new S("Found empty contents");if(n!==Ce.QR_CODE)throw new S("Can only encode QR_CODE, but got "+n);if(s<0||l<0)throw new S(`Requested dimensions are too small: ${s}x${l}`);let u=Rt.L,h=es.QUIET_ZONE_SIZE;c!==null&&(c.get(gn.ERROR_CORRECTION)!==void 0&&(u=Rt.fromString(c.get(gn.ERROR_CORRECTION).toString())),c.get(gn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(gn.MARGIN).toString(),10)));const x=Pt.encode(e,u,c);return es.renderResult(x,s,l,h)}static renderResult(e,n,s,l){const c=e.getMatrix();if(c===null)throw new ir;const u=c.getWidth(),h=c.getHeight(),x=u+l*2,w=h+l*2,I=Math.max(n,x),k=Math.max(s,w),O=Math.min(Math.floor(I/x),Math.floor(k/w)),B=Math.floor((I-u*O)/2),U=Math.floor((k-h*O)/2),G=new je(I,k);for(let q=0,se=U;q<h;q++,se+=O)for(let Se=0,Ne=B;Se<u;Se++,Ne+=O)c.get(Se,q)===1&&G.setRegion(Ne,se,O,O);return G}}es.QUIET_ZONE_SIZE=4;class ru{encode(e,n,s,l,c){let u;switch(n){case Ce.QR_CODE:u=new es;break;default:throw new S("No encoder available for format "+n)}return u.encode(e,n,s,l,c)}}class zr extends ie{constructor(e,n,s,l,c,u,h,x){if(super(u,h),this.yuvData=e,this.dataWidth=n,this.dataHeight=s,this.left=l,this.top=c,l+u>n||c+h>s)throw new S("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(u,h)}getRow(e,n){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const s=this.getWidth();(n==null||n.length<s)&&(n=new Uint8ClampedArray(s));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,l,n,0,s),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const s=e*n,l=new Uint8ClampedArray(s);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.yuvData,c,l,0,s),l;for(let u=0;u<n;u++){const h=u*e;F.arraycopy(this.yuvData,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,s,l){return new zr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,s,l,!1)}renderThumbnail(){const e=this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(e*n),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let u=0;u<n;u++){const h=u*e;for(let x=0;x<e;x++){const w=l[c+x*zr.THUMBNAIL_SCALE_FACTOR]&255;s[h+x]=4278190080|w*65793}c+=this.dataWidth*zr.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const s=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<n;l++,c+=this.dataWidth){const u=c+e/2;for(let h=c,x=c+e-1;h<u;h++,x--){const w=s[h];s[h]=s[x],s[x]=w}}}invert(){return new Oe(this)}}zr.THUMBNAIL_SCALE_FACTOR=2;class Os extends ie{constructor(e,n,s,l,c,u,h){if(super(n,s),this.dataWidth=l,this.dataHeight=c,this.left=u,this.top=h,e.BYTES_PER_ELEMENT===4){const x=n*s,w=new Uint8ClampedArray(x);for(let I=0;I<x;I++){const k=e[I],O=k>>16&255,B=k>>7&510,U=k&255;w[I]=(O+B+U)/4&255}this.luminances=w}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),c===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+s>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const s=this.getWidth();(n==null||n.length<s)&&(n=new Uint8ClampedArray(s));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,l,n,0,s),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const s=e*n,l=new Uint8ClampedArray(s);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.luminances,c,l,0,s),l;for(let u=0;u<n;u++){const h=u*e;F.arraycopy(this.luminances,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,s,l){return new Os(this.luminances,s,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Oe(this)}}class yl extends le{static forName(e){return this.getCharacterSetECIByName(e)}}class ca{}ca.ISO_8859_1=le.ISO8859_1;class wl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ua{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class iu{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ts extends iu{constructor(e,n,s){super(e),this.value=n,this.bitCount=s}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new ts(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ts(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+X.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class da extends ts{constructor(e,n,s){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=s}appendTo(e,n){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):s===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+s],8)}addBinaryShift(e,n){return new da(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function su(R,e,n){return new da(R,e,n)}function Ds(R,e,n){return new ts(R,e,n)}const ou=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pi=0,ns=1,Mn=2,vl=3,kr=4,Cl=new ts(null,0,0),co=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function El(R){for(let e of R)ee.fill(e,-1);return R[pi][kr]=0,R[ns][kr]=0,R[ns][pi]=28,R[vl][kr]=0,R[Mn][kr]=0,R[Mn][pi]=15,R}const fa=El(ee.createInt32Array(6,6));class Wn{constructor(e,n,s,l){this.token=e,this.mode=n,this.binaryShiftByteCount=s,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let s=this.bitCount,l=this.token;if(e!==this.mode){let u=co[this.mode][e];l=Ds(l,u&65535,u>>16),s+=u>>16}let c=e===Mn?4:5;return l=Ds(l,n,c),new Wn(l,e,0,s+c)}shiftAndAppend(e,n){let s=this.token,l=this.mode===Mn?4:5;return s=Ds(s,fa[this.mode][e],l),s=Ds(s,n,5),new Wn(s,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,s=this.mode,l=this.bitCount;if(this.mode===kr||this.mode===Mn){let h=co[s][pi];n=Ds(n,h&65535,h>>16),l+=h>>16,s=pi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Wn(n,s,this.binaryShiftByteCount+1,l+c);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=su(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Wn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(co[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Wn.calculateBinaryShiftCost(e)-Wn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let s=new ne;for(const l of n)l.appendTo(s,e);return s}toString(){return ce.format("%s bits=%d bytes=%d",ou[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Wn.INITIAL_STATE=new Wn(Cl,pi,0,0);function au(R){const e=ce.getCharCode(" "),n=ce.getCharCode("."),s=ce.getCharCode(",");R[pi][e]=1;const l=ce.getCharCode("Z"),c=ce.getCharCode("A");for(let O=c;O<=l;O++)R[pi][O]=O-c+2;R[ns][e]=1;const u=ce.getCharCode("z"),h=ce.getCharCode("a");for(let O=h;O<=u;O++)R[ns][O]=O-h+2;R[Mn][e]=1;const x=ce.getCharCode("9"),w=ce.getCharCode("0");for(let O=w;O<=x;O++)R[Mn][O]=O-w+2;R[Mn][s]=12,R[Mn][n]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<I.length;O++)R[vl][ce.getCharCode(I[O])]=O;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<k.length;O++)ce.getCharCode(k[O])>0&&(R[kr][ce.getCharCode(k[O])]=O);return R}const ha=au(ee.createInt32Array(5,256));class Ms{constructor(e){this.text=e}encode(){const e=ce.getCharCode(" "),n=ce.getCharCode(`
`);let s=ua.singletonList(Wn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let u,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case ce.getCharCode("\r"):u=h===n?2:0;break;case ce.getCharCode("."):u=h===e?3:0;break;case ce.getCharCode(","):u=h===e?4:0;break;case ce.getCharCode(":"):u=h===e?5:0;break;default:u=0}u>0?(s=Ms.updateStateListForPair(s,c,u),c++):s=this.updateStateListForChar(s,c)}return ua.min(s,(c,u)=>c.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const s=[];for(let l of e)this.updateStateForChar(l,n,s);return Ms.simplifyStates(s)}updateStateForChar(e,n,s){let l=this.text[n]&255,c=ha[e.getMode()][l]>0,u=null;for(let h=0;h<=kr;h++){let x=ha[h][l];if(x>0){if(u==null&&(u=e.endBinaryShift(n)),!c||h===e.getMode()||h===Mn){const w=u.latchAndAppend(h,x);s.push(w)}if(!c&&fa[e.getMode()][h]>=0){const w=u.shiftAndAppend(h,x);s.push(w)}}}if(e.getBinaryShiftByteCount()>0||ha[e.getMode()][l]===0){let h=e.addBinaryShiftChar(n);s.push(h)}}static updateStateListForPair(e,n,s){const l=[];for(let c of e)this.updateStateForPair(c,n,s,l);return this.simplifyStates(l)}static updateStateForPair(e,n,s,l){let c=e.endBinaryShift(n);if(l.push(c.latchAndAppend(kr,s)),e.getMode()!==kr&&l.push(c.shiftAndAppend(kr,s)),s===3||s===4){let u=c.latchAndAppend(Mn,16-s).latchAndAppend(Mn,1);l.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(u)}}static simplifyStates(e){let n=[];for(const s of e){let l=!0;for(const c of n){if(c.isBetterThanOrEqualTo(s)){l=!1;break}s.isBetterThanOrEqualTo(c)&&(n=n.filter(u=>u!==c))}l&&n.push(s)}return n}}class pt{constructor(){}static encodeBytes(e){return pt.encode(e,pt.DEFAULT_EC_PERCENT,pt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,s){let l=new Ms(e).encode(),c=X.truncDivision(l.getSize()*n,100)+11,u=l.getSize()+c,h,x,w,I,k;if(s!==pt.DEFAULT_AZTEC_LAYERS){if(h=s<0,x=Math.abs(s),x>(h?pt.MAX_NB_BITS_COMPACT:pt.MAX_NB_BITS))throw new S(ce.format("Illegal value %s for layers",s));w=pt.totalBitsInLayer(x,h),I=pt.WORD_SIZE[x];let we=w-w%I;if(k=pt.stuffBits(l,I),k.getSize()+c>we)throw new S("Data to large for user specified layer");if(h&&k.getSize()>I*64)throw new S("Data to large for user specified layer")}else{I=0,k=null;for(let we=0;;we++){if(we>pt.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(h=we<=3,x=h?we+1:we,w=pt.totalBitsInLayer(x,h),u>w)continue;(k==null||I!==pt.WORD_SIZE[x])&&(I=pt.WORD_SIZE[x],k=pt.stuffBits(l,I));let ut=w-w%I;if(!(h&&k.getSize()>I*64)&&k.getSize()+c<=ut)break}}let O=pt.generateCheckWords(k,w,I),B=k.getSize()/I,U=pt.generateModeMessage(h,x,B),G=(h?11:14)+x*4,q=new Int32Array(G),se;if(h){se=G;for(let we=0;we<q.length;we++)q[we]=we}else{se=G+1+2*X.truncDivision(X.truncDivision(G,2)-1,15);let we=X.truncDivision(G,2),ut=X.truncDivision(se,2);for(let it=0;it<we;it++){let $n=it+X.truncDivision(it,15);q[we-it-1]=ut-$n-1,q[we+it]=ut+$n+1}}let Se=new je(se);for(let we=0,ut=0;we<x;we++){let it=(x-we)*4+(h?9:12);for(let $n=0;$n<it;$n++){let _r=$n*2;for(let pn=0;pn<2;pn++)O.get(ut+_r+pn)&&Se.set(q[we*2+pn],q[we*2+$n]),O.get(ut+it*2+_r+pn)&&Se.set(q[we*2+$n],q[G-1-we*2-pn]),O.get(ut+it*4+_r+pn)&&Se.set(q[G-1-we*2-pn],q[G-1-we*2-$n]),O.get(ut+it*6+_r+pn)&&Se.set(q[G-1-we*2-$n],q[we*2+pn])}ut+=it*8}if(pt.drawModeMessage(Se,h,se,U),h)pt.drawBullsEye(Se,X.truncDivision(se,2),5);else{pt.drawBullsEye(Se,X.truncDivision(se,2),7);for(let we=0,ut=0;we<X.truncDivision(G,2)-1;we+=15,ut+=16)for(let it=X.truncDivision(se,2)&1;it<se;it+=2)Se.set(X.truncDivision(se,2)-ut,it),Se.set(X.truncDivision(se,2)+ut,it),Se.set(it,X.truncDivision(se,2)-ut),Se.set(it,X.truncDivision(se,2)+ut)}let Ne=new wl;return Ne.setCompact(h),Ne.setSize(se),Ne.setLayers(x),Ne.setCodeWords(B),Ne.setMatrix(Se),Ne}static drawBullsEye(e,n,s){for(let l=0;l<s;l+=2)for(let c=n-l;c<=n+l;c++)e.set(c,n-l),e.set(c,n+l),e.set(n-l,c),e.set(n+l,c);e.set(n-s,n-s),e.set(n-s+1,n-s),e.set(n-s,n-s+1),e.set(n+s,n-s),e.set(n+s,n-s+1),e.set(n+s,n+s-1)}static generateModeMessage(e,n,s){let l=new ne;return e?(l.appendBits(n-1,2),l.appendBits(s-1,6),l=pt.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(s-1,11),l=pt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,s,l){let c=X.truncDivision(s,2);if(n)for(let u=0;u<7;u++){let h=c-3+u;l.get(u)&&e.set(h,c-5),l.get(u+7)&&e.set(c+5,h),l.get(20-u)&&e.set(h,c+5),l.get(27-u)&&e.set(c-5,h)}else for(let u=0;u<10;u++){let h=c-5+u+X.truncDivision(u,5);l.get(u)&&e.set(h,c-7),l.get(u+10)&&e.set(c+7,h),l.get(29-u)&&e.set(h,c+7),l.get(39-u)&&e.set(c-7,h)}}static generateCheckWords(e,n,s){let l=e.getSize()/s,c=new la(pt.getGF(s)),u=X.truncDivision(n,s),h=pt.bitsToWords(e,s,u);c.encode(h,u-l);let x=n%s,w=new ne;w.appendBits(0,x);for(const I of Array.from(h))w.appendBits(I,s);return w}static bitsToWords(e,n,s){let l=new Int32Array(s),c,u;for(c=0,u=e.getSize()/n;c<u;c++){let h=0;for(let x=0;x<n;x++)h|=e.get(c*n+x)?1<<n-x-1:0;l[c]=h}return l}static getGF(e){switch(e){case 4:return ft.AZTEC_PARAM;case 6:return ft.AZTEC_DATA_6;case 8:return ft.AZTEC_DATA_8;case 10:return ft.AZTEC_DATA_10;case 12:return ft.AZTEC_DATA_12;default:throw new S("Unsupported word size "+e)}}static stuffBits(e,n){let s=new ne,l=e.getSize(),c=(1<<n)-2;for(let u=0;u<l;u+=n){let h=0;for(let x=0;x<n;x++)(u+x>=l||e.get(u+x))&&(h|=1<<n-1-x);(h&c)===c?(s.appendBits(h&c,n),u--):(h&c)===0?(s.appendBits(h|1,n),u--):s.appendBits(h,n)}return s}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}pt.DEFAULT_EC_PERCENT=33,pt.DEFAULT_AZTEC_LAYERS=0,pt.MAX_NB_BITS=32,pt.MAX_NB_BITS_COMPACT=4,pt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ps{encode(e,n,s,l){return this.encodeWithHints(e,n,s,l,null)}encodeWithHints(e,n,s,l,c){let u=ca.ISO_8859_1,h=pt.DEFAULT_EC_PERCENT,x=pt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(gn.CHARACTER_SET)&&(u=yl.forName(c.get(gn.CHARACTER_SET).toString())),c.has(gn.ERROR_CORRECTION)&&(h=X.parseInt(c.get(gn.ERROR_CORRECTION).toString())),c.has(gn.AZTEC_LAYERS)&&(x=X.parseInt(c.get(gn.AZTEC_LAYERS).toString()))),Ps.encodeLayers(e,n,s,l,u,h,x)}static encodeLayers(e,n,s,l,c,u,h){if(n!==Ce.AZTEC)throw new S("Can only encode AZTEC, but got "+n);let x=pt.encode(ce.getBytes(e,c),u,h);return Ps.renderResult(x,s,l)}static renderResult(e,n,s){let l=e.getMatrix();if(l==null)throw new ir;let c=l.getWidth(),u=l.getHeight(),h=Math.max(n,c),x=Math.max(s,u),w=Math.min(h/c,x/u),I=(h-c*w)/2,k=(x-u*w)/2,O=new je(h,x);for(let B=0,U=k;B<u;B++,U+=w)for(let G=0,q=I;G<c;G++,q+=w)l.get(G,B)&&O.setRegion(q,U,w,w);return O}}a.AbstractExpandedDecoder=$o,a.ArgumentException=T,a.ArithmeticException=En,a.AztecCode=wl,a.AztecCodeReader=Ar,a.AztecCodeWriter=Ps,a.AztecDecoder=St,a.AztecDetector=sr,a.AztecDetectorResult=Fr,a.AztecEncoder=pt,a.AztecHighLevelEncoder=Ms,a.AztecPoint=ln,a.BarcodeFormat=Ce,a.Binarizer=z,a.BinaryBitmap=D,a.BitArray=ne,a.BitMatrix=je,a.BitSource=ta,a.BrowserAztecCodeReader=fi,a.BrowserBarcodeReader=dl,a.BrowserCodeReader=Ee,a.BrowserDatamatrixCodeReader=tu,a.BrowserMultiFormatReader=_s,a.BrowserPDF417Reader=ao,a.BrowserQRCodeReader=xl,a.BrowserQRCodeSvgWriter=Ii,a.CharacterSetECI=le,a.ChecksumException=L,a.Code128Reader=ke,a.Code39Reader=qt,a.DataMatrixDecodedBitStreamParser=Tr,a.DataMatrixReader=Ir,a.DecodeHintType=ue,a.DecoderResult=ot,a.DefaultGridSampler=Hi,a.DetectorResult=an,a.EAN13Reader=Vn,a.EncodeHintType=gn,a.Exception=E,a.FormatException=Z,a.GenericGF=ft,a.GenericGFPoly=Dt,a.GlobalHistogramBinarizer=_e,a.GridSampler=Wi,a.GridSamplerInstance=Kn,a.HTMLCanvasElementLuminanceSource=be,a.HybridBinarizer=pe,a.ITFReader=wt,a.IllegalArgumentException=S,a.IllegalStateException=ir,a.InvertedLuminanceSource=Oe,a.LuminanceSource=ie,a.MathUtils=et,a.MultiFormatOneDReader=Ki,a.MultiFormatReader=oo,a.MultiFormatWriter=ru,a.NotFoundException=te,a.OneDReader=Ht,a.PDF417DecodedBitStreamParser=oe,a.PDF417DecoderErrorCorrection=ia,a.PDF417Reader=Tn,a.PDF417ResultMetadata=io,a.PerspectiveTransform=bn,a.PlanarYUVLuminanceSource=zr,a.QRCodeByteMatrix=lo,a.QRCodeDataMask=lt,a.QRCodeDecodedBitStreamParser=Ut,a.QRCodeDecoderErrorCorrectionLevel=Rt,a.QRCodeDecoderFormatInformation=An,a.QRCodeEncoder=Pt,a.QRCodeEncoderQRCode=Ti,a.QRCodeMaskUtil=zt,a.QRCodeMatrixUtil=Ze,a.QRCodeMode=Ke,a.QRCodeReader=zn,a.QRCodeVersion=Xe,a.QRCodeWriter=es,a.RGBLuminanceSource=Os,a.RSS14Reader=Ft,a.RSSExpandedReader=he,a.ReaderException=Ji,a.ReedSolomonDecoder=ei,a.ReedSolomonEncoder=la,a.ReedSolomonException=hr,a.Result=Te,a.ResultMetadataType=De,a.ResultPoint=Pe,a.StringUtils=ce,a.UnsupportedOperationException=ge,a.VideoInputDevice=K,a.WhiteRectangleDetector=mr,a.WriterException=Ot,a.ZXingArrays=ee,a.ZXingCharset=yl,a.ZXingInteger=X,a.ZXingStandardCharsets=ca,a.ZXingStringBuilder=xe,a.ZXingStringEncoding=me,a.ZXingSystem=F,a.createAbstractExpandedDecoder=cl,Object.defineProperty(a,"__esModule",{value:!0})}))})(ja,ja.exports)),ja.exports}var Zt=aA();const lA=Of(Zt),cA=Ag({__proto__:null,default:lA},[Zt]);var $m=(function(){function r(i,a,f){if(this.formatMap=new Map([[Be.QR_CODE,Zt.BarcodeFormat.QR_CODE],[Be.AZTEC,Zt.BarcodeFormat.AZTEC],[Be.CODABAR,Zt.BarcodeFormat.CODABAR],[Be.CODE_39,Zt.BarcodeFormat.CODE_39],[Be.CODE_93,Zt.BarcodeFormat.CODE_93],[Be.CODE_128,Zt.BarcodeFormat.CODE_128],[Be.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[Be.MAXICODE,Zt.BarcodeFormat.MAXICODE],[Be.ITF,Zt.BarcodeFormat.ITF],[Be.EAN_13,Zt.BarcodeFormat.EAN_13],[Be.EAN_8,Zt.BarcodeFormat.EAN_8],[Be.PDF_417,Zt.BarcodeFormat.PDF_417],[Be.RSS_14,Zt.BarcodeFormat.RSS_14],[Be.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[Be.UPC_A,Zt.BarcodeFormat.UPC_A],[Be.UPC_E,Zt.BarcodeFormat.UPC_E],[Be.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!cA)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=f;var m=this.createZXingFormats(i),p=new Map;p.set(Zt.DecodeHintType.POSSIBLE_FORMATS,m),p.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return r.prototype.decodeAsync=function(i){var a=this;return new Promise(function(f,m){try{f(a.decode(i))}catch(p){m(p)}})},r.prototype.decode=function(i){var a=new Zt.MultiFormatReader(this.verbose,this.hints),f=new Zt.HTMLCanvasElementLuminanceSource(i),m=new Zt.BinaryBitmap(new Zt.HybridBinarizer(f)),p=a.decode(m);return{text:p.text,format:Tx.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(a,f,m){i.set(a,f)}),i},r.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},r.prototype.createZXingFormats=function(i){for(var a=[],f=0,m=i;f<m.length;f++){var p=m[f];this.formatMap.has(p)?a.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return a},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r})(),uA=function(r,i,a,f){function m(p){return p instanceof a?p:new a(function(y){y(p)})}return new(a||(a=Promise))(function(p,y){function b(T){try{E(f.next(T))}catch(S){y(S)}}function N(T){try{E(f.throw(T))}catch(S){y(S)}}function E(T){T.done?p(T.value):m(T.value).then(b,N)}E((f=f.apply(r,i||[])).next())})},dA=function(r,i){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,m,p,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){a.label=E[1];break}if(E[0]===6&&a.label<p[1]){a.label=p[1],p=E;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(E);break}p[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(r,a)}catch(T){E=[6,T],m=0}finally{f=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Jm=(function(){function r(i,a,f){if(this.formatMap=new Map([[Be.QR_CODE,"qr_code"],[Be.AZTEC,"aztec"],[Be.CODABAR,"codabar"],[Be.CODE_39,"code_39"],[Be.CODE_93,"code_93"],[Be.CODE_128,"code_128"],[Be.DATA_MATRIX,"data_matrix"],[Be.ITF,"itf"],[Be.EAN_13,"ean_13"],[Be.EAN_8,"ean_8"],[Be.PDF_417,"pdf417"],[Be.UPC_A,"upc_a"],[Be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=f;var m=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},r.prototype.decodeAsync=function(i){return uA(this,void 0,void 0,function(){var a,f;return dA(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(i)];case 1:if(a=m.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(a),[2,{text:f.rawValue,format:Tx.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(i){for(var a=null,f=0,m=0,p=i;m<p.length;m++){var y=p[m],b=y.boundingBox.width*y.boundingBox.height;b>f&&(f=b,a=y)}if(!a)throw"No largest barcode found";return a},r.prototype.createBarcodeDetectorFormats=function(i){for(var a=[],f=0,m=i;f<m.length;f++){var p=m[f];this.formatMap.has(p)?a.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},r.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},r.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(a,f,m){i.set(a,f)}),i},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r})(),eg=function(r,i,a,f){function m(p){return p instanceof a?p:new a(function(y){y(p)})}return new(a||(a=Promise))(function(p,y){function b(T){try{E(f.next(T))}catch(S){y(S)}}function N(T){try{E(f.throw(T))}catch(S){y(S)}}function E(T){T.done?p(T.value):m(T.value).then(b,N)}E((f=f.apply(r,i||[])).next())})},tg=function(r,i){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,m,p,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){a.label=E[1];break}if(E[0]===6&&a.label<p[1]){a.label=p[1],p=E;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(E);break}p[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(r,a)}catch(T){E=[6,T],m=0}finally{f=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},fA=(function(){function r(i,a,f,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,a&&Jm.isSupported()?(this.primaryDecoder=new Jm(i,f,m),this.secondaryDecoder=new $m(i,f,m)):this.primaryDecoder=new $m(i,f,m)}return r.prototype.decodeAsync=function(i){return eg(this,void 0,void 0,function(){var a;return tg(this,function(f){switch(f.label){case 0:a=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(i){return eg(this,void 0,void 0,function(){var a,f;return tg(this,function(m){switch(m.label){case 0:a=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,m.sent()];case 3:if(f=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw f;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(i){if(this.verbose){var a=performance.now()-i;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,a=0,f=this.executionResults;a<f.length;a++){var m=f[a];i+=m}var p=i/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r})(),x0=(function(){var r=function(i,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(f[p]=m[p])},r(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(i,a);function f(){this.constructor=i}i.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}})(),Wc=function(r,i,a,f){function m(p){return p instanceof a?p:new a(function(y){y(p)})}return new(a||(a=Promise))(function(p,y){function b(T){try{E(f.next(T))}catch(S){y(S)}}function N(T){try{E(f.throw(T))}catch(S){y(S)}}function E(T){T.done?p(T.value):m(T.value).then(b,N)}E((f=f.apply(r,i||[])).next())})},Hc=function(r,i){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,m,p,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){a.label=E[1];break}if(E[0]===6&&a.label<p[1]){a.label=p[1],p=E;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(E);break}p[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(r,a)}catch(T){E=[6,T],m=0}finally{f=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Rx=(function(){function r(i,a){this.name=i,this.track=a}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(i){var a={};a[this.name]=i;var f={advanced:[a]};return this.track.applyConstraints(f)},r.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var a=i[this.name];return a}return null},r})(),hA=(function(r){x0(i,r);function i(a,f){return r.call(this,a,f)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(a){var f={};f[this.name]=a;var m={advanced:[f]};return this.track.applyConstraints(m)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),f=a[this.name];return{min:f.min,max:f.max,step:f.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i})(Rx),mA=(function(r){x0(i,r);function i(a){return r.call(this,"zoom",a)||this}return i})(hA),gA=(function(r){x0(i,r);function i(a){return r.call(this,"torch",a)||this}return i})(Rx),pA=(function(){function r(i){this.track=i}return r.prototype.zoomFeature=function(){return new mA(this.track)},r.prototype.torchFeature=function(){return new gA(this.track)},r})(),xA=(function(){function r(i,a,f){this.isClosed=!1,this.parentElement=i,this.mediaStream=a,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return r.prototype.createVideoElement=function(i){var a=document.createElement("video");return a.style.width="".concat(i,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},r.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var f=i.surface.clientWidth,m=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(f,m),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(i,a,f,m){return Wc(this,void 0,void 0,function(){var p,y;return Hc(this,function(b){switch(b.label){case 0:return p=new r(i,a,m),f.aspectRatio?(y={aspectRatio:f.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:b.sent(),b.label=2;case 2:return p.setupSurface(),[2,p]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(i){this.failIfClosed();var a=this,f=function(){setTimeout(i,200),a.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(i){return Wc(this,void 0,void 0,function(){return Hc(this,function(a){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(a,f){var m=i.mediaStream.getVideoTracks(),p=m.length,y=0;i.mediaStream.getVideoTracks().forEach(function(b){i.mediaStream.removeTrack(b),b.stop(),++y,y>=p&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),a())})})},r.prototype.getCapabilities=function(){return new pA(this.getFirstTrackOrFail())},r})(),yA=(function(){function r(i){this.mediaStream=i}return r.prototype.render=function(i,a,f){return Wc(this,void 0,void 0,function(){return Hc(this,function(m){return[2,xA.create(i,this.mediaStream,a,f)]})})},r.create=function(i){return Wc(this,void 0,void 0,function(){var a,f;return Hc(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return f=m.sent(),[2,new r(f)]}})})},r})(),ng=function(r,i,a,f){function m(p){return p instanceof a?p:new a(function(y){y(p)})}return new(a||(a=Promise))(function(p,y){function b(T){try{E(f.next(T))}catch(S){y(S)}}function N(T){try{E(f.throw(T))}catch(S){y(S)}}function E(T){T.done?p(T.value):m(T.value).then(b,N)}E((f=f.apply(r,i||[])).next())})},rg=function(r,i){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,m,p,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){a.label=E[1];break}if(E[0]===6&&a.label<p[1]){a.label=p[1],p=E;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(E);break}p[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(r,a)}catch(T){E=[6,T],m=0}finally{f=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},wA=(function(){function r(){}return r.failIfNotSupported=function(){return ng(this,void 0,void 0,function(){return rg(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(i){return ng(this,void 0,void 0,function(){return rg(this,function(a){return[2,yA.create(i)]})})},r})(),vA=function(r,i,a,f){function m(p){return p instanceof a?p:new a(function(y){y(p)})}return new(a||(a=Promise))(function(p,y){function b(T){try{E(f.next(T))}catch(S){y(S)}}function N(T){try{E(f.throw(T))}catch(S){y(S)}}function E(T){T.done?p(T.value):m(T.value).then(b,N)}E((f=f.apply(r,i||[])).next())})},CA=function(r,i){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},f,m,p,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(E){return function(T){return N([E,T])}}function N(E){if(f)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(a=0)),a;)try{if(f=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,m=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){a.label=E[1];break}if(E[0]===6&&a.label<p[1]){a.label=p[1],p=E;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(E);break}p[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(r,a)}catch(T){E=[6,T],m=0}finally{f=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},EA=(function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var i=Bo.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(i=Bo.insecureContextCameraQueryError()),Promise.reject(i)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},r.getCamerasFromMediaDevices=function(){return vA(this,void 0,void 0,function(){var i,a,f,m,p,y,b;return CA(this,function(N){switch(N.label){case 0:return i=function(E){for(var T=E.getVideoTracks(),S=0,D=T;S<D.length;S++){var L=D[S];L.enabled=!1,L.stop(),E.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=N.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=N.sent(),m=[],p=0,y=f;p<y.length;p++)b=y[p],b.kind==="videoinput"&&m.push({id:b.deviceId,label:b.label});return i(a),[2,m]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,a){var f=function(p){for(var y=[],b=0,N=p;b<N.length;b++){var E=N[b];E.kind==="video"&&y.push({id:E.id,label:E.label})}i(y)},m=MediaStreamTrack;m.getSources(f)})},r})(),fn;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(fn||(fn={}));var bA=(function(){function r(){this.state=fn.NOT_STARTED,this.onGoingTransactionNewState=fn.UNKNOWN}return r.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},r.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===fn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=fn.UNKNOWN,this.directTransition(i)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===fn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=fn.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==fn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(i){switch(this.state){case fn.UNKNOWN:throw"Transition from unknown is not allowed";case fn.NOT_STARTED:this.failIfNewStateIs(i,[fn.PAUSED]);break;case fn.SCANNING:break;case fn.PAUSED:break}},r.prototype.failIfNewStateIs=function(i,a){for(var f=0,m=a;f<m.length;f++){var p=m[f];if(i===p)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},r})(),AA=(function(){function r(i){this.stateManager=i}return r.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},r.prototype.directTransition=function(i){this.stateManager.directTransition(i)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===fn.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==fn.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===fn.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===fn.PAUSED},r})(),SA=(function(){function r(){}return r.create=function(){return new AA(new bA)},r})(),NA=(function(){var r=function(i,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(f[p]=m[p])},r(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(i,a);function f(){this.constructor=i}i.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}})(),Pr=(function(r){NA(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i})(rA),TA=(function(){function r(i,a){this.logger=a,this.fps=Pr.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=Pr.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ix.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!ji(this.qrbox)},r.create=function(i,a){return new r(i,a)},r})(),IA=(function(){function r(i,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var f;typeof a=="boolean"?this.verbose=a===!0:a&&(f=a,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new sA(this.verbose),this.qrcode=new fA(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=SA.create()}return r.prototype.start=function(i,a,f,m){var p=this;if(!i)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;m?y=m:y=this.verbose?this.logger.log:function(){};var b=TA.create(a,this.logger);this.clearElement();var N=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?N=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=N,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:Pr.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var S=this,D=this.stateManagerProxy.startTransition(fn.SCANNING);return new Promise(function(L,z){var F=E?b.videoConstraints:S.createVideoConstraints(i);if(!F){D.cancel(),z("videoConstraints should be defined");return}var W={};(!E||b.aspectRatio)&&(W.aspectRatio=b.aspectRatio);var V={onRenderSurfaceReady:function(ee,X){S.setupUi(ee,X,b),S.isScanning=!0,S.foreverScan(b,f,y)}};wA.failIfNotSupported().then(function(ee){ee.create(F).then(function(X){return X.render(p.element,W,V).then(function(ne){S.renderedCamera=ne,D.execute(),L(null)}).catch(function(ne){D.cancel(),z(ne)})}).catch(function(X){D.cancel(),z(Bo.errorGettingUserMedia(X))})}).catch(function(ee){D.cancel(),z(Bo.cameraStreamingNotSupported())})})},r.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(fn.PAUSED),this.showPausedState(),(ji(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,a=function(){i.stateManagerProxy.directTransition(fn.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(fn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(i.element){var p=document.getElementById(Pr.SHADED_REGION_ELEMENT_ID);p&&i.element.removeChild(p)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),f(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),a.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(i,a){return this.scanFileV2(i,a).then(function(f){return f.decodedText})},r.prototype.scanFileV2=function(i,a){var f=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ji(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,p){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(i);var y=new Image;y.onload=function(){var b=y.width,N=y.height,E=document.getElementById(f.elementId),T=E.clientWidth?E.clientWidth:Pr.DEFAULT_WIDTH,S=Math.max(E.clientHeight?E.clientHeight:N,Pr.FILE_SCAN_MIN_HEIGHT),D=f.computeCanvasDrawConfig(b,N,T,S);if(a){var L=f.createCanvasElement(T,S,"qr-canvas-visible");L.style.display="inline-block",E.appendChild(L);var z=L.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=T,z.canvas.height=S,z.drawImage(y,0,0,b,N,D.x,D.y,D.width,D.height)}var F=Pr.FILE_SCAN_HIDDEN_CANVAS_PADDING,W=Math.max(y.width,D.width),V=Math.max(y.height,D.height),ee=W+2*F,X=V+2*F,ne=f.createCanvasElement(ee,X);E.appendChild(ne);var fe=ne.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=ee,fe.canvas.height=X,fe.drawImage(y,0,0,b,N,F,F,W,V);try{f.qrcode.decodeRobustlyAsync(ne).then(function(ue){m(qm.createFromQrcodeResult(ue))}).catch(p)}catch(ue){p("QR code parse error, error = ".concat(ue))}},y.onerror=p,y.onabort=p,y.onstalled=p,y.onsuspend=p,y.src=URL.createObjectURL(i)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return EA.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(i){if(i){if(!Ix.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(i){var a=[Be.QR_CODE,Be.AZTEC,Be.CODABAR,Be.CODE_39,Be.CODE_93,Be.CODE_128,Be.DATA_MATRIX,Be.MAXICODE,Be.ITF,Be.EAN_13,Be.EAN_8,Be.PDF_417,Be.RSS_14,Be.RSS_EXPANDED,Be.UPC_A,Be.UPC_E,Be.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return a;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],m=0,p=i.formatsToSupport;m<p.length;m++){var y=p[m];nA(y)?f.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},r.prototype.getUseBarCodeDetectorIfSupported=function(i){if(ji(i))return!0;if(!ji(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(ji(i.experimentalFeatures))return!0;var a=i.experimentalFeatures;return ji(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(i,a,f){var m=this,p=f.qrbox;this.validateQrboxConfig(p);var y=this.toQrdimensions(i,a,p),b=function(E){if(E<Pr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Pr.MIN_QR_BOX_SIZE,"px.")},N=function(E){return E>i&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=i),E};b(y.width),b(y.height),y.width=N(y.width)},r.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(i,a,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(i,a)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return f},r.prototype.setupUi=function(i,a,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(i,a,f);var m=ji(f.qrbox)?{width:i,height:a}:f.qrbox;this.validateQrboxConfig(m);var p=this.toQrdimensions(i,a,m);p.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=f.isShadedBoxEnabled()&&p.height<=a,b={x:0,y:0,width:i,height:a},N=y?this.getShadedRegionBounds(i,a,p):b,E=this.createCanvasElement(N.width,N.height),T={willReadFrequently:!0},S=E.getContext("2d",T);S.canvas.width=N.width,S.canvas.height=N.height,this.element.append(E),y&&this.possiblyInsertShadingElement(this.element,i,a,p),this.createScannerPausedUiElement(this.element),this.qrRegion=N,this.context=S,this.canvasElement=E},r.prototype.createScannerPausedUiElement=function(i){var a=document.createElement("div");a.innerText=Bo.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",i.appendChild(a),this.scannerPausedUiElement=a},r.prototype.scanContext=function(i,a){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return i(m.text,qm.createFromQrcodeResult(m)),f.possiblyUpdateShaders(!0),!0}).catch(function(m){f.possiblyUpdateShaders(!1);var p=Bo.codeParseError(m);return a(p,iA.createFrom(p)),!1})},r.prototype.foreverScan=function(i,a,f){var m=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),y=p.videoWidth/p.clientWidth,b=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var N=this.qrRegion.width*y,E=this.qrRegion.height*b,T=this.qrRegion.x*y,S=this.qrRegion.y*b;this.context.drawImage(p,T,S,N,E,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(i,a,f)},m.getTimeoutFps(i.fps))};this.scanContext(a,f).then(function(L){!L&&i.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(a,f).finally(function(){D()})):D()}).catch(function(L){m.logger.logError("Error happend while scanning context",L),D()})}},r.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var a="facingMode",f="deviceId",m={user:!0,environment:!0},p="exact",y=function(z){if(z in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(z,"'")},b=Object.keys(i);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var N=Object.keys(i)[0];if(N!==a&&N!==f)throw"Only '".concat(a,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(N===a){var E=i.facingMode;if(typeof E=="string"){if(y(E))return{facingMode:E}}else if(typeof E=="object")if(p in E){if(y(E["".concat(p)]))return{facingMode:{exact:E["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var T=typeof E;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var S=i.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(p in S)return{deviceId:{exact:S["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var D=typeof S;throw"Invalid type of 'deviceId' = ".concat(D)}}}var L=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},r.prototype.computeCanvasDrawConfig=function(i,a,f,m){if(i<=f&&a<=m){var p=(f-i)/2,y=(m-a)/2;return{x:p,y,width:i,height:a}}else{var b=i,N=a;return i>f&&(a=f/i*a,i=f),a>m&&(i=m/a*i,a=m),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(N)+" to ".concat(i,"X").concat(a,".")),this.computeCanvasDrawConfig(i,a,f,m)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},r.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=i?Pr.BORDER_SHADER_MATCH_COLOR:Pr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(i,a,f){var m=i,p=a,y=document.createElement("canvas");return y.style.width="".concat(m,"px"),y.style.height="".concat(p,"px"),y.style.display="none",y.id=ji(f)?"qr-canvas":f,y},r.prototype.getShadedRegionBounds=function(i,a,f){if(f.width>i||f.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-f.width)/2,y:(a-f.height)/2,width:f.width,height:f.height}},r.prototype.possiblyInsertShadingElement=function(i,a,f,m){if(!(a-m.width<1||f-m.height<1)){var p=document.createElement("div");p.style.position="absolute";var y=(a-m.width)/2,b=(f-m.height)/2;if(p.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(Pr.SHADED_REGION_ELEMENT_ID),a-m.width<11||f-m.height<11)this.hasBorderShaders=!1;else{var N=5,E=40;this.insertShaderBorders(p,E,N,-N,null,0,!0),this.insertShaderBorders(p,E,N,-N,null,0,!1),this.insertShaderBorders(p,E,N,null,-N,0,!0),this.insertShaderBorders(p,E,N,null,-N,0,!1),this.insertShaderBorders(p,N,E+N,-N,null,-N,!0),this.insertShaderBorders(p,N,E+N,null,-N,-N,!0),this.insertShaderBorders(p,N,E+N,-N,null,-N,!1),this.insertShaderBorders(p,N,E+N,null,-N,-N,!1),this.hasBorderShaders=!0}i.append(p)}},r.prototype.insertShaderBorders=function(i,a,f,m,p,y,b){var N=document.createElement("div");N.style.position="absolute",N.style.backgroundColor=Pr.BORDER_SHADER_DEFAULT_COLOR,N.style.width="".concat(a,"px"),N.style.height="".concat(f,"px"),m!==null&&(N.style.top="".concat(m,"px")),p!==null&&(N.style.bottom="".concat(p,"px")),b?N.style.left="".concat(y,"px"):N.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(N),i.appendChild(N)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(i){return 1e3/i},r})(),ig;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ig||(ig={}));var kx=Sg();const _x=Of(kx);function RA(r){if(typeof document>"u")return;let i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",i.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}const kA=r=>{switch(r){case"success":return DA;case"info":return PA;case"warning":return MA;case"error":return LA;default:return null}},_A=Array(12).fill(0),OA=({visible:r,className:i})=>Re.createElement("div",{className:["sonner-loading-wrapper",i].filter(Boolean).join(" "),"data-visible":r},Re.createElement("div",{className:"sonner-spinner"},_A.map((a,f)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${f}`})))),DA=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MA=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),PA=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LA=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BA=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FA=()=>{const[r,i]=Re.useState(document.hidden);return Re.useEffect(()=>{const a=()=>{i(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),r};let Tf=1;class jA{constructor(){this.subscribe=i=>(this.subscribers.push(i),()=>{const a=this.subscribers.indexOf(i);this.subscribers.splice(a,1)}),this.publish=i=>{this.subscribers.forEach(a=>a(i))},this.addToast=i=>{this.publish(i),this.toasts=[...this.toasts,i]},this.create=i=>{var a;const{message:f,...m}=i,p=typeof i?.id=="number"||((a=i.id)==null?void 0:a.length)>0?i.id:Tf++,y=this.toasts.find(N=>N.id===p),b=i.dismissible===void 0?!0:i.dismissible;return this.dismissedToasts.has(p)&&this.dismissedToasts.delete(p),y?this.toasts=this.toasts.map(N=>N.id===p?(this.publish({...N,...i,id:p,title:f}),{...N,...i,id:p,dismissible:b,title:f}):N):this.addToast({title:f,...m,dismissible:b,id:p}),p},this.dismiss=i=>(i?(this.dismissedToasts.add(i),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:i,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(f=>f({id:a.id,dismiss:!0}))}),i),this.message=(i,a)=>this.create({...a,message:i}),this.error=(i,a)=>this.create({...a,message:i,type:"error"}),this.success=(i,a)=>this.create({...a,type:"success",message:i}),this.info=(i,a)=>this.create({...a,type:"info",message:i}),this.warning=(i,a)=>this.create({...a,type:"warning",message:i}),this.loading=(i,a)=>this.create({...a,type:"loading",message:i}),this.promise=(i,a)=>{if(!a)return;let f;a.loading!==void 0&&(f=this.create({...a,promise:i,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const m=Promise.resolve(i instanceof Function?i():i);let p=f!==void 0,y;const b=m.then(async E=>{if(y=["resolve",E],Re.isValidElement(E))p=!1,this.create({id:f,type:"default",message:E});else if(UA(E)&&!E.ok){p=!1;const S=typeof a.error=="function"?await a.error(`HTTP error! status: ${E.status}`):a.error,D=typeof a.description=="function"?await a.description(`HTTP error! status: ${E.status}`):a.description,z=typeof S=="object"&&!Re.isValidElement(S)?S:{message:S};this.create({id:f,type:"error",description:D,...z})}else if(E instanceof Error){p=!1;const S=typeof a.error=="function"?await a.error(E):a.error,D=typeof a.description=="function"?await a.description(E):a.description,z=typeof S=="object"&&!Re.isValidElement(S)?S:{message:S};this.create({id:f,type:"error",description:D,...z})}else if(a.success!==void 0){p=!1;const S=typeof a.success=="function"?await a.success(E):a.success,D=typeof a.description=="function"?await a.description(E):a.description,z=typeof S=="object"&&!Re.isValidElement(S)?S:{message:S};this.create({id:f,type:"success",description:D,...z})}}).catch(async E=>{if(y=["reject",E],a.error!==void 0){p=!1;const T=typeof a.error=="function"?await a.error(E):a.error,S=typeof a.description=="function"?await a.description(E):a.description,L=typeof T=="object"&&!Re.isValidElement(T)?T:{message:T};this.create({id:f,type:"error",description:S,...L})}}).finally(()=>{p&&(this.dismiss(f),f=void 0),a.finally==null||a.finally.call(a)}),N=()=>new Promise((E,T)=>b.then(()=>y[0]==="reject"?T(y[1]):E(y[1])).catch(T));return typeof f!="string"&&typeof f!="number"?{unwrap:N}:Object.assign(f,{unwrap:N})},this.custom=(i,a)=>{const f=a?.id||Tf++;return this.create({jsx:i(f),id:f,...a}),f},this.getActiveToasts=()=>this.toasts.filter(i=>!this.dismissedToasts.has(i.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Er=new jA,VA=(r,i)=>{const a=i?.id||Tf++;return Er.addToast({title:r,...i,id:a}),a},UA=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",zA=VA,WA=()=>Er.toasts,HA=()=>Er.getActiveToasts(),gt=Object.assign(zA,{success:Er.success,info:Er.info,warning:Er.warning,error:Er.error,custom:Er.custom,message:Er.message,promise:Er.promise,dismiss:Er.dismiss,loading:Er.loading},{getHistory:WA,getToasts:HA});RA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cc(r){return r.label!==void 0}const GA=3,XA="24px",YA="16px",sg=4e3,KA=356,ZA=14,qA=45,QA=200;function Ci(...r){return r.filter(Boolean).join(" ")}function $A(r){const[i,a]=r.split("-"),f=[];return i&&f.push(i),a&&f.push(a),f}const JA=r=>{var i,a,f,m,p,y,b,N,E;const{invert:T,toast:S,unstyled:D,interacting:L,setHeights:z,visibleToasts:F,heights:W,index:V,toasts:ee,expanded:X,removeToast:ne,defaultRichColors:fe,closeButton:ue,style:Z,cancelButtonStyle:Q,actionButtonStyle:le,className:ge="",descriptionClassName:me="",duration:ce,position:xe,gap:je,expandByDefault:te,classNames:_e,icons:pe,closeButtonAriaLabel:ie="Close toast"}=r,[Oe,be]=Re.useState(null),[K,de]=Re.useState(null),[Ee,Te]=Re.useState(!1),[Ve,Ce]=Re.useState(!1),[Ye,De]=Re.useState(!1),[ot,kt]=Re.useState(!1),[Dt,En]=Re.useState(!1),[ft,hr]=Re.useState(0),[ir,ei]=Re.useState(0),Bt=Re.useRef(S.duration||ce||sg),St=Re.useRef(null),et=Re.useRef(null),Br=V===0,Pe=V+1<=F,an=S.type,Fr=S.dismissible!==!1,mr=S.className||"",Wi=S.descriptionClassName||"",bn=Re.useMemo(()=>W.findIndex(tt=>tt.toastId===S.id)||0,[W,S.id]),Hi=Re.useMemo(()=>{var tt;return(tt=S.closeButton)!=null?tt:ue},[S.closeButton,ue]),Kn=Re.useMemo(()=>S.duration||ce||sg,[S.duration,ce]),ln=Re.useRef(0),sr=Re.useRef(0),Ar=Re.useRef(0),fi=Re.useRef(null),[Ht,ke]=xe.split("-"),qt=Re.useMemo(()=>W.reduce((tt,vt,en)=>en>=bn?tt:tt+vt.height,0),[W,bn]),wt=FA(),Mt=S.invert||T,Sr=an==="loading";sr.current=Re.useMemo(()=>bn*je+qt,[bn,qt]),Re.useEffect(()=>{Bt.current=Kn},[Kn]),Re.useEffect(()=>{Te(!0)},[]),Re.useEffect(()=>{const tt=et.current;if(tt){const vt=tt.getBoundingClientRect().height;return ei(vt),z(en=>[{toastId:S.id,height:vt,position:S.position},...en]),()=>z(en=>en.filter(Ct=>Ct.toastId!==S.id))}},[z,S.id]),Re.useLayoutEffect(()=>{if(!Ee)return;const tt=et.current,vt=tt.style.height;tt.style.height="auto";const en=tt.getBoundingClientRect().height;tt.style.height=vt,ei(en),z(Ct=>Ct.find(Gt=>Gt.toastId===S.id)?Ct.map(Gt=>Gt.toastId===S.id?{...Gt,height:en}:Gt):[{toastId:S.id,height:en,position:S.position},...Ct])},[Ee,S.title,S.description,z,S.id,S.jsx,S.action,S.cancel]);const Zn=Re.useCallback(()=>{Ce(!0),hr(sr.current),z(tt=>tt.filter(vt=>vt.toastId!==S.id)),setTimeout(()=>{ne(S)},QA)},[S,ne,z,sr]);Re.useEffect(()=>{if(S.promise&&an==="loading"||S.duration===1/0||S.type==="loading")return;let tt;return X||L||wt?(()=>{if(Ar.current<ln.current){const Ct=new Date().getTime()-ln.current;Bt.current=Bt.current-Ct}Ar.current=new Date().getTime()})():(()=>{Bt.current!==1/0&&(ln.current=new Date().getTime(),tt=setTimeout(()=>{S.onAutoClose==null||S.onAutoClose.call(S,S),Zn()},Bt.current))})(),()=>clearTimeout(tt)},[X,L,S,an,wt,Zn]),Re.useEffect(()=>{S.delete&&(Zn(),S.onDismiss==null||S.onDismiss.call(S,S))},[Zn,S.delete]);function Gi(){var tt;if(pe?.loading){var vt;return Re.createElement("div",{className:Ci(_e?.loader,S==null||(vt=S.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":an==="loading"},pe.loading)}return Re.createElement(OA,{className:Ci(_e?.loader,S==null||(tt=S.classNames)==null?void 0:tt.loader),visible:an==="loading"})}const ct=S.icon||pe?.[an]||kA(an);var Vn,Xi;return Re.createElement("li",{tabIndex:0,ref:et,className:Ci(ge,mr,_e?.toast,S==null||(i=S.classNames)==null?void 0:i.toast,_e?.default,_e?.[an],S==null||(a=S.classNames)==null?void 0:a[an]),"data-sonner-toast":"","data-rich-colors":(Vn=S.richColors)!=null?Vn:fe,"data-styled":!(S.jsx||S.unstyled||D),"data-mounted":Ee,"data-promise":!!S.promise,"data-swiped":Dt,"data-removed":Ve,"data-visible":Pe,"data-y-position":Ht,"data-x-position":ke,"data-index":V,"data-front":Br,"data-swiping":Ye,"data-dismissible":Fr,"data-type":an,"data-invert":Mt,"data-swipe-out":ot,"data-swipe-direction":K,"data-expanded":!!(X||te&&Ee),"data-testid":S.testId,style:{"--index":V,"--toasts-before":V,"--z-index":ee.length-V,"--offset":`${Ve?ft:sr.current}px`,"--initial-height":te?"auto":`${ir}px`,...Z,...S.style},onDragEnd:()=>{De(!1),be(null),fi.current=null},onPointerDown:tt=>{tt.button!==2&&(Sr||!Fr||(St.current=new Date,hr(sr.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(De(!0),fi.current={x:tt.clientX,y:tt.clientY})))},onPointerUp:()=>{var tt,vt,en;if(ot||!Fr)return;fi.current=null;const Ct=Number(((tt=et.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),or=Number(((vt=et.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gt=new Date().getTime()-((en=St.current)==null?void 0:en.getTime()),_t=Oe==="x"?Ct:or,hi=Math.abs(_t)/Gt;if(Math.abs(_t)>=qA||hi>.11){hr(sr.current),S.onDismiss==null||S.onDismiss.call(S,S),de(Oe==="x"?Ct>0?"right":"left":or>0?"down":"up"),Zn(),kt(!0);return}else{var Xt,Un;(Xt=et.current)==null||Xt.style.setProperty("--swipe-amount-x","0px"),(Un=et.current)==null||Un.style.setProperty("--swipe-amount-y","0px")}En(!1),De(!1),be(null)},onPointerMove:tt=>{var vt,en,Ct;if(!fi.current||!Fr||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const Gt=tt.clientY-fi.current.y,_t=tt.clientX-fi.current.x;var hi;const Xt=(hi=r.swipeDirections)!=null?hi:$A(xe);!Oe&&(Math.abs(_t)>1||Math.abs(Gt)>1)&&be(Math.abs(_t)>Math.abs(Gt)?"x":"y");let Un={x:0,y:0};const tn=wn=>1/(1.5+Math.abs(wn)/20);if(Oe==="y"){if(Xt.includes("top")||Xt.includes("bottom"))if(Xt.includes("top")&&Gt<0||Xt.includes("bottom")&&Gt>0)Un.y=Gt;else{const wn=Gt*tn(Gt);Un.y=Math.abs(wn)<Math.abs(Gt)?wn:Gt}}else if(Oe==="x"&&(Xt.includes("left")||Xt.includes("right")))if(Xt.includes("left")&&_t<0||Xt.includes("right")&&_t>0)Un.x=_t;else{const wn=_t*tn(_t);Un.x=Math.abs(wn)<Math.abs(_t)?wn:_t}(Math.abs(Un.x)>0||Math.abs(Un.y)>0)&&En(!0),(en=et.current)==null||en.style.setProperty("--swipe-amount-x",`${Un.x}px`),(Ct=et.current)==null||Ct.style.setProperty("--swipe-amount-y",`${Un.y}px`)}},Hi&&!S.jsx&&an!=="loading"?Re.createElement("button",{"aria-label":ie,"data-disabled":Sr,"data-close-button":!0,onClick:Sr||!Fr?()=>{}:()=>{Zn(),S.onDismiss==null||S.onDismiss.call(S,S)},className:Ci(_e?.closeButton,S==null||(f=S.classNames)==null?void 0:f.closeButton)},(Xi=pe?.close)!=null?Xi:BA):null,(an||S.icon||S.promise)&&S.icon!==null&&(pe?.[an]!==null||S.icon)?Re.createElement("div",{"data-icon":"",className:Ci(_e?.icon,S==null||(m=S.classNames)==null?void 0:m.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||Gi():null,S.type!=="loading"?ct:null):null,Re.createElement("div",{"data-content":"",className:Ci(_e?.content,S==null||(p=S.classNames)==null?void 0:p.content)},Re.createElement("div",{"data-title":"",className:Ci(_e?.title,S==null||(y=S.classNames)==null?void 0:y.title)},S.jsx?S.jsx:typeof S.title=="function"?S.title():S.title),S.description?Re.createElement("div",{"data-description":"",className:Ci(me,Wi,_e?.description,S==null||(b=S.classNames)==null?void 0:b.description)},typeof S.description=="function"?S.description():S.description):null),Re.isValidElement(S.cancel)?S.cancel:S.cancel&&Cc(S.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||Q,onClick:tt=>{Cc(S.cancel)&&Fr&&(S.cancel.onClick==null||S.cancel.onClick.call(S.cancel,tt),Zn())},className:Ci(_e?.cancelButton,S==null||(N=S.classNames)==null?void 0:N.cancelButton)},S.cancel.label):null,Re.isValidElement(S.action)?S.action:S.action&&Cc(S.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||le,onClick:tt=>{Cc(S.action)&&(S.action.onClick==null||S.action.onClick.call(S.action,tt),!tt.defaultPrevented&&Zn())},className:Ci(_e?.actionButton,S==null||(E=S.classNames)==null?void 0:E.actionButton)},S.action.label):null)};function og(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function e4(r,i){const a={};return[r,i].forEach((f,m)=>{const p=m===1,y=p?"--mobile-offset":"--offset",b=p?YA:XA;function N(E){["top","right","bottom","left"].forEach(T=>{a[`${y}-${T}`]=typeof E=="number"?`${E}px`:E})}typeof f=="number"||typeof f=="string"?N(f):typeof f=="object"?["top","right","bottom","left"].forEach(E=>{f[E]===void 0?a[`${y}-${E}`]=b:a[`${y}-${E}`]=typeof f[E]=="number"?`${f[E]}px`:f[E]}):N(b)}),a}const t4=Re.forwardRef(function(i,a){const{id:f,invert:m,position:p="bottom-right",hotkey:y=["altKey","KeyT"],expand:b,closeButton:N,className:E,offset:T,mobileOffset:S,theme:D="light",richColors:L,duration:z,style:F,visibleToasts:W=GA,toastOptions:V,dir:ee=og(),gap:X=ZA,icons:ne,containerAriaLabel:fe="Notifications"}=i,[ue,Z]=Re.useState([]),Q=Re.useMemo(()=>f?ue.filter(Ee=>Ee.toasterId===f):ue.filter(Ee=>!Ee.toasterId),[ue,f]),le=Re.useMemo(()=>Array.from(new Set([p].concat(Q.filter(Ee=>Ee.position).map(Ee=>Ee.position)))),[Q,p]),[ge,me]=Re.useState([]),[ce,xe]=Re.useState(!1),[je,te]=Re.useState(!1),[_e,pe]=Re.useState(D!=="system"?D:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Re.useRef(null),Oe=y.join("+").replace(/Key/g,"").replace(/Digit/g,""),be=Re.useRef(null),K=Re.useRef(!1),de=Re.useCallback(Ee=>{Z(Te=>{var Ve;return(Ve=Te.find(Ce=>Ce.id===Ee.id))!=null&&Ve.delete||Er.dismiss(Ee.id),Te.filter(({id:Ce})=>Ce!==Ee.id)})},[]);return Re.useEffect(()=>Er.subscribe(Ee=>{if(Ee.dismiss){requestAnimationFrame(()=>{Z(Te=>Te.map(Ve=>Ve.id===Ee.id?{...Ve,delete:!0}:Ve))});return}setTimeout(()=>{_x.flushSync(()=>{Z(Te=>{const Ve=Te.findIndex(Ce=>Ce.id===Ee.id);return Ve!==-1?[...Te.slice(0,Ve),{...Te[Ve],...Ee},...Te.slice(Ve+1)]:[Ee,...Te]})})})}),[ue]),Re.useEffect(()=>{if(D!=="system"){pe(D);return}if(D==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const Ee=window.matchMedia("(prefers-color-scheme: dark)");try{Ee.addEventListener("change",({matches:Te})=>{pe(Te?"dark":"light")})}catch{Ee.addListener(({matches:Ve})=>{try{pe(Ve?"dark":"light")}catch(Ce){console.error(Ce)}})}},[D]),Re.useEffect(()=>{ue.length<=1&&xe(!1)},[ue]),Re.useEffect(()=>{const Ee=Te=>{var Ve;if(y.every(De=>Te[De]||Te.code===De)){var Ye;xe(!0),(Ye=ie.current)==null||Ye.focus()}Te.code==="Escape"&&(document.activeElement===ie.current||(Ve=ie.current)!=null&&Ve.contains(document.activeElement))&&xe(!1)};return document.addEventListener("keydown",Ee),()=>document.removeEventListener("keydown",Ee)},[y]),Re.useEffect(()=>{if(ie.current)return()=>{be.current&&(be.current.focus({preventScroll:!0}),be.current=null,K.current=!1)}},[ie.current]),Re.createElement("section",{ref:a,"aria-label":`${fe} ${Oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},le.map((Ee,Te)=>{var Ve;const[Ce,Ye]=Ee.split("-");return Q.length?Re.createElement("ol",{key:Ee,dir:ee==="auto"?og():ee,tabIndex:-1,ref:ie,className:E,"data-sonner-toaster":!0,"data-sonner-theme":_e,"data-y-position":Ce,"data-x-position":Ye,style:{"--front-toast-height":`${((Ve=ge[0])==null?void 0:Ve.height)||0}px`,"--width":`${KA}px`,"--gap":`${X}px`,...F,...e4(T,S)},onBlur:De=>{K.current&&!De.currentTarget.contains(De.relatedTarget)&&(K.current=!1,be.current&&(be.current.focus({preventScroll:!0}),be.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||K.current||(K.current=!0,be.current=De.relatedTarget)},onMouseEnter:()=>xe(!0),onMouseMove:()=>xe(!0),onMouseLeave:()=>{je||xe(!1)},onDragEnd:()=>xe(!1),onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},Q.filter(De=>!De.position&&Te===0||De.position===Ee).map((De,ot)=>{var kt,Dt;return Re.createElement(JA,{key:De.id,icons:ne,index:ot,toast:De,defaultRichColors:L,duration:(kt=V?.duration)!=null?kt:z,className:V?.className,descriptionClassName:V?.descriptionClassName,invert:m,visibleToasts:W,closeButton:(Dt=V?.closeButton)!=null?Dt:N,interacting:je,position:Ee,style:V?.style,unstyled:V?.unstyled,classNames:V?.classNames,cancelButtonStyle:V?.cancelButtonStyle,actionButtonStyle:V?.actionButtonStyle,closeButtonAriaLabel:V?.closeButtonAriaLabel,removeToast:de,toasts:Q.filter(En=>En.position==De.position),heights:ge.filter(En=>En.position==De.position),setHeights:me,expandByDefault:b,gap:X,expanded:ce,swipeDirections:i.swipeDirections})})):null}))}),n4=`
  .zoom-slider::-webkit-slider-thumb {
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #10b981;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  .zoom-slider::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #10b981;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    box-sizing: border-box;
  }
`;function r4(){const[r,i]=P.useState(!1),[a,f]=P.useState(!1),[m,p]=P.useState(0),[y,b]=P.useState(null),[N,E]=P.useState(1),[T,S]=P.useState(!1),D=P.useRef(null),L=P.useRef(!1),z=P.useRef(null),F=localStorage.getItem("usuario_id"),W=1,V=4,ee=.5,X=ce=>{try{const xe=ce.getCapabilities(),je=xe.zoom!==void 0;return console.log("Capacidades de la cmara:",xe),je}catch{return console.log("No se pudieron verificar las capacidades de zoom"),!1}},ne=async ce=>{if(!z.current||!T){console.log("Zoom no soportado en este dispositivo"),Q(ce);return}try{await z.current.applyConstraints({advanced:[{zoom:ce}]}),E(ce),console.log(`Zoom aplicado: ${ce}x`)}catch(xe){console.error("Error al aplicar zoom:",xe),Q(ce)}},fe=async ce=>{const xe=parseFloat(ce.target.value);T?await ne(xe):Q(xe)},ue=async()=>{const ce=Math.min(N+ee,V);T?await ne(ce):Q(ce)},Z=async()=>{const ce=Math.max(N-ee,W);T?await ne(ce):Q(ce)},Q=ce=>{const xe=document.querySelector("#qr-reader video");if(xe){const je=ce;xe.style.transform=`scale(${je})`,xe.style.transformOrigin="center center",xe.style.width=`${100*je}%`,xe.style.height=`${100*je}%`}E(ce),gt.info(`Zoom ajustado a ${ce}x`)},le=async()=>{try{i(!0);const ce=new IA("qr-reader");D.current=ce,await ce.start({facingMode:"environment"},{fps:15,qrbox:{width:250,height:250},aspectRatio:1,videoConstraints:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}},async xe=>{me(xe)},xe=>{}),setTimeout(async()=>{try{const xe=document.querySelector("#qr-reader video");if(xe&&xe.srcObject){const te=xe.srcObject.getVideoTracks()[0];z.current=te;const _e=X(te);S(_e),_e?gt.success("Cmara activa - Zoom disponible"):gt.info("Cmara activa - Usando zoom digital")}}catch(xe){console.log("No se pudo obtener el stream de video:",xe)}},1e3),L.current=!0,b(!0),gt.success("Cmara activa - Enfoca el QR dentro del recuadro")}catch(ce){console.error("Error al iniciar cmara:",ce),b(!1),i(!1),D.current=null,L.current=!1,z.current=null,ce instanceof Error&&(ce.name==="NotAllowedError"?gt.error("Permiso de cmara denegado"):ce.name==="NotFoundError"?gt.error("No se encontr cmara trasera"):gt.error("No se pudo acceder a la cmara"))}},ge=async()=>{const ce=document.querySelector("#qr-reader video");if(ce&&(ce.style.transform="none",ce.style.width="100%",ce.style.height="100%"),z.current&&(z.current.stop(),z.current=null),D.current&&L.current)try{await D.current.stop(),await D.current.clear(),L.current=!1}catch(xe){console.log("Error al detener escner:",xe),L.current=!1}D.current=null,i(!1),S(!1)},me=ce=>{const xe="https://ecopoints.hvd.lat/api/";ge(),fetch(`${xe}/validarQR`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario_id:F,codigo_qr:ce})}).then(je=>{if(!je.ok)throw new Error(`HTTP error! status: ${je.status}`);return je.json()}).then(je=>{const te=je.puntos_obtenidos||0;p(te),f(!0),gt.success(`Ganaste ${te} ecopoints! `)}).catch(je=>{console.error("Error al procesar el QR:",je),p(0),gt.error("Error al procesar el cdigo QR.")}),setTimeout(()=>{f(!1)},3e3)};return P.useEffect(()=>()=>{ge()},[]),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsx("style",{children:n4}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-4",children:C.jsx(Lc,{className:"w-8 h-8 text-emerald-600"})}),C.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Escanear QR"}),C.jsx("p",{className:"text-gray-500",children:"Escanea el cdigo QR del punto de reciclaje para ganar ecopoints"})]}),C.jsx(Lt,{className:"overflow-hidden border-2 border-gray-200",children:C.jsxs("div",{className:"relative aspect-square bg-gray-900",children:[!r&&!a&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:C.jsxs("div",{className:"text-center space-y-4",children:[C.jsx(O1,{className:"w-16 h-16 text-gray-400 mx-auto"}),C.jsx("p",{className:"text-gray-400",children:"Toca el botn para iniciar el escaneo"})]})}),C.jsx("div",{id:"qr-reader",className:`w-full h-full ${r?"":"hidden"}`}),r&&C.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[C.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-emerald-400 rounded-lg",children:C.jsx(Lr.div,{className:"absolute top-0 left-0 right-0 h-1 bg-emerald-400 rounded-full",animate:{top:["0%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})}),C.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:C.jsxs("div",{className:"text-center space-y-3",children:[C.jsx(Lr.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0},children:C.jsx(Lc,{className:"w-16 h-16 text-emerald-400 mx-auto"})}),C.jsx("p",{className:"text-white font-medium",children:"Escaneando cdigo QR..."}),!T&&r&&C.jsx("p",{className:"text-yellow-300 text-sm",children:"Usando zoom digital"})]})})]}),C.jsx(bC,{children:a&&C.jsx(Lr.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 bg-emerald-600 flex items-center justify-center z-20",children:C.jsxs("div",{className:"text-center text-white space-y-4",children:[C.jsx(Lr.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:C.jsx(Gg,{className:"w-20 h-20 mx-auto"})}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Escaneo exitoso!"}),C.jsx("p",{className:"text-emerald-100 mb-4",children:"Has ganado"}),C.jsxs(Lr.p,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"text-white text-5xl font-bold",children:["+",m]}),C.jsx("p",{className:"text-emerald-100 mt-2",children:"ecopoints"})]})]})})})]})}),r&&C.jsx(Lt,{className:"p-4 bg-blue-50 border-blue-200",children:C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Control de Zoom ",!T&&"(Digital)"]}),C.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[N.toFixed(1),"x"]})]}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx(At,{size:"sm",onClick:Z,disabled:N<=W,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:C.jsx(Jw,{className:"w-4 h-4"})}),C.jsx("div",{className:"flex-1",children:C.jsx("input",{type:"range",min:W,max:V,step:.1,value:N,onChange:fe,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer zoom-slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(N-W)/(V-W)*100}%, #e5e7eb ${(N-W)/(V-W)*100}%, #e5e7eb 100%)`}})}),C.jsx(At,{size:"sm",onClick:ue,disabled:N>=V,variant:"outline",className:"flex-shrink-0 border-blue-300 text-blue-700 hover:bg-blue-100",children:C.jsx(ov,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"flex justify-between text-xs text-blue-600",children:[C.jsxs("span",{children:[W,"x"]}),C.jsx("span",{className:"font-medium",children:T?"Zoom ptico":"Zoom digital"}),C.jsxs("span",{children:[V,"x"]})]})]})}),C.jsx("div",{className:"space-y-3",children:r?C.jsxs(At,{className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 text-lg font-semibold",onClick:ge,children:[C.jsx(Ko,{className:"w-6 h-6 mr-3"}),"Detener escaneo"]}):C.jsxs(At,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 text-lg font-semibold",onClick:le,disabled:a,children:[C.jsx(O1,{className:"w-6 h-6 mr-3"}),"Iniciar escaneo con cmara"]})}),C.jsx(Lt,{className:"p-4 bg-emerald-50 border-emerald-200",children:C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-emerald-900 font-semibold",children:"Consejos:"}),C.jsxs("ul",{className:"text-emerald-700 space-y-1 ml-4",children:[C.jsx("li",{children:" Usa la barra de zoom para acercar o alejar la imagen"}),C.jsx("li",{children:" Mantn el QR dentro del cuadro verde"}),C.jsx("li",{children:" Asegrate de tener buena iluminacin"}),C.jsx("li",{children:" El zoom digital funciona en todos los dispositivos"})]})]})})]})}function i4(){const r="https://ecopoints.hvd.lat/api",i=localStorage.getItem("usuario_id"),[a,f]=P.useState([]),[m,p]=P.useState(!0);return P.useEffect(()=>{if(!i)return;(async()=>{try{const b=await fetch(`${r}/obtenerHistorial?usuario_id=${i}`);if(!b.ok)throw new Error("Error al obtener historial");const N=await b.json();f(N)}catch(b){console.error("Error al cargar historial:",b)}finally{p(!1)}})()},[i]),m?C.jsx("div",{className:"text-center text-gray-500 mt-10",children:"Cargando historial..."}):C.jsxs("div",{className:"p-6 space-y-4",children:[C.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Historial de actividad"}),a.length===0?C.jsx("p",{className:"text-gray-500",children:"No hay actividades registradas an."}):a.map(y=>C.jsx(Lr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:C.jsxs(Lt,{className:"p-4 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${y.type==="scan"?"bg-emerald-100":"bg-orange-100"}`,children:y.type==="scan"?C.jsx(Cs,{className:"w-5 h-5 text-emerald-600"}):C.jsx(Ya,{className:"w-5 h-5 text-orange-600"})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900",children:y.description}),C.jsx("p",{className:"text-gray-500 text-sm",children:y.location})]})]}),C.jsxs("div",{className:"text-right",children:[C.jsxs("p",{className:`${y.type==="scan"?"text-emerald-600":"text-orange-600"}`,children:[y.type==="scan"?"+":"",y.points]}),C.jsx("p",{className:"text-gray-500 text-sm",children:new Date(y.date.replace(" ","T")).toLocaleDateString("es-PE",{day:"numeric",month:"short"})})]})]})},y.id))]})}var s4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_n=s4.reduce((r,i)=>{const a=Xa(`Primitive.${i}`),f=P.forwardRef((m,p)=>{const{asChild:y,...b}=m,N=y?a:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(N,{...b,ref:p})});return f.displayName=`Primitive.${i}`,{...r,[i]:f}},{});function o4(r,i){r&&kx.flushSync(()=>r.dispatchEvent(i))}var a4="Separator",ag="horizontal",l4=["horizontal","vertical"],Ox=P.forwardRef((r,i)=>{const{decorative:a,orientation:f=ag,...m}=r,p=c4(f)?f:ag,b=a?{role:"none"}:{"aria-orientation":p==="vertical"?p:void 0,role:"separator"};return C.jsx(_n.div,{"data-orientation":p,...b,...m,ref:i})});Ox.displayName=a4;function c4(r){return l4.includes(r)}var u4=Ox;function dr({className:r,orientation:i="horizontal",decorative:a=!0,...f}){return C.jsx(u4,{"data-slot":"separator-root",decorative:a,orientation:i,className:jn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...f})}const d4=Ug("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Dc({className:r,variant:i,asChild:a=!1,...f}){const m=a?Vg:"span";return C.jsx(m,{"data-slot":"badge",className:jn(d4({variant:i}),r),...f})}function Fn(r,i,{checkForDefaultPrevented:a=!0}={}){return function(m){if(r?.(m),a===!1||!m.defaultPrevented)return i?.(m)}}function f4(r,i){const a=P.createContext(i),f=p=>{const{children:y,...b}=p,N=P.useMemo(()=>b,Object.values(b));return C.jsx(a.Provider,{value:N,children:y})};f.displayName=r+"Provider";function m(p){const y=P.useContext(a);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${r}\``)}return[f,m]}function il(r,i=[]){let a=[];function f(p,y){const b=P.createContext(y),N=a.length;a=[...a,y];const E=S=>{const{scope:D,children:L,...z}=S,F=D?.[r]?.[N]||b,W=P.useMemo(()=>z,Object.values(z));return C.jsx(F.Provider,{value:W,children:L})};E.displayName=p+"Provider";function T(S,D){const L=D?.[r]?.[N]||b,z=P.useContext(L);if(z)return z;if(y!==void 0)return y;throw new Error(`\`${S}\` must be used within \`${p}\``)}return[E,T]}const m=()=>{const p=a.map(y=>P.createContext(y));return function(b){const N=b?.[r]||p;return P.useMemo(()=>({[`__scope${r}`]:{...b,[r]:N}}),[b,N])}};return m.scopeName=r,[f,h4(m,...i)]}function h4(...r){const i=r[0];if(r.length===1)return i;const a=()=>{const f=r.map(m=>({useScope:m(),scopeName:m.scopeName}));return function(p){const y=f.reduce((b,{useScope:N,scopeName:E})=>{const S=N(p)[`__scope${E}`];return{...b,...S}},{});return P.useMemo(()=>({[`__scope${i.scopeName}`]:y}),[y])}};return a.scopeName=i.scopeName,a}var Ho=globalThis?.document?P.useLayoutEffect:()=>{},m4=Ng[" useInsertionEffect ".trim().toString()]||Ho;function qc({prop:r,defaultProp:i,onChange:a=()=>{},caller:f}){const[m,p,y]=g4({defaultProp:i,onChange:a}),b=r!==void 0,N=b?r:m;{const T=P.useRef(r!==void 0);P.useEffect(()=>{const S=T.current;S!==b&&console.warn(`${f} is changing from ${S?"controlled":"uncontrolled"} to ${b?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),T.current=b},[b,f])}const E=P.useCallback(T=>{if(b){const S=p4(T)?T(r):T;S!==r&&y.current?.(S)}else p(T)},[b,r,p,y]);return[N,E]}function g4({defaultProp:r,onChange:i}){const[a,f]=P.useState(r),m=P.useRef(a),p=P.useRef(i);return m4(()=>{p.current=i},[i]),P.useEffect(()=>{m.current!==a&&(p.current?.(a),m.current=a)},[a,m]),[a,f,p]}function p4(r){return typeof r=="function"}function x4(r){const i=P.useRef({value:r,previous:r});return P.useMemo(()=>(i.current.value!==r&&(i.current.previous=i.current.value,i.current.value=r),i.current.previous),[r])}function y4(r){const[i,a]=P.useState(void 0);return Ho(()=>{if(r){a({width:r.offsetWidth,height:r.offsetHeight});const f=new ResizeObserver(m=>{if(!Array.isArray(m)||!m.length)return;const p=m[0];let y,b;if("borderBoxSize"in p){const N=p.borderBoxSize,E=Array.isArray(N)?N[0]:N;y=E.inlineSize,b=E.blockSize}else y=r.offsetWidth,b=r.offsetHeight;a({width:y,height:b})});return f.observe(r,{box:"border-box"}),()=>f.unobserve(r)}else a(void 0)},[r]),i}var Qc="Switch",[w4]=il(Qc),[v4,C4]=w4(Qc),Dx=P.forwardRef((r,i)=>{const{__scopeSwitch:a,name:f,checked:m,defaultChecked:p,required:y,disabled:b,value:N="on",onCheckedChange:E,form:T,...S}=r,[D,L]=P.useState(null),z=Jr(i,X=>L(X)),F=P.useRef(!1),W=D?T||!!D.closest("form"):!0,[V,ee]=qc({prop:m,defaultProp:p??!1,onChange:E,caller:Qc});return C.jsxs(v4,{scope:a,checked:V,disabled:b,children:[C.jsx(_n.button,{type:"button",role:"switch","aria-checked":V,"aria-required":y,"data-state":Bx(V),"data-disabled":b?"":void 0,disabled:b,value:N,...S,ref:z,onClick:Fn(r.onClick,X=>{ee(ne=>!ne),W&&(F.current=X.isPropagationStopped(),F.current||X.stopPropagation())})}),W&&C.jsx(Lx,{control:D,bubbles:!F.current,name:f,value:N,checked:V,required:y,disabled:b,form:T,style:{transform:"translateX(-100%)"}})]})});Dx.displayName=Qc;var Mx="SwitchThumb",Px=P.forwardRef((r,i)=>{const{__scopeSwitch:a,...f}=r,m=C4(Mx,a);return C.jsx(_n.span,{"data-state":Bx(m.checked),"data-disabled":m.disabled?"":void 0,...f,ref:i})});Px.displayName=Mx;var E4="SwitchBubbleInput",Lx=P.forwardRef(({__scopeSwitch:r,control:i,checked:a,bubbles:f=!0,...m},p)=>{const y=P.useRef(null),b=Jr(y,p),N=x4(a),E=y4(i);return P.useEffect(()=>{const T=y.current;if(!T)return;const S=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(S,"checked").set;if(N!==a&&L){const z=new Event("click",{bubbles:f});L.call(T,a),T.dispatchEvent(z)}},[N,a,f]),C.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...m,tabIndex:-1,ref:b,style:{...m.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Lx.displayName=E4;function Bx(r){return r?"checked":"unchecked"}var b4=Dx,A4=Px;function ur({className:r,...i}){return C.jsx(b4,{"data-slot":"switch",className:jn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...i,children:C.jsx(A4,{"data-slot":"switch-thumb",className:jn("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function jo({className:r,type:i,...a}){return C.jsx("input",{type:i,"data-slot":"input",className:jn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...a})}var S4="Label",Fx=P.forwardRef((r,i)=>C.jsx(_n.label,{...r,ref:i,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(r.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Fx.displayName=S4;var N4=Fx;function Vo({className:r,...i}){return C.jsx(N4,{"data-slot":"label",className:jn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...i})}function T4({theme:r="light",onToggleTheme:i,onClose:a}){function f(m){a?.()}return C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Configuracin"}),C.jsx(At,{variant:"ghost",size:"icon",onClick:()=>f(),className:"dark:text-white dark:hover:bg-gray-800",children:C.jsx(Ko,{className:"w-5 h-5"})})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Apariencia"}),C.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[r==="dark"?C.jsx(tv,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):C.jsx(pv,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Modo oscuro"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ahorra batera y reduce el brillo"})]})]}),C.jsx(ur,{checked:r==="dark",onCheckedChange:i})]})})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Acerca de"}),C.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Versin 1.0.0"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" 2025 EcoPoints"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-4",children:"Una aplicacin para incentivar el reciclaje y cuidar nuestro planeta."})]})]})]})}function I4({onClose:r}){const[i,a]=P.useState({newRewards:!0,recyclingReminders:!0,achievements:!0,promotions:!1,weeklyReport:!0,emailNotifications:!0,pushNotifications:!0,soundEnabled:!0});return C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Notificaciones"}),C.jsx(At,{variant:"ghost",size:"icon",onClick:r,className:"dark:text-white dark:hover:bg-gray-800",children:C.jsx(Ko,{className:"w-5 h-5"})})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Notificaciones Push"}),C.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Wg,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Activar notificaciones"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe alertas en tu dispositivo"})]})]}),C.jsx(ur,{checked:i.pushNotifications,onCheckedChange:f=>{a({...i,pushNotifications:f}),gt.success(f?"Notificaciones activadas":"Notificaciones desactivadas")}})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Sonido"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Reproducir sonido al recibir notificaciones"})]}),C.jsx(ur,{checked:i.soundEnabled,onCheckedChange:f=>a({...i,soundEnabled:f})})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tipos de notificaciones"}),C.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Nuevas recompensas"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Cuando hay nuevos premios disponibles"})]}),C.jsx(ur,{checked:i.newRewards,onCheckedChange:f=>a({...i,newRewards:f})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recordatorios de reciclaje"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Notificaciones semanales para reciclar"})]}),C.jsx(ur,{checked:i.recyclingReminders,onCheckedChange:f=>a({...i,recyclingReminders:f})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Logros desbloqueados"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Celebra tus nuevos logros"})]}),C.jsx(ur,{checked:i.achievements,onCheckedChange:f=>a({...i,achievements:f})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Promociones"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ofertas especiales y descuentos"})]}),C.jsx(ur,{checked:i.promotions,onCheckedChange:f=>a({...i,promotions:f})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Reporte semanal"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Resumen de tu actividad ecolgica"})]}),C.jsx(ur,{checked:i.weeklyReport,onCheckedChange:f=>a({...i,weeklyReport:f})})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Correo electrnico"}),C.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Pf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Notificaciones por email"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recibe resmenes por correo"})]})]}),C.jsx(ur,{checked:i.emailNotifications,onCheckedChange:f=>a({...i,emailNotifications:f})})]})})]}),C.jsx(Lt,{className:"p-4 bg-emerald-50 dark:bg-emerald-950 border-emerald-200 dark:border-emerald-800",children:C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx(Hg,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 mt-0.5"}),C.jsx("div",{children:C.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:"Las notificaciones te ayudan a mantener tus hbitos de reciclaje y no perderte ninguna recompensa."})})]})})]})}function R4({onClose:r}){const[i,a]=P.useState(!1),[f,m]=P.useState(!1),[p,y]=P.useState(!1),[b,N]=P.useState(!1),[E,T]=P.useState(!1),[S,D]=P.useState({current:"",new:"",confirm:""}),[L,z]=P.useState({twoFactorAuth:!1,profilePublic:!0,shareStats:!0,showInLeaderboard:!0,location:!0,dataCollection:!0}),F=async()=>{if(!S.current||!S.new||!S.confirm){gt.error("Todos los campos son obligatorios");return}if(S.new!==S.confirm){gt.error("Las contraseas no coinciden");return}if(S.new.length<6){gt.error("La contrasea debe tener al menos 6 caracteres");return}if(S.new===S.current){gt.error("La nueva contrasea debe ser diferente a la actual");return}T(!0);try{const V=localStorage.getItem("usuario_id")||"2",ee={usuario_id:parseInt(V),contrasena_actual:S.current,nueva_contrasena:S.new},X=await fetch("https://ecopoints.hvd.lat/api/actualizarContrasena",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}),ne=await X.json();X.ok?(gt.success(ne.mensaje||"Contrasea actualizada exitosamente"),a(!1),D({current:"",new:"",confirm:""})):ne.error&&ne.error.includes("incorrecta")?gt.error("La contrasea actual es incorrecta"):gt.error(ne.error||"Error al cambiar la contrasea")}catch(V){console.error("Error al cambiar contrasea:",V),gt.error("Error de conexin. Intenta nuevamente.")}finally{T(!1)}};function W(V){r?.()}return C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Privacidad y Seguridad"}),C.jsx(At,{variant:"ghost",size:"icon",onClick:()=>W(),className:"dark:text-white dark:hover:bg-gray-800",children:C.jsx(Ko,{className:"w-5 h-5"})})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Seguridad de cuenta"}),C.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>a(!i),children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(zw,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsx("span",{children:"Cambiar contrasea"})]}),C.jsx(Vi,{className:"w-5 h-5"})]}),i&&C.jsxs("div",{className:"space-y-4 pt-4 border-t dark:border-gray-700",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(Vo,{htmlFor:"current-password",children:"Contrasea actual"}),C.jsxs("div",{className:"relative",children:[C.jsx(Yg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),C.jsx(jo,{id:"current-password",type:f?"text":"password",className:"pl-10 pr-10",value:S.current,onChange:V=>D({...S,current:V.target.value}),placeholder:"Ingresa tu contrasea actual",disabled:E}),C.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:f?C.jsx(Id,{className:"w-5 h-5"}):C.jsx(Rd,{className:"w-5 h-5"})})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Vo,{htmlFor:"new-password",children:"Nueva contrasea"}),C.jsxs("div",{className:"relative",children:[C.jsx(jo,{id:"new-password",type:p?"text":"password",value:S.new,onChange:V=>D({...S,new:V.target.value}),placeholder:"Mnimo 6 caracteres",disabled:E}),C.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:p?C.jsx(Id,{className:"w-5 h-5"}):C.jsx(Rd,{className:"w-5 h-5"})})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Vo,{htmlFor:"confirm-password",children:"Confirmar contrasea"}),C.jsxs("div",{className:"relative",children:[C.jsx(jo,{id:"confirm-password",type:b?"text":"password",value:S.confirm,onChange:V=>D({...S,confirm:V.target.value}),placeholder:"Repite tu nueva contrasea",disabled:E}),C.jsx("button",{type:"button",onClick:()=>N(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:E,children:b?C.jsx(Id,{className:"w-5 h-5"}):C.jsx(Rd,{className:"w-5 h-5"})})]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx(At,{variant:"outline",onClick:()=>{a(!1),D({current:"",new:"",confirm:""})},className:"flex-1",disabled:E,children:"Cancelar"}),C.jsx(At,{onClick:F,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",disabled:E,children:E?C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Actualizando..."]}):"Actualizar contrasea"})]})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(mv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Autenticacin de dos factores"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Mayor seguridad para tu cuenta"})]})]}),C.jsx(ur,{checked:L.twoFactorAuth,onCheckedChange:V=>{z({...L,twoFactorAuth:V}),gt.success(V?"2FA activado":"2FA desactivado")}})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Privacidad de datos"}),C.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Perfil pblico"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Otros usuarios pueden ver tu perfil"})]}),C.jsx(ur,{checked:L.profilePublic,onCheckedChange:V=>z({...L,profilePublic:V})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Compartir estadsticas"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Visible en el ranking global"})]}),C.jsx(ur,{checked:L.shareStats,onCheckedChange:V=>z({...L,shareStats:V})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Mostrar en leaderboard"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aparecer en tablas de posiciones"})]}),C.jsx(ur,{checked:L.showInLeaderboard,onCheckedChange:V=>z({...L,showInLeaderboard:V})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Ubicacin"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para encontrar estaciones cercanas"})]}),C.jsx(ur,{checked:L.location,onCheckedChange:V=>z({...L,location:V})})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Recopilacin de datos"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para mejorar la experiencia"})]}),C.jsx(ur,{checked:L.dataCollection,onCheckedChange:V=>z({...L,dataCollection:V})})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Gestin de datos"}),C.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>gt.success("Descargando tus datos..."),children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Bw,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsx("span",{children:"Descargar mis datos"})]}),C.jsx(Vi,{className:"w-5 h-5"})]}),C.jsxs(At,{variant:"outline",className:"w-full justify-between text-red-600 dark:text-red-400 dark:bg-gray-700 dark:border-gray-600",onClick:()=>gt.error("Para eliminar tu cuenta, contacta a soporte"),children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Hg,{className:"w-5 h-5"}),C.jsx("span",{children:"Eliminar mi cuenta"})]}),C.jsx(Vi,{className:"w-5 h-5"})]})]})]}),C.jsx(Lt,{className:"p-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx(Kg,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),C.jsx("div",{children:C.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Tu privacidad es importante. Protegemos tus datos con encriptacin de grado bancario."})})]})})]})}function k4({onClose:r}){function i(a){r?.()}return C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h1",{className:"text-gray-900 dark:text-white",children:"Ayuda y Soporte"}),C.jsx(At,{variant:"ghost",size:"icon",onClick:()=>i(),className:"dark:text-white dark:hover:bg-gray-800",children:C.jsx(Ko,{className:"w-5 h-5"})})]}),C.jsxs(Lt,{className:"p-4 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-950 dark:to-green-950 border-emerald-200 dark:border-emerald-800",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[C.jsx(Xg,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"}),C.jsx("h2",{className:"text-gray-900 dark:text-white",children:"Necesitas ayuda?"})]}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Estamos aqu para ayudarte. Contctanos por cualquiera de estos medios."})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Contacto"}),C.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>gt.success("Abriendo chat..."),children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Qw,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsxs("div",{className:"text-left",children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Chat en vivo"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Disponible 24/7"})]})]}),C.jsx(Vi,{className:"w-5 h-5"})]}),C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="mailto:soporte@ecopoints.com"},children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Pf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsxs("div",{className:"text-left",children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Email"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"soporte@ecopoints.com"})]})]}),C.jsx(D1,{className:"w-5 h-5"})]}),C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>{window.location.href="tel:+51987654321"},children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(iv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),C.jsxs("div",{className:"text-left",children:[C.jsx("p",{className:"text-gray-900 dark:text-white",children:"Telfono"}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"+51 987 654 321"})]})]}),C.jsx(D1,{className:"w-5 h-5"})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Preguntas frecuentes"}),C.jsxs(Lt,{className:"p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo gano puntos?"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Escanea cdigos QR en nuestras estaciones de reciclaje. Cada escaneo te otorga entre 10 y 100 puntos segn el material reciclado."})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Cmo canjeo mis puntos?"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Ve a la seccin de Recompensas, elige el premio que desees y presiona "Canjear". Los cdigos se envan a tu email.'})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Dnde encuentro estaciones de reciclaje?"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Actualmente tenemos estaciones en Miraflores, San Isidro, Surco y Barranco. Prximamente en ms distritos."})]}),C.jsx(dr,{className:"dark:bg-gray-700"}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h3",{className:"text-gray-900 dark:text-white",children:"Los puntos expiran?"}),C.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No, tus EcoPoints nunca expiran. Acumlalos todo el tiempo que quieras."})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Tutoriales"}),C.jsxs(Lt,{className:"p-4 space-y-3 dark:bg-gray-800 dark:border-gray-700",children:[C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>gt.success("Abriendo tutorial..."),children:[C.jsx("span",{children:"Cmo escanear cdigos QR"}),C.jsx(Vi,{className:"w-5 h-5"})]}),C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>gt.success("Abriendo tutorial..."),children:[C.jsx("span",{children:"Gua de reciclaje correcto"}),C.jsx(Vi,{className:"w-5 h-5"})]}),C.jsxs(At,{variant:"outline",className:"w-full justify-between dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>gt.success("Abriendo tutorial..."),children:[C.jsx("span",{children:"Cmo subir de nivel"}),C.jsx(Vi,{className:"w-5 h-5"})]})]})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 dark:text-white mb-4",children:"Reportar un problema"}),C.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Encontraste un error? Aydanos a mejorar reportndolo."}),C.jsxs(At,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>gt.success("Gracias por tu reporte. Nos pondremos en contacto pronto."),children:[C.jsx(cv,{className:"w-4 h-4 mr-2"}),"Enviar reporte"]})]})]}),C.jsxs(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:[C.jsx("h3",{className:"text-gray-900 dark:text-white mb-3",children:"Sguenos"}),C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsx(At,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://instagram.com","_blank"),children:"Instagram"}),C.jsx(At,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://facebook.com","_blank"),children:"Facebook"}),C.jsx(At,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://twitter.com","_blank"),children:"Twitter"}),C.jsx(At,{variant:"outline",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",onClick:()=>window.open("https://tiktok.com","_blank"),children:"TikTok"})]})]})]})}function _4({onViewStation:r,onLogout:i,theme:a="light",onToggleTheme:f}){const m="https://ecopoints.hvd.lat/api/",p=localStorage.getItem("usuario_id"),[y,b]=P.useState(null),[N,E]=P.useState(null),[T,S]=P.useState([]),[D,L]=P.useState(!0),z=async()=>{if(p)try{const me=await fetch(`${m}/obtenerPuntos?usuario_id=${p}`);if(!me.ok)throw new Error(`HTTP error! status: ${me.status}`);const ce=await me.json();E(Number(ce.puntos))}catch{E(0)}},F=async()=>{if(p){L(!0);try{const me=await fetch(`${m}/obtenerHistorial?usuario_id=${p}`);if(!me.ok)throw new Error(`HTTP error! status: ${me.status}`);const ce=await me.json();S(ce)}catch{S([])}finally{L(!1)}}};P.useEffect(()=>{p?(z(),F()):(L(!1),E(0))},[p]);const V=T.filter(me=>me.type==="scan").length,ee=[{nivel:1,escaneosRequeridos:0,nombre:"Eco Novice"},{nivel:2,escaneosRequeridos:10,nombre:"Eco Warrior"},{nivel:3,escaneosRequeridos:50,nombre:"Eco Hero"},{nivel:4,escaneosRequeridos:100,nombre:"Eco Champion"},{nivel:5,escaneosRequeridos:500,nombre:"Eco Master"},{nivel:6,escaneosRequeridos:1e3,nombre:"Eco Legend"},{nivel:7,escaneosRequeridos:5e3,nombre:"Eco Guardian"}],ne=(me=>{for(let ce=ee.length-1;ce>=0;ce--)if(me>=ee[ce].escaneosRequeridos)return ee[ce];return ee[0]})(V),fe=ne.nivel,ue=ee.find(me=>me.nivel===fe+1),Z=ue?ue.escaneosRequeridos-V:0,le=(()=>{if(!ue)return 100;const me=ee.find(je=>je.nivel===fe),ce=V-(me?.escaneosRequeridos||0),xe=ue.escaneosRequeridos-(me?.escaneosRequeridos||0);return ce/xe*100})(),ge=()=>`Nivel ${fe} - ${ne.nombre}`;return y==="configuracion"?C.jsx(T4,{onClose:()=>b(null),theme:a,onToggleTheme:f}):y==="notificaciones"?C.jsx(I4,{onClose:()=>b(null)}):y==="privacidad"?C.jsx(R4,{onClose:()=>b(null)}):y==="ayuda"?C.jsx(k4,{onClose:()=>b(null)}):C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"text-center",children:[C.jsxs("div",{className:"relative inline-block mb-4",children:[C.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center",children:C.jsx(Lf,{className:"w-12 h-12 text-white"})}),C.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-yellow-400 rounded-full border-4 border-white dark:border-gray-900 flex items-center justify-center",children:C.jsx(_1,{className:"w-4 h-4 text-yellow-800"})})]}),C.jsx("h1",{className:"text-gray-900 dark:text-white mb-1",children:localStorage.getItem("usuario_nombre")}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:localStorage.getItem("usuario_correo")}),C.jsx(Dc,{className:"mt-2 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-300",children:ge()})]}),C.jsx(Lt,{className:"p-4 dark:bg-gray-800 dark:border-gray-700",children:C.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[C.jsx(Xd,{icon:C.jsx(Cs,{className:"w-6 h-6 text-emerald-600"}),label:"Puntos",value:N??"..."}),C.jsx(Xd,{icon:C.jsx(yv,{className:"w-6 h-6 text-blue-600"}),label:"Escaneos",value:D?"...":V}),C.jsx(Xd,{icon:C.jsx(_1,{className:"w-6 h-6 text-purple-600"}),label:"Nivel",value:fe})]})}),C.jsx(Lt,{className:"p-4 bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-950 dark:to-blue-950 dark:border-gray-700",children:C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Prximo nivel"}),C.jsx("p",{className:"text-gray-900 dark:text-white",children:D?"...":ue?`${Z} escaneo${Z!==1?"s":""} ms`:"Nivel mximo alcanzado!"})]}),C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:C.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 h-2 rounded-full transition-all",style:{width:`${le}%`}})}),ue&&C.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center",children:["Hacia ",ue.nombre]})]})}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(dr,{className:"my-2"}),C.jsx(Ba,{icon:C.jsx(Lc,{className:"w-5 h-5"}),label:"Puntos de recoleccion",onClick:()=>b("")}),C.jsx(Ba,{icon:C.jsx(dv,{className:"w-5 h-5"}),label:"Configuracin",onClick:()=>b("configuracion")}),C.jsx(Ba,{icon:C.jsx(Wg,{className:"w-5 h-5"}),label:"Notificaciones",onClick:()=>b("notificaciones")}),C.jsx(Ba,{icon:C.jsx(Kg,{className:"w-5 h-5"}),label:"Privacidad y seguridad",onClick:()=>b("privacidad")}),C.jsx(dr,{className:"my-4"}),C.jsx(Ba,{icon:C.jsx(Xg,{className:"w-5 h-5"}),label:"Ayuda y soporte",onClick:()=>b("ayuda")}),C.jsx(O4,{icon:C.jsx(Kw,{className:"w-5 h-5"}),label:"Cerrar sesin",className:"text-red-600",onClick:i})]}),C.jsxs("div",{className:"text-center pt-4",children:[C.jsx("p",{className:"text-gray-400",children:"EcoPoints v1.0.0"}),C.jsx("p",{className:"text-gray-400",children:" 2025 EcoPoints. Todos los derechos reservados."})]})]})}function Xd({icon:r,label:i,value:a}){return C.jsxs("div",{children:[C.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-2",children:r}),C.jsx("p",{className:"text-gray-900 dark:text-white",children:a}),C.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i})]})}function Ba({icon:r,label:i,className:a="",onClick:f}){return C.jsxs(At,{variant:"ghost",className:`w-full justify-between hover:bg-gray-50 dark:hover:bg-gray-800 dark:text-white ${a}`,onClick:f,children:[C.jsxs("div",{className:"flex items-center gap-3",children:[r,C.jsx("span",{children:i})]}),C.jsx(Vi,{className:"w-5 h-5"})]})}function O4({icon:r,label:i,className:a="",onClick:f}){return C.jsxs(At,{variant:"ghost",className:`w-full justify-between hover:bg-gray-50 dark:hover:bg-gray-800 dark:text-white ${a}`,onClick:f,children:[C.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[r,C.jsx("span",{children:i})]}),C.jsx(Vi,{className:"w-5 h-5"})]})}function D4(r){const i=r+"CollectionProvider",[a,f]=il(i),[m,p]=a(i,{collectionRef:{current:null},itemMap:new Map}),y=F=>{const{scope:W,children:V}=F,ee=Re.useRef(null),X=Re.useRef(new Map).current;return C.jsx(m,{scope:W,itemMap:X,collectionRef:ee,children:V})};y.displayName=i;const b=r+"CollectionSlot",N=Xa(b),E=Re.forwardRef((F,W)=>{const{scope:V,children:ee}=F,X=p(b,V),ne=Jr(W,X.collectionRef);return C.jsx(N,{ref:ne,children:ee})});E.displayName=b;const T=r+"CollectionItemSlot",S="data-radix-collection-item",D=Xa(T),L=Re.forwardRef((F,W)=>{const{scope:V,children:ee,...X}=F,ne=Re.useRef(null),fe=Jr(W,ne),ue=p(T,V);return Re.useEffect(()=>(ue.itemMap.set(ne,{ref:ne,...X}),()=>void ue.itemMap.delete(ne))),C.jsx(D,{[S]:"",ref:fe,children:ee})});L.displayName=T;function z(F){const W=p(r+"CollectionConsumer",F);return Re.useCallback(()=>{const ee=W.collectionRef.current;if(!ee)return[];const X=Array.from(ee.querySelectorAll(`[${S}]`));return Array.from(W.itemMap.values()).sort((ue,Z)=>X.indexOf(ue.ref.current)-X.indexOf(Z.ref.current))},[W.collectionRef,W.itemMap])}return[{Provider:y,Slot:E,ItemSlot:L},z,f]}var M4=Ng[" useId ".trim().toString()]||(()=>{}),P4=0;function Ga(r){const[i,a]=P.useState(M4());return Ho(()=>{a(f=>f??String(P4++))},[r]),r||(i?`radix-${i}`:"")}function Go(r){const i=P.useRef(r);return P.useEffect(()=>{i.current=r}),P.useMemo(()=>(...a)=>i.current?.(...a),[])}var L4=P.createContext(void 0);function jx(r){const i=P.useContext(L4);return r||i||"ltr"}var Yd="rovingFocusGroup.onEntryFocus",B4={bubbles:!1,cancelable:!0},sl="RovingFocusGroup",[If,Vx,F4]=D4(sl),[j4,Ux]=il(sl,[F4]),[V4,U4]=j4(sl),zx=P.forwardRef((r,i)=>C.jsx(If.Provider,{scope:r.__scopeRovingFocusGroup,children:C.jsx(If.Slot,{scope:r.__scopeRovingFocusGroup,children:C.jsx(z4,{...r,ref:i})})}));zx.displayName=sl;var z4=P.forwardRef((r,i)=>{const{__scopeRovingFocusGroup:a,orientation:f,loop:m=!1,dir:p,currentTabStopId:y,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:N,onEntryFocus:E,preventScrollOnEntryFocus:T=!1,...S}=r,D=P.useRef(null),L=Jr(i,D),z=jx(p),[F,W]=qc({prop:y,defaultProp:b??null,onChange:N,caller:sl}),[V,ee]=P.useState(!1),X=Go(E),ne=Vx(a),fe=P.useRef(!1),[ue,Z]=P.useState(0);return P.useEffect(()=>{const Q=D.current;if(Q)return Q.addEventListener(Yd,X),()=>Q.removeEventListener(Yd,X)},[X]),C.jsx(V4,{scope:a,orientation:f,dir:z,loop:m,currentTabStopId:F,onItemFocus:P.useCallback(Q=>W(Q),[W]),onItemShiftTab:P.useCallback(()=>ee(!0),[]),onFocusableItemAdd:P.useCallback(()=>Z(Q=>Q+1),[]),onFocusableItemRemove:P.useCallback(()=>Z(Q=>Q-1),[]),children:C.jsx(_n.div,{tabIndex:V||ue===0?-1:0,"data-orientation":f,...S,ref:L,style:{outline:"none",...r.style},onMouseDown:Fn(r.onMouseDown,()=>{fe.current=!0}),onFocus:Fn(r.onFocus,Q=>{const le=!fe.current;if(Q.target===Q.currentTarget&&le&&!V){const ge=new CustomEvent(Yd,B4);if(Q.currentTarget.dispatchEvent(ge),!ge.defaultPrevented){const me=ne().filter(_e=>_e.focusable),ce=me.find(_e=>_e.active),xe=me.find(_e=>_e.id===F),te=[ce,xe,...me].filter(Boolean).map(_e=>_e.ref.current);Gx(te,T)}}fe.current=!1}),onBlur:Fn(r.onBlur,()=>ee(!1))})})}),Wx="RovingFocusGroupItem",Hx=P.forwardRef((r,i)=>{const{__scopeRovingFocusGroup:a,focusable:f=!0,active:m=!1,tabStopId:p,children:y,...b}=r,N=Ga(),E=p||N,T=U4(Wx,a),S=T.currentTabStopId===E,D=Vx(a),{onFocusableItemAdd:L,onFocusableItemRemove:z,currentTabStopId:F}=T;return P.useEffect(()=>{if(f)return L(),()=>z()},[f,L,z]),C.jsx(If.ItemSlot,{scope:a,id:E,focusable:f,active:m,children:C.jsx(_n.span,{tabIndex:S?0:-1,"data-orientation":T.orientation,...b,ref:i,onMouseDown:Fn(r.onMouseDown,W=>{f?T.onItemFocus(E):W.preventDefault()}),onFocus:Fn(r.onFocus,()=>T.onItemFocus(E)),onKeyDown:Fn(r.onKeyDown,W=>{if(W.key==="Tab"&&W.shiftKey){T.onItemShiftTab();return}if(W.target!==W.currentTarget)return;const V=G4(W,T.orientation,T.dir);if(V!==void 0){if(W.metaKey||W.ctrlKey||W.altKey||W.shiftKey)return;W.preventDefault();let X=D().filter(ne=>ne.focusable).map(ne=>ne.ref.current);if(V==="last")X.reverse();else if(V==="prev"||V==="next"){V==="prev"&&X.reverse();const ne=X.indexOf(W.currentTarget);X=T.loop?X4(X,ne+1):X.slice(ne+1)}setTimeout(()=>Gx(X))}}),children:typeof y=="function"?y({isCurrentTabStop:S,hasTabStop:F!=null}):y})})});Hx.displayName=Wx;var W4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H4(r,i){return i!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function G4(r,i,a){const f=H4(r.key,a);if(!(i==="vertical"&&["ArrowLeft","ArrowRight"].includes(f))&&!(i==="horizontal"&&["ArrowUp","ArrowDown"].includes(f)))return W4[f]}function Gx(r,i=!1){const a=document.activeElement;for(const f of r)if(f===a||(f.focus({preventScroll:i}),document.activeElement!==a))return}function X4(r,i){return r.map((a,f)=>r[(i+f)%r.length])}var Y4=zx,K4=Hx;function Z4(r,i){return P.useReducer((a,f)=>i[a][f]??a,r)}var ol=r=>{const{present:i,children:a}=r,f=q4(i),m=typeof a=="function"?a({present:f.isPresent}):P.Children.only(a),p=Jr(f.ref,Q4(m));return typeof a=="function"||f.isPresent?P.cloneElement(m,{ref:p}):null};ol.displayName="Presence";function q4(r){const[i,a]=P.useState(),f=P.useRef(null),m=P.useRef(r),p=P.useRef("none"),y=r?"mounted":"unmounted",[b,N]=Z4(y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const E=Ec(f.current);p.current=b==="mounted"?E:"none"},[b]),Ho(()=>{const E=f.current,T=m.current;if(T!==r){const D=p.current,L=Ec(E);r?N("MOUNT"):L==="none"||E?.display==="none"?N("UNMOUNT"):N(T&&D!==L?"ANIMATION_OUT":"UNMOUNT"),m.current=r}},[r,N]),Ho(()=>{if(i){let E;const T=i.ownerDocument.defaultView??window,S=L=>{const F=Ec(f.current).includes(CSS.escape(L.animationName));if(L.target===i&&F&&(N("ANIMATION_END"),!m.current)){const W=i.style.animationFillMode;i.style.animationFillMode="forwards",E=T.setTimeout(()=>{i.style.animationFillMode==="forwards"&&(i.style.animationFillMode=W)})}},D=L=>{L.target===i&&(p.current=Ec(f.current))};return i.addEventListener("animationstart",D),i.addEventListener("animationcancel",S),i.addEventListener("animationend",S),()=>{T.clearTimeout(E),i.removeEventListener("animationstart",D),i.removeEventListener("animationcancel",S),i.removeEventListener("animationend",S)}}else N("ANIMATION_END")},[i,N]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:P.useCallback(E=>{f.current=E?getComputedStyle(E):null,a(E)},[])}}function Ec(r){return r?.animationName||"none"}function Q4(r){let i=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=i&&"isReactWarning"in i&&i.isReactWarning;return a?r.ref:(i=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=i&&"isReactWarning"in i&&i.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}var $c="Tabs",[$4]=il($c,[Ux]),Xx=Ux(),[J4,y0]=$4($c),Yx=P.forwardRef((r,i)=>{const{__scopeTabs:a,value:f,onValueChange:m,defaultValue:p,orientation:y="horizontal",dir:b,activationMode:N="automatic",...E}=r,T=jx(b),[S,D]=qc({prop:f,onChange:m,defaultProp:p??"",caller:$c});return C.jsx(J4,{scope:a,baseId:Ga(),value:S,onValueChange:D,orientation:y,dir:T,activationMode:N,children:C.jsx(_n.div,{dir:T,"data-orientation":y,...E,ref:i})})});Yx.displayName=$c;var Kx="TabsList",Zx=P.forwardRef((r,i)=>{const{__scopeTabs:a,loop:f=!0,...m}=r,p=y0(Kx,a),y=Xx(a);return C.jsx(Y4,{asChild:!0,...y,orientation:p.orientation,dir:p.dir,loop:f,children:C.jsx(_n.div,{role:"tablist","aria-orientation":p.orientation,...m,ref:i})})});Zx.displayName=Kx;var qx="TabsTrigger",Qx=P.forwardRef((r,i)=>{const{__scopeTabs:a,value:f,disabled:m=!1,...p}=r,y=y0(qx,a),b=Xx(a),N=e2(y.baseId,f),E=t2(y.baseId,f),T=f===y.value;return C.jsx(K4,{asChild:!0,...b,focusable:!m,active:T,children:C.jsx(_n.button,{type:"button",role:"tab","aria-selected":T,"aria-controls":E,"data-state":T?"active":"inactive","data-disabled":m?"":void 0,disabled:m,id:N,...p,ref:i,onMouseDown:Fn(r.onMouseDown,S=>{!m&&S.button===0&&S.ctrlKey===!1?y.onValueChange(f):S.preventDefault()}),onKeyDown:Fn(r.onKeyDown,S=>{[" ","Enter"].includes(S.key)&&y.onValueChange(f)}),onFocus:Fn(r.onFocus,()=>{const S=y.activationMode!=="manual";!T&&!m&&S&&y.onValueChange(f)})})})});Qx.displayName=qx;var $x="TabsContent",Jx=P.forwardRef((r,i)=>{const{__scopeTabs:a,value:f,forceMount:m,children:p,...y}=r,b=y0($x,a),N=e2(b.baseId,f),E=t2(b.baseId,f),T=f===b.value,S=P.useRef(T);return P.useEffect(()=>{const D=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(D)},[]),C.jsx(ol,{present:m||T,children:({present:D})=>C.jsx(_n.div,{"data-state":T?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":N,hidden:!D,id:E,tabIndex:0,...y,ref:i,style:{...r.style,animationDuration:S.current?"0s":void 0},children:D&&p})})});Jx.displayName=$x;function e2(r,i){return`${r}-trigger-${i}`}function t2(r,i){return`${r}-content-${i}`}var e8=Yx,t8=Zx,n8=Qx,r8=Jx;function i8({className:r,...i}){return C.jsx(e8,{"data-slot":"tabs",className:jn("flex flex-col gap-2",r),...i})}function s8({className:r,...i}){return C.jsx(t8,{"data-slot":"tabs-list",className:jn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...i})}function bc({className:r,...i}){return C.jsx(n8,{"data-slot":"tabs-trigger",className:jn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...i})}function Ac({className:r,...i}){return C.jsx(r8,{"data-slot":"tabs-content",className:jn("flex-1 outline-none",r),...i})}function o8(r,i=globalThis?.document){const a=Go(r);P.useEffect(()=>{const f=m=>{m.key==="Escape"&&a(m)};return i.addEventListener("keydown",f,{capture:!0}),()=>i.removeEventListener("keydown",f,{capture:!0})},[a,i])}var a8="DismissableLayer",Rf="dismissableLayer.update",l8="dismissableLayer.pointerDownOutside",c8="dismissableLayer.focusOutside",lg,n2=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),r2=P.forwardRef((r,i)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:y,onDismiss:b,...N}=r,E=P.useContext(n2),[T,S]=P.useState(null),D=T?.ownerDocument??globalThis?.document,[,L]=P.useState({}),z=Jr(i,Z=>S(Z)),F=Array.from(E.layers),[W]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),V=F.indexOf(W),ee=T?F.indexOf(T):-1,X=E.layersWithOutsidePointerEventsDisabled.size>0,ne=ee>=V,fe=f8(Z=>{const Q=Z.target,le=[...E.branches].some(ge=>ge.contains(Q));!ne||le||(m?.(Z),y?.(Z),Z.defaultPrevented||b?.())},D),ue=h8(Z=>{const Q=Z.target;[...E.branches].some(ge=>ge.contains(Q))||(p?.(Z),y?.(Z),Z.defaultPrevented||b?.())},D);return o8(Z=>{ee===E.layers.size-1&&(f?.(Z),!Z.defaultPrevented&&b&&(Z.preventDefault(),b()))},D),P.useEffect(()=>{if(T)return a&&(E.layersWithOutsidePointerEventsDisabled.size===0&&(lg=D.body.style.pointerEvents,D.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(T)),E.layers.add(T),cg(),()=>{a&&E.layersWithOutsidePointerEventsDisabled.size===1&&(D.body.style.pointerEvents=lg)}},[T,D,a,E]),P.useEffect(()=>()=>{T&&(E.layers.delete(T),E.layersWithOutsidePointerEventsDisabled.delete(T),cg())},[T,E]),P.useEffect(()=>{const Z=()=>L({});return document.addEventListener(Rf,Z),()=>document.removeEventListener(Rf,Z)},[]),C.jsx(_n.div,{...N,ref:z,style:{pointerEvents:X?ne?"auto":"none":void 0,...r.style},onFocusCapture:Fn(r.onFocusCapture,ue.onFocusCapture),onBlurCapture:Fn(r.onBlurCapture,ue.onBlurCapture),onPointerDownCapture:Fn(r.onPointerDownCapture,fe.onPointerDownCapture)})});r2.displayName=a8;var u8="DismissableLayerBranch",d8=P.forwardRef((r,i)=>{const a=P.useContext(n2),f=P.useRef(null),m=Jr(i,f);return P.useEffect(()=>{const p=f.current;if(p)return a.branches.add(p),()=>{a.branches.delete(p)}},[a.branches]),C.jsx(_n.div,{...r,ref:m})});d8.displayName=u8;function f8(r,i=globalThis?.document){const a=Go(r),f=P.useRef(!1),m=P.useRef(()=>{});return P.useEffect(()=>{const p=b=>{if(b.target&&!f.current){let N=function(){i2(l8,a,E,{discrete:!0})};const E={originalEvent:b};b.pointerType==="touch"?(i.removeEventListener("click",m.current),m.current=N,i.addEventListener("click",m.current,{once:!0})):N()}else i.removeEventListener("click",m.current);f.current=!1},y=window.setTimeout(()=>{i.addEventListener("pointerdown",p)},0);return()=>{window.clearTimeout(y),i.removeEventListener("pointerdown",p),i.removeEventListener("click",m.current)}},[i,a]),{onPointerDownCapture:()=>f.current=!0}}function h8(r,i=globalThis?.document){const a=Go(r),f=P.useRef(!1);return P.useEffect(()=>{const m=p=>{p.target&&!f.current&&i2(c8,a,{originalEvent:p},{discrete:!1})};return i.addEventListener("focusin",m),()=>i.removeEventListener("focusin",m)},[i,a]),{onFocusCapture:()=>f.current=!0,onBlurCapture:()=>f.current=!1}}function cg(){const r=new CustomEvent(Rf);document.dispatchEvent(r)}function i2(r,i,a,{discrete:f}){const m=a.originalEvent.target,p=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:a});i&&m.addEventListener(r,i,{once:!0}),f?o4(m,p):m.dispatchEvent(p)}var Kd="focusScope.autoFocusOnMount",Zd="focusScope.autoFocusOnUnmount",ug={bubbles:!1,cancelable:!0},m8="FocusScope",s2=P.forwardRef((r,i)=>{const{loop:a=!1,trapped:f=!1,onMountAutoFocus:m,onUnmountAutoFocus:p,...y}=r,[b,N]=P.useState(null),E=Go(m),T=Go(p),S=P.useRef(null),D=Jr(i,F=>N(F)),L=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(f){let F=function(X){if(L.paused||!b)return;const ne=X.target;b.contains(ne)?S.current=ne:vs(S.current,{select:!0})},W=function(X){if(L.paused||!b)return;const ne=X.relatedTarget;ne!==null&&(b.contains(ne)||vs(S.current,{select:!0}))},V=function(X){if(document.activeElement===document.body)for(const fe of X)fe.removedNodes.length>0&&vs(b)};document.addEventListener("focusin",F),document.addEventListener("focusout",W);const ee=new MutationObserver(V);return b&&ee.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",F),document.removeEventListener("focusout",W),ee.disconnect()}}},[f,b,L.paused]),P.useEffect(()=>{if(b){fg.add(L);const F=document.activeElement;if(!b.contains(F)){const V=new CustomEvent(Kd,ug);b.addEventListener(Kd,E),b.dispatchEvent(V),V.defaultPrevented||(g8(v8(o2(b)),{select:!0}),document.activeElement===F&&vs(b))}return()=>{b.removeEventListener(Kd,E),setTimeout(()=>{const V=new CustomEvent(Zd,ug);b.addEventListener(Zd,T),b.dispatchEvent(V),V.defaultPrevented||vs(F??document.body,{select:!0}),b.removeEventListener(Zd,T),fg.remove(L)},0)}}},[b,E,T,L]);const z=P.useCallback(F=>{if(!a&&!f||L.paused)return;const W=F.key==="Tab"&&!F.altKey&&!F.ctrlKey&&!F.metaKey,V=document.activeElement;if(W&&V){const ee=F.currentTarget,[X,ne]=p8(ee);X&&ne?!F.shiftKey&&V===ne?(F.preventDefault(),a&&vs(X,{select:!0})):F.shiftKey&&V===X&&(F.preventDefault(),a&&vs(ne,{select:!0})):V===ee&&F.preventDefault()}},[a,f,L.paused]);return C.jsx(_n.div,{tabIndex:-1,...y,ref:D,onKeyDown:z})});s2.displayName=m8;function g8(r,{select:i=!1}={}){const a=document.activeElement;for(const f of r)if(vs(f,{select:i}),document.activeElement!==a)return}function p8(r){const i=o2(r),a=dg(i,r),f=dg(i.reverse(),r);return[a,f]}function o2(r){const i=[],a=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:f=>{const m=f.tagName==="INPUT"&&f.type==="hidden";return f.disabled||f.hidden||m?NodeFilter.FILTER_SKIP:f.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)i.push(a.currentNode);return i}function dg(r,i){for(const a of r)if(!x8(a,{upTo:i}))return a}function x8(r,{upTo:i}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(i!==void 0&&r===i)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function y8(r){return r instanceof HTMLInputElement&&"select"in r}function vs(r,{select:i=!1}={}){if(r&&r.focus){const a=document.activeElement;r.focus({preventScroll:!0}),r!==a&&y8(r)&&i&&r.select()}}var fg=w8();function w8(){let r=[];return{add(i){const a=r[0];i!==a&&a?.pause(),r=hg(r,i),r.unshift(i)},remove(i){r=hg(r,i),r[0]?.resume()}}}function hg(r,i){const a=[...r],f=a.indexOf(i);return f!==-1&&a.splice(f,1),a}function v8(r){return r.filter(i=>i.tagName!=="A")}var C8="Portal",a2=P.forwardRef((r,i)=>{const{container:a,...f}=r,[m,p]=P.useState(!1);Ho(()=>p(!0),[]);const y=a||m&&globalThis?.document?.body;return y?_x.createPortal(C.jsx(_n.div,{...f,ref:i}),y):null});a2.displayName=C8;var qd=0;function E8(){P.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??mg()),document.body.insertAdjacentElement("beforeend",r[1]??mg()),qd++,()=>{qd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(i=>i.remove()),qd--}},[])}function mg(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Ei=function(){return Ei=Object.assign||function(i){for(var a,f=1,m=arguments.length;f<m;f++){a=arguments[f];for(var p in a)Object.prototype.hasOwnProperty.call(a,p)&&(i[p]=a[p])}return i},Ei.apply(this,arguments)};function l2(r,i){var a={};for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&i.indexOf(f)<0&&(a[f]=r[f]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,f=Object.getOwnPropertySymbols(r);m<f.length;m++)i.indexOf(f[m])<0&&Object.prototype.propertyIsEnumerable.call(r,f[m])&&(a[f[m]]=r[f[m]]);return a}function b8(r,i,a){if(a||arguments.length===2)for(var f=0,m=i.length,p;f<m;f++)(p||!(f in i))&&(p||(p=Array.prototype.slice.call(i,0,f)),p[f]=i[f]);return r.concat(p||Array.prototype.slice.call(i))}var Mc="right-scroll-bar-position",Pc="width-before-scroll-bar",A8="with-scroll-bars-hidden",S8="--removed-body-scroll-bar-size";function Qd(r,i){return typeof r=="function"?r(i):r&&(r.current=i),r}function N8(r,i){var a=P.useState(function(){return{value:r,callback:i,facade:{get current(){return a.value},set current(f){var m=a.value;m!==f&&(a.value=f,a.callback(f,m))}}}})[0];return a.callback=i,a.facade}var T8=typeof window<"u"?P.useLayoutEffect:P.useEffect,gg=new WeakMap;function I8(r,i){var a=N8(null,function(f){return r.forEach(function(m){return Qd(m,f)})});return T8(function(){var f=gg.get(a);if(f){var m=new Set(f),p=new Set(r),y=a.current;m.forEach(function(b){p.has(b)||Qd(b,null)}),p.forEach(function(b){m.has(b)||Qd(b,y)})}gg.set(a,r)},[r]),a}function R8(r){return r}function k8(r,i){i===void 0&&(i=R8);var a=[],f=!1,m={read:function(){if(f)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:r},useMedium:function(p){var y=i(p,f);return a.push(y),function(){a=a.filter(function(b){return b!==y})}},assignSyncMedium:function(p){for(f=!0;a.length;){var y=a;a=[],y.forEach(p)}a={push:function(b){return p(b)},filter:function(){return a}}},assignMedium:function(p){f=!0;var y=[];if(a.length){var b=a;a=[],b.forEach(p),y=a}var N=function(){var T=y;y=[],T.forEach(p)},E=function(){return Promise.resolve().then(N)};E(),a={push:function(T){y.push(T),E()},filter:function(T){return y=y.filter(T),a}}}};return m}function _8(r){r===void 0&&(r={});var i=k8(null);return i.options=Ei({async:!0,ssr:!1},r),i}var c2=function(r){var i=r.sideCar,a=l2(r,["sideCar"]);if(!i)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var f=i.read();if(!f)throw new Error("Sidecar medium not found");return P.createElement(f,Ei({},a))};c2.isSideCarExport=!0;function O8(r,i){return r.useMedium(i),c2}var u2=_8(),$d=function(){},Jc=P.forwardRef(function(r,i){var a=P.useRef(null),f=P.useState({onScrollCapture:$d,onWheelCapture:$d,onTouchMoveCapture:$d}),m=f[0],p=f[1],y=r.forwardProps,b=r.children,N=r.className,E=r.removeScrollBar,T=r.enabled,S=r.shards,D=r.sideCar,L=r.noRelative,z=r.noIsolation,F=r.inert,W=r.allowPinchZoom,V=r.as,ee=V===void 0?"div":V,X=r.gapMode,ne=l2(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),fe=D,ue=I8([a,i]),Z=Ei(Ei({},ne),m);return P.createElement(P.Fragment,null,T&&P.createElement(fe,{sideCar:u2,removeScrollBar:E,shards:S,noRelative:L,noIsolation:z,inert:F,setCallbacks:p,allowPinchZoom:!!W,lockRef:a,gapMode:X}),y?P.cloneElement(P.Children.only(b),Ei(Ei({},Z),{ref:ue})):P.createElement(ee,Ei({},Z,{className:N,ref:ue}),b))});Jc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jc.classNames={fullWidth:Pc,zeroRight:Mc};var D8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M8(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var i=D8();return i&&r.setAttribute("nonce",i),r}function P8(r,i){r.styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i))}function L8(r){var i=document.head||document.getElementsByTagName("head")[0];i.appendChild(r)}var B8=function(){var r=0,i=null;return{add:function(a){r==0&&(i=M8())&&(P8(i,a),L8(i)),r++},remove:function(){r--,!r&&i&&(i.parentNode&&i.parentNode.removeChild(i),i=null)}}},F8=function(){var r=B8();return function(i,a){P.useEffect(function(){return r.add(i),function(){r.remove()}},[i&&a])}},d2=function(){var r=F8(),i=function(a){var f=a.styles,m=a.dynamic;return r(f,m),null};return i},j8={left:0,top:0,right:0,gap:0},Jd=function(r){return parseInt(r||"",10)||0},V8=function(r){var i=window.getComputedStyle(document.body),a=i[r==="padding"?"paddingLeft":"marginLeft"],f=i[r==="padding"?"paddingTop":"marginTop"],m=i[r==="padding"?"paddingRight":"marginRight"];return[Jd(a),Jd(f),Jd(m)]},U8=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return j8;var i=V8(r),a=document.documentElement.clientWidth,f=window.innerWidth;return{left:i[0],top:i[1],right:i[2],gap:Math.max(0,f-a+i[2]-i[0])}},z8=d2(),Uo="data-scroll-locked",W8=function(r,i,a,f){var m=r.left,p=r.top,y=r.right,b=r.gap;return a===void 0&&(a="margin"),`
  .`.concat(A8,` {
   overflow: hidden `).concat(f,`;
   padding-right: `).concat(b,"px ").concat(f,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(f,`;
    overscroll-behavior: contain;
    `).concat([i&&"position: relative ".concat(f,";"),a==="margin"&&`
    padding-left: `.concat(m,`px;
    padding-top: `).concat(p,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(b,"px ").concat(f,`;
    `),a==="padding"&&"padding-right: ".concat(b,"px ").concat(f,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mc,` {
    right: `).concat(b,"px ").concat(f,`;
  }
  
  .`).concat(Pc,` {
    margin-right: `).concat(b,"px ").concat(f,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    right: 0 `).concat(f,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    margin-right: 0 `).concat(f,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(S8,": ").concat(b,`px;
  }
`)},pg=function(){var r=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(r)?r:0},H8=function(){P.useEffect(function(){return document.body.setAttribute(Uo,(pg()+1).toString()),function(){var r=pg()-1;r<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,r.toString())}},[])},G8=function(r){var i=r.noRelative,a=r.noImportant,f=r.gapMode,m=f===void 0?"margin":f;H8();var p=P.useMemo(function(){return U8(m)},[m]);return P.createElement(z8,{styles:W8(p,!i,m,a?"":"!important")})},kf=!1;if(typeof window<"u")try{var Sc=Object.defineProperty({},"passive",{get:function(){return kf=!0,!0}});window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{kf=!1}var Ro=kf?{passive:!1}:!1,X8=function(r){return r.tagName==="TEXTAREA"},f2=function(r,i){if(!(r instanceof Element))return!1;var a=window.getComputedStyle(r);return a[i]!=="hidden"&&!(a.overflowY===a.overflowX&&!X8(r)&&a[i]==="visible")},Y8=function(r){return f2(r,"overflowY")},K8=function(r){return f2(r,"overflowX")},xg=function(r,i){var a=i.ownerDocument,f=i;do{typeof ShadowRoot<"u"&&f instanceof ShadowRoot&&(f=f.host);var m=h2(r,f);if(m){var p=m2(r,f),y=p[1],b=p[2];if(y>b)return!0}f=f.parentNode}while(f&&f!==a.body);return!1},Z8=function(r){var i=r.scrollTop,a=r.scrollHeight,f=r.clientHeight;return[i,a,f]},q8=function(r){var i=r.scrollLeft,a=r.scrollWidth,f=r.clientWidth;return[i,a,f]},h2=function(r,i){return r==="v"?Y8(i):K8(i)},m2=function(r,i){return r==="v"?Z8(i):q8(i)},Q8=function(r,i){return r==="h"&&i==="rtl"?-1:1},$8=function(r,i,a,f,m){var p=Q8(r,window.getComputedStyle(i).direction),y=p*f,b=a.target,N=i.contains(b),E=!1,T=y>0,S=0,D=0;do{if(!b)break;var L=m2(r,b),z=L[0],F=L[1],W=L[2],V=F-W-p*z;(z||V)&&h2(r,b)&&(S+=V,D+=z);var ee=b.parentNode;b=ee&&ee.nodeType===Node.DOCUMENT_FRAGMENT_NODE?ee.host:ee}while(!N&&b!==document.body||N&&(i.contains(b)||i===b));return(T&&Math.abs(S)<1||!T&&Math.abs(D)<1)&&(E=!0),E},Nc=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},yg=function(r){return[r.deltaX,r.deltaY]},wg=function(r){return r&&"current"in r?r.current:r},J8=function(r,i){return r[0]===i[0]&&r[1]===i[1]},eS=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},tS=0,ko=[];function nS(r){var i=P.useRef([]),a=P.useRef([0,0]),f=P.useRef(),m=P.useState(tS++)[0],p=P.useState(d2)[0],y=P.useRef(r);P.useEffect(function(){y.current=r},[r]),P.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(m));var F=b8([r.lockRef.current],(r.shards||[]).map(wg),!0).filter(Boolean);return F.forEach(function(W){return W.classList.add("allow-interactivity-".concat(m))}),function(){document.body.classList.remove("block-interactivity-".concat(m)),F.forEach(function(W){return W.classList.remove("allow-interactivity-".concat(m))})}}},[r.inert,r.lockRef.current,r.shards]);var b=P.useCallback(function(F,W){if("touches"in F&&F.touches.length===2||F.type==="wheel"&&F.ctrlKey)return!y.current.allowPinchZoom;var V=Nc(F),ee=a.current,X="deltaX"in F?F.deltaX:ee[0]-V[0],ne="deltaY"in F?F.deltaY:ee[1]-V[1],fe,ue=F.target,Z=Math.abs(X)>Math.abs(ne)?"h":"v";if("touches"in F&&Z==="h"&&ue.type==="range")return!1;var Q=xg(Z,ue);if(!Q)return!0;if(Q?fe=Z:(fe=Z==="v"?"h":"v",Q=xg(Z,ue)),!Q)return!1;if(!f.current&&"changedTouches"in F&&(X||ne)&&(f.current=fe),!fe)return!0;var le=f.current||fe;return $8(le,W,F,le==="h"?X:ne)},[]),N=P.useCallback(function(F){var W=F;if(!(!ko.length||ko[ko.length-1]!==p)){var V="deltaY"in W?yg(W):Nc(W),ee=i.current.filter(function(fe){return fe.name===W.type&&(fe.target===W.target||W.target===fe.shadowParent)&&J8(fe.delta,V)})[0];if(ee&&ee.should){W.cancelable&&W.preventDefault();return}if(!ee){var X=(y.current.shards||[]).map(wg).filter(Boolean).filter(function(fe){return fe.contains(W.target)}),ne=X.length>0?b(W,X[0]):!y.current.noIsolation;ne&&W.cancelable&&W.preventDefault()}}},[]),E=P.useCallback(function(F,W,V,ee){var X={name:F,delta:W,target:V,should:ee,shadowParent:rS(V)};i.current.push(X),setTimeout(function(){i.current=i.current.filter(function(ne){return ne!==X})},1)},[]),T=P.useCallback(function(F){a.current=Nc(F),f.current=void 0},[]),S=P.useCallback(function(F){E(F.type,yg(F),F.target,b(F,r.lockRef.current))},[]),D=P.useCallback(function(F){E(F.type,Nc(F),F.target,b(F,r.lockRef.current))},[]);P.useEffect(function(){return ko.push(p),r.setCallbacks({onScrollCapture:S,onWheelCapture:S,onTouchMoveCapture:D}),document.addEventListener("wheel",N,Ro),document.addEventListener("touchmove",N,Ro),document.addEventListener("touchstart",T,Ro),function(){ko=ko.filter(function(F){return F!==p}),document.removeEventListener("wheel",N,Ro),document.removeEventListener("touchmove",N,Ro),document.removeEventListener("touchstart",T,Ro)}},[]);var L=r.removeScrollBar,z=r.inert;return P.createElement(P.Fragment,null,z?P.createElement(p,{styles:eS(m)}):null,L?P.createElement(G8,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function rS(r){for(var i=null;r!==null;)r instanceof ShadowRoot&&(i=r.host,r=r.host),r=r.parentNode;return i}const iS=O8(u2,nS);var g2=P.forwardRef(function(r,i){return P.createElement(Jc,Ei({},r,{ref:i,sideCar:iS}))});g2.classNames=Jc.classNames;var sS=function(r){if(typeof document>"u")return null;var i=Array.isArray(r)?r[0]:r;return i.ownerDocument.body},_o=new WeakMap,Tc=new WeakMap,Ic={},ef=0,p2=function(r){return r&&(r.host||p2(r.parentNode))},oS=function(r,i){return i.map(function(a){if(r.contains(a))return a;var f=p2(a);return f&&r.contains(f)?f:(console.error("aria-hidden",a,"in not contained inside",r,". Doing nothing"),null)}).filter(function(a){return!!a})},aS=function(r,i,a,f){var m=oS(i,Array.isArray(r)?r:[r]);Ic[a]||(Ic[a]=new WeakMap);var p=Ic[a],y=[],b=new Set,N=new Set(m),E=function(S){!S||b.has(S)||(b.add(S),E(S.parentNode))};m.forEach(E);var T=function(S){!S||N.has(S)||Array.prototype.forEach.call(S.children,function(D){if(b.has(D))T(D);else try{var L=D.getAttribute(f),z=L!==null&&L!=="false",F=(_o.get(D)||0)+1,W=(p.get(D)||0)+1;_o.set(D,F),p.set(D,W),y.push(D),F===1&&z&&Tc.set(D,!0),W===1&&D.setAttribute(a,"true"),z||D.setAttribute(f,"true")}catch(V){console.error("aria-hidden: cannot operate on ",D,V)}})};return T(i),b.clear(),ef++,function(){y.forEach(function(S){var D=_o.get(S)-1,L=p.get(S)-1;_o.set(S,D),p.set(S,L),D||(Tc.has(S)||S.removeAttribute(f),Tc.delete(S)),L||S.removeAttribute(a)}),ef--,ef||(_o=new WeakMap,_o=new WeakMap,Tc=new WeakMap,Ic={})}},lS=function(r,i,a){a===void 0&&(a="data-aria-hidden");var f=Array.from(Array.isArray(r)?r:[r]),m=sS(r);return m?(f.push.apply(f,Array.from(m.querySelectorAll("[aria-live], script"))),aS(f,m,a,"aria-hidden")):function(){return null}},eu="Dialog",[x2]=il(eu),[cS,di]=x2(eu),y2=r=>{const{__scopeDialog:i,children:a,open:f,defaultOpen:m,onOpenChange:p,modal:y=!0}=r,b=P.useRef(null),N=P.useRef(null),[E,T]=qc({prop:f,defaultProp:m??!1,onChange:p,caller:eu});return C.jsx(cS,{scope:i,triggerRef:b,contentRef:N,contentId:Ga(),titleId:Ga(),descriptionId:Ga(),open:E,onOpenChange:T,onOpenToggle:P.useCallback(()=>T(S=>!S),[T]),modal:y,children:a})};y2.displayName=eu;var w2="DialogTrigger",uS=P.forwardRef((r,i)=>{const{__scopeDialog:a,...f}=r,m=di(w2,a),p=Jr(i,m.triggerRef);return C.jsx(_n.button,{type:"button","aria-haspopup":"dialog","aria-expanded":m.open,"aria-controls":m.contentId,"data-state":C0(m.open),...f,ref:p,onClick:Fn(r.onClick,m.onOpenToggle)})});uS.displayName=w2;var w0="DialogPortal",[dS,v2]=x2(w0,{forceMount:void 0}),C2=r=>{const{__scopeDialog:i,forceMount:a,children:f,container:m}=r,p=di(w0,i);return C.jsx(dS,{scope:i,forceMount:a,children:P.Children.map(f,y=>C.jsx(ol,{present:a||p.open,children:C.jsx(a2,{asChild:!0,container:m,children:y})}))})};C2.displayName=w0;var Gc="DialogOverlay",E2=P.forwardRef((r,i)=>{const a=v2(Gc,r.__scopeDialog),{forceMount:f=a.forceMount,...m}=r,p=di(Gc,r.__scopeDialog);return p.modal?C.jsx(ol,{present:f||p.open,children:C.jsx(hS,{...m,ref:i})}):null});E2.displayName=Gc;var fS=Xa("DialogOverlay.RemoveScroll"),hS=P.forwardRef((r,i)=>{const{__scopeDialog:a,...f}=r,m=di(Gc,a);return C.jsx(g2,{as:fS,allowPinchZoom:!0,shards:[m.contentRef],children:C.jsx(_n.div,{"data-state":C0(m.open),...f,ref:i,style:{pointerEvents:"auto",...f.style}})})}),to="DialogContent",b2=P.forwardRef((r,i)=>{const a=v2(to,r.__scopeDialog),{forceMount:f=a.forceMount,...m}=r,p=di(to,r.__scopeDialog);return C.jsx(ol,{present:f||p.open,children:p.modal?C.jsx(mS,{...m,ref:i}):C.jsx(gS,{...m,ref:i})})});b2.displayName=to;var mS=P.forwardRef((r,i)=>{const a=di(to,r.__scopeDialog),f=P.useRef(null),m=Jr(i,a.contentRef,f);return P.useEffect(()=>{const p=f.current;if(p)return lS(p)},[]),C.jsx(A2,{...r,ref:m,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fn(r.onCloseAutoFocus,p=>{p.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:Fn(r.onPointerDownOutside,p=>{const y=p.detail.originalEvent,b=y.button===0&&y.ctrlKey===!0;(y.button===2||b)&&p.preventDefault()}),onFocusOutside:Fn(r.onFocusOutside,p=>p.preventDefault())})}),gS=P.forwardRef((r,i)=>{const a=di(to,r.__scopeDialog),f=P.useRef(!1),m=P.useRef(!1);return C.jsx(A2,{...r,ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:p=>{r.onCloseAutoFocus?.(p),p.defaultPrevented||(f.current||a.triggerRef.current?.focus(),p.preventDefault()),f.current=!1,m.current=!1},onInteractOutside:p=>{r.onInteractOutside?.(p),p.defaultPrevented||(f.current=!0,p.detail.originalEvent.type==="pointerdown"&&(m.current=!0));const y=p.target;a.triggerRef.current?.contains(y)&&p.preventDefault(),p.detail.originalEvent.type==="focusin"&&m.current&&p.preventDefault()}})}),A2=P.forwardRef((r,i)=>{const{__scopeDialog:a,trapFocus:f,onOpenAutoFocus:m,onCloseAutoFocus:p,...y}=r,b=di(to,a),N=P.useRef(null),E=Jr(i,N);return E8(),C.jsxs(C.Fragment,{children:[C.jsx(s2,{asChild:!0,loop:!0,trapped:f,onMountAutoFocus:m,onUnmountAutoFocus:p,children:C.jsx(r2,{role:"dialog",id:b.contentId,"aria-describedby":b.descriptionId,"aria-labelledby":b.titleId,"data-state":C0(b.open),...y,ref:E,onDismiss:()=>b.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(pS,{titleId:b.titleId}),C.jsx(yS,{contentRef:N,descriptionId:b.descriptionId})]})]})}),v0="DialogTitle",S2=P.forwardRef((r,i)=>{const{__scopeDialog:a,...f}=r,m=di(v0,a);return C.jsx(_n.h2,{id:m.titleId,...f,ref:i})});S2.displayName=v0;var N2="DialogDescription",T2=P.forwardRef((r,i)=>{const{__scopeDialog:a,...f}=r,m=di(N2,a);return C.jsx(_n.p,{id:m.descriptionId,...f,ref:i})});T2.displayName=N2;var I2="DialogClose",R2=P.forwardRef((r,i)=>{const{__scopeDialog:a,...f}=r,m=di(I2,a);return C.jsx(_n.button,{type:"button",...f,ref:i,onClick:Fn(r.onClick,()=>m.onOpenChange(!1))})});R2.displayName=I2;function C0(r){return r?"open":"closed"}var k2="DialogTitleWarning",[FS,_2]=f4(k2,{contentName:to,titleName:v0,docsSlug:"dialog"}),pS=({titleId:r})=>{const i=_2(k2),a=`\`${i.contentName}\` requires a \`${i.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${i.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${i.docsSlug}`;return P.useEffect(()=>{r&&(document.getElementById(r)||console.error(a))},[a,r]),null},xS="DialogDescriptionWarning",yS=({contentRef:r,descriptionId:i})=>{const f=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_2(xS).contentName}}.`;return P.useEffect(()=>{const m=r.current?.getAttribute("aria-describedby");i&&m&&(document.getElementById(i)||console.warn(f))},[f,r,i]),null},wS=y2,vS=C2,O2=E2,D2=b2,CS=S2,ES=T2,bS=R2;function vg({...r}){return C.jsx(wS,{"data-slot":"dialog",...r})}function AS({...r}){return C.jsx(vS,{"data-slot":"dialog-portal",...r})}const M2=P.forwardRef(({className:r,...i},a)=>C.jsx(O2,{ref:a,"data-slot":"dialog-overlay",className:jn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...i}));M2.displayName=O2.displayName;const _f=P.forwardRef(({className:r,children:i,...a},f)=>C.jsxs(AS,{children:[C.jsx(M2,{}),C.jsxs(D2,{ref:f,"data-slot":"dialog-content",className:jn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...a,children:[i,C.jsxs(bS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[C.jsx(Ko,{}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_f.displayName=D2.displayName;function Cg({className:r,...i}){return C.jsx("div",{"data-slot":"dialog-header",className:jn("flex flex-col gap-2 text-center sm:text-left",r),...i})}function SS({className:r,...i}){return C.jsx("div",{"data-slot":"dialog-footer",className:jn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...i})}function Eg({className:r,...i}){return C.jsx(CS,{"data-slot":"dialog-title",className:jn("text-lg leading-none font-semibold",r),...i})}function NS({className:r,...i}){return C.jsx(ES,{"data-slot":"dialog-description",className:jn("text-muted-foreground text-sm",r),...i})}const TS="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function bg(r){const[i,a]=P.useState(!1),f=()=>{a(!0)},{src:m,alt:p,style:y,className:b,...N}=r;return i?C.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${b??""}`,style:y,children:C.jsx("div",{className:"flex items-center justify-center w-full h-full",children:C.jsx("img",{src:TS,alt:"Error loading image",...N,"data-original-url":m})})}):C.jsx("img",{src:m,alt:p,className:b,style:y,...N,onError:f})}function IS({onRedeem:r}){const i="https://ecopoints.hvd.lat/",a="api/listarConvenios",f="api/canjearPuntos",m="api/obtenerPuntos",p=localStorage.getItem("usuario_id"),[y,b]=P.useState([]),[N,E]=P.useState(!0),[T,S]=P.useState(null),[D,L]=P.useState(!1),[z,F]=P.useState(null),[W,V]=P.useState("0"),ee=ge=>{if(!ge)return"other";const me=ge.toLowerCase();return me.includes("bembos")||me.includes("mcdonald")||me.includes("burger")||me.includes("kfc")||me.includes("pizza")||me.includes("restaurant")||me.includes("comida")||me.includes("hamburguesa")||me.includes("combo")?"restaurant":me.includes("caf")||me.includes("cafe")||me.includes("starbucks")||me.includes("coffee")||me.includes("barista")||me.includes("tostado")?"cafe":me.includes("retail")||me.includes("tienda")||me.includes("super")||me.includes("market")||me.includes("ropa")||me.includes("zara")||me.includes("h&m")||me.includes("moda")||me.includes("store")?"retail":me.includes("cine")||me.includes("movie")||me.includes("teatro")||me.includes("entertainment")||me.includes("diversion")||me.includes("pelicula")?"entertainment":"other"},X=async()=>{E(!0);try{const ge=await fetch(`${i}${a}`);if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);const me=await ge.json();console.log("Datos recibidos de convenios:",me);const ce=me.map(xe=>({id:xe.id.toString(),name:xe.titulo||"Convenio sin ttulo",brand:xe.empresa||"Empresa no especificada",description:xe.descripcion||"Sin descripcin",points:parseInt(xe.puntos_requeridos)||0,category:ee(xe.empresa),image:xe.imagen_url||xe.logo_url||"https://images.unsplash.com/photo-1542831371-29b0f74f9d13?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdG9jayUyMG1lYWx8ZW58MXx8fHwxNzYzMTk2NzU5fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",validity:xe.vigencia||"30 das",stock:parseInt(xe.stock)||0}));b(ce)}catch(ge){console.error("Error al obtener convenios:",ge),gt.error("No se pudieron cargar los premios."),b([])}finally{E(!1)}},ne=async()=>{if(p)try{const ge=await fetch(`${i}${m}?usuario_id=${p}`);if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);const me=await ge.json();V(me.puntos?me.puntos.toString():"0")}catch(ge){console.error("Error al obtener puntos:",ge),V("0")}},fe=async ge=>{if(!p){gt.error("Error: Sesin de usuario no encontrada.");return}S(null);try{console.log(" Enviando solicitud de canje:",{usuario_id:parseInt(p),convenio_id:parseInt(ge.id)});const me=await fetch(`${i}${f}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario_id:parseInt(p),convenio_id:parseInt(ge.id)})}),ce=await me.json();if(console.log(" Respuesta del canje:",ce),!me.ok||ce.error)throw ce.error&&ce.error.includes("puntos insuficientes")?new Error("No tienes suficientes puntos para este canje."):ce.error&&ce.error.includes("stock")?new Error("Este premio ya no est disponible."):new Error(ce.error||"Error al procesar el canje.");if(ce.mensaje&&ce.mensaje.includes("xito"))r(ge),F({...ge,codigo_entrega:ce.codigo_entrega}),L(!0),ce.puntos_restantes!==void 0?V(ce.puntos_restantes.toString()):await ne(),await X(),gt.success("Canje realizado exitosamente!"),setTimeout(()=>{L(!1),F(null)},15e3);else throw new Error(ce.mensaje||"Error desconocido al procesar el canje.")}catch(me){console.error(" Error al registrar el canje:",me),gt.error(me.message||"Error de conexin. Intntalo ms tarde.")}};P.useEffect(()=>{X(),p&&ne()},[p]);const ue=ge=>{const me=parseFloat(W)||0,ce=ge.stock>0;me>=ge.points&&ce?S(ge):ce?gt.error("No tienes suficientes ecopoints"):gt.error("Este premio ya no est disponible.")},Z=()=>{T&&fe(T)},Q=ge=>!ge||ge==="all"?y:y.filter(me=>me.category.toLowerCase()===ge.toLowerCase()),le=({reward:ge})=>{const ce=(parseFloat(W)||0)>=ge.points,xe=ge.stock>0,je=ce&&xe;return C.jsxs(Lt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"aspect-video bg-gray-200 overflow-hidden",children:C.jsx(bg,{src:ge.image,alt:ge.name,className:"w-full h-full object-cover"})}),C.jsx("div",{className:"absolute top-2 left-2",children:xe?C.jsxs(Dc,{className:"bg-green-500 text-white flex items-center gap-1",children:[C.jsx(kd,{className:"w-3 h-3"}),"Stock: ",ge.stock]}):C.jsxs(Dc,{className:"bg-red-500 text-white flex items-center gap-1",children:[C.jsx(kd,{className:"w-3 h-3"}),"Sin stock"]})})]}),C.jsxs("div",{className:"p-4 space-y-3",children:[C.jsxs("div",{children:[C.jsx("div",{className:"flex items-center gap-2 mb-1",children:C.jsx("span",{className:"text-gray-500 dark:text-white",children:ge.brand})}),C.jsx("h3",{className:"text-gray-900 dark:",children:ge.name}),C.jsx("p",{className:"text-gray-500 line-clamp-2",children:ge.description})]}),C.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx(Cs,{className:"w-4 h-4 text-emerald-600"}),C.jsx("span",{className:"text-gray-900 dark:text-white",children:ge.points}),C.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"pts"})]}),C.jsx(At,{size:"sm",onClick:()=>ue(ge),disabled:!je,className:je?"bg-emerald-600 hover:bg-emerald-700":xe?"bg-amber-500 hover:bg-amber-600 dark:bg-red-600 text-white":"bg-black cursor-not-allowed dark:bg-gray-800 text-white",children:je?"Canjear":xe?"CANJEAR":"Sin stock"})]}),ge.validity&&C.jsxs("p",{className:"text-gray-400",children:["Vlido por ",ge.validity]})]})]})};return C.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-gray-900 mb-2 dark:text-white",children:"Premios"}),C.jsx("p",{className:"text-black dark:text-white/80",children:"Canjea tus ecopoints por premios increbles"})]}),C.jsx(Lt,{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 text-white p-6",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-emerald-100 mb-1",children:"Tus ecopoints"}),C.jsx("div",{className:"flex items-baseline gap-2",children:W!=="0"?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-3xl font-semibold",children:parseFloat(W).toLocaleString()}),C.jsx("span",{className:"text-emerald-100",children:"puntos"})]}):C.jsx("span",{className:"text-sm text-emerald-100 italic",children:"Cargando..."})})]}),C.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:C.jsx(Ya,{className:"w-8 h-8"})})]})}),C.jsxs(i8,{defaultValue:"all",className:"w-full",children:[C.jsxs(s8,{className:"w-full grid grid-cols-4",children:[C.jsx(bc,{value:"all",children:"Todos"}),C.jsx(bc,{value:"restaurant",children:"Comida"}),C.jsx(bc,{value:"cafe",children:"Caf"}),C.jsx(bc,{value:"retail",children:"Retail"})]}),N?C.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"Cargando premios..."}):y.length===0?C.jsx("div",{className:"text-center p-8 text-gray-500 italic",children:"No se encontraron premios disponibles."}):C.jsxs(C.Fragment,{children:[C.jsx(Ac,{value:"all",className:"mt-6",children:C.jsx("div",{className:"grid grid-cols-1 gap-4",children:Q("all").map(ge=>C.jsx(le,{reward:ge},ge.id))})}),C.jsx(Ac,{value:"restaurant",className:"mt-6",children:C.jsx("div",{className:"grid grid-cols-1 gap-4",children:Q("restaurant").map(ge=>C.jsx(le,{reward:ge},ge.id))})}),C.jsx(Ac,{value:"cafe",className:"mt-6",children:C.jsx("div",{className:"grid grid-cols-1 gap-4",children:Q("cafe").map(ge=>C.jsx(le,{reward:ge},ge.id))})}),C.jsx(Ac,{value:"retail",className:"mt-6",children:C.jsx("div",{className:"grid grid-cols-1 gap-4",children:Q("retail").map(ge=>C.jsx(le,{reward:ge},ge.id))})})]})]}),C.jsx(vg,{open:!!T,onOpenChange:ge=>!ge&&S(null),children:C.jsxs(_f,{children:[C.jsxs(Cg,{children:[C.jsx(Eg,{children:"Confirmar canje"}),C.jsx(NS,{children:"Ests seguro de canjear tus ecopoints por este premio?"})]}),T&&C.jsxs("div",{className:"space-y-4",children:[C.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg overflow-hidden",children:C.jsx(bg,{src:T.image,alt:T.name,className:"w-full h-full object-cover"})}),C.jsxs("div",{children:[C.jsx("p",{className:"text-gray-500",children:T.brand}),C.jsx("h3",{className:"text-gray-900",children:T.name}),C.jsx("p",{className:"text-gray-600 mt-2",children:T.description})]}),C.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[C.jsxs("span",{className:"text-gray-700 flex items-center gap-2",children:[C.jsx(kd,{className:"w-4 h-4"}),"Stock disponible:"]}),C.jsx(Dc,{className:T.stock>0?"bg-green-500":"bg-red-500",children:T.stock>0?`${T.stock} unidades`:"Sin stock"})]}),C.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[C.jsx("span",{className:"text-gray-700",children:"Costo:"}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx(Cs,{className:"w-5 h-5 text-emerald-600"}),C.jsxs("span",{className:"text-gray-900",children:[T.points," puntos"]})]})]}),C.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-lg",children:[C.jsx("span",{className:"text-gray-700",children:"Tu saldo despus:"}),C.jsxs("span",{className:"text-gray-900",children:[(parseFloat(W)||0)-T.points," puntos"]})]})]}),C.jsxs(SS,{children:[C.jsx(At,{variant:"outline",onClick:()=>S(null),children:"Cancelar"}),C.jsx(At,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:Z,disabled:T?.stock===0,children:T?.stock===0?"Sin stock":"Confirmar canje"})]})]})}),C.jsx(vg,{open:D,onOpenChange:L,children:C.jsxs(_f,{className:"sm:max-w-md",children:[C.jsx(Cg,{children:C.jsx(Eg,{children:"Canje Exitoso"})}),C.jsxs("div",{className:"text-center space-y-4 py-6",children:[C.jsx(Lr.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-emerald-100 rounded-full mx-auto",children:C.jsx(Gg,{className:"w-12 h-12 text-emerald-600"})}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-gray-900 mb-2",children:"Canje exitoso!"}),C.jsxs("p",{className:"text-gray-600",children:["Has canjeado ",z?.points," ecopoints"]})]}),z&&C.jsxs(Lt,{className:"p-4 bg-emerald-50 border border-emerald-200",children:[C.jsxs("p",{className:"text-emerald-900 font-semibold mb-1",children:[z.brand," - ",z.name]}),z.codigo_entrega&&C.jsxs("div",{className:"bg-white p-3 rounded-lg mt-2 shadow-inner border border-gray-100",children:[C.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Tu cdigo de canje:"}),C.jsx("p",{className:"text-xl font-mono text-emerald-700 break-words font-bold bg-gray-50 p-2 rounded border",children:z.codigo_entrega}),C.jsx(At,{size:"sm",variant:"outline",className:"mt-3 w-full",onClick:()=>{navigator.clipboard.writeText(z.codigo_entrega||""),gt.success("Cdigo copiado al portapapeles")},children:" Copiar cdigo"})]}),C.jsx("p",{className:"text-emerald-700 mt-3 text-sm",children:" Presenta este cdigo en el establecimiento para reclamar tu premio"})]}),C.jsx(At,{className:"w-full bg-emerald-600 hover:bg-emerald-700",onClick:()=>L(!1),children:"Entendido"})]})]})})]})}function RS({currentView:r,onNavigate:i}){const a=[{id:"home",icon:Vw,label:"Inicio"},{id:"scan",icon:Lc,label:"Escanear"},{id:"rewards",icon:Ya,label:"Premios"},{id:"profile",icon:Lf,label:"Perfil"}];return C.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto",children:C.jsx("div",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg",children:C.jsx("div",{className:"grid grid-cols-4 h-16",children:a.map(f=>{const m=f.icon,p=r===f.id;return C.jsxs("button",{onClick:()=>i(f.id),className:`flex flex-col items-center justify-center gap-1 transition-colors ${p?"text-emerald-600 dark:text-emerald-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:[C.jsx(m,{className:`w-6 h-6 ${p?"fill-emerald-100 dark:fill-emerald-900":""}`}),C.jsx("span",{className:"text-xs",children:f.label})]},f.id)})})})})}var kS=(r,i,a,f,m,p,y,b)=>{let N=document.documentElement,E=["light","dark"];function T(L){(Array.isArray(r)?r:[r]).forEach(z=>{let F=z==="class",W=F&&p?m.map(V=>p[V]||V):m;F?(N.classList.remove(...W),N.classList.add(p&&p[L]?p[L]:L)):N.setAttribute(z,L)}),S(L)}function S(L){b&&E.includes(L)&&(N.style.colorScheme=L)}function D(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(f)T(f);else try{let L=localStorage.getItem(i)||a,z=y&&L==="system"?D():L;T(z)}catch{}},_S=P.createContext(void 0),OS={setTheme:r=>{},themes:[]},DS=()=>{var r;return(r=P.useContext(_S))!=null?r:OS};P.memo(({forcedTheme:r,storageKey:i,attribute:a,enableSystem:f,enableColorScheme:m,defaultTheme:p,value:y,themes:b,nonce:N,scriptProps:E})=>{let T=JSON.stringify([a,i,p,r,b,y,f,m]).slice(1,-1);return P.createElement("script",{...E,suppressHydrationWarning:!0,nonce:typeof window>"u"?N:"",dangerouslySetInnerHTML:{__html:`(${kS.toString()})(${T})`}})});const MS=({...r})=>{const{theme:i="system"}=DS();return C.jsx(t4,{theme:i,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})};function PS({onLoginSuccess:r}){const[i,a]=P.useState(!0),[f,m]=P.useState({nombre:"",email:"",password:""}),[p,y]=P.useState(!1),b="https://ecopoints.hvd.lat/api/",N=T=>{m({...f,[T.target.name]:T.target.value})},E=async T=>{T.preventDefault(),y(!0);const S=i?"logeoUsuario":"registrarUsuario";try{const D=await fetch(`${b}/${S}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i?{email:f.email,password:f.password}:{nombre:f.nombre,email:f.email,password:f.password})}),L=await D.json();if(y(!1),!D.ok){gt.error(L.error||"Error en el servidor");return}i?(gt.success("Inicio de sesin exitoso"),localStorage.setItem("usuario_id",L.id),localStorage.setItem("usuario_nombre",L.nombre),localStorage.setItem("usuario_correo",L.correo),r(L.id)):(gt.success("Registro exitoso. Ahora inicia sesin."),a(!0),m({nombre:"",email:"",password:""}))}catch(D){console.error(D),gt.error("Error de conexin con el servidor"),y(!1)}};return C.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 flex items-center justify-center p-4",children:C.jsxs("div",{className:"max-w-md w-full bg",children:[C.jsxs(Lr.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center mb-8 ",children:[C.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-white rounded-full shadow-lg mb-4",children:C.jsx(Cs,{className:"w-24 h-24 text-emerald-600"})}),C.jsx("h1",{className:"text-white  mb-2 text-4xl font-medium",children:"EcoPoints"}),C.jsx("p",{className:"text-emerald-100 font-medium mb-4",children:"Recicla, gana puntos y cambia el mundo"})]}),C.jsx(Lr.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:" bg-white rounded-2xl shadow-2xl p-8flex gap-2 mb-6 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:C.jsxs(Lt,{className:"p-8 shadow-2xl",children:[C.jsxs("div",{className:"flex gap-2 mb-6 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[C.jsx("button",{onClick:()=>a(!0),className:`flex-1 py-2 rounded-md transition-all ${i?"bg-white dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow":"text-gray-600 dark:text-gray-400"}`,children:"Iniciar sesin"}),C.jsx("button",{onClick:()=>a(!1),className:`flex-1 py-2 rounded-md transition-all ${i?"text-gray-600 dark:text-gray-400":"bg-white dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow"}`,children:"Registrarse"})]}),C.jsxs("form",{onSubmit:E,className:"space-y-4 mt-4",children:[!i&&C.jsxs(Lr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-2",children:[C.jsx(Vo,{htmlFor:"name",children:"Nombre completo"}),C.jsxs("div",{className:"relative",children:[C.jsx(Lf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),C.jsx(jo,{id:"name",name:"nombre",type:"text",placeholder:"Mara Rodriguez",value:f.nombre,onChange:N,className:"pl-8",required:!i})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Vo,{htmlFor:"email",children:"Correo electrnico"}),C.jsxs("div",{className:"relative",children:[C.jsx(Pf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),C.jsx(jo,{id:"email",name:"email",type:"email",placeholder:"tu@email.com",value:f.email,onChange:N,className:"pl-8",required:!0})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Vo,{htmlFor:"password",children:"Contrasea"}),C.jsxs("div",{className:"relative",children:[C.jsx(Yg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),C.jsx(jo,{id:"password",name:"password",type:"password",placeholder:"",value:f.password,onChange:N,className:"pl-8",required:!0})]})]}),C.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-2 rounded-md hover:from-emerald-600 hover:to-emerald-700 flex items-center justify-center",children:p?C.jsxs(C.Fragment,{children:[C.jsx(Gw,{className:"w-4 h-4 mr-2 animate-spin"}),"Procesando..."]}):i?"Iniciar sesin":"Crear cuenta"})]}),i&&C.jsx("div",{className:"mt-4 text-center",children:C.jsx("button",{className:"text-emerald-600 hover:underline",children:"Olvidaste tu contrasea?"})}),C.jsx("div",{className:"mt-6 p-4 bg-emerald-50 dark:bg-emerald-950 rounded-lg border border-emerald-200 dark:border-emerald-800",children:C.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 text-center",children:[" nete a nuestra comunidad de ",i?"recicladores":"ms de 1,000 usuarios"," comprometidos con el planeta"]})})]})}),C.jsx(Lr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mt-6 text-emerald-100",children:C.jsx("p",{children:"Al continuar, aceptas nuestros trminos y condiciones"})})]})})}function LS(){const[r,i]=P.useState(!1),[a,f]=P.useState(!0),[m,p]=P.useState("home"),[y,b]=P.useState(0),[N,E]=P.useState("light");P.useEffect(()=>{(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")})();const F=window.matchMedia("(prefers-color-scheme: dark)"),W=V=>{E(V.matches?"dark":"light")};return F.addEventListener("change",W),()=>F.removeEventListener("change",W)},[]),P.useEffect(()=>{N==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[N]);const T=()=>{E(z=>z==="light"?"dark":"light")};P.useEffect(()=>{localStorage.getItem("usuario_id")&&i(!0),f(!1)},[]);const S=()=>{localStorage.removeItem("usuario_id"),i(!1)},D=z=>{b(F=>F-z.points)},L=()=>{switch(m){case"home":return C.jsx(Ym,{onNavigateToRewards:()=>p("rewards")});case"scan":return C.jsx(r4,{});case"history":return C.jsx(i4,{});case"profile":return C.jsx(_4,{onLogout:S,theme:N,onToggleTheme:T});case"rewards":return C.jsx(IS,{balance:y,onRedeem:D});default:return C.jsx(Ym,{onNavigateToRewards:()=>p("rewards")})}};return a?C.jsx("div",{className:"flex items-center justify-center h-screen text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-900",children:"Cargando..."}):r?C.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-emerald-50 dark:from-gray-900 dark:to-gray-800",children:[C.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col shadow-xl dark:shadow-gray-900",children:[C.jsx("div",{className:"flex-1 overflow-auto pb-20 bg-humo dark:bg-gray-900",children:L()}),C.jsx(RS,{currentView:m,onNavigate:p})]}),C.jsx(MS,{})]}):C.jsx(PS,{onLoginSuccess:z=>{localStorage.setItem("usuario_id",z),i(!0)}})}Dy.createRoot(document.getElementById("root")).render(C.jsx(LS,{}));
